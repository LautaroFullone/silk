import{r as u}from"./routing-DS5dkcPc.js";import{j as n}from"./data-DYEAm0ln.js";import{c as b,B as C,az as $,C as O}from"./index-BM89eI16.js";const B=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],_=b("chevrons-left",B);const E=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],M=b("chevrons-right",E),R=(e,c=500)=>{const[t,m]=u.useState(e);return u.useEffect(()=>{const s=setTimeout(()=>m(e),c);return()=>clearTimeout(s)},[e,c]),t},F=({data:e,searchFields:c,sortableFields:t,initialFilters:m={},defaultSort:s={}})=>{const[f,d]=u.useState(""),[r,g]=u.useState(m),[a,y]=u.useState(s.field||(t&&t.length>0?t[0]:void 0)),[x,N]=u.useState(s.order||"desc"),j=R(f,400),S=l=>l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),h=u.useMemo(()=>{const l=S(j),T=e.filter(p=>{const P=l.length===0||c.some(o=>{const v=p[o];return typeof v=="string"&&S(v).includes(l)}),i=Object.entries(r).every(([o,v])=>{if(v==="all")return!0;const D=p[o];return String(D)===v});return P&&i});return a&&T.sort((p,P)=>{const i=p[a],o=P[a];return typeof i=="string"&&typeof o=="string"?x==="asc"?i.localeCompare(o):o.localeCompare(i):typeof i=="number"&&typeof o=="number"?x==="asc"?i-o:o-i:i instanceof Date&&o instanceof Date?x==="asc"?i.getTime()-o.getTime():o.getTime()-i.getTime():0}),T},[e,j,r,c,a,x]),k=(l,T)=>{g(p=>({...p,[l]:T}))},z=()=>{d(""),g(m)},I=()=>{N(l=>l==="asc"?"desc":"asc")},w=j.length>0||Object.entries(r).some(([,l])=>l!=="all");return{items:h,totalItems:h.length,searchTerm:f,setSearchTerm:d,filters:r,updateFilter:k,clearFilters:z,hasActiveFilters:w,sortBy:a,setSortBy:y,sortOrder:x,toggleSortOrder:I}};function G({totalItems:e,itemsPerPage:c=10}){const[t,m]=u.useState(1),[s,f]=u.useState(c),d=s==="*"?1:Math.ceil(e/s)||1,r=s==="*"?0:(t-1)*s,g=s==="*"?e:Math.min(r+s,e),a=h=>{f(h),m(1)},y=h=>{h>=1&&h<=d&&m(h)},x=()=>y(t+1),N=()=>y(t-1),j=t<d,S=t>1;return{currentPage:t,totalPages:d,startIndex:r,endIndex:g,itemsPerPage:s,goToPage:y,goToNext:x,goToPrevious:N,canGoNext:j,canGoPrevious:S,setItemsPerPage:a}}const H=({isLanding:e=!1,currentPage:c,totalPages:t,onPageChange:m,canGoNext:s,canGoPrevious:f,scrollToTop:d=!1})=>{const r=g=>{m(g),d&&setTimeout(()=>{const a=document.querySelector("main.overflow-y-auto");try{a?a.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:200,behavior:"smooth"})}catch{a?a.scrollTo(0,0):window.scrollTo(0,200)}},100)};return n.jsxs("div",{className:"flex items-center justify-end gap-4",children:[n.jsxs("div",{className:`flex items-center justify-center text-sm font-medium ${e&&"text-silk-secondary/80"}`,children:["Página ",c," de ",t]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(C,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>r(1),disabled:!f,children:[n.jsx("span",{className:"sr-only",children:"Ir a la primer página"}),n.jsx(_,{})]}),n.jsxs(C,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>r(c-1),disabled:!f,children:[n.jsx("span",{className:"sr-only",children:"Ir a la página anterior"}),n.jsx($,{})]}),n.jsxs(C,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>r(c+1),disabled:!s,children:[n.jsx("span",{className:"sr-only",children:"Ir a la página siguiente"}),n.jsx(O,{})]}),n.jsxs(C,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>r(t),disabled:!s,children:[n.jsx("span",{className:"sr-only",children:"Ir a la última página"}),n.jsx(M,{})]})]})]})};export{H as P,G as a,F as u};
