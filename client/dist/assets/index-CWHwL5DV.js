import{Q as vX,M as xX,a as wX,j as p,b as EX,A as CX,u as bl,c as yl,d as fd,e as SX}from"./data-WTwzqQAb.js";import{N as ge,R as K_,c as TX,a as k8,r as C,b as ax,d as Ki,u as Q_,L as as,O as X_,e as Xr,f as Z_,B as kX,g as _X,h as Rn}from"./routing-JgIRFK5O.js";import{r as _8,a as NX,b as AX,g as lx}from"./vendor-Dcsd2E38.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const MX="modulepreload",OX=function(e){return"/"+e},W4={},ll=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=OX(u),u in W4)return;W4[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":MX,f||(g.as="script"),g.crossOrigin="",g.href=u,a&&g.setAttribute("nonce",a),document.head.appendChild(g),f)return new Promise((b,v)=>{g.addEventListener("load",b),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};var RX=function(){return null};function IX(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const DX=e=>{switch(e){case"success":return PX;case"info":return HX;case"warning":return BX;case"error":return FX;default:return null}},LX=Array(12).fill(0),jX=({visible:e,className:t})=>ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ge.createElement("div",{className:"sonner-spinner"},LX.map((n,r)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PX=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BX=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HX=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FX=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UX=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zX=()=>{const[e,t]=ge.useState(document.hidden);return ge.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let ST=1;class $X{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ST++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],ge.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(qX(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,v=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,g=typeof n.description=="function"?await n.description(u):n.description,v=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,g=typeof n.description=="function"?await n.description(u):n.description,v=typeof h=="object"&&!ge.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:g,...v})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,b=typeof f=="object"&&!ge.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...b})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{const r=n?.id||ST++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Os=new $X,VX=(e,t)=>{const n=t?.id||ST++;return Os.addToast({title:e,...t,id:n}),n},qX=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GX=VX,YX=()=>Os.toasts,WX=()=>Os.getActiveToasts(),Zt=Object.assign(GX,{success:Os.success,info:Os.info,warning:Os.warning,error:Os.error,custom:Os.custom,message:Os.message,promise:Os.promise,dismiss:Os.dismiss,loading:Os.loading},{getHistory:YX,getToasts:WX});IX("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qb(e){return e.label!==void 0}const KX=3,QX="24px",XX="16px",K4=4e3,ZX=356,JX=14,eZ=45,tZ=200;function Go(...e){return e.filter(Boolean).join(" ")}function nZ(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const rZ=e=>{var t,n,r,s,i,o,a,l,u;const{invert:f,toast:h,unstyled:g,interacting:b,setHeights:v,visibleToasts:x,heights:w,index:S,toasts:_,expanded:N,removeToast:M,defaultRichColors:O,closeButton:R,style:I,cancelButtonStyle:j,actionButtonStyle:U,className:P="",descriptionClassName:K="",duration:W,position:ne,gap:Q,expandByDefault:te,classNames:F,icons:V,closeButtonAriaLabel:z="Close toast"}=e,[J,B]=ge.useState(null),[Se,X]=ge.useState(null),[D,he]=ge.useState(!1),[ue,de]=ge.useState(!1),[ie,we]=ge.useState(!1),[Me,Be]=ge.useState(!1),[He,Te]=ge.useState(!1),[Fe,Je]=ge.useState(0),[kt,qt]=ge.useState(0),Gt=ge.useRef(h.duration||W||K4),Mn=ge.useRef(null),vt=ge.useRef(null),G=S===0,se=S+1<=x,pe=h.type,je=h.dismissible!==!1,Ae=h.className||"",Oe=h.descriptionClassName||"",ee=ge.useMemo(()=>w.findIndex(dt=>dt.toastId===h.id)||0,[w,h.id]),be=ge.useMemo(()=>{var dt;return(dt=h.closeButton)!=null?dt:R},[h.closeButton,R]),Pe=ge.useMemo(()=>h.duration||W||K4,[h.duration,W]),Xe=ge.useRef(0),lt=ge.useRef(0),Jt=ge.useRef(0),rn=ge.useRef(null),[xn,hn]=ne.split("-"),Vn=ge.useMemo(()=>w.reduce((dt,pn,qn)=>qn>=ee?dt:dt+pn.height,0),[w,ee]),Ht=zX(),gs=h.invert||f,Qn=pe==="loading";lt.current=ge.useMemo(()=>ee*Q+Vn,[ee,Vn]),ge.useEffect(()=>{Gt.current=Pe},[Pe]),ge.useEffect(()=>{he(!0)},[]),ge.useEffect(()=>{const dt=vt.current;if(dt){const pn=dt.getBoundingClientRect().height;return qt(pn),v(qn=>[{toastId:h.id,height:pn,position:h.position},...qn]),()=>v(qn=>qn.filter(vr=>vr.toastId!==h.id))}},[v,h.id]),ge.useLayoutEffect(()=>{if(!D)return;const dt=vt.current,pn=dt.style.height;dt.style.height="auto";const qn=dt.getBoundingClientRect().height;dt.style.height=pn,qt(qn),v(vr=>vr.find(jn=>jn.toastId===h.id)?vr.map(jn=>jn.toastId===h.id?{...jn,height:qn}:jn):[{toastId:h.id,height:qn,position:h.position},...vr])},[D,h.title,h.description,v,h.id,h.jsx,h.action,h.cancel]);const Ws=ge.useCallback(()=>{de(!0),Je(lt.current),v(dt=>dt.filter(pn=>pn.toastId!==h.id)),setTimeout(()=>{M(h)},tZ)},[h,M,v,lt]);ge.useEffect(()=>{if(h.promise&&pe==="loading"||h.duration===1/0||h.type==="loading")return;let dt;return N||b||Ht?(()=>{if(Jt.current<Xe.current){const vr=new Date().getTime()-Xe.current;Gt.current=Gt.current-vr}Jt.current=new Date().getTime()})():(()=>{Gt.current!==1/0&&(Xe.current=new Date().getTime(),dt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Ws()},Gt.current))})(),()=>clearTimeout(dt)},[N,b,h,pe,Ht,Ws]),ge.useEffect(()=>{h.delete&&(Ws(),h.onDismiss==null||h.onDismiss.call(h,h))},[Ws,h.delete]);function Sl(){var dt;if(V?.loading){var pn;return ge.createElement("div",{className:Go(F?.loader,h==null||(pn=h.classNames)==null?void 0:pn.loader,"sonner-loader"),"data-visible":pe==="loading"},V.loading)}return ge.createElement(jX,{className:Go(F?.loader,h==null||(dt=h.classNames)==null?void 0:dt.loader),visible:pe==="loading"})}const Ca=h.icon||V?.[pe]||DX(pe);var Uo,Ks;return ge.createElement("li",{tabIndex:0,ref:vt,className:Go(P,Ae,F?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,F?.default,F?.[pe],h==null||(n=h.classNames)==null?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":(Uo=h.richColors)!=null?Uo:O,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":D,"data-promise":!!h.promise,"data-swiped":He,"data-removed":ue,"data-visible":se,"data-y-position":xn,"data-x-position":hn,"data-index":S,"data-front":G,"data-swiping":ie,"data-dismissible":je,"data-type":pe,"data-invert":gs,"data-swipe-out":Me,"data-swipe-direction":Se,"data-expanded":!!(N||te&&D),"data-testid":h.testId,style:{"--index":S,"--toasts-before":S,"--z-index":_.length-S,"--offset":`${ue?Fe:lt.current}px`,"--initial-height":te?"auto":`${kt}px`,...I,...h.style},onDragEnd:()=>{we(!1),B(null),rn.current=null},onPointerDown:dt=>{dt.button!==2&&(Qn||!je||(Mn.current=new Date,Je(lt.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(we(!0),rn.current={x:dt.clientX,y:dt.clientY})))},onPointerUp:()=>{var dt,pn,qn;if(Me||!je)return;rn.current=null;const vr=Number(((dt=vt.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tl=Number(((pn=vt.current)==null?void 0:pn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((qn=Mn.current)==null?void 0:qn.getTime()),bs=J==="x"?vr:Tl,su=Math.abs(bs)/jn;if(Math.abs(bs)>=eZ||su>.11){Je(lt.current),h.onDismiss==null||h.onDismiss.call(h,h),X(J==="x"?vr>0?"right":"left":Tl>0?"down":"up"),Ws(),Be(!0);return}else{var ys,vs;(ys=vt.current)==null||ys.style.setProperty("--swipe-amount-x","0px"),(vs=vt.current)==null||vs.style.setProperty("--swipe-amount-y","0px")}Te(!1),we(!1),B(null)},onPointerMove:dt=>{var pn,qn,vr;if(!rn.current||!je||((pn=window.getSelection())==null?void 0:pn.toString().length)>0)return;const jn=dt.clientY-rn.current.y,bs=dt.clientX-rn.current.x;var su;const ys=(su=e.swipeDirections)!=null?su:nZ(ne);!J&&(Math.abs(bs)>1||Math.abs(jn)>1)&&B(Math.abs(bs)>Math.abs(jn)?"x":"y");let vs={x:0,y:0};const kd=no=>1/(1.5+Math.abs(no)/20);if(J==="y"){if(ys.includes("top")||ys.includes("bottom"))if(ys.includes("top")&&jn<0||ys.includes("bottom")&&jn>0)vs.y=jn;else{const no=jn*kd(jn);vs.y=Math.abs(no)<Math.abs(jn)?no:jn}}else if(J==="x"&&(ys.includes("left")||ys.includes("right")))if(ys.includes("left")&&bs<0||ys.includes("right")&&bs>0)vs.x=bs;else{const no=bs*kd(bs);vs.x=Math.abs(no)<Math.abs(bs)?no:bs}(Math.abs(vs.x)>0||Math.abs(vs.y)>0)&&Te(!0),(qn=vt.current)==null||qn.style.setProperty("--swipe-amount-x",`${vs.x}px`),(vr=vt.current)==null||vr.style.setProperty("--swipe-amount-y",`${vs.y}px`)}},be&&!h.jsx&&pe!=="loading"?ge.createElement("button",{"aria-label":z,"data-disabled":Qn,"data-close-button":!0,onClick:Qn||!je?()=>{}:()=>{Ws(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Go(F?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(Ks=V?.close)!=null?Ks:UX):null,(pe||h.icon||h.promise)&&h.icon!==null&&(V?.[pe]!==null||h.icon)?ge.createElement("div",{"data-icon":"",className:Go(F?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Sl():null,h.type!=="loading"?Ca:null):null,ge.createElement("div",{"data-content":"",className:Go(F?.content,h==null||(i=h.classNames)==null?void 0:i.content)},ge.createElement("div",{"data-title":"",className:Go(F?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?ge.createElement("div",{"data-description":"",className:Go(K,Oe,F?.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),ge.isValidElement(h.cancel)?h.cancel:h.cancel&&Qb(h.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||j,onClick:dt=>{Qb(h.cancel)&&je&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,dt),Ws())},className:Go(F?.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,ge.isValidElement(h.action)?h.action:h.action&&Qb(h.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||U,onClick:dt=>{Qb(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,dt),!dt.defaultPrevented&&Ws())},className:Go(F?.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function Q4(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function sZ(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?XX:QX;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}const iZ=ge.forwardRef(function(t,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:f,mobileOffset:h,theme:g="light",richColors:b,duration:v,style:x,visibleToasts:w=KX,toastOptions:S,dir:_=Q4(),gap:N=JX,icons:M,containerAriaLabel:O="Notifications"}=t,[R,I]=ge.useState([]),j=ge.useMemo(()=>r?R.filter(D=>D.toasterId===r):R.filter(D=>!D.toasterId),[R,r]),U=ge.useMemo(()=>Array.from(new Set([i].concat(j.filter(D=>D.position).map(D=>D.position)))),[j,i]),[P,K]=ge.useState([]),[W,ne]=ge.useState(!1),[Q,te]=ge.useState(!1),[F,V]=ge.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=ge.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=ge.useRef(null),Se=ge.useRef(!1),X=ge.useCallback(D=>{I(he=>{var ue;return(ue=he.find(de=>de.id===D.id))!=null&&ue.delete||Os.dismiss(D.id),he.filter(({id:de})=>de!==D.id)})},[]);return ge.useEffect(()=>Os.subscribe(D=>{if(D.dismiss){requestAnimationFrame(()=>{I(he=>he.map(ue=>ue.id===D.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{K_.flushSync(()=>{I(he=>{const ue=he.findIndex(de=>de.id===D.id);return ue!==-1?[...he.slice(0,ue),{...he[ue],...D},...he.slice(ue+1)]:[D,...he]})})})}),[R]),ge.useEffect(()=>{if(g!=="system"){V(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:he})=>{V(he?"dark":"light")})}catch{D.addListener(({matches:ue})=>{try{V(ue?"dark":"light")}catch(de){console.error(de)}})}},[g]),ge.useEffect(()=>{R.length<=1&&ne(!1)},[R]),ge.useEffect(()=>{const D=he=>{var ue;if(o.every(we=>he[we]||he.code===we)){var ie;ne(!0),(ie=z.current)==null||ie.focus()}he.code==="Escape"&&(document.activeElement===z.current||(ue=z.current)!=null&&ue.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[o]),ge.useEffect(()=>{if(z.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,Se.current=!1)}},[z.current]),ge.createElement("section",{ref:n,"aria-label":`${O} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((D,he)=>{var ue;const[de,ie]=D.split("-");return j.length?ge.createElement("ol",{key:D,dir:_==="auto"?Q4():_,tabIndex:-1,ref:z,className:u,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":de,"data-x-position":ie,style:{"--front-toast-height":`${((ue=P[0])==null?void 0:ue.height)||0}px`,"--width":`${ZX}px`,"--gap":`${N}px`,...x,...sZ(f,h)},onBlur:we=>{Se.current&&!we.currentTarget.contains(we.relatedTarget)&&(Se.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||Se.current||(Se.current=!0,B.current=we.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{Q||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},j.filter(we=>!we.position&&he===0||we.position===D).map((we,Me)=>{var Be,He;return ge.createElement(rZ,{key:we.id,icons:M,index:Me,toast:we,defaultRichColors:b,duration:(Be=S?.duration)!=null?Be:v,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:s,visibleToasts:w,closeButton:(He=S?.closeButton)!=null?He:l,interacting:Q,position:D,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:X,toasts:j.filter(Te=>Te.position==we.position),heights:P.filter(Te=>Te.position==we.position),setHeights:K,expandByDefault:a,gap:N,expanded:W,swipeDirections:t.swipeDirections})})):null}))}),oZ=new vX({queryCache:new wX({onError:e=>{e?.message==="Network Error"&&Zt.error("Error de red: revisá tu conexión",{id:"network-error"})}}),mutationCache:new xX({onError:e=>{e?.message==="Network Error"&&Zt.error("Error de red: revisá tu conexión",{id:"network-error"})}})});var bS={exports:{}},em={},yS={exports:{}},vS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4;function aZ(){return X4||(X4=1,(function(e){function t(F,V){var z=F.length;F.push(V);e:for(;0<z;){var J=z-1>>>1,B=F[J];if(0<s(B,V))F[J]=V,F[z]=B,z=J;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],z=F.pop();if(z!==V){F[0]=z;e:for(var J=0,B=F.length,Se=B>>>1;J<Se;){var X=2*(J+1)-1,D=F[X],he=X+1,ue=F[he];if(0>s(D,z))he<B&&0>s(ue,D)?(F[J]=ue,F[he]=z,J=he):(F[J]=D,F[X]=z,J=X);else if(he<B&&0>s(ue,z))F[J]=ue,F[he]=z,J=he;else break e}}return V}function s(F,V){var z=F.sortIndex-V.sortIndex;return z!==0?z:F.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,g=3,b=!1,v=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function O(F){if(x=!1,M(F),!v)if(n(l)!==null)v=!0,R||(R=!0,W());else{var V=n(u);V!==null&&te(O,V.startTime-F)}}var R=!1,I=-1,j=5,U=-1;function P(){return w?!0:!(e.unstable_now()-U<j)}function K(){if(w=!1,R){var F=e.unstable_now();U=F;var V=!0;try{e:{v=!1,x&&(x=!1,_(I),I=-1),b=!0;var z=g;try{t:{for(M(F),h=n(l);h!==null&&!(h.expirationTime>F&&P());){var J=h.callback;if(typeof J=="function"){h.callback=null,g=h.priorityLevel;var B=J(h.expirationTime<=F);if(F=e.unstable_now(),typeof B=="function"){h.callback=B,M(F),V=!0;break t}h===n(l)&&r(l),M(F)}else r(l);h=n(l)}if(h!==null)V=!0;else{var Se=n(u);Se!==null&&te(O,Se.startTime-F),V=!1}}break e}finally{h=null,g=z,b=!1}V=void 0}}finally{V?W():R=!1}}}var W;if(typeof N=="function")W=function(){N(K)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Q=ne.port2;ne.port1.onmessage=K,W=function(){Q.postMessage(null)}}else W=function(){S(K,0)};function te(F,V){I=S(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var z=g;g=V;try{return F()}finally{g=z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=g;g=F;try{return V()}finally{g=z}},e.unstable_scheduleCallback=function(F,V,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,F={id:f++,callback:V,priorityLevel:F,startTime:z,expirationTime:B,sortIndex:-1},z>J?(F.sortIndex=z,t(u,F),n(l)===null&&F===n(u)&&(x?(_(I),I=-1):x=!0,te(O,z-J))):(F.sortIndex=B,t(l,F),v||b||(v=!0,R||(R=!0,W()))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var V=g;return function(){var z=g;g=V;try{return F.apply(this,arguments)}finally{g=z}}}})(vS)),vS}var Z4;function lZ(){return Z4||(Z4=1,yS.exports=aZ()),yS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4;function cZ(){if(J4)return em;J4=1;var e=lZ(),t=_8(),n=NX();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(r(188))}function u(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,y=d;;){var E=m.return;if(E===null)break;var T=E.alternate;if(T===null){if(y=E.return,y!==null){m=y;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===m)return l(E),c;if(T===y)return l(E),d;T=T.sibling}throw Error(r(188))}if(m.return!==y.return)m=E,y=T;else{for(var A=!1,L=E.child;L;){if(L===m){A=!0,m=E,y=T;break}if(L===y){A=!0,y=E,m=T;break}L=L.sibling}if(!A){for(L=T.child;L;){if(L===m){A=!0,m=T,y=E;break}if(L===y){A=!0,y=T,m=E;break}L=L.sibling}if(!A)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(c){return c===null||typeof c!="object"?null:(c=K&&c[K]||c["@@iterator"],typeof c=="function"?c:null)}var ne=Symbol.for("react.client.reference");function Q(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===ne?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case U:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case N:return c.displayName||"Context";case _:return(c._context.displayName||"Context")+".Consumer";case M:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case I:return d=c.displayName||null,d!==null?d:Q(c.type)||"Memo";case j:d=c._payload,c=c._init;try{return Q(c(d))}catch{}}return null}var te=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},J=[],B=-1;function Se(c){return{current:c}}function X(c){0>B||(c.current=J[B],J[B]=null,B--)}function D(c,d){B++,J[B]=c.current,c.current=d}var he=Se(null),ue=Se(null),de=Se(null),ie=Se(null);function we(c,d){switch(D(de,d),D(ue,c),D(he,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?b4(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=b4(d),c=y4(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}X(he),D(he,c)}function Me(){X(he),X(ue),X(de)}function Be(c){c.memoizedState!==null&&D(ie,c);var d=he.current,m=y4(d,c.type);d!==m&&(D(ue,c),D(he,m))}function He(c){ue.current===c&&(X(he),X(ue)),ie.current===c&&(X(ie),Qp._currentValue=z)}var Te,Fe;function Je(c){if(Te===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Te=d&&d[1]||"",Fe=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+c+Fe}var kt=!1;function qt(c,d){if(!c||kt)return"";kt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var fe=me}Reflect.construct(c,[],Ce)}else{try{Ce.call()}catch(me){fe=me}c.call(Ce.prototype)}}else{try{throw Error()}catch(me){fe=me}(Ce=c())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),A=T[0],L=T[1];if(A&&L){var Y=A.split(`
`),le=L.split(`
`);for(E=y=0;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;for(;E<le.length&&!le[E].includes("DetermineComponentFrameRoot");)E++;if(y===Y.length||E===le.length)for(y=Y.length-1,E=le.length-1;1<=y&&0<=E&&Y[y]!==le[E];)E--;for(;1<=y&&0<=E;y--,E--)if(Y[y]!==le[E]){if(y!==1||E!==1)do if(y--,E--,0>E||Y[y]!==le[E]){var xe=`
`+Y[y].replace(" at new "," at ");return c.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",c.displayName)),xe}while(1<=y&&0<=E);break}}}finally{kt=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?Je(m):""}function Gt(c,d){switch(c.tag){case 26:case 27:case 5:return Je(c.type);case 16:return Je("Lazy");case 13:return c.child!==d&&d!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return qt(c.type,!1);case 11:return qt(c.type.render,!1);case 1:return qt(c.type,!0);case 31:return Je("Activity");default:return""}}function Mn(c){try{var d="",m=null;do d+=Gt(c,m),m=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var vt=Object.prototype.hasOwnProperty,G=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,pe=e.unstable_shouldYield,je=e.unstable_requestPaint,Ae=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,ee=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,Xe=e.unstable_LowPriority,lt=e.unstable_IdlePriority,Jt=e.log,rn=e.unstable_setDisableYieldValue,xn=null,hn=null;function Vn(c){if(typeof Jt=="function"&&rn(c),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(xn,c)}catch{}}var Ht=Math.clz32?Math.clz32:Ws,gs=Math.log,Qn=Math.LN2;function Ws(c){return c>>>=0,c===0?32:31-(gs(c)/Qn|0)|0}var Sl=256,Ca=262144,Uo=4194304;function Ks(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function dt(c,d,m){var y=c.pendingLanes;if(y===0)return 0;var E=0,T=c.suspendedLanes,A=c.pingedLanes;c=c.warmLanes;var L=y&134217727;return L!==0?(y=L&~T,y!==0?E=Ks(y):(A&=L,A!==0?E=Ks(A):m||(m=L&~c,m!==0&&(E=Ks(m))))):(L=y&~T,L!==0?E=Ks(L):A!==0?E=Ks(A):m||(m=y&~c,m!==0&&(E=Ks(m)))),E===0?0:d!==0&&d!==E&&(d&T)===0&&(T=E&-E,m=d&-d,T>=m||T===32&&(m&4194048)!==0)?d:E}function pn(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function qn(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var c=Uo;return Uo<<=1,(Uo&62914560)===0&&(Uo=4194304),c}function Tl(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function jn(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function bs(c,d,m,y,E,T){var A=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var L=c.entanglements,Y=c.expirationTimes,le=c.hiddenUpdates;for(m=A&~m;0<m;){var xe=31-Ht(m),Ce=1<<xe;L[xe]=0,Y[xe]=-1;var fe=le[xe];if(fe!==null)for(le[xe]=null,xe=0;xe<fe.length;xe++){var me=fe[xe];me!==null&&(me.lane&=-536870913)}m&=~Ce}y!==0&&su(c,y,0),T!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=T&~(A&~d))}function su(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-Ht(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|m&261930}function ys(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var y=31-Ht(m),E=1<<y;E&d|c[y]&d&&(c[y]|=d),m&=~E}}function vs(c,d){var m=d&-d;return m=(m&42)!==0?1:kd(m),(m&(c.suspendedLanes|d))!==0?0:m}function kd(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function no(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function aE(){var c=V.p;return c!==0?c:(c=window.event,c===void 0?32:U4(c.type))}function rO(c,d){var m=V.p;try{return V.p=c,d()}finally{V.p=m}}var kl=Math.random().toString(36).slice(2),Or="__reactFiber$"+kl,xs="__reactProps$"+kl,_d="__reactContainer$"+kl,lE="__reactEvents$"+kl,lK="__reactListeners$"+kl,cK="__reactHandles$"+kl,sO="__reactResources$"+kl,dp="__reactMarker$"+kl;function cE(c){delete c[Or],delete c[xs],delete c[lE],delete c[lK],delete c[cK]}function Nd(c){var d=c[Or];if(d)return d;for(var m=c.parentNode;m;){if(d=m[_d]||m[Or]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=T4(c);c!==null;){if(m=c[Or])return m;c=T4(c)}return d}c=m,m=c.parentNode}return null}function Ad(c){if(c=c[Or]||c[_d]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function fp(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function Md(c){var d=c[sO];return d||(d=c[sO]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function xr(c){c[dp]=!0}var iO=new Set,oO={};function iu(c,d){Od(c,d),Od(c+"Capture",d)}function Od(c,d){for(oO[c]=d,c=0;c<d.length;c++)iO.add(d[c])}var uK=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aO={},lO={};function dK(c){return vt.call(lO,c)?!0:vt.call(aO,c)?!1:uK.test(c)?lO[c]=!0:(aO[c]=!0,!1)}function B0(c,d,m){if(dK(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function H0(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Sa(c,d,m,y){if(y===null)c.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+y)}}function Ei(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function cO(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function fK(c,d,m){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var E=y.get,T=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(A){m=""+A,T.call(this,A)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function uE(c){if(!c._valueTracker){var d=cO(c)?"checked":"value";c._valueTracker=fK(c,d,""+c[d])}}function uO(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return c&&(y=cO(c)?c.checked?"true":"false":c.value),c=y,c!==m?(d.setValue(c),!0):!1}function F0(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var hK=/[\n"\\]/g;function Ci(c){return c.replace(hK,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function dE(c,d,m,y,E,T,A,L){c.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?c.type=A:c.removeAttribute("type"),d!=null?A==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Ei(d)):c.value!==""+Ei(d)&&(c.value=""+Ei(d)):A!=="submit"&&A!=="reset"||c.removeAttribute("value"),d!=null?fE(c,A,Ei(d)):m!=null?fE(c,A,Ei(m)):y!=null&&c.removeAttribute("value"),E==null&&T!=null&&(c.defaultChecked=!!T),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?c.name=""+Ei(L):c.removeAttribute("name")}function dO(c,d,m,y,E,T,A,L){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(c.type=T),d!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||d!=null)){uE(c);return}m=m!=null?""+Ei(m):"",d=d!=null?""+Ei(d):m,L||d===c.value||(c.value=d),c.defaultValue=d}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=L?c.checked:!!y,c.defaultChecked=!!y,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(c.name=A),uE(c)}function fE(c,d,m){d==="number"&&F0(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Rd(c,d,m,y){if(c=c.options,d){d={};for(var E=0;E<m.length;E++)d["$"+m[E]]=!0;for(m=0;m<c.length;m++)E=d.hasOwnProperty("$"+c[m].value),c[m].selected!==E&&(c[m].selected=E),E&&y&&(c[m].defaultSelected=!0)}else{for(m=""+Ei(m),d=null,E=0;E<c.length;E++){if(c[E].value===m){c[E].selected=!0,y&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function fO(c,d,m){if(d!=null&&(d=""+Ei(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+Ei(m):""}function hO(c,d,m,y){if(d==null){if(y!=null){if(m!=null)throw Error(r(92));if(te(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),d=m}m=Ei(d),c.defaultValue=m,y=c.textContent,y===m&&y!==""&&y!==null&&(c.value=y),uE(c)}function Id(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var pK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pO(c,d,m){var y=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,m):typeof m!="number"||m===0||pK.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function mO(c,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var E in d)y=d[E],d.hasOwnProperty(E)&&m[E]!==y&&pO(c,E,y)}else for(var T in d)d.hasOwnProperty(T)&&pO(c,T,d[T])}function hE(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function U0(c){return gK.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ta(){}var pE=null;function mE(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Dd=null,Ld=null;function gO(c){var d=Ad(c);if(d&&(c=d.stateNode)){var m=c[xs]||null;e:switch(c=d.stateNode,d.type){case"input":if(dE(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ci(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==c&&y.form===c.form){var E=y[xs]||null;if(!E)throw Error(r(90));dE(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<m.length;d++)y=m[d],y.form===c.form&&uO(y)}break e;case"textarea":fO(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Rd(c,!!m.multiple,d,!1)}}}var gE=!1;function bO(c,d,m){if(gE)return c(d,m);gE=!0;try{var y=c(d);return y}finally{if(gE=!1,(Dd!==null||Ld!==null)&&(Nb(),Dd&&(d=Dd,c=Ld,Ld=Dd=null,gO(d),c)))for(d=0;d<c.length;d++)gO(c[d])}}function hp(c,d){var m=c.stateNode;if(m===null)return null;var y=m[xs]||null;if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bE=!1;if(ka)try{var pp={};Object.defineProperty(pp,"passive",{get:function(){bE=!0}}),window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,pp)}catch{bE=!1}var _l=null,yE=null,z0=null;function yO(){if(z0)return z0;var c,d=yE,m=d.length,y,E="value"in _l?_l.value:_l.textContent,T=E.length;for(c=0;c<m&&d[c]===E[c];c++);var A=m-c;for(y=1;y<=A&&d[m-y]===E[T-y];y++);return z0=E.slice(c,1<y?1-y:void 0)}function $0(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function V0(){return!0}function vO(){return!1}function ws(c){function d(m,y,E,T,A){this._reactName=m,this._targetInst=E,this.type=y,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var L in c)c.hasOwnProperty(L)&&(m=c[L],this[L]=m?m(T):T[L]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?V0:vO,this.isPropagationStopped=vO,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=V0)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=V0)},persist:function(){},isPersistent:V0}),d}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q0=ws(ou),mp=h({},ou,{view:0,detail:0}),bK=ws(mp),vE,xE,gp,G0=h({},mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EE,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==gp&&(gp&&c.type==="mousemove"?(vE=c.screenX-gp.screenX,xE=c.screenY-gp.screenY):xE=vE=0,gp=c),vE)},movementY:function(c){return"movementY"in c?c.movementY:xE}}),xO=ws(G0),yK=h({},G0,{dataTransfer:0}),vK=ws(yK),xK=h({},mp,{relatedTarget:0}),wE=ws(xK),wK=h({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),EK=ws(wK),CK=h({},ou,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),SK=ws(CK),TK=h({},ou,{data:0}),wO=ws(TK),kK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AK(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=NK[c])?!!d[c]:!1}function EE(){return AK}var MK=h({},mp,{key:function(c){if(c.key){var d=kK[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=$0(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?_K[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EE,charCode:function(c){return c.type==="keypress"?$0(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?$0(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),OK=ws(MK),RK=h({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EO=ws(RK),IK=h({},mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EE}),DK=ws(IK),LK=h({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),jK=ws(LK),PK=h({},G0,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),BK=ws(PK),HK=h({},ou,{newState:0,oldState:0}),FK=ws(HK),UK=[9,13,27,32],CE=ka&&"CompositionEvent"in window,bp=null;ka&&"documentMode"in document&&(bp=document.documentMode);var zK=ka&&"TextEvent"in window&&!bp,CO=ka&&(!CE||bp&&8<bp&&11>=bp),SO=" ",TO=!1;function kO(c,d){switch(c){case"keyup":return UK.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _O(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var jd=!1;function $K(c,d){switch(c){case"compositionend":return _O(d);case"keypress":return d.which!==32?null:(TO=!0,SO);case"textInput":return c=d.data,c===SO&&TO?null:c;default:return null}}function VK(c,d){if(jd)return c==="compositionend"||!CE&&kO(c,d)?(c=yO(),z0=yE=_l=null,jd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return CO&&d.locale!=="ko"?null:d.data;default:return null}}var qK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NO(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!qK[c.type]:d==="textarea"}function AO(c,d,m,y){Dd?Ld?Ld.push(y):Ld=[y]:Dd=y,d=Lb(d,"onChange"),0<d.length&&(m=new q0("onChange","change",null,m,y),c.push({event:m,listeners:d}))}var yp=null,vp=null;function GK(c){d4(c,0)}function Y0(c){var d=fp(c);if(uO(d))return c}function MO(c,d){if(c==="change")return d}var OO=!1;if(ka){var SE;if(ka){var TE="oninput"in document;if(!TE){var RO=document.createElement("div");RO.setAttribute("oninput","return;"),TE=typeof RO.oninput=="function"}SE=TE}else SE=!1;OO=SE&&(!document.documentMode||9<document.documentMode)}function IO(){yp&&(yp.detachEvent("onpropertychange",DO),vp=yp=null)}function DO(c){if(c.propertyName==="value"&&Y0(vp)){var d=[];AO(d,vp,c,mE(c)),bO(GK,d)}}function YK(c,d,m){c==="focusin"?(IO(),yp=d,vp=m,yp.attachEvent("onpropertychange",DO)):c==="focusout"&&IO()}function WK(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Y0(vp)}function KK(c,d){if(c==="click")return Y0(d)}function QK(c,d){if(c==="input"||c==="change")return Y0(d)}function XK(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Qs=typeof Object.is=="function"?Object.is:XK;function xp(c,d){if(Qs(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var E=m[y];if(!vt.call(d,E)||!Qs(c[E],d[E]))return!1}return!0}function LO(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function jO(c,d){var m=LO(c);c=0;for(var y;m;){if(m.nodeType===3){if(y=c+m.textContent.length,c<=d&&y>=d)return{node:m,offset:d-c};c=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=LO(m)}}function PO(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?PO(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function BO(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=F0(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=F0(c.document)}return d}function kE(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var ZK=ka&&"documentMode"in document&&11>=document.documentMode,Pd=null,_E=null,wp=null,NE=!1;function HO(c,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;NE||Pd==null||Pd!==F0(y)||(y=Pd,"selectionStart"in y&&kE(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),wp&&xp(wp,y)||(wp=y,y=Lb(_E,"onSelect"),0<y.length&&(d=new q0("onSelect","select",null,d,m),c.push({event:d,listeners:y}),d.target=Pd)))}function au(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Bd={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionrun:au("Transition","TransitionRun"),transitionstart:au("Transition","TransitionStart"),transitioncancel:au("Transition","TransitionCancel"),transitionend:au("Transition","TransitionEnd")},AE={},FO={};ka&&(FO=document.createElement("div").style,"AnimationEvent"in window||(delete Bd.animationend.animation,delete Bd.animationiteration.animation,delete Bd.animationstart.animation),"TransitionEvent"in window||delete Bd.transitionend.transition);function lu(c){if(AE[c])return AE[c];if(!Bd[c])return c;var d=Bd[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in FO)return AE[c]=d[m];return c}var UO=lu("animationend"),zO=lu("animationiteration"),$O=lu("animationstart"),JK=lu("transitionrun"),eQ=lu("transitionstart"),tQ=lu("transitioncancel"),VO=lu("transitionend"),qO=new Map,ME="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ME.push("scrollEnd");function ro(c,d){qO.set(c,d),iu(d,[c])}var W0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Si=[],Hd=0,OE=0;function K0(){for(var c=Hd,d=OE=Hd=0;d<c;){var m=Si[d];Si[d++]=null;var y=Si[d];Si[d++]=null;var E=Si[d];Si[d++]=null;var T=Si[d];if(Si[d++]=null,y!==null&&E!==null){var A=y.pending;A===null?E.next=E:(E.next=A.next,A.next=E),y.pending=E}T!==0&&GO(m,E,T)}}function Q0(c,d,m,y){Si[Hd++]=c,Si[Hd++]=d,Si[Hd++]=m,Si[Hd++]=y,OE|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function RE(c,d,m,y){return Q0(c,d,m,y),X0(c)}function cu(c,d){return Q0(c,null,null,d),X0(c)}function GO(c,d,m){c.lanes|=m;var y=c.alternate;y!==null&&(y.lanes|=m);for(var E=!1,T=c.return;T!==null;)T.childLanes|=m,y=T.alternate,y!==null&&(y.childLanes|=m),T.tag===22&&(c=T.stateNode,c===null||c._visibility&1||(E=!0)),c=T,T=T.return;return c.tag===3?(T=c.stateNode,E&&d!==null&&(E=31-Ht(m),c=T.hiddenUpdates,y=c[E],y===null?c[E]=[d]:y.push(d),d.lane=m|536870912),T):null}function X0(c){if(50<$p)throw $p=0,UC=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Fd={};function nQ(c,d,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(c,d,m,y){return new nQ(c,d,m,y)}function IE(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _a(c,d){var m=c.alternate;return m===null?(m=Xs(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function YO(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Z0(c,d,m,y,E,T){var A=0;if(y=c,typeof c=="function")IE(c)&&(A=1);else if(typeof c=="string")A=aX(c,m,he.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case U:return c=Xs(31,m,d,E),c.elementType=U,c.lanes=T,c;case x:return uu(m.children,E,T,d);case w:A=8,E|=24;break;case S:return c=Xs(12,m,d,E|2),c.elementType=S,c.lanes=T,c;case O:return c=Xs(13,m,d,E),c.elementType=O,c.lanes=T,c;case R:return c=Xs(19,m,d,E),c.elementType=R,c.lanes=T,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case N:A=10;break e;case _:A=9;break e;case M:A=11;break e;case I:A=14;break e;case j:A=16,y=null;break e}A=29,m=Error(r(130,c===null?"null":typeof c,"")),y=null}return d=Xs(A,m,d,E),d.elementType=c,d.type=y,d.lanes=T,d}function uu(c,d,m,y){return c=Xs(7,c,y,d),c.lanes=m,c}function DE(c,d,m){return c=Xs(6,c,null,d),c.lanes=m,c}function WO(c){var d=Xs(18,null,null,0);return d.stateNode=c,d}function LE(c,d,m){return d=Xs(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var KO=new WeakMap;function Ti(c,d){if(typeof c=="object"&&c!==null){var m=KO.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Mn(d)},KO.set(c,d),d)}return{value:c,source:d,stack:Mn(d)}}var Ud=[],zd=0,J0=null,Ep=0,ki=[],_i=0,Nl=null,zo=1,$o="";function Na(c,d){Ud[zd++]=Ep,Ud[zd++]=J0,J0=c,Ep=d}function QO(c,d,m){ki[_i++]=zo,ki[_i++]=$o,ki[_i++]=Nl,Nl=c;var y=zo;c=$o;var E=32-Ht(y)-1;y&=~(1<<E),m+=1;var T=32-Ht(d)+E;if(30<T){var A=E-E%5;T=(y&(1<<A)-1).toString(32),y>>=A,E-=A,zo=1<<32-Ht(d)+E|m<<E|y,$o=T+c}else zo=1<<T|m<<E|y,$o=c}function jE(c){c.return!==null&&(Na(c,1),QO(c,1,0))}function PE(c){for(;c===J0;)J0=Ud[--zd],Ud[zd]=null,Ep=Ud[--zd],Ud[zd]=null;for(;c===Nl;)Nl=ki[--_i],ki[_i]=null,$o=ki[--_i],ki[_i]=null,zo=ki[--_i],ki[_i]=null}function XO(c,d){ki[_i++]=zo,ki[_i++]=$o,ki[_i++]=Nl,zo=d.id,$o=d.overflow,Nl=c}var Rr=null,Tn=null,Ft=!1,Al=null,Ni=!1,BE=Error(r(519));function Ml(c){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cp(Ti(d,c)),BE}function ZO(c){var d=c.stateNode,m=c.type,y=c.memoizedProps;switch(d[Or]=c,d[xs]=y,m){case"dialog":It("cancel",d),It("close",d);break;case"iframe":case"object":case"embed":It("load",d);break;case"video":case"audio":for(m=0;m<qp.length;m++)It(qp[m],d);break;case"source":It("error",d);break;case"img":case"image":case"link":It("error",d),It("load",d);break;case"details":It("toggle",d);break;case"input":It("invalid",d),dO(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":It("invalid",d);break;case"textarea":It("invalid",d),hO(d,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||y.suppressHydrationWarning===!0||m4(d.textContent,m)?(y.popover!=null&&(It("beforetoggle",d),It("toggle",d)),y.onScroll!=null&&It("scroll",d),y.onScrollEnd!=null&&It("scrollend",d),y.onClick!=null&&(d.onclick=Ta),d=!0):d=!1,d||Ml(c,!0)}function JO(c){for(Rr=c.return;Rr;)switch(Rr.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Rr=Rr.return}}function $d(c){if(c!==Rr)return!1;if(!Ft)return JO(c),Ft=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||nS(c.type,c.memoizedProps)),m=!m),m&&Tn&&Ml(c),JO(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Tn=S4(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Tn=S4(c)}else d===27?(d=Tn,Vl(c.type)?(c=aS,aS=null,Tn=c):Tn=d):Tn=Rr?Mi(c.stateNode.nextSibling):null;return!0}function du(){Tn=Rr=null,Ft=!1}function HE(){var c=Al;return c!==null&&(Ts===null?Ts=c:Ts.push.apply(Ts,c),Al=null),c}function Cp(c){Al===null?Al=[c]:Al.push(c)}var FE=Se(null),fu=null,Aa=null;function Ol(c,d,m){D(FE,d._currentValue),d._currentValue=m}function Ma(c){c._currentValue=FE.current,X(FE)}function UE(c,d,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===m)break;c=c.return}}function zE(c,d,m,y){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var T=E.dependencies;if(T!==null){var A=E.child;T=T.firstContext;e:for(;T!==null;){var L=T;T=E;for(var Y=0;Y<d.length;Y++)if(L.context===d[Y]){T.lanes|=m,L=T.alternate,L!==null&&(L.lanes|=m),UE(T.return,m,c),y||(A=null);break e}T=L.next}}else if(E.tag===18){if(A=E.return,A===null)throw Error(r(341));A.lanes|=m,T=A.alternate,T!==null&&(T.lanes|=m),UE(A,m,c),A=null}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===c){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}}function Vd(c,d,m,y){c=null;for(var E=d,T=!1;E!==null;){if(!T){if((E.flags&524288)!==0)T=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var A=E.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var L=E.type;Qs(E.pendingProps.value,A.value)||(c!==null?c.push(L):c=[L])}}else if(E===ie.current){if(A=E.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(Qp):c=[Qp])}E=E.return}c!==null&&zE(d,c,m,y),d.flags|=262144}function eb(c){for(c=c.firstContext;c!==null;){if(!Qs(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function hu(c){fu=c,Aa=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ir(c){return eR(fu,c)}function tb(c,d){return fu===null&&hu(c),eR(c,d)}function eR(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Aa===null){if(c===null)throw Error(r(308));Aa=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Aa=Aa.next=d;return m}var rQ=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},sQ=e.unstable_scheduleCallback,iQ=e.unstable_NormalPriority,Xn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $E(){return{controller:new rQ,data:new Map,refCount:0}}function Sp(c){c.refCount--,c.refCount===0&&sQ(iQ,function(){c.controller.abort()})}var Tp=null,VE=0,qd=0,Gd=null;function oQ(c,d){if(Tp===null){var m=Tp=[];VE=0,qd=YC(),Gd={status:"pending",value:void 0,then:function(y){m.push(y)}}}return VE++,d.then(tR,tR),d}function tR(){if(--VE===0&&Tp!==null){Gd!==null&&(Gd.status="fulfilled");var c=Tp;Tp=null,qd=0,Gd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function aQ(c,d){var m=[],y={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var E=0;E<m.length;E++)(0,m[E])(d)},function(E){for(y.status="rejected",y.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),y}var nR=F.S;F.S=function(c,d){HI=Ae(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&oQ(c,d),nR!==null&&nR(c,d)};var pu=Se(null);function qE(){var c=pu.current;return c!==null?c:mn.pooledCache}function nb(c,d){d===null?D(pu,pu.current):D(pu,d.pool)}function rR(){var c=qE();return c===null?null:{parent:Xn._currentValue,pool:c}}var Yd=Error(r(460)),GE=Error(r(474)),rb=Error(r(542)),sb={then:function(){}};function sR(c){return c=c.status,c==="fulfilled"||c==="rejected"}function iR(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Ta,Ta),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,aR(c),c;default:if(typeof d.status=="string")d.then(Ta,Ta);else{if(c=mn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=y}},function(y){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,aR(c),c}throw gu=d,Yd}}function mu(c){try{var d=c._init;return d(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(gu=m,Yd):m}}var gu=null;function oR(){if(gu===null)throw Error(r(459));var c=gu;return gu=null,c}function aR(c){if(c===Yd||c===rb)throw Error(r(483))}var Wd=null,kp=0;function ib(c){var d=kp;return kp+=1,Wd===null&&(Wd=[]),iR(Wd,c,d)}function _p(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function ob(c,d){throw d.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function lR(c){function d(re,Z){if(c){var ae=re.deletions;ae===null?(re.deletions=[Z],re.flags|=16):ae.push(Z)}}function m(re,Z){if(!c)return null;for(;Z!==null;)d(re,Z),Z=Z.sibling;return null}function y(re){for(var Z=new Map;re!==null;)re.key!==null?Z.set(re.key,re):Z.set(re.index,re),re=re.sibling;return Z}function E(re,Z){return re=_a(re,Z),re.index=0,re.sibling=null,re}function T(re,Z,ae){return re.index=ae,c?(ae=re.alternate,ae!==null?(ae=ae.index,ae<Z?(re.flags|=67108866,Z):ae):(re.flags|=67108866,Z)):(re.flags|=1048576,Z)}function A(re){return c&&re.alternate===null&&(re.flags|=67108866),re}function L(re,Z,ae,Ee){return Z===null||Z.tag!==6?(Z=DE(ae,re.mode,Ee),Z.return=re,Z):(Z=E(Z,ae),Z.return=re,Z)}function Y(re,Z,ae,Ee){var tt=ae.type;return tt===x?xe(re,Z,ae.props.children,Ee,ae.key):Z!==null&&(Z.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===j&&mu(tt)===Z.type)?(Z=E(Z,ae.props),_p(Z,ae),Z.return=re,Z):(Z=Z0(ae.type,ae.key,ae.props,null,re.mode,Ee),_p(Z,ae),Z.return=re,Z)}function le(re,Z,ae,Ee){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=LE(ae,re.mode,Ee),Z.return=re,Z):(Z=E(Z,ae.children||[]),Z.return=re,Z)}function xe(re,Z,ae,Ee,tt){return Z===null||Z.tag!==7?(Z=uu(ae,re.mode,Ee,tt),Z.return=re,Z):(Z=E(Z,ae),Z.return=re,Z)}function Ce(re,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=DE(""+Z,re.mode,ae),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return ae=Z0(Z.type,Z.key,Z.props,null,re.mode,ae),_p(ae,Z),ae.return=re,ae;case v:return Z=LE(Z,re.mode,ae),Z.return=re,Z;case j:return Z=mu(Z),Ce(re,Z,ae)}if(te(Z)||W(Z))return Z=uu(Z,re.mode,ae,null),Z.return=re,Z;if(typeof Z.then=="function")return Ce(re,ib(Z),ae);if(Z.$$typeof===N)return Ce(re,tb(re,Z),ae);ob(re,Z)}return null}function fe(re,Z,ae,Ee){var tt=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return tt!==null?null:L(re,Z,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ae.key===tt?Y(re,Z,ae,Ee):null;case v:return ae.key===tt?le(re,Z,ae,Ee):null;case j:return ae=mu(ae),fe(re,Z,ae,Ee)}if(te(ae)||W(ae))return tt!==null?null:xe(re,Z,ae,Ee,null);if(typeof ae.then=="function")return fe(re,Z,ib(ae),Ee);if(ae.$$typeof===N)return fe(re,Z,tb(re,ae),Ee);ob(re,ae)}return null}function me(re,Z,ae,Ee,tt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return re=re.get(ae)||null,L(Z,re,""+Ee,tt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return re=re.get(Ee.key===null?ae:Ee.key)||null,Y(Z,re,Ee,tt);case v:return re=re.get(Ee.key===null?ae:Ee.key)||null,le(Z,re,Ee,tt);case j:return Ee=mu(Ee),me(re,Z,ae,Ee,tt)}if(te(Ee)||W(Ee))return re=re.get(ae)||null,xe(Z,re,Ee,tt,null);if(typeof Ee.then=="function")return me(re,Z,ae,ib(Ee),tt);if(Ee.$$typeof===N)return me(re,Z,ae,tb(Z,Ee),tt);ob(Z,Ee)}return null}function Ve(re,Z,ae,Ee){for(var tt=null,Kt=null,We=Z,xt=Z=0,Pt=null;We!==null&&xt<ae.length;xt++){We.index>xt?(Pt=We,We=null):Pt=We.sibling;var Qt=fe(re,We,ae[xt],Ee);if(Qt===null){We===null&&(We=Pt);break}c&&We&&Qt.alternate===null&&d(re,We),Z=T(Qt,Z,xt),Kt===null?tt=Qt:Kt.sibling=Qt,Kt=Qt,We=Pt}if(xt===ae.length)return m(re,We),Ft&&Na(re,xt),tt;if(We===null){for(;xt<ae.length;xt++)We=Ce(re,ae[xt],Ee),We!==null&&(Z=T(We,Z,xt),Kt===null?tt=We:Kt.sibling=We,Kt=We);return Ft&&Na(re,xt),tt}for(We=y(We);xt<ae.length;xt++)Pt=me(We,re,xt,ae[xt],Ee),Pt!==null&&(c&&Pt.alternate!==null&&We.delete(Pt.key===null?xt:Pt.key),Z=T(Pt,Z,xt),Kt===null?tt=Pt:Kt.sibling=Pt,Kt=Pt);return c&&We.forEach(function(Kl){return d(re,Kl)}),Ft&&Na(re,xt),tt}function ct(re,Z,ae,Ee){if(ae==null)throw Error(r(151));for(var tt=null,Kt=null,We=Z,xt=Z=0,Pt=null,Qt=ae.next();We!==null&&!Qt.done;xt++,Qt=ae.next()){We.index>xt?(Pt=We,We=null):Pt=We.sibling;var Kl=fe(re,We,Qt.value,Ee);if(Kl===null){We===null&&(We=Pt);break}c&&We&&Kl.alternate===null&&d(re,We),Z=T(Kl,Z,xt),Kt===null?tt=Kl:Kt.sibling=Kl,Kt=Kl,We=Pt}if(Qt.done)return m(re,We),Ft&&Na(re,xt),tt;if(We===null){for(;!Qt.done;xt++,Qt=ae.next())Qt=Ce(re,Qt.value,Ee),Qt!==null&&(Z=T(Qt,Z,xt),Kt===null?tt=Qt:Kt.sibling=Qt,Kt=Qt);return Ft&&Na(re,xt),tt}for(We=y(We);!Qt.done;xt++,Qt=ae.next())Qt=me(We,re,xt,Qt.value,Ee),Qt!==null&&(c&&Qt.alternate!==null&&We.delete(Qt.key===null?xt:Qt.key),Z=T(Qt,Z,xt),Kt===null?tt=Qt:Kt.sibling=Qt,Kt=Qt);return c&&We.forEach(function(yX){return d(re,yX)}),Ft&&Na(re,xt),tt}function un(re,Z,ae,Ee){if(typeof ae=="object"&&ae!==null&&ae.type===x&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:e:{for(var tt=ae.key;Z!==null;){if(Z.key===tt){if(tt=ae.type,tt===x){if(Z.tag===7){m(re,Z.sibling),Ee=E(Z,ae.props.children),Ee.return=re,re=Ee;break e}}else if(Z.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===j&&mu(tt)===Z.type){m(re,Z.sibling),Ee=E(Z,ae.props),_p(Ee,ae),Ee.return=re,re=Ee;break e}m(re,Z);break}else d(re,Z);Z=Z.sibling}ae.type===x?(Ee=uu(ae.props.children,re.mode,Ee,ae.key),Ee.return=re,re=Ee):(Ee=Z0(ae.type,ae.key,ae.props,null,re.mode,Ee),_p(Ee,ae),Ee.return=re,re=Ee)}return A(re);case v:e:{for(tt=ae.key;Z!==null;){if(Z.key===tt)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){m(re,Z.sibling),Ee=E(Z,ae.children||[]),Ee.return=re,re=Ee;break e}else{m(re,Z);break}else d(re,Z);Z=Z.sibling}Ee=LE(ae,re.mode,Ee),Ee.return=re,re=Ee}return A(re);case j:return ae=mu(ae),un(re,Z,ae,Ee)}if(te(ae))return Ve(re,Z,ae,Ee);if(W(ae)){if(tt=W(ae),typeof tt!="function")throw Error(r(150));return ae=tt.call(ae),ct(re,Z,ae,Ee)}if(typeof ae.then=="function")return un(re,Z,ib(ae),Ee);if(ae.$$typeof===N)return un(re,Z,tb(re,ae),Ee);ob(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(m(re,Z.sibling),Ee=E(Z,ae),Ee.return=re,re=Ee):(m(re,Z),Ee=DE(ae,re.mode,Ee),Ee.return=re,re=Ee),A(re)):m(re,Z)}return function(re,Z,ae,Ee){try{kp=0;var tt=un(re,Z,ae,Ee);return Wd=null,tt}catch(We){if(We===Yd||We===rb)throw We;var Kt=Xs(29,We,null,re.mode);return Kt.lanes=Ee,Kt.return=re,Kt}finally{}}}var bu=lR(!0),cR=lR(!1),Rl=!1;function YE(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function WE(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Il(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Dl(c,d,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(en&2)!==0){var E=y.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),y.pending=d,d=X0(c),GO(c,null,m),d}return Q0(c,y,d,m),X0(c)}function Np(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,m|=y,d.lanes=m,ys(c,m)}}function KE(c,d){var m=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var E=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var A={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?E=T=A:T=T.next=A,m=m.next}while(m!==null);T===null?E=T=d:T=T.next=d}else E=T=d;m={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var QE=!1;function Ap(){if(QE){var c=Gd;if(c!==null)throw c}}function Mp(c,d,m,y){QE=!1;var E=c.updateQueue;Rl=!1;var T=E.firstBaseUpdate,A=E.lastBaseUpdate,L=E.shared.pending;if(L!==null){E.shared.pending=null;var Y=L,le=Y.next;Y.next=null,A===null?T=le:A.next=le,A=Y;var xe=c.alternate;xe!==null&&(xe=xe.updateQueue,L=xe.lastBaseUpdate,L!==A&&(L===null?xe.firstBaseUpdate=le:L.next=le,xe.lastBaseUpdate=Y))}if(T!==null){var Ce=E.baseState;A=0,xe=le=Y=null,L=T;do{var fe=L.lane&-536870913,me=fe!==L.lane;if(me?(jt&fe)===fe:(y&fe)===fe){fe!==0&&fe===qd&&(QE=!0),xe!==null&&(xe=xe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ve=c,ct=L;fe=d;var un=m;switch(ct.tag){case 1:if(Ve=ct.payload,typeof Ve=="function"){Ce=Ve.call(un,Ce,fe);break e}Ce=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=ct.payload,fe=typeof Ve=="function"?Ve.call(un,Ce,fe):Ve,fe==null)break e;Ce=h({},Ce,fe);break e;case 2:Rl=!0}}fe=L.callback,fe!==null&&(c.flags|=64,me&&(c.flags|=8192),me=E.callbacks,me===null?E.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},xe===null?(le=xe=me,Y=Ce):xe=xe.next=me,A|=fe;if(L=L.next,L===null){if(L=E.shared.pending,L===null)break;me=L,L=me.next,me.next=null,E.lastBaseUpdate=me,E.shared.pending=null}}while(!0);xe===null&&(Y=Ce),E.baseState=Y,E.firstBaseUpdate=le,E.lastBaseUpdate=xe,T===null&&(E.shared.lanes=0),Hl|=A,c.lanes=A,c.memoizedState=Ce}}function uR(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function dR(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)uR(m[c],d)}var Kd=Se(null),ab=Se(0);function fR(c,d){c=Ha,D(ab,c),D(Kd,d),Ha=c|d.baseLanes}function XE(){D(ab,Ha),D(Kd,Kd.current)}function ZE(){Ha=ab.current,X(Kd),X(ab)}var Zs=Se(null),Ai=null;function Ll(c){var d=c.alternate;D(Gn,Gn.current&1),D(Zs,c),Ai===null&&(d===null||Kd.current!==null||d.memoizedState!==null)&&(Ai=c)}function JE(c){D(Gn,Gn.current),D(Zs,c),Ai===null&&(Ai=c)}function hR(c){c.tag===22?(D(Gn,Gn.current),D(Zs,c),Ai===null&&(Ai=c)):jl()}function jl(){D(Gn,Gn.current),D(Zs,Zs.current)}function Js(c){X(Zs),Ai===c&&(Ai=null),X(Gn)}var Gn=Se(0);function lb(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||iS(m)||oS(m)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Oa=0,gt=null,ln=null,Zn=null,cb=!1,Qd=!1,yu=!1,ub=0,Op=0,Xd=null,lQ=0;function Hn(){throw Error(r(321))}function eC(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!Qs(c[m],d[m]))return!1;return!0}function tC(c,d,m,y,E,T){return Oa=T,gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,F.H=c===null||c.memoizedState===null?QR:gC,yu=!1,T=m(y,E),yu=!1,Qd&&(T=mR(d,m,y,E)),pR(c),T}function pR(c){F.H=Dp;var d=ln!==null&&ln.next!==null;if(Oa=0,Zn=ln=gt=null,cb=!1,Op=0,Xd=null,d)throw Error(r(300));c===null||Jn||(c=c.dependencies,c!==null&&eb(c)&&(Jn=!0))}function mR(c,d,m,y){gt=c;var E=0;do{if(Qd&&(Xd=null),Op=0,Qd=!1,25<=E)throw Error(r(301));if(E+=1,Zn=ln=null,c.updateQueue!=null){var T=c.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}F.H=XR,T=d(m,y)}while(Qd);return T}function cQ(){var c=F.H,d=c.useState()[0];return d=typeof d.then=="function"?Rp(d):d,c=c.useState()[0],(ln!==null?ln.memoizedState:null)!==c&&(gt.flags|=1024),d}function nC(){var c=ub!==0;return ub=0,c}function rC(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function sC(c){if(cb){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}cb=!1}Oa=0,Zn=ln=gt=null,Qd=!1,Op=ub=0,Xd=null}function rs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?gt.memoizedState=Zn=c:Zn=Zn.next=c,Zn}function Yn(){if(ln===null){var c=gt.alternate;c=c!==null?c.memoizedState:null}else c=ln.next;var d=Zn===null?gt.memoizedState:Zn.next;if(d!==null)Zn=d,ln=c;else{if(c===null)throw gt.alternate===null?Error(r(467)):Error(r(310));ln=c,c={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Zn===null?gt.memoizedState=Zn=c:Zn=Zn.next=c}return Zn}function db(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rp(c){var d=Op;return Op+=1,Xd===null&&(Xd=[]),c=iR(Xd,c,d),d=gt,(Zn===null?d.memoizedState:Zn.next)===null&&(d=d.alternate,F.H=d===null||d.memoizedState===null?QR:gC),c}function fb(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Rp(c);if(c.$$typeof===N)return Ir(c)}throw Error(r(438,String(c)))}function iC(c){var d=null,m=gt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var y=gt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=db(),gt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),y=0;y<c;y++)m[y]=P;return d.index++,m}function Ra(c,d){return typeof d=="function"?d(c):d}function hb(c){var d=Yn();return oC(d,ln,c)}function oC(c,d,m){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var E=c.baseQueue,T=y.pending;if(T!==null){if(E!==null){var A=E.next;E.next=T.next,T.next=A}d.baseQueue=E=T,y.pending=null}if(T=c.baseState,E===null)c.memoizedState=T;else{d=E.next;var L=A=null,Y=null,le=d,xe=!1;do{var Ce=le.lane&-536870913;if(Ce!==le.lane?(jt&Ce)===Ce:(Oa&Ce)===Ce){var fe=le.revertLane;if(fe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ce===qd&&(xe=!0);else if((Oa&fe)===fe){le=le.next,fe===qd&&(xe=!0);continue}else Ce={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(L=Y=Ce,A=T):Y=Y.next=Ce,gt.lanes|=fe,Hl|=fe;Ce=le.action,yu&&m(T,Ce),T=le.hasEagerState?le.eagerState:m(T,Ce)}else fe={lane:Ce,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(L=Y=fe,A=T):Y=Y.next=fe,gt.lanes|=Ce,Hl|=Ce;le=le.next}while(le!==null&&le!==d);if(Y===null?A=T:Y.next=L,!Qs(T,c.memoizedState)&&(Jn=!0,xe&&(m=Gd,m!==null)))throw m;c.memoizedState=T,c.baseState=A,c.baseQueue=Y,y.lastRenderedState=T}return E===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function aC(c){var d=Yn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=m.dispatch,E=m.pending,T=d.memoizedState;if(E!==null){m.pending=null;var A=E=E.next;do T=c(T,A.action),A=A.next;while(A!==E);Qs(T,d.memoizedState)||(Jn=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,y]}function gR(c,d,m){var y=gt,E=Yn(),T=Ft;if(T){if(m===void 0)throw Error(r(407));m=m()}else m=d();var A=!Qs((ln||E).memoizedState,m);if(A&&(E.memoizedState=m,Jn=!0),E=E.queue,uC(vR.bind(null,y,E,c),[c]),E.getSnapshot!==d||A||Zn!==null&&Zn.memoizedState.tag&1){if(y.flags|=2048,Zd(9,{destroy:void 0},yR.bind(null,y,E,m,d),null),mn===null)throw Error(r(349));T||(Oa&127)!==0||bR(y,d,m)}return m}function bR(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=gt.updateQueue,d===null?(d=db(),gt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function yR(c,d,m,y){d.value=m,d.getSnapshot=y,xR(d)&&wR(c)}function vR(c,d,m){return m(function(){xR(d)&&wR(c)})}function xR(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!Qs(c,m)}catch{return!0}}function wR(c){var d=cu(c,2);d!==null&&ks(d,c,2)}function lC(c){var d=rs();if(typeof c=="function"){var m=c;if(c=m(),yu){Vn(!0);try{m()}finally{Vn(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:c},d}function ER(c,d,m,y){return c.baseState=m,oC(c,ln,typeof y=="function"?y:Ra)}function uQ(c,d,m,y,E){if(gb(c))throw Error(r(485));if(c=d.action,c!==null){var T={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){T.listeners.push(A)}};F.T!==null?m(!0):T.isTransition=!1,y(T),m=d.pending,m===null?(T.next=d.pending=T,CR(d,T)):(T.next=m.next,d.pending=m.next=T)}}function CR(c,d){var m=d.action,y=d.payload,E=c.state;if(d.isTransition){var T=F.T,A={};F.T=A;try{var L=m(E,y),Y=F.S;Y!==null&&Y(A,L),SR(c,d,L)}catch(le){cC(c,d,le)}finally{T!==null&&A.types!==null&&(T.types=A.types),F.T=T}}else try{T=m(E,y),SR(c,d,T)}catch(le){cC(c,d,le)}}function SR(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){TR(c,d,y)},function(y){return cC(c,d,y)}):TR(c,d,m)}function TR(c,d,m){d.status="fulfilled",d.value=m,kR(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,CR(c,m)))}function cC(c,d,m){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=m,kR(d),d=d.next;while(d!==y)}c.action=null}function kR(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function _R(c,d){return d}function NR(c,d){if(Ft){var m=mn.formState;if(m!==null){e:{var y=gt;if(Ft){if(Tn){t:{for(var E=Tn,T=Ni;E.nodeType!==8;){if(!T){E=null;break t}if(E=Mi(E.nextSibling),E===null){E=null;break t}}T=E.data,E=T==="F!"||T==="F"?E:null}if(E){Tn=Mi(E.nextSibling),y=E.data==="F!";break e}}Ml(y)}y=!1}y&&(d=m[0])}}return m=rs(),m.memoizedState=m.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_R,lastRenderedState:d},m.queue=y,m=YR.bind(null,gt,y),y.dispatch=m,y=lC(!1),T=mC.bind(null,gt,!1,y.queue),y=rs(),E={state:d,dispatch:null,action:c,pending:null},y.queue=E,m=uQ.bind(null,gt,E,T,m),E.dispatch=m,y.memoizedState=c,[d,m,!1]}function AR(c){var d=Yn();return MR(d,ln,c)}function MR(c,d,m){if(d=oC(c,d,_R)[0],c=hb(Ra)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Rp(d)}catch(A){throw A===Yd?rb:A}else y=d;d=Yn();var E=d.queue,T=E.dispatch;return m!==d.memoizedState&&(gt.flags|=2048,Zd(9,{destroy:void 0},dQ.bind(null,E,m),null)),[y,T,c]}function dQ(c,d){c.action=d}function OR(c){var d=Yn(),m=ln;if(m!==null)return MR(d,m,c);Yn(),d=d.memoizedState,m=Yn();var y=m.queue.dispatch;return m.memoizedState=c,[d,y,!1]}function Zd(c,d,m,y){return c={tag:c,create:m,deps:y,inst:d,next:null},d=gt.updateQueue,d===null&&(d=db(),gt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,d.lastEffect=c),c}function RR(){return Yn().memoizedState}function pb(c,d,m,y){var E=rs();gt.flags|=c,E.memoizedState=Zd(1|d,{destroy:void 0},m,y===void 0?null:y)}function mb(c,d,m,y){var E=Yn();y=y===void 0?null:y;var T=E.memoizedState.inst;ln!==null&&y!==null&&eC(y,ln.memoizedState.deps)?E.memoizedState=Zd(d,T,m,y):(gt.flags|=c,E.memoizedState=Zd(1|d,T,m,y))}function IR(c,d){pb(8390656,8,c,d)}function uC(c,d){mb(2048,8,c,d)}function fQ(c){gt.flags|=4;var d=gt.updateQueue;if(d===null)d=db(),gt.updateQueue=d,d.events=[c];else{var m=d.events;m===null?d.events=[c]:m.push(c)}}function DR(c){var d=Yn().memoizedState;return fQ({ref:d,nextImpl:c}),function(){if((en&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function LR(c,d){return mb(4,2,c,d)}function jR(c,d){return mb(4,4,c,d)}function PR(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function BR(c,d,m){m=m!=null?m.concat([c]):null,mb(4,4,PR.bind(null,d,c),m)}function dC(){}function HR(c,d){var m=Yn();d=d===void 0?null:d;var y=m.memoizedState;return d!==null&&eC(d,y[1])?y[0]:(m.memoizedState=[c,d],c)}function FR(c,d){var m=Yn();d=d===void 0?null:d;var y=m.memoizedState;if(d!==null&&eC(d,y[1]))return y[0];if(y=c(),yu){Vn(!0);try{c()}finally{Vn(!1)}}return m.memoizedState=[y,d],y}function fC(c,d,m){return m===void 0||(Oa&1073741824)!==0&&(jt&261930)===0?c.memoizedState=d:(c.memoizedState=m,c=UI(),gt.lanes|=c,Hl|=c,m)}function UR(c,d,m,y){return Qs(m,d)?m:Kd.current!==null?(c=fC(c,m,y),Qs(c,d)||(Jn=!0),c):(Oa&42)===0||(Oa&1073741824)!==0&&(jt&261930)===0?(Jn=!0,c.memoizedState=m):(c=UI(),gt.lanes|=c,Hl|=c,d)}function zR(c,d,m,y,E){var T=V.p;V.p=T!==0&&8>T?T:8;var A=F.T,L={};F.T=L,mC(c,!1,d,m);try{var Y=E(),le=F.S;if(le!==null&&le(L,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var xe=aQ(Y,y);Ip(c,d,xe,ni(c))}else Ip(c,d,y,ni(c))}catch(Ce){Ip(c,d,{then:function(){},status:"rejected",reason:Ce},ni())}finally{V.p=T,A!==null&&L.types!==null&&(A.types=L.types),F.T=A}}function hQ(){}function hC(c,d,m,y){if(c.tag!==5)throw Error(r(476));var E=$R(c).queue;zR(c,E,d,z,m===null?hQ:function(){return VR(c),m(y)})}function $R(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:z},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function VR(c){var d=$R(c);d.next===null&&(d=c.alternate.memoizedState),Ip(c,d.next.queue,{},ni())}function pC(){return Ir(Qp)}function qR(){return Yn().memoizedState}function GR(){return Yn().memoizedState}function pQ(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=ni();c=Il(m);var y=Dl(d,c,m);y!==null&&(ks(y,d,m),Np(y,d,m)),d={cache:$E()},c.payload=d;return}d=d.return}}function mQ(c,d,m){var y=ni();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},gb(c)?WR(d,m):(m=RE(c,d,m,y),m!==null&&(ks(m,c,y),KR(m,d,y)))}function YR(c,d,m){var y=ni();Ip(c,d,m,y)}function Ip(c,d,m,y){var E={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(gb(c))WR(d,E);else{var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var A=d.lastRenderedState,L=T(A,m);if(E.hasEagerState=!0,E.eagerState=L,Qs(L,A))return Q0(c,d,E,0),mn===null&&K0(),!1}catch{}finally{}if(m=RE(c,d,E,y),m!==null)return ks(m,c,y),KR(m,d,y),!0}return!1}function mC(c,d,m,y){if(y={lane:2,revertLane:YC(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},gb(c)){if(d)throw Error(r(479))}else d=RE(c,m,y,2),d!==null&&ks(d,c,2)}function gb(c){var d=c.alternate;return c===gt||d!==null&&d===gt}function WR(c,d){Qd=cb=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function KR(c,d,m){if((m&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,m|=y,d.lanes=m,ys(c,m)}}var Dp={readContext:Ir,use:fb,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};Dp.useEffectEvent=Hn;var QR={readContext:Ir,use:fb,useCallback:function(c,d){return rs().memoizedState=[c,d===void 0?null:d],c},useContext:Ir,useEffect:IR,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,pb(4194308,4,PR.bind(null,d,c),m)},useLayoutEffect:function(c,d){return pb(4194308,4,c,d)},useInsertionEffect:function(c,d){pb(4,2,c,d)},useMemo:function(c,d){var m=rs();d=d===void 0?null:d;var y=c();if(yu){Vn(!0);try{c()}finally{Vn(!1)}}return m.memoizedState=[y,d],y},useReducer:function(c,d,m){var y=rs();if(m!==void 0){var E=m(d);if(yu){Vn(!0);try{m(d)}finally{Vn(!1)}}}else E=d;return y.memoizedState=y.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},y.queue=c,c=c.dispatch=mQ.bind(null,gt,c),[y.memoizedState,c]},useRef:function(c){var d=rs();return c={current:c},d.memoizedState=c},useState:function(c){c=lC(c);var d=c.queue,m=YR.bind(null,gt,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:dC,useDeferredValue:function(c,d){var m=rs();return fC(m,c,d)},useTransition:function(){var c=lC(!1);return c=zR.bind(null,gt,c.queue,!0,!1),rs().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var y=gt,E=rs();if(Ft){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),mn===null)throw Error(r(349));(jt&127)!==0||bR(y,d,m)}E.memoizedState=m;var T={value:m,getSnapshot:d};return E.queue=T,IR(vR.bind(null,y,T,c),[c]),y.flags|=2048,Zd(9,{destroy:void 0},yR.bind(null,y,T,m,d),null),m},useId:function(){var c=rs(),d=mn.identifierPrefix;if(Ft){var m=$o,y=zo;m=(y&~(1<<32-Ht(y)-1)).toString(32)+m,d="_"+d+"R_"+m,m=ub++,0<m&&(d+="H"+m.toString(32)),d+="_"}else m=lQ++,d="_"+d+"r_"+m.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:pC,useFormState:NR,useActionState:NR,useOptimistic:function(c){var d=rs();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=mC.bind(null,gt,!0,m),m.dispatch=d,[c,d]},useMemoCache:iC,useCacheRefresh:function(){return rs().memoizedState=pQ.bind(null,gt)},useEffectEvent:function(c){var d=rs(),m={impl:c};return d.memoizedState=m,function(){if((en&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},gC={readContext:Ir,use:fb,useCallback:HR,useContext:Ir,useEffect:uC,useImperativeHandle:BR,useInsertionEffect:LR,useLayoutEffect:jR,useMemo:FR,useReducer:hb,useRef:RR,useState:function(){return hb(Ra)},useDebugValue:dC,useDeferredValue:function(c,d){var m=Yn();return UR(m,ln.memoizedState,c,d)},useTransition:function(){var c=hb(Ra)[0],d=Yn().memoizedState;return[typeof c=="boolean"?c:Rp(c),d]},useSyncExternalStore:gR,useId:qR,useHostTransitionStatus:pC,useFormState:AR,useActionState:AR,useOptimistic:function(c,d){var m=Yn();return ER(m,ln,c,d)},useMemoCache:iC,useCacheRefresh:GR};gC.useEffectEvent=DR;var XR={readContext:Ir,use:fb,useCallback:HR,useContext:Ir,useEffect:uC,useImperativeHandle:BR,useInsertionEffect:LR,useLayoutEffect:jR,useMemo:FR,useReducer:aC,useRef:RR,useState:function(){return aC(Ra)},useDebugValue:dC,useDeferredValue:function(c,d){var m=Yn();return ln===null?fC(m,c,d):UR(m,ln.memoizedState,c,d)},useTransition:function(){var c=aC(Ra)[0],d=Yn().memoizedState;return[typeof c=="boolean"?c:Rp(c),d]},useSyncExternalStore:gR,useId:qR,useHostTransitionStatus:pC,useFormState:OR,useActionState:OR,useOptimistic:function(c,d){var m=Yn();return ln!==null?ER(m,ln,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:iC,useCacheRefresh:GR};XR.useEffectEvent=DR;function bC(c,d,m,y){d=c.memoizedState,m=m(y,d),m=m==null?d:h({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var yC={enqueueSetState:function(c,d,m){c=c._reactInternals;var y=ni(),E=Il(y);E.payload=d,m!=null&&(E.callback=m),d=Dl(c,E,y),d!==null&&(ks(d,c,y),Np(d,c,y))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var y=ni(),E=Il(y);E.tag=1,E.payload=d,m!=null&&(E.callback=m),d=Dl(c,E,y),d!==null&&(ks(d,c,y),Np(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=ni(),y=Il(m);y.tag=2,d!=null&&(y.callback=d),d=Dl(c,y,m),d!==null&&(ks(d,c,m),Np(d,c,m))}};function ZR(c,d,m,y,E,T,A){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,T,A):d.prototype&&d.prototype.isPureReactComponent?!xp(m,y)||!xp(E,T):!0}function JR(c,d,m,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==c&&yC.enqueueReplaceState(d,d.state,null)}function vu(c,d){var m=d;if("ref"in d){m={};for(var y in d)y!=="ref"&&(m[y]=d[y])}if(c=c.defaultProps){m===d&&(m=h({},m));for(var E in c)m[E]===void 0&&(m[E]=c[E])}return m}function eI(c){W0(c)}function tI(c){console.error(c)}function nI(c){W0(c)}function bb(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function rI(c,d,m){try{var y=c.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function vC(c,d,m){return m=Il(m),m.tag=3,m.payload={element:null},m.callback=function(){bb(c,d)},m}function sI(c){return c=Il(c),c.tag=3,c}function iI(c,d,m,y){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var T=y.value;c.payload=function(){return E(T)},c.callback=function(){rI(d,m,y)}}var A=m.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(c.callback=function(){rI(d,m,y),typeof E!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var L=y.stack;this.componentDidCatch(y.value,{componentStack:L!==null?L:""})})}function gQ(c,d,m,y,E){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=m.alternate,d!==null&&Vd(d,m,E,!0),m=Zs.current,m!==null){switch(m.tag){case 31:case 13:return Ai===null?Ab():m.alternate===null&&Fn===0&&(Fn=3),m.flags&=-257,m.flags|=65536,m.lanes=E,y===sb?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([y]):d.add(y),VC(c,y,E)),!1;case 22:return m.flags|=65536,y===sb?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([y]):m.add(y)),VC(c,y,E)),!1}throw Error(r(435,m.tag))}return VC(c,y,E),Ab(),!1}if(Ft)return d=Zs.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,y!==BE&&(c=Error(r(422),{cause:y}),Cp(Ti(c,m)))):(y!==BE&&(d=Error(r(423),{cause:y}),Cp(Ti(d,m))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,y=Ti(y,m),E=vC(c.stateNode,y,E),KE(c,E),Fn!==4&&(Fn=2)),!1;var T=Error(r(520),{cause:y});if(T=Ti(T,m),zp===null?zp=[T]:zp.push(T),Fn!==4&&(Fn=2),d===null)return!0;y=Ti(y,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=E&-E,m.lanes|=c,c=vC(m.stateNode,y,c),KE(m,c),!1;case 1:if(d=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Fl===null||!Fl.has(T))))return m.flags|=65536,E&=-E,m.lanes|=E,E=sI(E),iI(E,c,m,y),KE(m,E),!1}m=m.return}while(m!==null);return!1}var xC=Error(r(461)),Jn=!1;function Dr(c,d,m,y){d.child=c===null?cR(d,null,m,y):bu(d,c.child,m,y)}function oI(c,d,m,y,E){m=m.render;var T=d.ref;if("ref"in y){var A={};for(var L in y)L!=="ref"&&(A[L]=y[L])}else A=y;return hu(d),y=tC(c,d,m,A,T,E),L=nC(),c!==null&&!Jn?(rC(c,d,E),Ia(c,d,E)):(Ft&&L&&jE(d),d.flags|=1,Dr(c,d,y,E),d.child)}function aI(c,d,m,y,E){if(c===null){var T=m.type;return typeof T=="function"&&!IE(T)&&T.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=T,lI(c,d,T,y,E)):(c=Z0(m.type,null,y,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(T=c.child,!NC(c,E)){var A=T.memoizedProps;if(m=m.compare,m=m!==null?m:xp,m(A,y)&&c.ref===d.ref)return Ia(c,d,E)}return d.flags|=1,c=_a(T,y),c.ref=d.ref,c.return=d,d.child=c}function lI(c,d,m,y,E){if(c!==null){var T=c.memoizedProps;if(xp(T,y)&&c.ref===d.ref)if(Jn=!1,d.pendingProps=y=T,NC(c,E))(c.flags&131072)!==0&&(Jn=!0);else return d.lanes=c.lanes,Ia(c,d,E)}return wC(c,d,m,y,E)}function cI(c,d,m,y){var E=y.children,T=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(T=T!==null?T.baseLanes|m:m,c!==null){for(y=d.child=c.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;y=E&~T}else y=0,d.child=null;return uI(c,d,T,m,y)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&nb(d,T!==null?T.cachePool:null),T!==null?fR(d,T):XE(),hR(d);else return y=d.lanes=536870912,uI(c,d,T!==null?T.baseLanes|m:m,m,y)}else T!==null?(nb(d,T.cachePool),fR(d,T),jl(),d.memoizedState=null):(c!==null&&nb(d,null),XE(),jl());return Dr(c,d,E,m),d.child}function Lp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function uI(c,d,m,y,E){var T=qE();return T=T===null?null:{parent:Xn._currentValue,pool:T},d.memoizedState={baseLanes:m,cachePool:T},c!==null&&nb(d,null),XE(),hR(d),c!==null&&Vd(c,d,y,!0),d.childLanes=E,null}function yb(c,d){return d=xb({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function dI(c,d,m){return bu(d,c.child,null,m),c=yb(d,d.pendingProps),c.flags|=2,Js(d),d.memoizedState=null,c}function bQ(c,d,m){var y=d.pendingProps,E=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Ft){if(y.mode==="hidden")return c=yb(d,y),d.lanes=536870912,Lp(null,c);if(JE(d),(c=Tn)?(c=C4(c,Ni),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Nl!==null?{id:zo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},m=WO(c),m.return=d,d.child=m,Rr=d,Tn=null)):c=null,c===null)throw Ml(d);return d.lanes=536870912,null}return yb(d,y)}var T=c.memoizedState;if(T!==null){var A=T.dehydrated;if(JE(d),E)if(d.flags&256)d.flags&=-257,d=dI(c,d,m);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(r(558));else if(Jn||Vd(c,d,m,!1),E=(m&c.childLanes)!==0,Jn||E){if(y=mn,y!==null&&(A=vs(y,m),A!==0&&A!==T.retryLane))throw T.retryLane=A,cu(c,A),ks(y,c,A),xC;Ab(),d=dI(c,d,m)}else c=T.treeContext,Tn=Mi(A.nextSibling),Rr=d,Ft=!0,Al=null,Ni=!1,c!==null&&XO(d,c),d=yb(d,y),d.flags|=4096;return d}return c=_a(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function vb(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function wC(c,d,m,y,E){return hu(d),m=tC(c,d,m,y,void 0,E),y=nC(),c!==null&&!Jn?(rC(c,d,E),Ia(c,d,E)):(Ft&&y&&jE(d),d.flags|=1,Dr(c,d,m,E),d.child)}function fI(c,d,m,y,E,T){return hu(d),d.updateQueue=null,m=mR(d,y,m,E),pR(c),y=nC(),c!==null&&!Jn?(rC(c,d,T),Ia(c,d,T)):(Ft&&y&&jE(d),d.flags|=1,Dr(c,d,m,T),d.child)}function hI(c,d,m,y,E){if(hu(d),d.stateNode===null){var T=Fd,A=m.contextType;typeof A=="object"&&A!==null&&(T=Ir(A)),T=new m(y,T),d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=yC,d.stateNode=T,T._reactInternals=d,T=d.stateNode,T.props=y,T.state=d.memoizedState,T.refs={},YE(d),A=m.contextType,T.context=typeof A=="object"&&A!==null?Ir(A):Fd,T.state=d.memoizedState,A=m.getDerivedStateFromProps,typeof A=="function"&&(bC(d,m,A,y),T.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(A=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),A!==T.state&&yC.enqueueReplaceState(T,T.state,null),Mp(d,y,T,E),Ap(),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){T=d.stateNode;var L=d.memoizedProps,Y=vu(m,L);T.props=Y;var le=T.context,xe=m.contextType;A=Fd,typeof xe=="object"&&xe!==null&&(A=Ir(xe));var Ce=m.getDerivedStateFromProps;xe=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function",L=d.pendingProps!==L,xe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L||le!==A)&&JR(d,T,y,A),Rl=!1;var fe=d.memoizedState;T.state=fe,Mp(d,y,T,E),Ap(),le=d.memoizedState,L||fe!==le||Rl?(typeof Ce=="function"&&(bC(d,m,Ce,y),le=d.memoizedState),(Y=Rl||ZR(d,m,Y,y,fe,le,A))?(xe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(d.flags|=4194308)):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=le),T.props=y,T.state=le,T.context=A,y=Y):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{T=d.stateNode,WE(c,d),A=d.memoizedProps,xe=vu(m,A),T.props=xe,Ce=d.pendingProps,fe=T.context,le=m.contextType,Y=Fd,typeof le=="object"&&le!==null&&(Y=Ir(le)),L=m.getDerivedStateFromProps,(le=typeof L=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==Ce||fe!==Y)&&JR(d,T,y,Y),Rl=!1,fe=d.memoizedState,T.state=fe,Mp(d,y,T,E),Ap();var me=d.memoizedState;A!==Ce||fe!==me||Rl||c!==null&&c.dependencies!==null&&eb(c.dependencies)?(typeof L=="function"&&(bC(d,m,L,y),me=d.memoizedState),(xe=Rl||ZR(d,m,xe,y,fe,me,Y)||c!==null&&c.dependencies!==null&&eb(c.dependencies))?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,me,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,me,Y)),typeof T.componentDidUpdate=="function"&&(d.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=me),T.props=y,T.state=me,T.context=Y,y=xe):(typeof T.componentDidUpdate!="function"||A===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),y=!1)}return T=y,vb(c,d),y=(d.flags&128)!==0,T||y?(T=d.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:T.render(),d.flags|=1,c!==null&&y?(d.child=bu(d,c.child,null,E),d.child=bu(d,null,m,E)):Dr(c,d,m,E),d.memoizedState=T.state,c=d.child):c=Ia(c,d,E),c}function pI(c,d,m,y){return du(),d.flags|=256,Dr(c,d,m,y),d.child}var EC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function CC(c){return{baseLanes:c,cachePool:rR()}}function SC(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=ti),c}function mI(c,d,m){var y=d.pendingProps,E=!1,T=(d.flags&128)!==0,A;if((A=T)||(A=c!==null&&c.memoizedState===null?!1:(Gn.current&2)!==0),A&&(E=!0,d.flags&=-129),A=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ft){if(E?Ll(d):jl(),(c=Tn)?(c=C4(c,Ni),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Nl!==null?{id:zo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},m=WO(c),m.return=d,d.child=m,Rr=d,Tn=null)):c=null,c===null)throw Ml(d);return oS(c)?d.lanes=32:d.lanes=536870912,null}var L=y.children;return y=y.fallback,E?(jl(),E=d.mode,L=xb({mode:"hidden",children:L},E),y=uu(y,E,m,null),L.return=d,y.return=d,L.sibling=y,d.child=L,y=d.child,y.memoizedState=CC(m),y.childLanes=SC(c,A,m),d.memoizedState=EC,Lp(null,y)):(Ll(d),TC(d,L))}var Y=c.memoizedState;if(Y!==null&&(L=Y.dehydrated,L!==null)){if(T)d.flags&256?(Ll(d),d.flags&=-257,d=kC(c,d,m)):d.memoizedState!==null?(jl(),d.child=c.child,d.flags|=128,d=null):(jl(),L=y.fallback,E=d.mode,y=xb({mode:"visible",children:y.children},E),L=uu(L,E,m,null),L.flags|=2,y.return=d,L.return=d,y.sibling=L,d.child=y,bu(d,c.child,null,m),y=d.child,y.memoizedState=CC(m),y.childLanes=SC(c,A,m),d.memoizedState=EC,d=Lp(null,y));else if(Ll(d),oS(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var le=A.dgst;A=le,y=Error(r(419)),y.stack="",y.digest=A,Cp({value:y,source:null,stack:null}),d=kC(c,d,m)}else if(Jn||Vd(c,d,m,!1),A=(m&c.childLanes)!==0,Jn||A){if(A=mn,A!==null&&(y=vs(A,m),y!==0&&y!==Y.retryLane))throw Y.retryLane=y,cu(c,y),ks(A,c,y),xC;iS(L)||Ab(),d=kC(c,d,m)}else iS(L)?(d.flags|=192,d.child=c.child,d=null):(c=Y.treeContext,Tn=Mi(L.nextSibling),Rr=d,Ft=!0,Al=null,Ni=!1,c!==null&&XO(d,c),d=TC(d,y.children),d.flags|=4096);return d}return E?(jl(),L=y.fallback,E=d.mode,Y=c.child,le=Y.sibling,y=_a(Y,{mode:"hidden",children:y.children}),y.subtreeFlags=Y.subtreeFlags&65011712,le!==null?L=_a(le,L):(L=uu(L,E,m,null),L.flags|=2),L.return=d,y.return=d,y.sibling=L,d.child=y,Lp(null,y),y=d.child,L=c.child.memoizedState,L===null?L=CC(m):(E=L.cachePool,E!==null?(Y=Xn._currentValue,E=E.parent!==Y?{parent:Y,pool:Y}:E):E=rR(),L={baseLanes:L.baseLanes|m,cachePool:E}),y.memoizedState=L,y.childLanes=SC(c,A,m),d.memoizedState=EC,Lp(c.child,y)):(Ll(d),m=c.child,c=m.sibling,m=_a(m,{mode:"visible",children:y.children}),m.return=d,m.sibling=null,c!==null&&(A=d.deletions,A===null?(d.deletions=[c],d.flags|=16):A.push(c)),d.child=m,d.memoizedState=null,m)}function TC(c,d){return d=xb({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function xb(c,d){return c=Xs(22,c,null,d),c.lanes=0,c}function kC(c,d,m){return bu(d,c.child,null,m),c=TC(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function gI(c,d,m){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),UE(c.return,d,m)}function _C(c,d,m,y,E,T){var A=c.memoizedState;A===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:E,treeForkCount:T}:(A.isBackwards=d,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=m,A.tailMode=E,A.treeForkCount=T)}function bI(c,d,m){var y=d.pendingProps,E=y.revealOrder,T=y.tail;y=y.children;var A=Gn.current,L=(A&2)!==0;if(L?(A=A&1|2,d.flags|=128):A&=1,D(Gn,A),Dr(c,d,y,m),y=Ft?Ep:0,!L&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&gI(c,m,d);else if(c.tag===19)gI(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(E){case"forwards":for(m=d.child,E=null;m!==null;)c=m.alternate,c!==null&&lb(c)===null&&(E=m),m=m.sibling;m=E,m===null?(E=d.child,d.child=null):(E=m.sibling,m.sibling=null),_C(d,!1,E,m,T,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&lb(c)===null){d.child=E;break}c=E.sibling,E.sibling=m,m=E,E=c}_C(d,!0,m,null,T,y);break;case"together":_C(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Ia(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Hl|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(Vd(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=_a(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=_a(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function NC(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&eb(c)))}function yQ(c,d,m){switch(d.tag){case 3:we(d,d.stateNode.containerInfo),Ol(d,Xn,c.memoizedState.cache),du();break;case 27:case 5:Be(d);break;case 4:we(d,d.stateNode.containerInfo);break;case 10:Ol(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,JE(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Ll(d),d.flags|=128,null):(m&d.child.childLanes)!==0?mI(c,d,m):(Ll(d),c=Ia(c,d,m),c!==null?c.sibling:null);Ll(d);break;case 19:var E=(c.flags&128)!==0;if(y=(m&d.childLanes)!==0,y||(Vd(c,d,m,!1),y=(m&d.childLanes)!==0),E){if(y)return bI(c,d,m);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),D(Gn,Gn.current),y)break;return null;case 22:return d.lanes=0,cI(c,d,m,d.pendingProps);case 24:Ol(d,Xn,c.memoizedState.cache)}return Ia(c,d,m)}function yI(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Jn=!0;else{if(!NC(c,m)&&(d.flags&128)===0)return Jn=!1,yQ(c,d,m);Jn=(c.flags&131072)!==0}else Jn=!1,Ft&&(d.flags&1048576)!==0&&QO(d,Ep,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=mu(d.elementType),d.type=c,typeof c=="function")IE(c)?(y=vu(c,y),d.tag=1,d=hI(null,d,c,y,m)):(d.tag=0,d=wC(null,d,c,y,m));else{if(c!=null){var E=c.$$typeof;if(E===M){d.tag=11,d=oI(null,d,c,y,m);break e}else if(E===I){d.tag=14,d=aI(null,d,c,y,m);break e}}throw d=Q(c)||c,Error(r(306,d,""))}}return d;case 0:return wC(c,d,d.type,d.pendingProps,m);case 1:return y=d.type,E=vu(y,d.pendingProps),hI(c,d,y,E,m);case 3:e:{if(we(d,d.stateNode.containerInfo),c===null)throw Error(r(387));y=d.pendingProps;var T=d.memoizedState;E=T.element,WE(c,d),Mp(d,y,null,m);var A=d.memoizedState;if(y=A.cache,Ol(d,Xn,y),y!==T.cache&&zE(d,[Xn],m,!0),Ap(),y=A.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:A.cache},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){d=pI(c,d,y,m);break e}else if(y!==E){E=Ti(Error(r(424)),d),Cp(E),d=pI(c,d,y,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Tn=Mi(c.firstChild),Rr=d,Ft=!0,Al=null,Ni=!0,m=cR(d,null,y,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(du(),y===E){d=Ia(c,d,m);break e}Dr(c,d,y,m)}d=d.child}return d;case 26:return vb(c,d),c===null?(m=A4(d.type,null,d.pendingProps,null))?d.memoizedState=m:Ft||(m=d.type,c=d.pendingProps,y=jb(de.current).createElement(m),y[Or]=d,y[xs]=c,Lr(y,m,c),xr(y),d.stateNode=y):d.memoizedState=A4(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Be(d),c===null&&Ft&&(y=d.stateNode=k4(d.type,d.pendingProps,de.current),Rr=d,Ni=!0,E=Tn,Vl(d.type)?(aS=E,Tn=Mi(y.firstChild)):Tn=E),Dr(c,d,d.pendingProps.children,m),vb(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Ft&&((E=y=Tn)&&(y=WQ(y,d.type,d.pendingProps,Ni),y!==null?(d.stateNode=y,Rr=d,Tn=Mi(y.firstChild),Ni=!1,E=!0):E=!1),E||Ml(d)),Be(d),E=d.type,T=d.pendingProps,A=c!==null?c.memoizedProps:null,y=T.children,nS(E,T)?y=null:A!==null&&nS(E,A)&&(d.flags|=32),d.memoizedState!==null&&(E=tC(c,d,cQ,null,null,m),Qp._currentValue=E),vb(c,d),Dr(c,d,y,m),d.child;case 6:return c===null&&Ft&&((c=m=Tn)&&(m=KQ(m,d.pendingProps,Ni),m!==null?(d.stateNode=m,Rr=d,Tn=null,c=!0):c=!1),c||Ml(d)),null;case 13:return mI(c,d,m);case 4:return we(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=bu(d,null,y,m):Dr(c,d,y,m),d.child;case 11:return oI(c,d,d.type,d.pendingProps,m);case 7:return Dr(c,d,d.pendingProps,m),d.child;case 8:return Dr(c,d,d.pendingProps.children,m),d.child;case 12:return Dr(c,d,d.pendingProps.children,m),d.child;case 10:return y=d.pendingProps,Ol(d,d.type,y.value),Dr(c,d,y.children,m),d.child;case 9:return E=d.type._context,y=d.pendingProps.children,hu(d),E=Ir(E),y=y(E),d.flags|=1,Dr(c,d,y,m),d.child;case 14:return aI(c,d,d.type,d.pendingProps,m);case 15:return lI(c,d,d.type,d.pendingProps,m);case 19:return bI(c,d,m);case 31:return bQ(c,d,m);case 22:return cI(c,d,m,d.pendingProps);case 24:return hu(d),y=Ir(Xn),c===null?(E=qE(),E===null&&(E=mn,T=$E(),E.pooledCache=T,T.refCount++,T!==null&&(E.pooledCacheLanes|=m),E=T),d.memoizedState={parent:y,cache:E},YE(d),Ol(d,Xn,E)):((c.lanes&m)!==0&&(WE(c,d),Mp(d,null,null,m),Ap()),E=c.memoizedState,T=d.memoizedState,E.parent!==y?(E={parent:y,cache:y},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),Ol(d,Xn,y)):(y=T.cache,Ol(d,Xn,y),y!==E.cache&&zE(d,[Xn],m,!0))),Dr(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Da(c){c.flags|=4}function AC(c,d,m,y,E){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(E&335544128)===E)if(c.stateNode.complete)c.flags|=8192;else if(qI())c.flags|=8192;else throw gu=sb,GE}else c.flags&=-16777217}function vI(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!D4(d))if(qI())c.flags|=8192;else throw gu=sb,GE}function wb(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?vr():536870912,c.lanes|=d,nf|=d)}function jp(c,d){if(!Ft)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function kn(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(d)for(var E=c.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=y,c.childLanes=m,d}function vQ(c,d,m){var y=d.pendingProps;switch(PE(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(d),null;case 1:return kn(d),null;case 3:return m=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),Ma(Xn),Me(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&($d(d)?Da(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,HE())),kn(d),null;case 26:var E=d.type,T=d.memoizedState;return c===null?(Da(d),T!==null?(kn(d),vI(d,T)):(kn(d),AC(d,E,null,y,m))):T?T!==c.memoizedState?(Da(d),kn(d),vI(d,T)):(kn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&Da(d),kn(d),AC(d,E,c,y,m)),null;case 27:if(He(d),m=de.current,E=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Da(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return kn(d),null}c=he.current,$d(d)?ZO(d):(c=k4(E,y,m),d.stateNode=c,Da(d))}return kn(d),null;case 5:if(He(d),E=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Da(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return kn(d),null}if(T=he.current,$d(d))ZO(d);else{var A=jb(de.current);switch(T){case 1:T=A.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:T=A.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":T=A.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":T=A.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":T=A.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?A.createElement("select",{is:y.is}):A.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?A.createElement(E,{is:y.is}):A.createElement(E)}}T[Or]=d,T[xs]=y;e:for(A=d.child;A!==null;){if(A.tag===5||A.tag===6)T.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===d)break e;for(;A.sibling===null;){if(A.return===null||A.return===d)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}d.stateNode=T;e:switch(Lr(T,E,y),E){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Da(d)}}return kn(d),AC(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,m),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Da(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(c=de.current,$d(d)){if(c=d.stateNode,m=d.memoizedProps,y=null,E=Rr,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}c[Or]=d,c=!!(c.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||m4(c.nodeValue,m)),c||Ml(d,!0)}else c=jb(c).createTextNode(y),c[Or]=d,d.stateNode=c}return kn(d),null;case 31:if(m=d.memoizedState,c===null||c.memoizedState!==null){if(y=$d(d),m!==null){if(c===null){if(!y)throw Error(r(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[Or]=d}else du(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;kn(d),c=!1}else m=HE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return d.flags&256?(Js(d),d):(Js(d),null);if((d.flags&128)!==0)throw Error(r(558))}return kn(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=$d(d),y!==null&&y.dehydrated!==null){if(c===null){if(!E)throw Error(r(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Or]=d}else du(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;kn(d),E=!1}else E=HE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),E=!0;if(!E)return d.flags&256?(Js(d),d):(Js(d),null)}return Js(d),(d.flags&128)!==0?(d.lanes=m,d):(m=y!==null,c=c!==null&&c.memoizedState!==null,m&&(y=d.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==E&&(y.flags|=2048)),m!==c&&m&&(d.child.flags|=8192),wb(d,d.updateQueue),kn(d),null);case 4:return Me(),c===null&&XC(d.stateNode.containerInfo),kn(d),null;case 10:return Ma(d.type),kn(d),null;case 19:if(X(Gn),y=d.memoizedState,y===null)return kn(d),null;if(E=(d.flags&128)!==0,T=y.rendering,T===null)if(E)jp(y,!1);else{if(Fn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(T=lb(c),T!==null){for(d.flags|=128,jp(y,!1),c=T.updateQueue,d.updateQueue=c,wb(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)YO(m,c),m=m.sibling;return D(Gn,Gn.current&1|2),Ft&&Na(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&Ae()>kb&&(d.flags|=128,E=!0,jp(y,!1),d.lanes=4194304)}else{if(!E)if(c=lb(T),c!==null){if(d.flags|=128,E=!0,c=c.updateQueue,d.updateQueue=c,wb(d,c),jp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ft)return kn(d),null}else 2*Ae()-y.renderingStartTime>kb&&m!==536870912&&(d.flags|=128,E=!0,jp(y,!1),d.lanes=4194304);y.isBackwards?(T.sibling=d.child,d.child=T):(c=y.last,c!==null?c.sibling=T:d.child=T,y.last=T)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Ae(),c.sibling=null,m=Gn.current,D(Gn,E?m&1|2:m&1),Ft&&Na(d,y.treeForkCount),c):(kn(d),null);case 22:case 23:return Js(d),ZE(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(m&536870912)!==0&&(d.flags&128)===0&&(kn(d),d.subtreeFlags&6&&(d.flags|=8192)):kn(d),m=d.updateQueue,m!==null&&wb(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048),c!==null&&X(pu),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Ma(Xn),kn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function xQ(c,d){switch(PE(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ma(Xn),Me(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return He(d),null;case 31:if(d.memoizedState!==null){if(Js(d),d.alternate===null)throw Error(r(340));du()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(Js(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));du()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return X(Gn),null;case 4:return Me(),null;case 10:return Ma(d.type),null;case 22:case 23:return Js(d),ZE(),c!==null&&X(pu),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Ma(Xn),null;case 25:return null;default:return null}}function xI(c,d){switch(PE(d),d.tag){case 3:Ma(Xn),Me();break;case 26:case 27:case 5:He(d);break;case 4:Me();break;case 31:d.memoizedState!==null&&Js(d);break;case 13:Js(d);break;case 19:X(Gn);break;case 10:Ma(d.type);break;case 22:case 23:Js(d),ZE(),c!==null&&X(pu);break;case 24:Ma(Xn)}}function Pp(c,d){try{var m=d.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var E=y.next;m=E;do{if((m.tag&c)===c){y=void 0;var T=m.create,A=m.inst;y=T(),A.destroy=y}m=m.next}while(m!==E)}}catch(L){on(d,d.return,L)}}function Pl(c,d,m){try{var y=d.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var T=E.next;y=T;do{if((y.tag&c)===c){var A=y.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,E=d;var Y=m,le=L;try{le()}catch(xe){on(E,Y,xe)}}}y=y.next}while(y!==T)}}catch(xe){on(d,d.return,xe)}}function wI(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{dR(d,m)}catch(y){on(c,c.return,y)}}}function EI(c,d,m){m.props=vu(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(y){on(c,d,y)}}function Bp(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof m=="function"?c.refCleanup=m(y):m.current=y}}catch(E){on(c,d,E)}}function Vo(c,d){var m=c.ref,y=c.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(E){on(c,d,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){on(c,d,E)}else m.current=null}function CI(c){var d=c.type,m=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(E){on(c,c.return,E)}}function MC(c,d,m){try{var y=c.stateNode;zQ(y,c.type,m,d),y[xs]=d}catch(E){on(c,c.return,E)}}function SI(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Vl(c.type)||c.tag===4}function OC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||SI(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Vl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function RC(c,d,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Ta));else if(y!==4&&(y===27&&Vl(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(RC(c,d,m),c=c.sibling;c!==null;)RC(c,d,m),c=c.sibling}function Eb(c,d,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(y!==4&&(y===27&&Vl(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(Eb(c,d,m),c=c.sibling;c!==null;)Eb(c,d,m),c=c.sibling}function TI(c){var d=c.stateNode,m=c.memoizedProps;try{for(var y=c.type,E=d.attributes;E.length;)d.removeAttributeNode(E[0]);Lr(d,y,m),d[Or]=c,d[xs]=m}catch(T){on(c,c.return,T)}}var La=!1,er=!1,IC=!1,kI=typeof WeakSet=="function"?WeakSet:Set,wr=null;function wQ(c,d){if(c=c.containerInfo,eS=$b,c=BO(c),kE(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var E=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var A=0,L=-1,Y=-1,le=0,xe=0,Ce=c,fe=null;t:for(;;){for(var me;Ce!==m||E!==0&&Ce.nodeType!==3||(L=A+E),Ce!==T||y!==0&&Ce.nodeType!==3||(Y=A+y),Ce.nodeType===3&&(A+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)fe=Ce,Ce=me;for(;;){if(Ce===c)break t;if(fe===m&&++le===E&&(L=A),fe===T&&++xe===y&&(Y=A),(me=Ce.nextSibling)!==null)break;Ce=fe,fe=Ce.parentNode}Ce=me}m=L===-1||Y===-1?null:{start:L,end:Y}}else m=null}m=m||{start:0,end:0}}else m=null;for(tS={focusedElem:c,selectionRange:m},$b=!1,wr=d;wr!==null;)if(d=wr,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,wr=c;else for(;wr!==null;){switch(d=wr,T=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)E=c[m],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&T!==null){c=void 0,m=d,E=T.memoizedProps,T=T.memoizedState,y=m.stateNode;try{var Ve=vu(m.type,E);c=y.getSnapshotBeforeUpdate(Ve,T),y.__reactInternalSnapshotBeforeUpdate=c}catch(ct){on(m,m.return,ct)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)sS(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":sS(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,wr=c;break}wr=d.return}}function _I(c,d,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Pa(c,m),y&4&&Pp(5,m);break;case 1:if(Pa(c,m),y&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(A){on(m,m.return,A)}else{var E=vu(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(E,d,c.__reactInternalSnapshotBeforeUpdate)}catch(A){on(m,m.return,A)}}y&64&&wI(m),y&512&&Bp(m,m.return);break;case 3:if(Pa(c,m),y&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{dR(c,d)}catch(A){on(m,m.return,A)}}break;case 27:d===null&&y&4&&TI(m);case 26:case 5:Pa(c,m),d===null&&y&4&&CI(m),y&512&&Bp(m,m.return);break;case 12:Pa(c,m);break;case 31:Pa(c,m),y&4&&MI(c,m);break;case 13:Pa(c,m),y&4&&OI(c,m),y&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=MQ.bind(null,m),QQ(c,m))));break;case 22:if(y=m.memoizedState!==null||La,!y){d=d!==null&&d.memoizedState!==null||er,E=La;var T=er;La=y,(er=d)&&!T?Ba(c,m,(m.subtreeFlags&8772)!==0):Pa(c,m),La=E,er=T}break;case 30:break;default:Pa(c,m)}}function NI(c){var d=c.alternate;d!==null&&(c.alternate=null,NI(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&cE(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var On=null,Es=!1;function ja(c,d,m){for(m=m.child;m!==null;)AI(c,d,m),m=m.sibling}function AI(c,d,m){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(xn,m)}catch{}switch(m.tag){case 26:er||Vo(m,d),ja(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:er||Vo(m,d);var y=On,E=Es;Vl(m.type)&&(On=m.stateNode,Es=!1),ja(c,d,m),Yp(m.stateNode),On=y,Es=E;break;case 5:er||Vo(m,d);case 6:if(y=On,E=Es,On=null,ja(c,d,m),On=y,Es=E,On!==null)if(Es)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(m.stateNode)}catch(T){on(m,d,T)}else try{On.removeChild(m.stateNode)}catch(T){on(m,d,T)}break;case 18:On!==null&&(Es?(c=On,w4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),df(c)):w4(On,m.stateNode));break;case 4:y=On,E=Es,On=m.stateNode.containerInfo,Es=!0,ja(c,d,m),On=y,Es=E;break;case 0:case 11:case 14:case 15:Pl(2,m,d),er||Pl(4,m,d),ja(c,d,m);break;case 1:er||(Vo(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"&&EI(m,d,y)),ja(c,d,m);break;case 21:ja(c,d,m);break;case 22:er=(y=er)||m.memoizedState!==null,ja(c,d,m),er=y;break;default:ja(c,d,m)}}function MI(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{df(c)}catch(m){on(d,d.return,m)}}}function OI(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{df(c)}catch(m){on(d,d.return,m)}}function EQ(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new kI),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new kI),d;default:throw Error(r(435,c.tag))}}function Cb(c,d){var m=EQ(c);d.forEach(function(y){if(!m.has(y)){m.add(y);var E=OQ.bind(null,c,y);y.then(E,E)}})}function Cs(c,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var E=m[y],T=c,A=d,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(Vl(L.type)){On=L.stateNode,Es=!1;break e}break;case 5:On=L.stateNode,Es=!1;break e;case 3:case 4:On=L.stateNode.containerInfo,Es=!0;break e}L=L.return}if(On===null)throw Error(r(160));AI(T,A,E),On=null,Es=!1,T=E.alternate,T!==null&&(T.return=null),E.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)RI(d,c),d=d.sibling}var so=null;function RI(c,d){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Cs(d,c),Ss(c),y&4&&(Pl(3,c,c.return),Pp(3,c),Pl(5,c,c.return));break;case 1:Cs(d,c),Ss(c),y&512&&(er||m===null||Vo(m,m.return)),y&64&&La&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var E=so;if(Cs(d,c),Ss(c),y&512&&(er||m===null||Vo(m,m.return)),y&4){var T=m!==null?m.memoizedState:null;if(y=c.memoizedState,m===null)if(y===null)if(c.stateNode===null){e:{y=c.type,m=c.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":T=E.getElementsByTagName("title")[0],(!T||T[dp]||T[Or]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=E.createElement(y),E.head.insertBefore(T,E.querySelector("head > title"))),Lr(T,y,m),T[Or]=c,xr(T),y=T;break e;case"link":var A=R4("link","href",E).get(y+(m.href||""));if(A){for(var L=0;L<A.length;L++)if(T=A[L],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){A.splice(L,1);break t}}T=E.createElement(y),Lr(T,y,m),E.head.appendChild(T);break;case"meta":if(A=R4("meta","content",E).get(y+(m.content||""))){for(L=0;L<A.length;L++)if(T=A[L],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){A.splice(L,1);break t}}T=E.createElement(y),Lr(T,y,m),E.head.appendChild(T);break;default:throw Error(r(468,y))}T[Or]=c,xr(T),y=T}c.stateNode=y}else I4(E,c.type,c.stateNode);else c.stateNode=O4(E,y,c.memoizedProps);else T!==y?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,y===null?I4(E,c.type,c.stateNode):O4(E,y,c.memoizedProps)):y===null&&c.stateNode!==null&&MC(c,c.memoizedProps,m.memoizedProps)}break;case 27:Cs(d,c),Ss(c),y&512&&(er||m===null||Vo(m,m.return)),m!==null&&y&4&&MC(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Cs(d,c),Ss(c),y&512&&(er||m===null||Vo(m,m.return)),c.flags&32){E=c.stateNode;try{Id(E,"")}catch(Ve){on(c,c.return,Ve)}}y&4&&c.stateNode!=null&&(E=c.memoizedProps,MC(c,E,m!==null?m.memoizedProps:E)),y&1024&&(IC=!0);break;case 6:if(Cs(d,c),Ss(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,m=c.stateNode;try{m.nodeValue=y}catch(Ve){on(c,c.return,Ve)}}break;case 3:if(Hb=null,E=so,so=Pb(d.containerInfo),Cs(d,c),so=E,Ss(c),y&4&&m!==null&&m.memoizedState.isDehydrated)try{df(d.containerInfo)}catch(Ve){on(c,c.return,Ve)}IC&&(IC=!1,II(c));break;case 4:y=so,so=Pb(c.stateNode.containerInfo),Cs(d,c),Ss(c),so=y;break;case 12:Cs(d,c),Ss(c);break;case 31:Cs(d,c),Ss(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Cb(c,y)));break;case 13:Cs(d,c),Ss(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Tb=Ae()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Cb(c,y)));break;case 22:E=c.memoizedState!==null;var Y=m!==null&&m.memoizedState!==null,le=La,xe=er;if(La=le||E,er=xe||Y,Cs(d,c),er=xe,La=le,Ss(c),y&8192)e:for(d=c.stateNode,d._visibility=E?d._visibility&-2:d._visibility|1,E&&(m===null||Y||La||er||xu(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){Y=m=d;try{if(T=Y.stateNode,E)A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=Y.stateNode;var Ce=Y.memoizedProps.style,fe=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;L.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ve){on(Y,Y.return,Ve)}}}else if(d.tag===6){if(m===null){Y=d;try{Y.stateNode.nodeValue=E?"":Y.memoizedProps}catch(Ve){on(Y,Y.return,Ve)}}}else if(d.tag===18){if(m===null){Y=d;try{var me=Y.stateNode;E?E4(me,!0):E4(Y.stateNode,!1)}catch(Ve){on(Y,Y.return,Ve)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,Cb(c,m))));break;case 19:Cs(d,c),Ss(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Cb(c,y)));break;case 30:break;case 21:break;default:Cs(d,c),Ss(c)}}function Ss(c){var d=c.flags;if(d&2){try{for(var m,y=c.return;y!==null;){if(SI(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var E=m.stateNode,T=OC(c);Eb(c,T,E);break;case 5:var A=m.stateNode;m.flags&32&&(Id(A,""),m.flags&=-33);var L=OC(c);Eb(c,L,A);break;case 3:case 4:var Y=m.stateNode.containerInfo,le=OC(c);RC(c,le,Y);break;default:throw Error(r(161))}}catch(xe){on(c,c.return,xe)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function II(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;II(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Pa(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)_I(c,d.alternate,d),d=d.sibling}function xu(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Pl(4,d,d.return),xu(d);break;case 1:Vo(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&EI(d,d.return,m),xu(d);break;case 27:Yp(d.stateNode);case 26:case 5:Vo(d,d.return),xu(d);break;case 22:d.memoizedState===null&&xu(d);break;case 30:xu(d);break;default:xu(d)}c=c.sibling}}function Ba(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,E=c,T=d,A=T.flags;switch(T.tag){case 0:case 11:case 15:Ba(E,T,m),Pp(4,T);break;case 1:if(Ba(E,T,m),y=T,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(le){on(y,y.return,le)}if(y=T,E=y.updateQueue,E!==null){var L=y.stateNode;try{var Y=E.shared.hiddenCallbacks;if(Y!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Y.length;E++)uR(Y[E],L)}catch(le){on(y,y.return,le)}}m&&A&64&&wI(T),Bp(T,T.return);break;case 27:TI(T);case 26:case 5:Ba(E,T,m),m&&y===null&&A&4&&CI(T),Bp(T,T.return);break;case 12:Ba(E,T,m);break;case 31:Ba(E,T,m),m&&A&4&&MI(E,T);break;case 13:Ba(E,T,m),m&&A&4&&OI(E,T);break;case 22:T.memoizedState===null&&Ba(E,T,m),Bp(T,T.return);break;case 30:break;default:Ba(E,T,m)}d=d.sibling}}function DC(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Sp(m))}function LC(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Sp(c))}function io(c,d,m,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)DI(c,d,m,y),d=d.sibling}function DI(c,d,m,y){var E=d.flags;switch(d.tag){case 0:case 11:case 15:io(c,d,m,y),E&2048&&Pp(9,d);break;case 1:io(c,d,m,y);break;case 3:io(c,d,m,y),E&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Sp(c)));break;case 12:if(E&2048){io(c,d,m,y),c=d.stateNode;try{var T=d.memoizedProps,A=T.id,L=T.onPostCommit;typeof L=="function"&&L(A,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Y){on(d,d.return,Y)}}else io(c,d,m,y);break;case 31:io(c,d,m,y);break;case 13:io(c,d,m,y);break;case 23:break;case 22:T=d.stateNode,A=d.alternate,d.memoizedState!==null?T._visibility&2?io(c,d,m,y):Hp(c,d):T._visibility&2?io(c,d,m,y):(T._visibility|=2,Jd(c,d,m,y,(d.subtreeFlags&10256)!==0||!1)),E&2048&&DC(A,d);break;case 24:io(c,d,m,y),E&2048&&LC(d.alternate,d);break;default:io(c,d,m,y)}}function Jd(c,d,m,y,E){for(E=E&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var T=c,A=d,L=m,Y=y,le=A.flags;switch(A.tag){case 0:case 11:case 15:Jd(T,A,L,Y,E),Pp(8,A);break;case 23:break;case 22:var xe=A.stateNode;A.memoizedState!==null?xe._visibility&2?Jd(T,A,L,Y,E):Hp(T,A):(xe._visibility|=2,Jd(T,A,L,Y,E)),E&&le&2048&&DC(A.alternate,A);break;case 24:Jd(T,A,L,Y,E),E&&le&2048&&LC(A.alternate,A);break;default:Jd(T,A,L,Y,E)}d=d.sibling}}function Hp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,y=d,E=y.flags;switch(y.tag){case 22:Hp(m,y),E&2048&&DC(y.alternate,y);break;case 24:Hp(m,y),E&2048&&LC(y.alternate,y);break;default:Hp(m,y)}d=d.sibling}}var Fp=8192;function ef(c,d,m){if(c.subtreeFlags&Fp)for(c=c.child;c!==null;)LI(c,d,m),c=c.sibling}function LI(c,d,m){switch(c.tag){case 26:ef(c,d,m),c.flags&Fp&&c.memoizedState!==null&&lX(m,so,c.memoizedState,c.memoizedProps);break;case 5:ef(c,d,m);break;case 3:case 4:var y=so;so=Pb(c.stateNode.containerInfo),ef(c,d,m),so=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Fp,Fp=16777216,ef(c,d,m),Fp=y):ef(c,d,m));break;default:ef(c,d,m)}}function jI(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Up(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];wr=y,BI(y,c)}jI(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)PI(c),c=c.sibling}function PI(c){switch(c.tag){case 0:case 11:case 15:Up(c),c.flags&2048&&Pl(9,c,c.return);break;case 3:Up(c);break;case 12:Up(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Sb(c)):Up(c);break;default:Up(c)}}function Sb(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];wr=y,BI(y,c)}jI(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Pl(8,d,d.return),Sb(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,Sb(d));break;default:Sb(d)}c=c.sibling}}function BI(c,d){for(;wr!==null;){var m=wr;switch(m.tag){case 0:case 11:case 15:Pl(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Sp(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,wr=y;else e:for(m=c;wr!==null;){y=wr;var E=y.sibling,T=y.return;if(NI(y),y===m){wr=null;break e}if(E!==null){E.return=T,wr=E;break e}wr=T}}}var CQ={getCacheForType:function(c){var d=Ir(Xn),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m},cacheSignal:function(){return Ir(Xn).controller.signal}},SQ=typeof WeakMap=="function"?WeakMap:Map,en=0,mn=null,Rt=null,jt=0,sn=0,ei=null,Bl=!1,tf=!1,jC=!1,Ha=0,Fn=0,Hl=0,wu=0,PC=0,ti=0,nf=0,zp=null,Ts=null,BC=!1,Tb=0,HI=0,kb=1/0,_b=null,Fl=null,fr=0,Ul=null,rf=null,Fa=0,HC=0,FC=null,FI=null,$p=0,UC=null;function ni(){return(en&2)!==0&&jt!==0?jt&-jt:F.T!==null?YC():aE()}function UI(){if(ti===0)if((jt&536870912)===0||Ft){var c=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),ti=c}else ti=536870912;return c=Zs.current,c!==null&&(c.flags|=32),ti}function ks(c,d,m){(c===mn&&(sn===2||sn===9)||c.cancelPendingCommit!==null)&&(sf(c,0),zl(c,jt,ti,!1)),jn(c,m),((en&2)===0||c!==mn)&&(c===mn&&((en&2)===0&&(wu|=m),Fn===4&&zl(c,jt,ti,!1)),qo(c))}function zI(c,d,m){if((en&6)!==0)throw Error(r(327));var y=!m&&(d&127)===0&&(d&c.expiredLanes)===0||pn(c,d),E=y?_Q(c,d):$C(c,d,!0),T=y;do{if(E===0){tf&&!y&&zl(c,d,0,!1);break}else{if(m=c.current.alternate,T&&!TQ(m)){E=$C(c,d,!1),T=!1;continue}if(E===2){if(T=d,c.errorRecoveryDisabledLanes&T)var A=0;else A=c.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){d=A;e:{var L=c;E=zp;var Y=L.current.memoizedState.isDehydrated;if(Y&&(sf(L,A).flags|=256),A=$C(L,A,!1),A!==2){if(jC&&!Y){L.errorRecoveryDisabledLanes|=T,wu|=T,E=4;break e}T=Ts,Ts=E,T!==null&&(Ts===null?Ts=T:Ts.push.apply(Ts,T))}E=A}if(T=!1,E!==2)continue}}if(E===1){sf(c,0),zl(c,d,0,!0);break}e:{switch(y=c,T=E,T){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:zl(y,d,ti,!Bl);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(E=Tb+300-Ae(),10<E)){if(zl(y,d,ti,!Bl),dt(y,0,!0)!==0)break e;Fa=d,y.timeoutHandle=v4($I.bind(null,y,m,Ts,_b,BC,d,ti,wu,nf,Bl,T,"Throttled",-0,0),E);break e}$I(y,m,Ts,_b,BC,d,ti,wu,nf,Bl,T,null,-0,0)}}break}while(!0);qo(c)}function $I(c,d,m,y,E,T,A,L,Y,le,xe,Ce,fe,me){if(c.timeoutHandle=-1,Ce=d.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},LI(d,T,Ce);var Ve=(T&62914560)===T?Tb-Ae():(T&4194048)===T?HI-Ae():0;if(Ve=cX(Ce,Ve),Ve!==null){Fa=T,c.cancelPendingCommit=Ve(XI.bind(null,c,d,T,m,y,E,A,L,Y,xe,Ce,null,fe,me)),zl(c,T,A,!le);return}}XI(c,d,T,m,y,E,A,L,Y)}function TQ(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var E=m[y],T=E.getSnapshot;E=E.value;try{if(!Qs(T(),E))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function zl(c,d,m,y){d&=~PC,d&=~wu,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var E=d;0<E;){var T=31-Ht(E),A=1<<T;y[T]=-1,E&=~A}m!==0&&su(c,m,d)}function Nb(){return(en&6)===0?(Vp(0),!1):!0}function zC(){if(Rt!==null){if(sn===0)var c=Rt.return;else c=Rt,Aa=fu=null,sC(c),Wd=null,kp=0,c=Rt;for(;c!==null;)xI(c.alternate,c),c=c.return;Rt=null}}function sf(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,qQ(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Fa=0,zC(),mn=c,Rt=m=_a(c.current,null),jt=d,sn=0,ei=null,Bl=!1,tf=pn(c,d),jC=!1,nf=ti=PC=wu=Hl=Fn=0,Ts=zp=null,BC=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var E=31-Ht(y),T=1<<E;d|=c[E],y&=~T}return Ha=d,K0(),m}function VI(c,d){gt=null,F.H=Dp,d===Yd||d===rb?(d=oR(),sn=3):d===GE?(d=oR(),sn=4):sn=d===xC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ei=d,Rt===null&&(Fn=1,bb(c,Ti(d,c.current)))}function qI(){var c=Zs.current;return c===null?!0:(jt&4194048)===jt?Ai===null:(jt&62914560)===jt||(jt&536870912)!==0?c===Ai:!1}function GI(){var c=F.H;return F.H=Dp,c===null?Dp:c}function YI(){var c=F.A;return F.A=CQ,c}function Ab(){Fn=4,Bl||(jt&4194048)!==jt&&Zs.current!==null||(tf=!0),(Hl&134217727)===0&&(wu&134217727)===0||mn===null||zl(mn,jt,ti,!1)}function $C(c,d,m){var y=en;en|=2;var E=GI(),T=YI();(mn!==c||jt!==d)&&(_b=null,sf(c,d)),d=!1;var A=Fn;e:do try{if(sn!==0&&Rt!==null){var L=Rt,Y=ei;switch(sn){case 8:zC(),A=6;break e;case 3:case 2:case 9:case 6:Zs.current===null&&(d=!0);var le=sn;if(sn=0,ei=null,of(c,L,Y,le),m&&tf){A=0;break e}break;default:le=sn,sn=0,ei=null,of(c,L,Y,le)}}kQ(),A=Fn;break}catch(xe){VI(c,xe)}while(!0);return d&&c.shellSuspendCounter++,Aa=fu=null,en=y,F.H=E,F.A=T,Rt===null&&(mn=null,jt=0,K0()),A}function kQ(){for(;Rt!==null;)WI(Rt)}function _Q(c,d){var m=en;en|=2;var y=GI(),E=YI();mn!==c||jt!==d?(_b=null,kb=Ae()+500,sf(c,d)):tf=pn(c,d);e:do try{if(sn!==0&&Rt!==null){d=Rt;var T=ei;t:switch(sn){case 1:sn=0,ei=null,of(c,d,T,1);break;case 2:case 9:if(sR(T)){sn=0,ei=null,KI(d);break}d=function(){sn!==2&&sn!==9||mn!==c||(sn=7),qo(c)},T.then(d,d);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:sR(T)?(sn=0,ei=null,KI(d)):(sn=0,ei=null,of(c,d,T,7));break;case 5:var A=null;switch(Rt.tag){case 26:A=Rt.memoizedState;case 5:case 27:var L=Rt;if(A?D4(A):L.stateNode.complete){sn=0,ei=null;var Y=L.sibling;if(Y!==null)Rt=Y;else{var le=L.return;le!==null?(Rt=le,Mb(le)):Rt=null}break t}}sn=0,ei=null,of(c,d,T,5);break;case 6:sn=0,ei=null,of(c,d,T,6);break;case 8:zC(),Fn=6;break e;default:throw Error(r(462))}}NQ();break}catch(xe){VI(c,xe)}while(!0);return Aa=fu=null,F.H=y,F.A=E,en=m,Rt!==null?0:(mn=null,jt=0,K0(),Fn)}function NQ(){for(;Rt!==null&&!pe();)WI(Rt)}function WI(c){var d=yI(c.alternate,c,Ha);c.memoizedProps=c.pendingProps,d===null?Mb(c):Rt=d}function KI(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=fI(m,d,d.pendingProps,d.type,void 0,jt);break;case 11:d=fI(m,d,d.pendingProps,d.type.render,d.ref,jt);break;case 5:sC(d);default:xI(m,d),d=Rt=YO(d,Ha),d=yI(m,d,Ha)}c.memoizedProps=c.pendingProps,d===null?Mb(c):Rt=d}function of(c,d,m,y){Aa=fu=null,sC(d),Wd=null,kp=0;var E=d.return;try{if(gQ(c,E,d,m,jt)){Fn=1,bb(c,Ti(m,c.current)),Rt=null;return}}catch(T){if(E!==null)throw Rt=E,T;Fn=1,bb(c,Ti(m,c.current)),Rt=null;return}d.flags&32768?(Ft||y===1?c=!0:tf||(jt&536870912)!==0?c=!1:(Bl=c=!0,(y===2||y===9||y===3||y===6)&&(y=Zs.current,y!==null&&y.tag===13&&(y.flags|=16384))),QI(d,c)):Mb(d)}function Mb(c){var d=c;do{if((d.flags&32768)!==0){QI(d,Bl);return}c=d.return;var m=vQ(d.alternate,d,Ha);if(m!==null){Rt=m;return}if(d=d.sibling,d!==null){Rt=d;return}Rt=d=c}while(d!==null);Fn===0&&(Fn=5)}function QI(c,d){do{var m=xQ(c.alternate,c);if(m!==null){m.flags&=32767,Rt=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Rt=c;return}Rt=c=m}while(c!==null);Fn=6,Rt=null}function XI(c,d,m,y,E,T,A,L,Y){c.cancelPendingCommit=null;do Ob();while(fr!==0);if((en&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(T=d.lanes|d.childLanes,T|=OE,bs(c,m,T,A,L,Y),c===mn&&(Rt=mn=null,jt=0),rf=d,Ul=c,Fa=m,HC=T,FC=E,FI=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,RQ(Pe,function(){return n4(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=F.T,F.T=null,E=V.p,V.p=2,A=en,en|=4;try{wQ(c,d,m)}finally{en=A,V.p=E,F.T=y}}fr=1,ZI(),JI(),e4()}}function ZI(){if(fr===1){fr=0;var c=Ul,d=rf,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=F.T,F.T=null;var y=V.p;V.p=2;var E=en;en|=4;try{RI(d,c);var T=tS,A=BO(c.containerInfo),L=T.focusedElem,Y=T.selectionRange;if(A!==L&&L&&L.ownerDocument&&PO(L.ownerDocument.documentElement,L)){if(Y!==null&&kE(L)){var le=Y.start,xe=Y.end;if(xe===void 0&&(xe=le),"selectionStart"in L)L.selectionStart=le,L.selectionEnd=Math.min(xe,L.value.length);else{var Ce=L.ownerDocument||document,fe=Ce&&Ce.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Ve=L.textContent.length,ct=Math.min(Y.start,Ve),un=Y.end===void 0?ct:Math.min(Y.end,Ve);!me.extend&&ct>un&&(A=un,un=ct,ct=A);var re=jO(L,ct),Z=jO(L,un);if(re&&Z&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var ae=Ce.createRange();ae.setStart(re.node,re.offset),me.removeAllRanges(),ct>un?(me.addRange(ae),me.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),me.addRange(ae))}}}}for(Ce=[],me=L;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ce.length;L++){var Ee=Ce[L];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}$b=!!eS,tS=eS=null}finally{en=E,V.p=y,F.T=m}}c.current=d,fr=2}}function JI(){if(fr===2){fr=0;var c=Ul,d=rf,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=F.T,F.T=null;var y=V.p;V.p=2;var E=en;en|=4;try{_I(c,d.alternate,d)}finally{en=E,V.p=y,F.T=m}}fr=3}}function e4(){if(fr===4||fr===3){fr=0,je();var c=Ul,d=rf,m=Fa,y=FI;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?fr=5:(fr=0,rf=Ul=null,t4(c,c.pendingLanes));var E=c.pendingLanes;if(E===0&&(Fl=null),no(m),d=d.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(xn,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=F.T,E=V.p,V.p=2,F.T=null;try{for(var T=c.onRecoverableError,A=0;A<y.length;A++){var L=y[A];T(L.value,{componentStack:L.stack})}}finally{F.T=d,V.p=E}}(Fa&3)!==0&&Ob(),qo(c),E=c.pendingLanes,(m&261930)!==0&&(E&42)!==0?c===UC?$p++:($p=0,UC=c):$p=0,Vp(0)}}function t4(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Sp(d)))}function Ob(){return ZI(),JI(),e4(),n4()}function n4(){if(fr!==5)return!1;var c=Ul,d=HC;HC=0;var m=no(Fa),y=F.T,E=V.p;try{V.p=32>m?32:m,F.T=null,m=FC,FC=null;var T=Ul,A=Fa;if(fr=0,rf=Ul=null,Fa=0,(en&6)!==0)throw Error(r(331));var L=en;if(en|=4,PI(T.current),DI(T,T.current,A,m),en=L,Vp(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(xn,T)}catch{}return!0}finally{V.p=E,F.T=y,t4(c,d)}}function r4(c,d,m){d=Ti(m,d),d=vC(c.stateNode,d,2),c=Dl(c,d,2),c!==null&&(jn(c,2),qo(c))}function on(c,d,m){if(c.tag===3)r4(c,c,m);else for(;d!==null;){if(d.tag===3){r4(d,c,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Fl===null||!Fl.has(y))){c=Ti(m,c),m=sI(2),y=Dl(d,m,2),y!==null&&(iI(m,y,d,c),jn(y,2),qo(y));break}}d=d.return}}function VC(c,d,m){var y=c.pingCache;if(y===null){y=c.pingCache=new SQ;var E=new Set;y.set(d,E)}else E=y.get(d),E===void 0&&(E=new Set,y.set(d,E));E.has(m)||(jC=!0,E.add(m),c=AQ.bind(null,c,d,m),d.then(c,c))}function AQ(c,d,m){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,mn===c&&(jt&m)===m&&(Fn===4||Fn===3&&(jt&62914560)===jt&&300>Ae()-Tb?(en&2)===0&&sf(c,0):PC|=m,nf===jt&&(nf=0)),qo(c)}function s4(c,d){d===0&&(d=vr()),c=cu(c,d),c!==null&&(jn(c,d),qo(c))}function MQ(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),s4(c,m)}function OQ(c,d){var m=0;switch(c.tag){case 31:case 13:var y=c.stateNode,E=c.memoizedState;E!==null&&(m=E.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(d),s4(c,m)}function RQ(c,d){return G(c,d)}var Rb=null,af=null,qC=!1,Ib=!1,GC=!1,$l=0;function qo(c){c!==af&&c.next===null&&(af===null?Rb=af=c:af=af.next=c),Ib=!0,qC||(qC=!0,DQ())}function Vp(c,d){if(!GC&&Ib){GC=!0;do for(var m=!1,y=Rb;y!==null;){if(c!==0){var E=y.pendingLanes;if(E===0)var T=0;else{var A=y.suspendedLanes,L=y.pingedLanes;T=(1<<31-Ht(42|c)+1)-1,T&=E&~(A&~L),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,l4(y,T))}else T=jt,T=dt(y,y===mn?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||pn(y,T)||(m=!0,l4(y,T));y=y.next}while(m);GC=!1}}function IQ(){i4()}function i4(){Ib=qC=!1;var c=0;$l!==0&&VQ()&&(c=$l);for(var d=Ae(),m=null,y=Rb;y!==null;){var E=y.next,T=o4(y,d);T===0?(y.next=null,m===null?Rb=E:m.next=E,E===null&&(af=m)):(m=y,(c!==0||(T&3)!==0)&&(Ib=!0)),y=E}fr!==0&&fr!==5||Vp(c),$l!==0&&($l=0)}function o4(c,d){for(var m=c.suspendedLanes,y=c.pingedLanes,E=c.expirationTimes,T=c.pendingLanes&-62914561;0<T;){var A=31-Ht(T),L=1<<A,Y=E[A];Y===-1?((L&m)===0||(L&y)!==0)&&(E[A]=qn(L,d)):Y<=d&&(c.expiredLanes|=L),T&=~L}if(d=mn,m=jt,m=dt(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,m===0||c===d&&(sn===2||sn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&se(y),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||pn(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(y!==null&&se(y),no(m)){case 2:case 8:m=be;break;case 32:m=Pe;break;case 268435456:m=lt;break;default:m=Pe}return y=a4.bind(null,c),m=G(m,y),c.callbackPriority=d,c.callbackNode=m,d}return y!==null&&y!==null&&se(y),c.callbackPriority=2,c.callbackNode=null,2}function a4(c,d){if(fr!==0&&fr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(Ob()&&c.callbackNode!==m)return null;var y=jt;return y=dt(c,c===mn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(zI(c,y,d),o4(c,Ae()),c.callbackNode!=null&&c.callbackNode===m?a4.bind(null,c):null)}function l4(c,d){if(Ob())return null;zI(c,d,!0)}function DQ(){GQ(function(){(en&6)!==0?G(ee,IQ):i4()})}function YC(){if($l===0){var c=qd;c===0&&(c=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),$l=c}return $l}function c4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:U0(""+c)}function u4(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function LQ(c,d,m,y,E){if(d==="submit"&&m&&m.stateNode===E){var T=c4((E[xs]||null).action),A=y.submitter;A&&(d=(d=A[xs]||null)?c4(d.formAction):A.getAttribute("formAction"),d!==null&&(T=d,A=null));var L=new q0("action","action",null,y,E);c.push({event:L,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if($l!==0){var Y=A?u4(E,A):new FormData(E);hC(m,{pending:!0,data:Y,method:E.method,action:T},null,Y)}}else typeof T=="function"&&(L.preventDefault(),Y=A?u4(E,A):new FormData(E),hC(m,{pending:!0,data:Y,method:E.method,action:T},T,Y))},currentTarget:E}]})}}for(var WC=0;WC<ME.length;WC++){var KC=ME[WC],jQ=KC.toLowerCase(),PQ=KC[0].toUpperCase()+KC.slice(1);ro(jQ,"on"+PQ)}ro(UO,"onAnimationEnd"),ro(zO,"onAnimationIteration"),ro($O,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(JK,"onTransitionRun"),ro(eQ,"onTransitionStart"),ro(tQ,"onTransitionCancel"),ro(VO,"onTransitionEnd"),Od("onMouseEnter",["mouseout","mouseover"]),Od("onMouseLeave",["mouseout","mouseover"]),Od("onPointerEnter",["pointerout","pointerover"]),Od("onPointerLeave",["pointerout","pointerover"]),iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),iu("onBeforeInput",["compositionend","keypress","textInput","paste"]),iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qp));function d4(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var y=c[m],E=y.event;y=y.listeners;e:{var T=void 0;if(d)for(var A=y.length-1;0<=A;A--){var L=y[A],Y=L.instance,le=L.currentTarget;if(L=L.listener,Y!==T&&E.isPropagationStopped())break e;T=L,E.currentTarget=le;try{T(E)}catch(xe){W0(xe)}E.currentTarget=null,T=Y}else for(A=0;A<y.length;A++){if(L=y[A],Y=L.instance,le=L.currentTarget,L=L.listener,Y!==T&&E.isPropagationStopped())break e;T=L,E.currentTarget=le;try{T(E)}catch(xe){W0(xe)}E.currentTarget=null,T=Y}}}}function It(c,d){var m=d[lE];m===void 0&&(m=d[lE]=new Set);var y=c+"__bubble";m.has(y)||(f4(d,c,2,!1),m.add(y))}function QC(c,d,m){var y=0;d&&(y|=4),f4(m,c,y,d)}var Db="_reactListening"+Math.random().toString(36).slice(2);function XC(c){if(!c[Db]){c[Db]=!0,iO.forEach(function(m){m!=="selectionchange"&&(BQ.has(m)||QC(m,!1,c),QC(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Db]||(d[Db]=!0,QC("selectionchange",!1,d))}}function f4(c,d,m,y){switch(U4(d)){case 2:var E=fX;break;case 8:E=hX;break;default:E=fS}m=E.bind(null,d,m,c),E=void 0,!bE||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),y?E!==void 0?c.addEventListener(d,m,{capture:!0,passive:E}):c.addEventListener(d,m,!0):E!==void 0?c.addEventListener(d,m,{passive:E}):c.addEventListener(d,m,!1)}function ZC(c,d,m,y,E){var T=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var A=y.tag;if(A===3||A===4){var L=y.stateNode.containerInfo;if(L===E)break;if(A===4)for(A=y.return;A!==null;){var Y=A.tag;if((Y===3||Y===4)&&A.stateNode.containerInfo===E)return;A=A.return}for(;L!==null;){if(A=Nd(L),A===null)return;if(Y=A.tag,Y===5||Y===6||Y===26||Y===27){y=T=A;continue e}L=L.parentNode}}y=y.return}bO(function(){var le=T,xe=mE(m),Ce=[];e:{var fe=qO.get(c);if(fe!==void 0){var me=q0,Ve=c;switch(c){case"keypress":if($0(m)===0)break e;case"keydown":case"keyup":me=OK;break;case"focusin":Ve="focus",me=wE;break;case"focusout":Ve="blur",me=wE;break;case"beforeblur":case"afterblur":me=wE;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=xO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=vK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=DK;break;case UO:case zO:case $O:me=EK;break;case VO:me=jK;break;case"scroll":case"scrollend":me=bK;break;case"wheel":me=BK;break;case"copy":case"cut":case"paste":me=SK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=EO;break;case"toggle":case"beforetoggle":me=FK}var ct=(d&4)!==0,un=!ct&&(c==="scroll"||c==="scrollend"),re=ct?fe!==null?fe+"Capture":null:fe;ct=[];for(var Z=le,ae;Z!==null;){var Ee=Z;if(ae=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ae===null||re===null||(Ee=hp(Z,re),Ee!=null&&ct.push(Gp(Z,Ee,ae))),un)break;Z=Z.return}0<ct.length&&(fe=new me(fe,Ve,null,m,xe),Ce.push({event:fe,listeners:ct}))}}if((d&7)===0){e:{if(fe=c==="mouseover"||c==="pointerover",me=c==="mouseout"||c==="pointerout",fe&&m!==pE&&(Ve=m.relatedTarget||m.fromElement)&&(Nd(Ve)||Ve[_d]))break e;if((me||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Ve=m.relatedTarget||m.toElement,me=le,Ve=Ve?Nd(Ve):null,Ve!==null&&(un=i(Ve),ct=Ve.tag,Ve!==un||ct!==5&&ct!==27&&ct!==6)&&(Ve=null)):(me=null,Ve=le),me!==Ve)){if(ct=xO,Ee="onMouseLeave",re="onMouseEnter",Z="mouse",(c==="pointerout"||c==="pointerover")&&(ct=EO,Ee="onPointerLeave",re="onPointerEnter",Z="pointer"),un=me==null?fe:fp(me),ae=Ve==null?fe:fp(Ve),fe=new ct(Ee,Z+"leave",me,m,xe),fe.target=un,fe.relatedTarget=ae,Ee=null,Nd(xe)===le&&(ct=new ct(re,Z+"enter",Ve,m,xe),ct.target=ae,ct.relatedTarget=un,Ee=ct),un=Ee,me&&Ve)t:{for(ct=HQ,re=me,Z=Ve,ae=0,Ee=re;Ee;Ee=ct(Ee))ae++;Ee=0;for(var tt=Z;tt;tt=ct(tt))Ee++;for(;0<ae-Ee;)re=ct(re),ae--;for(;0<Ee-ae;)Z=ct(Z),Ee--;for(;ae--;){if(re===Z||Z!==null&&re===Z.alternate){ct=re;break t}re=ct(re),Z=ct(Z)}ct=null}else ct=null;me!==null&&h4(Ce,fe,me,ct,!1),Ve!==null&&un!==null&&h4(Ce,un,Ve,ct,!0)}}e:{if(fe=le?fp(le):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Kt=MO;else if(NO(fe))if(OO)Kt=QK;else{Kt=WK;var We=YK}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?le&&hE(le.elementType)&&(Kt=MO):Kt=KK;if(Kt&&(Kt=Kt(c,le))){AO(Ce,Kt,m,xe);break e}We&&We(c,fe,le),c==="focusout"&&le&&fe.type==="number"&&le.memoizedProps.value!=null&&fE(fe,"number",fe.value)}switch(We=le?fp(le):window,c){case"focusin":(NO(We)||We.contentEditable==="true")&&(Pd=We,_E=le,wp=null);break;case"focusout":wp=_E=Pd=null;break;case"mousedown":NE=!0;break;case"contextmenu":case"mouseup":case"dragend":NE=!1,HO(Ce,m,xe);break;case"selectionchange":if(ZK)break;case"keydown":case"keyup":HO(Ce,m,xe)}var xt;if(CE)e:{switch(c){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else jd?kO(c,m)&&(Pt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Pt="onCompositionStart");Pt&&(CO&&m.locale!=="ko"&&(jd||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&jd&&(xt=yO()):(_l=xe,yE="value"in _l?_l.value:_l.textContent,jd=!0)),We=Lb(le,Pt),0<We.length&&(Pt=new wO(Pt,c,null,m,xe),Ce.push({event:Pt,listeners:We}),xt?Pt.data=xt:(xt=_O(m),xt!==null&&(Pt.data=xt)))),(xt=zK?$K(c,m):VK(c,m))&&(Pt=Lb(le,"onBeforeInput"),0<Pt.length&&(We=new wO("onBeforeInput","beforeinput",null,m,xe),Ce.push({event:We,listeners:Pt}),We.data=xt)),LQ(Ce,c,le,m,xe)}d4(Ce,d)})}function Gp(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Lb(c,d){for(var m=d+"Capture",y=[];c!==null;){var E=c,T=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||T===null||(E=hp(c,m),E!=null&&y.unshift(Gp(c,E,T)),E=hp(c,d),E!=null&&y.push(Gp(c,E,T))),c.tag===3)return y;c=c.return}return[]}function HQ(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function h4(c,d,m,y,E){for(var T=d._reactName,A=[];m!==null&&m!==y;){var L=m,Y=L.alternate,le=L.stateNode;if(L=L.tag,Y!==null&&Y===y)break;L!==5&&L!==26&&L!==27||le===null||(Y=le,E?(le=hp(m,T),le!=null&&A.unshift(Gp(m,le,Y))):E||(le=hp(m,T),le!=null&&A.push(Gp(m,le,Y)))),m=m.return}A.length!==0&&c.push({event:d,listeners:A})}var FQ=/\r\n?/g,UQ=/\u0000|\uFFFD/g;function p4(c){return(typeof c=="string"?c:""+c).replace(FQ,`
`).replace(UQ,"")}function m4(c,d){return d=p4(d),p4(c)===d}function cn(c,d,m,y,E,T){switch(m){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Id(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Id(c,""+y);break;case"className":H0(c,"class",y);break;case"tabIndex":H0(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":H0(c,m,y);break;case"style":mO(c,y,T);break;case"data":if(d!=="object"){H0(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=U0(""+y),c.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(d!=="input"&&cn(c,d,"name",E.name,E,null),cn(c,d,"formEncType",E.formEncType,E,null),cn(c,d,"formMethod",E.formMethod,E,null),cn(c,d,"formTarget",E.formTarget,E,null)):(cn(c,d,"encType",E.encType,E,null),cn(c,d,"method",E.method,E,null),cn(c,d,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=U0(""+y),c.setAttribute(m,y);break;case"onClick":y!=null&&(c.onclick=Ta);break;case"onScroll":y!=null&&It("scroll",c);break;case"onScrollEnd":y!=null&&It("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}m=U0(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""+y):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":y===!0?c.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,y):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(m,y):c.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(m):c.setAttribute(m,y);break;case"popover":It("beforetoggle",c),It("toggle",c),B0(c,"popover",y);break;case"xlinkActuate":Sa(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Sa(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Sa(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Sa(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Sa(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Sa(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Sa(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Sa(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Sa(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":B0(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=mK.get(m)||m,B0(c,m,y))}}function JC(c,d,m,y,E,T){switch(m){case"style":mO(c,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof y=="string"?Id(c,y):(typeof y=="number"||typeof y=="bigint")&&Id(c,""+y);break;case"onScroll":y!=null&&It("scroll",c);break;case"onScrollEnd":y!=null&&It("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oO.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),d=m.slice(2,E?m.length-7:void 0),T=c[xs]||null,T=T!=null?T[m]:null,typeof T=="function"&&c.removeEventListener(d,T,E),typeof y=="function")){typeof T!="function"&&T!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,y,E);break e}m in c?c[m]=y:y===!0?c.setAttribute(m,""):B0(c,m,y)}}}function Lr(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",c),It("load",c);var y=!1,E=!1,T;for(T in m)if(m.hasOwnProperty(T)){var A=m[T];if(A!=null)switch(T){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:cn(c,d,T,A,m,null)}}E&&cn(c,d,"srcSet",m.srcSet,m,null),y&&cn(c,d,"src",m.src,m,null);return;case"input":It("invalid",c);var L=T=A=E=null,Y=null,le=null;for(y in m)if(m.hasOwnProperty(y)){var xe=m[y];if(xe!=null)switch(y){case"name":E=xe;break;case"type":A=xe;break;case"checked":Y=xe;break;case"defaultChecked":le=xe;break;case"value":T=xe;break;case"defaultValue":L=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,d));break;default:cn(c,d,y,xe,m,null)}}dO(c,T,L,Y,le,A,E,!1);return;case"select":It("invalid",c),y=A=T=null;for(E in m)if(m.hasOwnProperty(E)&&(L=m[E],L!=null))switch(E){case"value":T=L;break;case"defaultValue":A=L;break;case"multiple":y=L;default:cn(c,d,E,L,m,null)}d=T,m=A,c.multiple=!!y,d!=null?Rd(c,!!y,d,!1):m!=null&&Rd(c,!!y,m,!0);return;case"textarea":It("invalid",c),T=E=y=null;for(A in m)if(m.hasOwnProperty(A)&&(L=m[A],L!=null))switch(A){case"value":y=L;break;case"defaultValue":E=L;break;case"children":T=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:cn(c,d,A,L,m,null)}hO(c,y,E,T);return;case"option":for(Y in m)if(m.hasOwnProperty(Y)&&(y=m[Y],y!=null))switch(Y){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:cn(c,d,Y,y,m,null)}return;case"dialog":It("beforetoggle",c),It("toggle",c),It("cancel",c),It("close",c);break;case"iframe":case"object":It("load",c);break;case"video":case"audio":for(y=0;y<qp.length;y++)It(qp[y],c);break;case"image":It("error",c),It("load",c);break;case"details":It("toggle",c);break;case"embed":case"source":case"link":It("error",c),It("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in m)if(m.hasOwnProperty(le)&&(y=m[le],y!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:cn(c,d,le,y,m,null)}return;default:if(hE(d)){for(xe in m)m.hasOwnProperty(xe)&&(y=m[xe],y!==void 0&&JC(c,d,xe,y,m,void 0));return}}for(L in m)m.hasOwnProperty(L)&&(y=m[L],y!=null&&cn(c,d,L,y,m,null))}function zQ(c,d,m,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,T=null,A=null,L=null,Y=null,le=null,xe=null;for(me in m){var Ce=m[me];if(m.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Y=Ce;default:y.hasOwnProperty(me)||cn(c,d,me,null,y,Ce)}}for(var fe in y){var me=y[fe];if(Ce=m[fe],y.hasOwnProperty(fe)&&(me!=null||Ce!=null))switch(fe){case"type":T=me;break;case"name":E=me;break;case"checked":le=me;break;case"defaultChecked":xe=me;break;case"value":A=me;break;case"defaultValue":L=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,d));break;default:me!==Ce&&cn(c,d,fe,me,y,Ce)}}dE(c,A,L,Y,le,xe,T,E);return;case"select":me=A=L=fe=null;for(T in m)if(Y=m[T],m.hasOwnProperty(T)&&Y!=null)switch(T){case"value":break;case"multiple":me=Y;default:y.hasOwnProperty(T)||cn(c,d,T,null,y,Y)}for(E in y)if(T=y[E],Y=m[E],y.hasOwnProperty(E)&&(T!=null||Y!=null))switch(E){case"value":fe=T;break;case"defaultValue":L=T;break;case"multiple":A=T;default:T!==Y&&cn(c,d,E,T,y,Y)}d=L,m=A,y=me,fe!=null?Rd(c,!!m,fe,!1):!!y!=!!m&&(d!=null?Rd(c,!!m,d,!0):Rd(c,!!m,m?[]:"",!1));return;case"textarea":me=fe=null;for(L in m)if(E=m[L],m.hasOwnProperty(L)&&E!=null&&!y.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:cn(c,d,L,null,y,E)}for(A in y)if(E=y[A],T=m[A],y.hasOwnProperty(A)&&(E!=null||T!=null))switch(A){case"value":fe=E;break;case"defaultValue":me=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==T&&cn(c,d,A,E,y,T)}fO(c,fe,me);return;case"option":for(var Ve in m)if(fe=m[Ve],m.hasOwnProperty(Ve)&&fe!=null&&!y.hasOwnProperty(Ve))switch(Ve){case"selected":c.selected=!1;break;default:cn(c,d,Ve,null,y,fe)}for(Y in y)if(fe=y[Y],me=m[Y],y.hasOwnProperty(Y)&&fe!==me&&(fe!=null||me!=null))switch(Y){case"selected":c.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:cn(c,d,Y,fe,y,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in m)fe=m[ct],m.hasOwnProperty(ct)&&fe!=null&&!y.hasOwnProperty(ct)&&cn(c,d,ct,null,y,fe);for(le in y)if(fe=y[le],me=m[le],y.hasOwnProperty(le)&&fe!==me&&(fe!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,d));break;default:cn(c,d,le,fe,y,me)}return;default:if(hE(d)){for(var un in m)fe=m[un],m.hasOwnProperty(un)&&fe!==void 0&&!y.hasOwnProperty(un)&&JC(c,d,un,void 0,y,fe);for(xe in y)fe=y[xe],me=m[xe],!y.hasOwnProperty(xe)||fe===me||fe===void 0&&me===void 0||JC(c,d,xe,fe,y,me);return}}for(var re in m)fe=m[re],m.hasOwnProperty(re)&&fe!=null&&!y.hasOwnProperty(re)&&cn(c,d,re,null,y,fe);for(Ce in y)fe=y[Ce],me=m[Ce],!y.hasOwnProperty(Ce)||fe===me||fe==null&&me==null||cn(c,d,Ce,fe,y,me)}function g4(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $Q(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var E=m[y],T=E.transferSize,A=E.initiatorType,L=E.duration;if(T&&L&&g4(A)){for(A=0,L=E.responseEnd,y+=1;y<m.length;y++){var Y=m[y],le=Y.startTime;if(le>L)break;var xe=Y.transferSize,Ce=Y.initiatorType;xe&&g4(Ce)&&(Y=Y.responseEnd,A+=xe*(Y<L?1:(L-le)/(Y-le)))}if(--y,d+=8*(T+A)/(E.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var eS=null,tS=null;function jb(c){return c.nodeType===9?c:c.ownerDocument}function b4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y4(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function nS(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var rS=null;function VQ(){var c=window.event;return c&&c.type==="popstate"?c===rS?!1:(rS=c,!0):(rS=null,!1)}var v4=typeof setTimeout=="function"?setTimeout:void 0,qQ=typeof clearTimeout=="function"?clearTimeout:void 0,x4=typeof Promise=="function"?Promise:void 0,GQ=typeof queueMicrotask=="function"?queueMicrotask:typeof x4<"u"?function(c){return x4.resolve(null).then(c).catch(YQ)}:v4;function YQ(c){setTimeout(function(){throw c})}function Vl(c){return c==="head"}function w4(c,d){var m=d,y=0;do{var E=m.nextSibling;if(c.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"||m==="/&"){if(y===0){c.removeChild(E),df(d);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")Yp(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,Yp(m);for(var T=m.firstChild;T;){var A=T.nextSibling,L=T.nodeName;T[dp]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&T.rel.toLowerCase()==="stylesheet"||m.removeChild(T),T=A}}else m==="body"&&Yp(c.ownerDocument.body);m=E}while(m);df(d)}function E4(c,d){var m=c;c=0;do{var y=m.nextSibling;if(m.nodeType===1?d?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(d?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=y}while(m)}function sS(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":sS(m),cE(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function WQ(c,d,m,y){for(;c.nodeType===1;){var E=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[dp])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(T=c.getAttribute("rel"),T==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(T!==E.rel||c.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(T=c.getAttribute("src"),(T!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&T&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var T=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===T)return c}else return c;if(c=Mi(c.nextSibling),c===null)break}return null}function KQ(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Mi(c.nextSibling),c===null))return null;return c}function C4(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Mi(c.nextSibling),c===null))return null;return c}function iS(c){return c.data==="$?"||c.data==="$~"}function oS(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function QQ(c,d){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||m.readyState!=="loading")d();else{var y=function(){d(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function Mi(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var aS=null;function S4(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(d===0)return Mi(c.nextSibling);d--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||d++}c=c.nextSibling}return null}function T4(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(d===0)return c;d--}else m!=="/$"&&m!=="/&"||d++}c=c.previousSibling}return null}function k4(c,d,m){switch(d=jb(m),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Yp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);cE(c)}var Oi=new Map,_4=new Set;function Pb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ua=V.d;V.d={f:XQ,r:ZQ,D:JQ,C:eX,L:tX,m:nX,X:sX,S:rX,M:iX};function XQ(){var c=Ua.f(),d=Nb();return c||d}function ZQ(c){var d=Ad(c);d!==null&&d.tag===5&&d.type==="form"?VR(d):Ua.r(c)}var lf=typeof document>"u"?null:document;function N4(c,d,m){var y=lf;if(y&&typeof d=="string"&&d){var E=Ci(d);E='link[rel="'+c+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),_4.has(E)||(_4.add(E),c={rel:c,crossOrigin:m,href:d},y.querySelector(E)===null&&(d=y.createElement("link"),Lr(d,"link",c),xr(d),y.head.appendChild(d)))}}function JQ(c){Ua.D(c),N4("dns-prefetch",c,null)}function eX(c,d){Ua.C(c,d),N4("preconnect",c,d)}function tX(c,d,m){Ua.L(c,d,m);var y=lf;if(y&&c&&d){var E='link[rel="preload"][as="'+Ci(d)+'"]';d==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Ci(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Ci(m.imageSizes)+'"]')):E+='[href="'+Ci(c)+'"]';var T=E;switch(d){case"style":T=cf(c);break;case"script":T=uf(c)}Oi.has(T)||(c=h({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),Oi.set(T,c),y.querySelector(E)!==null||d==="style"&&y.querySelector(Wp(T))||d==="script"&&y.querySelector(Kp(T))||(d=y.createElement("link"),Lr(d,"link",c),xr(d),y.head.appendChild(d)))}}function nX(c,d){Ua.m(c,d);var m=lf;if(m&&c){var y=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+Ci(y)+'"][href="'+Ci(c)+'"]',T=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=uf(c)}if(!Oi.has(T)&&(c=h({rel:"modulepreload",href:c},d),Oi.set(T,c),m.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Kp(T)))return}y=m.createElement("link"),Lr(y,"link",c),xr(y),m.head.appendChild(y)}}}function rX(c,d,m){Ua.S(c,d,m);var y=lf;if(y&&c){var E=Md(y).hoistableStyles,T=cf(c);d=d||"default";var A=E.get(T);if(!A){var L={loading:0,preload:null};if(A=y.querySelector(Wp(T)))L.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},m),(m=Oi.get(T))&&lS(c,m);var Y=A=y.createElement("link");xr(Y),Lr(Y,"link",c),Y._p=new Promise(function(le,xe){Y.onload=le,Y.onerror=xe}),Y.addEventListener("load",function(){L.loading|=1}),Y.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Bb(A,d,y)}A={type:"stylesheet",instance:A,count:1,state:L},E.set(T,A)}}}function sX(c,d){Ua.X(c,d);var m=lf;if(m&&c){var y=Md(m).hoistableScripts,E=uf(c),T=y.get(E);T||(T=m.querySelector(Kp(E)),T||(c=h({src:c,async:!0},d),(d=Oi.get(E))&&cS(c,d),T=m.createElement("script"),xr(T),Lr(T,"link",c),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(E,T))}}function iX(c,d){Ua.M(c,d);var m=lf;if(m&&c){var y=Md(m).hoistableScripts,E=uf(c),T=y.get(E);T||(T=m.querySelector(Kp(E)),T||(c=h({src:c,async:!0,type:"module"},d),(d=Oi.get(E))&&cS(c,d),T=m.createElement("script"),xr(T),Lr(T,"link",c),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(E,T))}}function A4(c,d,m,y){var E=(E=de.current)?Pb(E):null;if(!E)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=cf(m.href),m=Md(E).hoistableStyles,y=m.get(d),y||(y={type:"style",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=cf(m.href);var T=Md(E).hoistableStyles,A=T.get(c);if(A||(E=E.ownerDocument||E,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(c,A),(T=E.querySelector(Wp(c)))&&!T._p&&(A.instance=T,A.state.loading=5),Oi.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Oi.set(c,m),T||oX(E,c,m,A.state))),d&&y===null)throw Error(r(528,""));return A}if(d&&y!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=uf(m),m=Md(E).hoistableScripts,y=m.get(d),y||(y={type:"script",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function cf(c){return'href="'+Ci(c)+'"'}function Wp(c){return'link[rel="stylesheet"]['+c+"]"}function M4(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function oX(c,d,m,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Lr(d,"link",m),xr(d),c.head.appendChild(d))}function uf(c){return'[src="'+Ci(c)+'"]'}function Kp(c){return"script[async]"+c}function O4(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+Ci(m.href)+'"]');if(y)return d.instance=y,xr(y),y;var E=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),xr(y),Lr(y,"style",E),Bb(y,m.precedence,c),d.instance=y;case"stylesheet":E=cf(m.href);var T=c.querySelector(Wp(E));if(T)return d.state.loading|=4,d.instance=T,xr(T),T;y=M4(m),(E=Oi.get(E))&&lS(y,E),T=(c.ownerDocument||c).createElement("link"),xr(T);var A=T;return A._p=new Promise(function(L,Y){A.onload=L,A.onerror=Y}),Lr(T,"link",y),d.state.loading|=4,Bb(T,m.precedence,c),d.instance=T;case"script":return T=uf(m.src),(E=c.querySelector(Kp(T)))?(d.instance=E,xr(E),E):(y=m,(E=Oi.get(T))&&(y=h({},m),cS(y,E)),c=c.ownerDocument||c,E=c.createElement("script"),xr(E),Lr(E,"link",y),c.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Bb(y,m.precedence,c));return d.instance}function Bb(c,d,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,T=E,A=0;A<y.length;A++){var L=y[A];if(L.dataset.precedence===d)T=L;else if(T!==E)break}T?T.parentNode.insertBefore(c,T.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function lS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function cS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Hb=null;function R4(c,d,m){if(Hb===null){var y=new Map,E=Hb=new Map;E.set(m,y)}else E=Hb,y=E.get(m),y||(y=new Map,E.set(m,y));if(y.has(c))return y;for(y.set(c,null),m=m.getElementsByTagName(c),E=0;E<m.length;E++){var T=m[E];if(!(T[dp]||T[Or]||c==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var A=T.getAttribute(d)||"";A=c+A;var L=y.get(A);L?L.push(T):y.set(A,[T])}}return y}function I4(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function aX(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function D4(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function lX(c,d,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var E=cf(y.href),T=d.querySelector(Wp(E));if(T){d=T._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=Fb.bind(c),d.then(c,c)),m.state.loading|=4,m.instance=T,xr(T);return}T=d.ownerDocument||d,y=M4(y),(E=Oi.get(E))&&lS(y,E),T=T.createElement("link"),xr(T);var A=T;A._p=new Promise(function(L,Y){A.onload=L,A.onerror=Y}),Lr(T,"link",y),m.instance=T}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=Fb.bind(c),d.addEventListener("load",m),d.addEventListener("error",m))}}var uS=0;function cX(c,d){return c.stylesheets&&c.count===0&&zb(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var y=setTimeout(function(){if(c.stylesheets&&zb(c,c.stylesheets),c.unsuspend){var T=c.unsuspend;c.unsuspend=null,T()}},6e4+d);0<c.imgBytes&&uS===0&&(uS=62500*$Q());var E=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&zb(c,c.stylesheets),c.unsuspend)){var T=c.unsuspend;c.unsuspend=null,T()}},(c.imgBytes>uS?50:800)+d);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(E)}}:null}function Fb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Ub=null;function zb(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Ub=new Map,d.forEach(uX,c),Ub=null,Fb.call(c))}function uX(c,d){if(!(d.state.loading&4)){var m=Ub.get(c);if(m)var y=m.get(null);else{m=new Map,Ub.set(c,m);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<E.length;T++){var A=E[T];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(m.set(A.dataset.precedence,A),y=A)}y&&m.set(null,y)}E=d.instance,A=E.getAttribute("data-precedence"),T=m.get(A)||y,T===y&&m.set(null,E),m.set(A,E),this.count++,y=Fb.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),T?T.parentNode.insertBefore(E,T.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),d.state.loading|=4}}var Qp={$$typeof:N,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function dX(c,d,m,y,E,T,A,L,Y){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.hiddenUpdates=Tl(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=T,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function L4(c,d,m,y,E,T,A,L,Y,le,xe,Ce){return c=new dX(c,d,m,A,Y,le,xe,Ce,L),d=1,T===!0&&(d|=24),T=Xs(3,null,null,d),c.current=T,T.stateNode=c,d=$E(),d.refCount++,c.pooledCache=d,d.refCount++,T.memoizedState={element:y,isDehydrated:m,cache:d},YE(T),c}function j4(c){return c?(c=Fd,c):Fd}function P4(c,d,m,y,E,T){E=j4(E),y.context===null?y.context=E:y.pendingContext=E,y=Il(d),y.payload={element:m},T=T===void 0?null:T,T!==null&&(y.callback=T),m=Dl(c,y,d),m!==null&&(ks(m,c,d),Np(m,c,d))}function B4(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function dS(c,d){B4(c,d),(c=c.alternate)&&B4(c,d)}function H4(c){if(c.tag===13||c.tag===31){var d=cu(c,67108864);d!==null&&ks(d,c,67108864),dS(c,67108864)}}function F4(c){if(c.tag===13||c.tag===31){var d=ni();d=kd(d);var m=cu(c,d);m!==null&&ks(m,c,d),dS(c,d)}}var $b=!0;function fX(c,d,m,y){var E=F.T;F.T=null;var T=V.p;try{V.p=2,fS(c,d,m,y)}finally{V.p=T,F.T=E}}function hX(c,d,m,y){var E=F.T;F.T=null;var T=V.p;try{V.p=8,fS(c,d,m,y)}finally{V.p=T,F.T=E}}function fS(c,d,m,y){if($b){var E=hS(y);if(E===null)ZC(c,d,y,Vb,m),z4(c,y);else if(mX(E,c,d,m,y))y.stopPropagation();else if(z4(c,y),d&4&&-1<pX.indexOf(c)){for(;E!==null;){var T=Ad(E);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var A=Ks(T.pendingLanes);if(A!==0){var L=T;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var Y=1<<31-Ht(A);L.entanglements[1]|=Y,A&=~Y}qo(T),(en&6)===0&&(kb=Ae()+500,Vp(0))}}break;case 31:case 13:L=cu(T,2),L!==null&&ks(L,T,2),Nb(),dS(T,2)}if(T=hS(y),T===null&&ZC(c,d,y,Vb,m),T===E)break;E=T}E!==null&&y.stopPropagation()}else ZC(c,d,y,null,m)}}function hS(c){return c=mE(c),pS(c)}var Vb=null;function pS(c){if(Vb=null,c=Nd(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=o(d),c!==null)return c;c=null}else if(m===31){if(c=a(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Vb=c,null}function U4(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case ee:return 2;case be:return 8;case Pe:case Xe:return 32;case lt:return 268435456;default:return 32}default:return 32}}var mS=!1,ql=null,Gl=null,Yl=null,Xp=new Map,Zp=new Map,Wl=[],pX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z4(c,d){switch(c){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Yl=null;break;case"pointerover":case"pointerout":Xp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zp.delete(d.pointerId)}}function Jp(c,d,m,y,E,T){return c===null||c.nativeEvent!==T?(c={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:T,targetContainers:[E]},d!==null&&(d=Ad(d),d!==null&&H4(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function mX(c,d,m,y,E){switch(d){case"focusin":return ql=Jp(ql,c,d,m,y,E),!0;case"dragenter":return Gl=Jp(Gl,c,d,m,y,E),!0;case"mouseover":return Yl=Jp(Yl,c,d,m,y,E),!0;case"pointerover":var T=E.pointerId;return Xp.set(T,Jp(Xp.get(T)||null,c,d,m,y,E)),!0;case"gotpointercapture":return T=E.pointerId,Zp.set(T,Jp(Zp.get(T)||null,c,d,m,y,E)),!0}return!1}function $4(c){var d=Nd(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){c.blockedOn=d,rO(c.priority,function(){F4(m)});return}}else if(d===31){if(d=a(m),d!==null){c.blockedOn=d,rO(c.priority,function(){F4(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function qb(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=hS(c.nativeEvent);if(m===null){m=c.nativeEvent;var y=new m.constructor(m.type,m);pE=y,m.target.dispatchEvent(y),pE=null}else return d=Ad(m),d!==null&&H4(d),c.blockedOn=m,!1;d.shift()}return!0}function V4(c,d,m){qb(c)&&m.delete(d)}function gX(){mS=!1,ql!==null&&qb(ql)&&(ql=null),Gl!==null&&qb(Gl)&&(Gl=null),Yl!==null&&qb(Yl)&&(Yl=null),Xp.forEach(V4),Zp.forEach(V4)}function Gb(c,d){c.blockedOn===d&&(c.blockedOn=null,mS||(mS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gX)))}var Yb=null;function q4(c){Yb!==c&&(Yb=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yb===c&&(Yb=null);for(var d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],E=c[d+2];if(typeof y!="function"){if(pS(y||m)===null)continue;break}var T=Ad(m);T!==null&&(c.splice(d,3),d-=3,hC(T,{pending:!0,data:E,method:m.method,action:y},y,E))}}))}function df(c){function d(Y){return Gb(Y,c)}ql!==null&&Gb(ql,c),Gl!==null&&Gb(Gl,c),Yl!==null&&Gb(Yl,c),Xp.forEach(d),Zp.forEach(d);for(var m=0;m<Wl.length;m++){var y=Wl[m];y.blockedOn===c&&(y.blockedOn=null)}for(;0<Wl.length&&(m=Wl[0],m.blockedOn===null);)$4(m),m.blockedOn===null&&Wl.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var E=m[y],T=m[y+1],A=E[xs]||null;if(typeof T=="function")A||q4(m);else if(A){var L=null;if(T&&T.hasAttribute("formAction")){if(E=T,A=T[xs]||null)L=A.formAction;else if(pS(E)!==null)continue}else L=A.action;typeof L=="function"?m[y+1]=L:(m.splice(y,3),y-=3),q4(m)}}}function G4(){function c(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(A){return E=A})},focusReset:"manual",scroll:"manual"})}function d(){E!==null&&(E(),E=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,E=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),E!==null&&(E(),E=null)}}}function gS(c){this._internalRoot=c}Wb.prototype.render=gS.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,y=ni();P4(m,y,c,d,null,null)},Wb.prototype.unmount=gS.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;P4(c.current,2,null,c,null,null),Nb(),d[_d]=null}};function Wb(c){this._internalRoot=c}Wb.prototype.unstable_scheduleHydration=function(c){if(c){var d=aE();c={blockedOn:null,target:c,priority:d};for(var m=0;m<Wl.length&&d!==0&&d<Wl[m].priority;m++);Wl.splice(m,0,c),m===0&&$4(c)}};var Y4=t.version;if(Y4!=="19.2.0")throw Error(r(527,Y4,"19.2.0"));V.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var bX={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{xn=Kb.inject(bX),hn=Kb}catch{}}return em.createRoot=function(c,d){if(!s(c))throw Error(r(299));var m=!1,y="",E=eI,T=tI,A=nI;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=L4(c,1,!1,null,null,m,y,null,E,T,A,G4),c[_d]=d.current,XC(c),new gS(d)},em.hydrateRoot=function(c,d,m){if(!s(c))throw Error(r(299));var y=!1,E="",T=eI,A=tI,L=nI,Y=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(A=m.onCaughtError),m.onRecoverableError!==void 0&&(L=m.onRecoverableError),m.formState!==void 0&&(Y=m.formState)),d=L4(c,1,!0,d,m??null,y,E,Y,T,A,L,G4),d.context=j4(null),m=d.current,y=ni(),y=kd(y),E=Il(y),E.callback=null,Dl(m,E,y),m=y,d.current.lanes=m,jn(d,m),qo(d),c[_d]=d.current,XC(c),new Wb(d)},em.version="19.2.0",em}var eD;function uZ(){if(eD)return bS.exports;eD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bS.exports=cZ(),bS.exports}var dZ=uZ();const Qe={CLIENT_HOME:"/",CLIENT_BLOG:"/blog",CLIENT_BLOG_POST:"/blog/post/:postId",CLIENT_SERVICES:"/servicios",CLIENT_QUIZ:"/quiz",CLIENT_ABOUT:"/nosotros",ADMIN_LOGIN:"/login",ADMIN_DASHBOARD:"/panel-admin",ADMIN_POST_LIST:"/panel-admin/posts",ADMIN_POST_NEW:"/panel-admin/posts/formulario",ADMIN_POST_EDIT:"/panel-admin/posts/formulario/:postId",ADMIN_TESTIMONIAL_LIST:"/panel-admin/testimonios",ADMIN_TESTIMONIAL_NEW:"/panel-admin/testimonios/formulario",ADMIN_TESTIMONIAL_EDIT:"/panel-admin/testimonios/formulario/:testimonialId",ADMIN_REQUEST_LIST:"/panel-admin/solicitudes"},tD={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3031/api",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6c3JjempyYWFzYXVmbHNzZHFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0ODc1NzksImV4cCI6MjA3NDA2MzU3OX0.CvAO78HZABf7im6zEd6fRG2bCuOI3dKOJLpUUd2ytCQ",VITE_SUPABASE_BUCKET:"silk-public",VITE_SUPABASE_URL:"https://rzsrczjraasauflssdqq.supabase.co"},tg=new Map,Xb=e=>{const t=tg.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},fZ=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=tg.get(n.name);if(r)return{type:"tracked",store:e,...r};const s={connection:t.connect(n),stores:{}};return tg.set(n.name,s),{type:"tracked",store:e,...s}},hZ=(e,t)=>{if(t===void 0)return;const n=tg.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&tg.delete(e))},pZ=e=>{var t,n;if(!e)return;const r=e.split(`
`),s=r.findIndex(o=>o.includes("api.setState"));if(s<0)return;const i=((t=r[s+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},mZ=(e,t={})=>(n,r,s)=>{const{enabled:i,anonymousActionType:o,store:a,...l}=t;let u;try{u=(i??(tD?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,s);const{connection:f,...h}=fZ(a,u,l);let g=!0;s.setState=((x,w,S)=>{const _=n(x,w);if(!g)return _;const N=S===void 0?{type:o||pZ(new Error().stack)||"anonymous"}:typeof S=="string"?{type:S}:S;return a===void 0?(f?.send(N,r()),_):(f?.send({...N,type:`${a}/${N.type}`},{...Xb(l.name),[a]:s.getState()}),_)}),s.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),hZ(l.name,a)}};const b=(...x)=>{const w=g;g=!1,n(...x),g=w},v=e(s.setState,r,s);if(h.type==="untracked"?f?.init(v):(h.stores[h.store]=s,f?.init(Object.fromEntries(Object.entries(h.stores).map(([x,w])=>[x,x===h.store?v:w.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let x=!1;const w=s.dispatch;s.dispatch=(...S)=>{(tD?"production":void 0)!=="production"&&S[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),w(...S)}}return f.subscribe(x=>{var w;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return xS(x.payload,S=>{if(S.type==="__setState"){if(a===void 0){b(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=S.state[a];if(_==null)return;JSON.stringify(s.getState())!==JSON.stringify(_)&&b(_);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(S)});case"DISPATCH":switch(x.payload.type){case"RESET":return b(v),a===void 0?f?.init(s.getState()):f?.init(Xb(l.name));case"COMMIT":if(a===void 0){f?.init(s.getState());return}return f?.init(Xb(l.name));case"ROLLBACK":return xS(x.state,S=>{if(a===void 0){b(S),f?.init(s.getState());return}b(S[a]),f?.init(Xb(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return xS(x.state,S=>{if(a===void 0){b(S);return}JSON.stringify(s.getState())!==JSON.stringify(S[a])&&b(S[a])});case"IMPORT_STATE":{const{nextLiftedState:S}=x.payload,_=(w=S.computedStates.slice(-1)[0])==null?void 0:w.state;if(!_)return;b(a===void 0?_:_[a]),f?.send(null,S);return}case"PAUSE_RECORDING":return g=!g}return}}),v},gZ=mZ,xS=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},bZ={user:null},cx=TX()(gZ(e=>({...bZ,actions:{dispatchUser:t=>e({user:t})}}),{name:"app-store"})),yZ=({children:e})=>cx(n=>n.user)?p.jsx(p.Fragment,{children:e}):p.jsx(k8,{to:Qe.ADMIN_LOGIN,replace:!0}),vZ=()=>{const e=C.useRef(null),[t,n]=C.useState(0);return C.useLayoutEffect(()=>{const r=()=>{e.current&&n(e.current.offsetHeight)};return r(),window.addEventListener("resize",r),window.addEventListener("scroll",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r)}},[e]),{ref:e,height:t}};function N8(e,t){const n=t===Qe.ADMIN_DASHBOARD||t===Qe.CLIENT_HOME;return e===t||!n&&e.startsWith(t)&&e.charAt(t.length)==="/"}function A8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=A8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ao(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=A8(e))&&(r&&(r+=" "),r+=t);return r}const J_="-",xZ=e=>{const t=EZ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(J_);return a[0]===""&&a.length!==1&&a.shift(),M8(a,t)||wZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},M8=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?M8(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(J_);return t.validators.find(({validator:o})=>o(i))?.classGroupId},nD=/^\[(.+)\]$/,wZ=e=>{if(nD.test(e)){const t=nD.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EZ=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)TT(n[s],r,s,t);return r},TT=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:rD(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(CZ(s)){TT(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{TT(o,rD(t,i),n,r)})})},rD=(e,t)=>{let n=e;return t.split(J_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CZ=e=>e.isThemeGetter,SZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kT="!",_T=":",TZ=_T.length,kZ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,l=0,u;for(let v=0;v<s.length;v++){let x=s[v];if(o===0&&a===0){if(x===_T){i.push(s.slice(l,v)),l=v+TZ;continue}if(x==="/"){u=v;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const f=i.length===0?s:s.substring(l),h=_Z(f),g=h!==f,b=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:b}};if(t){const s=t+_T,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},_Z=e=>e.endsWith(kT)?e.substring(0,e.length-1):e.startsWith(kT)?e.substring(1):e,NZ=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},AZ=e=>({cache:SZ(e.cacheSize),parseClassName:kZ(e),sortModifiers:NZ(e),...xZ(e)}),MZ=/\s+/,OZ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(MZ);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:h,modifiers:g,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:x}=n(f);if(h){l=f+(l.length>0?" "+l:l);continue}let w=!!x,S=r(w?v.substring(0,x):v);if(!S){if(!w){l=f+(l.length>0?" "+l:l);continue}if(S=r(v),!S){l=f+(l.length>0?" "+l:l);continue}w=!1}const _=i(g).join(":"),N=b?_+kT:_,M=N+S;if(o.includes(M))continue;o.push(M);const O=s(S,w);for(let R=0;R<O.length;++R){const I=O[R];o.push(N+I)}l=f+(l.length>0?" "+l:l)}return l};function RZ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=O8(t))&&(r&&(r+=" "),r+=n);return r}const O8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=O8(e[r]))&&(n&&(n+=" "),n+=t);return n};function IZ(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((f,h)=>h(f),e());return n=AZ(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=OZ(l,n);return s(l,f),f}return function(){return i(RZ.apply(null,arguments))}}const hr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},R8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,I8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,DZ=/^\d+\/\d+$/,LZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ff=e=>DZ.test(e),_t=e=>!!e&&!Number.isNaN(Number(e)),Ql=e=>!!e&&Number.isInteger(Number(e)),wS=e=>e.endsWith("%")&&_t(e.slice(0,-1)),za=e=>LZ.test(e),FZ=()=>!0,UZ=e=>jZ.test(e)&&!PZ.test(e),D8=()=>!1,zZ=e=>BZ.test(e),$Z=e=>HZ.test(e),VZ=e=>!qe(e)&&!Ge(e),qZ=e=>Ih(e,P8,D8),qe=e=>R8.test(e),Eu=e=>Ih(e,B8,UZ),ES=e=>Ih(e,QZ,_t),sD=e=>Ih(e,L8,D8),GZ=e=>Ih(e,j8,$Z),Zb=e=>Ih(e,H8,zZ),Ge=e=>I8.test(e),tm=e=>Dh(e,B8),YZ=e=>Dh(e,XZ),iD=e=>Dh(e,L8),WZ=e=>Dh(e,P8),KZ=e=>Dh(e,j8),Jb=e=>Dh(e,H8,!0),Ih=(e,t,n)=>{const r=R8.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Dh=(e,t,n=!1)=>{const r=I8.exec(e);return r?r[1]?t(r[1]):n:!1},L8=e=>e==="position"||e==="percentage",j8=e=>e==="image"||e==="url",P8=e=>e==="length"||e==="size"||e==="bg-size",B8=e=>e==="length",QZ=e=>e==="number",XZ=e=>e==="family-name",H8=e=>e==="shadow",ZZ=()=>{const e=hr("color"),t=hr("font"),n=hr("text"),r=hr("font-weight"),s=hr("tracking"),i=hr("leading"),o=hr("breakpoint"),a=hr("container"),l=hr("spacing"),u=hr("radius"),f=hr("shadow"),h=hr("inset-shadow"),g=hr("text-shadow"),b=hr("drop-shadow"),v=hr("blur"),x=hr("perspective"),w=hr("aspect"),S=hr("ease"),_=hr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...M(),Ge,qe],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],j=()=>[Ge,qe,l],U=()=>[ff,"full","auto",...j()],P=()=>[Ql,"none","subgrid",Ge,qe],K=()=>["auto",{span:["full",Ql,Ge,qe]},Ql,Ge,qe],W=()=>[Ql,"auto",Ge,qe],ne=()=>["auto","min","max","fr",Ge,qe],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...j()],V=()=>[ff,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],z=()=>[e,Ge,qe],J=()=>[...M(),iD,sD,{position:[Ge,qe]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Se=()=>["auto","cover","contain",WZ,qZ,{size:[Ge,qe]}],X=()=>[wS,tm,Eu],D=()=>["","none","full",u,Ge,qe],he=()=>["",_t,tm,Eu],ue=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[_t,wS,iD,sD],we=()=>["","none",v,Ge,qe],Me=()=>["none",_t,Ge,qe],Be=()=>["none",_t,Ge,qe],He=()=>[_t,Ge,qe],Te=()=>[ff,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[za],breakpoint:[za],color:[FZ],container:[za],"drop-shadow":[za],ease:["in","out","in-out"],font:[VZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[za],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[za],shadow:[za],spacing:["px",_t],text:[za],"text-shadow":[za],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ff,qe,Ge,w]}],container:["container"],columns:[{columns:[_t,qe,Ge,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Ql,"auto",Ge,qe]}],basis:[{basis:[ff,"full","auto",a,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,ff,"auto","initial","none",qe]}],grow:[{grow:["",_t,Ge,qe]}],shrink:[{shrink:["",_t,Ge,qe]}],order:[{order:[Ql,"first","last","none",Ge,qe]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[a,"screen",...V()]}],"min-w":[{"min-w":[a,"screen","none",...V()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",n,tm,Eu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,ES]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wS,qe]}],"font-family":[{font:[YZ,qe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ge,qe]}],"line-clamp":[{"line-clamp":[_t,"none",Ge,ES]}],leading:[{leading:[i,...j()]}],"list-image":[{"list-image":["none",Ge,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Ge,Eu]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[_t,"auto",Ge,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:Se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ql,Ge,qe],radial:["",Ge,qe],conic:[Ql,Ge,qe]},KZ,GZ]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Ge,qe]}],"outline-w":[{outline:["",_t,tm,Eu]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",f,Jb,Zb]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,Jb,Zb]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[_t,Eu]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,Jb,Zb]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[_t,Ge,qe]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ge,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:Se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,qe]}],filter:[{filter:["","none",Ge,qe]}],blur:[{blur:we()}],brightness:[{brightness:[_t,Ge,qe]}],contrast:[{contrast:[_t,Ge,qe]}],"drop-shadow":[{"drop-shadow":["","none",b,Jb,Zb]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",_t,Ge,qe]}],"hue-rotate":[{"hue-rotate":[_t,Ge,qe]}],invert:[{invert:["",_t,Ge,qe]}],saturate:[{saturate:[_t,Ge,qe]}],sepia:[{sepia:["",_t,Ge,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,qe]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Ge,qe]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Ge,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Ge,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Ge,qe]}],"backdrop-invert":[{"backdrop-invert":["",_t,Ge,qe]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Ge,qe]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Ge,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Ge,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Ge,qe]}],ease:[{ease:["linear","initial",S,Ge,qe]}],delay:[{delay:[_t,Ge,qe]}],animate:[{animate:["none",_,Ge,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ge,qe]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:Be()}],"scale-x":[{"scale-x":Be()}],"scale-y":[{"scale-y":Be()}],"scale-z":[{"scale-z":Be()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Ge,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,qe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[_t,tm,Eu,ES]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JZ=IZ(ZZ);function Ue(...e){return JZ(Ao(e))}function eJ(e,t){const n=C.createContext(t),r=i=>{const{children:o,...a}=i,l=C.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=C.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function xi(e,t=[]){let n=[];function r(i,o){const a=C.createContext(o),l=n.length;n=[...n,o];const u=h=>{const{scope:g,children:b,...v}=h,x=g?.[e]?.[l]||a,w=C.useMemo(()=>v,Object.values(v));return p.jsx(x.Provider,{value:w,children:b})};u.displayName=i+"Provider";function f(h,g){const b=g?.[e]?.[l]||a,v=C.useContext(b);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const l=a?.[e]||i;return C.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,tJ(s,...t)]}function tJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function oD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cl(...e){return t=>{let n=!1;const r=e.map(s=>{const i=oD(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():oD(e[s],null)}}}}function Lt(...e){return C.useCallback(cl(...e),e)}function _c(e){const t=nJ(e),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),l=a.find(rJ);if(l){const u=l.props.children,f=a.map(h=>h===l?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return p.jsx(t,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return p.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var F8=_c("Slot");function nJ(e){const t=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=iJ(s),a=sJ(i,s.props);return s.type!==C.Fragment&&(a.ref=r?cl(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var U8=Symbol("radix.slottable");function z8(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=U8,t}function rJ(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U8}function sJ(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function iJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ux(e){const t=e+"CollectionProvider",[n,r]=xi(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:S}=x,_=ge.useRef(null),N=ge.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:N,collectionRef:_,children:S})};o.displayName=t;const a=e+"CollectionSlot",l=_c(a),u=ge.forwardRef((x,w)=>{const{scope:S,children:_}=x,N=i(a,S),M=Lt(w,N.collectionRef);return p.jsx(l,{ref:M,children:_})});u.displayName=a;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=_c(f),b=ge.forwardRef((x,w)=>{const{scope:S,children:_,...N}=x,M=ge.useRef(null),O=Lt(w,M),R=i(f,S);return ge.useEffect(()=>(R.itemMap.set(M,{ref:M,...N}),()=>void R.itemMap.delete(M))),p.jsx(g,{[h]:"",ref:O,children:_})});b.displayName=f;function v(x){const w=i(e+"CollectionConsumer",x);return ge.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((R,I)=>N.indexOf(R.ref.current)-N.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:b},v,r]}function ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}var zr=globalThis?.document?C.useLayoutEffect:()=>{},oJ=ax[" useInsertionEffect ".trim().toString()]||zr;function wo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=aJ({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const f=C.useRef(e!==void 0);C.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=C.useCallback(f=>{if(a){const h=lJ(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[a,e,i,o]);return[l,u]}function aJ({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),s=C.useRef(n),i=C.useRef(t);return oJ(()=>{i.current=t},[t]),C.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function lJ(e){return typeof e=="function"}var cJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=cJ.reduce((e,t)=>{const n=_c(`Primitive.${t}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $8(e,t){e&&Ki.flushSync(()=>e.dispatchEvent(t))}function uJ(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var $s=e=>{const{present:t,children:n}=e,r=dJ(t),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Lt(r.ref,fJ(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};$s.displayName="Presence";function dJ(e){const[t,n]=C.useState(),r=C.useRef(null),s=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[a,l]=uJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=e1(r.current);i.current=a==="mounted"?u:"none"},[a]),zr(()=>{const u=r.current,f=s.current;if(f!==e){const g=i.current,b=e1(u);e?l("MOUNT"):b==="none"||u?.display==="none"?l("UNMOUNT"):l(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),zr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=b=>{const x=e1(r.current).includes(CSS.escape(b.animationName));if(b.target===t&&x&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=b=>{b.target===t&&(i.current=e1(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function e1(e){return e?.animationName||"none"}function fJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hJ=ax[" useId ".trim().toString()]||(()=>{}),pJ=0;function gr(e){const[t,n]=C.useState(hJ());return zr(()=>{n(r=>r??String(pJ++))},[e]),t?`radix-${t}`:""}var dx="Collapsible",[mJ,V8]=xi(dx),[gJ,eN]=mJ(dx),q8=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,u]=wo({prop:r,defaultProp:s??!1,onChange:o,caller:dx});return p.jsx(gJ,{scope:n,disabled:i,contentId:gr(),open:l,onOpenToggle:C.useCallback(()=>u(f=>!f),[u]),children:p.jsx(rt.div,{"data-state":nN(l),"data-disabled":i?"":void 0,...a,ref:t})})});q8.displayName=dx;var G8="CollapsibleTrigger",Y8=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=eN(G8,n);return p.jsx(rt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":nN(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});Y8.displayName=G8;var tN="CollapsibleContent",W8=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=eN(tN,e.__scopeCollapsible);return p.jsx($s,{present:n||s.open,children:({present:i})=>p.jsx(bJ,{...r,ref:t,present:i})})});W8.displayName=tN;var bJ=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=eN(tN,n),[a,l]=C.useState(r),u=C.useRef(null),f=Lt(t,u),h=C.useRef(0),g=h.current,b=C.useRef(0),v=b.current,x=o.open||a,w=C.useRef(x),S=C.useRef(void 0);return C.useEffect(()=>{const _=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(_)},[]),zr(()=>{const _=u.current;if(_){S.current=S.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const N=_.getBoundingClientRect();h.current=N.height,b.current=N.width,w.current||(_.style.transitionDuration=S.current.transitionDuration,_.style.animationName=S.current.animationName),l(r)}},[o.open,r]),p.jsx(rt.div,{"data-state":nN(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&s})});function nN(e){return e?"open":"closed"}var yJ=q8,vJ=Y8,xJ=W8,wJ=C.createContext(void 0);function fx(e){const t=C.useContext(wJ);return e||t||"ltr"}var Mo="Accordion",EJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[rN,CJ,SJ]=ux(Mo),[hx]=xi(Mo,[SJ,V8]),sN=V8(),K8=ge.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return p.jsx(rN.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?p.jsx(NJ,{...i,ref:t}):p.jsx(_J,{...s,ref:t})})});K8.displayName=Mo;var[Q8,TJ]=hx(Mo),[X8,kJ]=hx(Mo,{collapsible:!1}),_J=ge.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=wo({prop:n,defaultProp:r??"",onChange:s,caller:Mo});return p.jsx(Q8,{scope:e.__scopeAccordion,value:ge.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:ge.useCallback(()=>i&&l(""),[i,l]),children:p.jsx(X8,{scope:e.__scopeAccordion,collapsible:i,children:p.jsx(Z8,{...o,ref:t})})})}),NJ=ge.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=wo({prop:n,defaultProp:r??[],onChange:s,caller:Mo}),l=ge.useCallback(f=>a((h=[])=>[...h,f]),[a]),u=ge.useCallback(f=>a((h=[])=>h.filter(g=>g!==f)),[a]);return p.jsx(Q8,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:p.jsx(X8,{scope:e.__scopeAccordion,collapsible:!0,children:p.jsx(Z8,{...i,ref:t})})})}),[AJ,px]=hx(Mo),Z8=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=ge.useRef(null),l=Lt(a,t),u=CJ(n),h=fx(s)==="ltr",g=ze(e.onKeyDown,b=>{if(!EJ.includes(b.key))return;const v=b.target,x=u().filter(j=>!j.ref.current?.disabled),w=x.findIndex(j=>j.ref.current===v),S=x.length;if(w===-1)return;b.preventDefault();let _=w;const N=0,M=S-1,O=()=>{_=w+1,_>M&&(_=N)},R=()=>{_=w-1,_<N&&(_=M)};switch(b.key){case"Home":_=N;break;case"End":_=M;break;case"ArrowRight":i==="horizontal"&&(h?O():R());break;case"ArrowDown":i==="vertical"&&O();break;case"ArrowLeft":i==="horizontal"&&(h?R():O());break;case"ArrowUp":i==="vertical"&&R();break}const I=_%S;x[I].ref.current?.focus()});return p.jsx(AJ,{scope:n,disabled:r,direction:s,orientation:i,children:p.jsx(rN.Slot,{scope:n,children:p.jsx(rt.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:g})})})}),yy="AccordionItem",[MJ,iN]=hx(yy),J8=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=px(yy,n),o=TJ(yy,n),a=sN(n),l=gr(),u=r&&o.value.includes(r)||!1,f=i.disabled||e.disabled;return p.jsx(MJ,{scope:n,open:u,disabled:f,triggerId:l,children:p.jsx(yJ,{"data-orientation":i.orientation,"data-state":i9(u),...a,...s,ref:t,disabled:f,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});J8.displayName=yy;var e9="AccordionHeader",t9=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=px(Mo,n),i=iN(e9,n);return p.jsx(rt.h3,{"data-orientation":s.orientation,"data-state":i9(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});t9.displayName=e9;var NT="AccordionTrigger",n9=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=px(Mo,n),i=iN(NT,n),o=kJ(NT,n),a=sN(n);return p.jsx(rN.ItemSlot,{scope:n,children:p.jsx(vJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});n9.displayName=NT;var r9="AccordionContent",s9=ge.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=px(Mo,n),i=iN(r9,n),o=sN(n);return p.jsx(xJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});s9.displayName=r9;function i9(e){return e?"open":"closed"}var OJ=K8,RJ=J8,IJ=t9,DJ=n9,LJ=s9;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),aD=e=>{const t=PJ(e);return t.charAt(0).toUpperCase()+t.slice(1)},o9=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),BJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...HJ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:o9("lucide",s),...!i&&!BJ(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,f])=>C.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(FJ,{ref:i,iconNode:t,className:o9(`lucide-${jJ(aD(e))}`,`lucide-${e}`,r),...s}));return n.displayName=aD(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ng=st("arrow-left",UJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$J=st("arrow-right",zJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hd=st("calendar",VJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vy=st("check",qJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mx=st("chevron-down",GJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a9=st("chevron-left",YJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Oo=st("chevron-right",WJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QJ=st("chevron-up",KJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ZJ=st("chevrons-left",XJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],eee=st("chevrons-right",JJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],nee=st("chevrons-up-down",tee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],l9=st("circle-alert",ree);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],c9=st("circle-check-big",see);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],oee=st("circle-dashed",iee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],lee=st("circle-dot",aee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uee=st("circle-x",cee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xy=st("clipboard-list",dee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AT=st("clock",fee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],u9=st("dollar-sign",hee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],oN=st("ellipsis-vertical",pee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gee=st("eye",mee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]],yee=st("file-plus-2",bee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pu=st("file-text",vee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],wee=st("heart",xee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cee=st("history",Eee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Tee=st("house",See);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_ee=st("info",kee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],d9=st("loader-circle",Nee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],Mee=st("lock-keyhole",Aee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ree=st("log-in",Oee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dee=st("log-out",Iee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gx=st("mail",Lee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f9=st("map-pin",jee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Bee=st("menu",Pee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wy=st("message-square",Hee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Wg=st("octagon-alert",Fee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],h9=st("phone",Uee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rg=st("plus",zee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],aN=st("quote",$ee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ey=st("save",Vee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Gee=st("search-x",qee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kg=st("search",Yee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kee=st("shield",Wee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],lN=st("sparkles",Qee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sg=st("square-pen",Xee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ig=st("star",Zee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ete=st("target",Jee);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ca=st("trash-2",tte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],p9=st("upload",nte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["path",{d:"M15 15.5V14a2 2 0 0 1 4 0v1.5",key:"12ym5i"}],["rect",{width:"8",height:"5",x:"13",y:"16",rx:".899",key:"4p176n"}]],ste=st("user-lock",rte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lh=st("user",ite);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ate=st("users",ote);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bx=st("x",lte);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ute=st("zap",cte);function m9({...e}){return p.jsx(OJ,{"data-slot":"accordion",...e})}function g9({className:e,withBorder:t=!1,...n}){return p.jsx(RJ,{"data-slot":"accordion-item",className:Ue(t&&"border-b last:border-b-0",e),...n})}function b9({className:e,children:t,...n}){return p.jsx(IJ,{className:"flex",children:p.jsxs(DJ,{"data-slot":"accordion-trigger",className:Ue("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,p.jsx(mx,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function y9({className:e,children:t,...n}){return p.jsx(LJ,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:p.jsx("div",{className:Ue("pt-0 pb-4",e),children:t})})}function ua(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function dte(e,t=globalThis?.document){const n=ua(e);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var fte="DismissableLayer",MT="dismissableLayer.update",hte="dismissableLayer.pointerDownOutside",pte="dismissableLayer.focusOutside",lD,v9=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jh=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=C.useContext(v9),[f,h]=C.useState(null),g=f?.ownerDocument??globalThis?.document,[,b]=C.useState({}),v=Lt(t,I=>h(I)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(w),_=f?x.indexOf(f):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,M=_>=S,O=bte(I=>{const j=I.target,U=[...u.branches].some(P=>P.contains(j));!M||U||(s?.(I),o?.(I),I.defaultPrevented||a?.())},g),R=yte(I=>{const j=I.target;[...u.branches].some(P=>P.contains(j))||(i?.(I),o?.(I),I.defaultPrevented||a?.())},g);return dte(I=>{_===u.layers.size-1&&(r?.(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),C.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lD=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),cD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=lD)}},[f,g,n,u]),C.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),cD())},[f,u]),C.useEffect(()=>{const I=()=>b({});return document.addEventListener(MT,I),()=>document.removeEventListener(MT,I)},[]),p.jsx(rt.div,{...l,ref:v,style:{pointerEvents:N?M?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,O.onPointerDownCapture)})});jh.displayName=fte;var mte="DismissableLayerBranch",gte=C.forwardRef((e,t)=>{const n=C.useContext(v9),r=C.useRef(null),s=Lt(t,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(rt.div,{...e,ref:s})});gte.displayName=mte;function bte(e,t=globalThis?.document){const n=ua(e),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){x9(hte,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function yte(e,t=globalThis?.document){const n=ua(e),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&x9(pte,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cD(){const e=new CustomEvent(MT);document.dispatchEvent(e)}function x9(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$8(s,i):s.dispatchEvent(i)}var CS="focusScope.autoFocusOnMount",SS="focusScope.autoFocusOnUnmount",uD={bubbles:!1,cancelable:!0},vte="FocusScope",Qg=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=C.useState(null),u=ua(s),f=ua(i),h=C.useRef(null),g=Lt(t,x=>l(x)),b=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(N){if(b.paused||!a)return;const M=N.target;a.contains(M)?h.current=M:tc(h.current,{select:!0})},w=function(N){if(b.paused||!a)return;const M=N.relatedTarget;M!==null&&(a.contains(M)||tc(h.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&tc(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const _=new MutationObserver(S);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,b.paused]),C.useEffect(()=>{if(a){fD.add(b);const x=document.activeElement;if(!a.contains(x)){const S=new CustomEvent(CS,uD);a.addEventListener(CS,u),a.dispatchEvent(S),S.defaultPrevented||(xte(Tte(w9(a)),{select:!0}),document.activeElement===x&&tc(a))}return()=>{a.removeEventListener(CS,u),setTimeout(()=>{const S=new CustomEvent(SS,uD);a.addEventListener(SS,f),a.dispatchEvent(S),S.defaultPrevented||tc(x??document.body,{select:!0}),a.removeEventListener(SS,f),fD.remove(b)},0)}}},[a,u,f,b]);const v=C.useCallback(x=>{if(!n&&!r||b.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(w&&S){const _=x.currentTarget,[N,M]=wte(_);N&&M?!x.shiftKey&&S===M?(x.preventDefault(),n&&tc(N,{select:!0})):x.shiftKey&&S===N&&(x.preventDefault(),n&&tc(M,{select:!0})):S===_&&x.preventDefault()}},[n,r,b.paused]);return p.jsx(rt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});Qg.displayName=vte;function xte(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(tc(r,{select:t}),document.activeElement!==n)return}function wte(e){const t=w9(e),n=dD(t,e),r=dD(t.reverse(),e);return[n,r]}function w9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dD(e,t){for(const n of e)if(!Ete(n,{upTo:t}))return n}function Ete(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cte(e){return e instanceof HTMLInputElement&&"select"in e}function tc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Cte(e)&&t&&e.select()}}var fD=Ste();function Ste(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=hD(e,t),e.unshift(t)},remove(t){e=hD(e,t),e[0]?.resume()}}}function hD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Tte(e){return e.filter(t=>t.tagName!=="A")}var kte="Portal",Ph=C.forwardRef((e,t)=>{const{container:n,...r}=e,[s,i]=C.useState(!1);zr(()=>i(!0),[]);const o=n||s&&globalThis?.document?.body;return o?K_.createPortal(p.jsx(rt.div,{...r,ref:t}),o):null});Ph.displayName=kte;var TS=0;function yx(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pD()),document.body.insertAdjacentElement("beforeend",e[1]??pD()),TS++,()=>{TS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),TS--}},[])}function pD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var na=function(){return na=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},na.apply(this,arguments)};function E9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function _te(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var G1="right-scroll-bar-position",Y1="width-before-scroll-bar",Nte="with-scroll-bars-hidden",Ate="--removed-body-scroll-bar-size";function kS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mte(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Ote=typeof window<"u"?C.useLayoutEffect:C.useEffect,mD=new WeakMap;function Rte(e,t){var n=Mte(null,function(r){return e.forEach(function(s){return kS(s,r)})});return Ote(function(){var r=mD.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||kS(a,null)}),i.forEach(function(a){s.has(a)||kS(a,o)})}mD.set(n,e)},[e]),n}function Ite(e){return e}function Dte(e,t){t===void 0&&(t=Ite);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function Lte(e){e===void 0&&(e={});var t=Dte(null);return t.options=na({async:!0,ssr:!1},e),t}var C9=function(e){var t=e.sideCar,n=E9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,na({},n))};C9.isSideCarExport=!0;function jte(e,t){return e.useMedium(t),C9}var S9=Lte(),_S=function(){},vx=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:_S,onWheelCapture:_S,onTouchMoveCapture:_S}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,b=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,S=e.as,_=S===void 0?"div":S,N=e.gapMode,M=E9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,R=Rte([n,t]),I=na(na({},M),s);return C.createElement(C.Fragment,null,f&&C.createElement(O,{sideCar:S9,removeScrollBar:u,shards:h,noRelative:b,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:N}),o?C.cloneElement(C.Children.only(a),na(na({},I),{ref:R})):C.createElement(_,na({},I,{className:l,ref:R}),a))});vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vx.classNames={fullWidth:Y1,zeroRight:G1};var Pte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Pte();return t&&e.setAttribute("nonce",t),e}function Hte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Fte(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ute=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Bte())&&(Hte(t,n),Fte(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zte=function(){var e=Ute();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},T9=function(){var e=zte(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},$te={left:0,top:0,right:0,gap:0},NS=function(e){return parseInt(e||"",10)||0},Vte=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[NS(n),NS(r),NS(s)]},qte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $te;var t=Vte(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gte=T9(),Xf="data-scroll-locked",Yte=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Xf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(G1,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Y1,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(G1," .").concat(G1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Y1," .").concat(Y1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xf,`] {
    `).concat(Ate,": ").concat(a,`px;
  }
`)},gD=function(){var e=parseInt(document.body.getAttribute(Xf)||"0",10);return isFinite(e)?e:0},Wte=function(){C.useEffect(function(){return document.body.setAttribute(Xf,(gD()+1).toString()),function(){var e=gD()-1;e<=0?document.body.removeAttribute(Xf):document.body.setAttribute(Xf,e.toString())}},[])},Kte=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Wte();var i=C.useMemo(function(){return qte(s)},[s]);return C.createElement(Gte,{styles:Yte(i,!t,s,n?"":"!important")})},OT=!1;if(typeof window<"u")try{var t1=Object.defineProperty({},"passive",{get:function(){return OT=!0,!0}});window.addEventListener("test",t1,t1),window.removeEventListener("test",t1,t1)}catch{OT=!1}var hf=OT?{passive:!1}:!1,Qte=function(e){return e.tagName==="TEXTAREA"},k9=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qte(e)&&n[t]==="visible")},Xte=function(e){return k9(e,"overflowY")},Zte=function(e){return k9(e,"overflowX")},bD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_9(e,r);if(s){var i=N9(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jte=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ene=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_9=function(e,t){return e==="v"?Xte(t):Zte(t)},N9=function(e,t){return e==="v"?Jte(t):ene(t)},tne=function(e,t){return e==="h"&&t==="rtl"?-1:1},nne=function(e,t,n,r,s){var i=tne(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),u=!1,f=o>0,h=0,g=0;do{if(!a)break;var b=N9(e,a),v=b[0],x=b[1],w=b[2],S=x-w-i*v;(v||S)&&_9(e,a)&&(h+=S,g+=v);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(f&&Math.abs(h)<1||!f&&Math.abs(g)<1)&&(u=!0),u},n1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yD=function(e){return[e.deltaX,e.deltaY]},vD=function(e){return e&&"current"in e?e.current:e},rne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ine=0,pf=[];function one(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(ine++)[0],i=C.useState(T9)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=_te([e.lockRef.current],(e.shards||[]).map(vD),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var S=n1(x),_=n.current,N="deltaX"in x?x.deltaX:_[0]-S[0],M="deltaY"in x?x.deltaY:_[1]-S[1],O,R=x.target,I=Math.abs(N)>Math.abs(M)?"h":"v";if("touches"in x&&I==="h"&&R.type==="range")return!1;var j=bD(I,R);if(!j)return!0;if(j?O=I:(O=I==="v"?"h":"v",j=bD(I,R)),!j)return!1;if(!r.current&&"changedTouches"in x&&(N||M)&&(r.current=O),!O)return!0;var U=r.current||O;return nne(U,w,x,U==="h"?N:M)},[]),l=C.useCallback(function(x){var w=x;if(!(!pf.length||pf[pf.length-1]!==i)){var S="deltaY"in w?yD(w):n1(w),_=t.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&rne(O.delta,S)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var N=(o.current.shards||[]).map(vD).filter(Boolean).filter(function(O){return O.contains(w.target)}),M=N.length>0?a(w,N[0]):!o.current.noIsolation;M&&w.cancelable&&w.preventDefault()}}},[]),u=C.useCallback(function(x,w,S,_){var N={name:x,delta:w,target:S,should:_,shadowParent:ane(S)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(M){return M!==N})},1)},[]),f=C.useCallback(function(x){n.current=n1(x),r.current=void 0},[]),h=C.useCallback(function(x){u(x.type,yD(x),x.target,a(x,e.lockRef.current))},[]),g=C.useCallback(function(x){u(x.type,n1(x),x.target,a(x,e.lockRef.current))},[]);C.useEffect(function(){return pf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,hf),document.addEventListener("touchmove",l,hf),document.addEventListener("touchstart",f,hf),function(){pf=pf.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,hf),document.removeEventListener("touchmove",l,hf),document.removeEventListener("touchstart",f,hf)}},[]);var b=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(i,{styles:sne(s)}):null,b?C.createElement(Kte,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ane(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lne=jte(S9,one);var Xg=C.forwardRef(function(e,t){return C.createElement(vx,na({},e,{ref:t,sideCar:lne}))});Xg.classNames=vx.classNames;var cne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mf=new WeakMap,r1=new WeakMap,s1={},AS=0,A9=function(e){return e&&(e.host||A9(e.parentNode))},une=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=A9(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dne=function(e,t,n,r){var s=une(t,Array.isArray(e)?e:[e]);s1[n]||(s1[n]=new WeakMap);var i=s1[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))f(g);else try{var b=g.getAttribute(r),v=b!==null&&b!=="false",x=(mf.get(g)||0)+1,w=(i.get(g)||0)+1;mf.set(g,x),i.set(g,w),o.push(g),x===1&&v&&r1.set(g,!0),w===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return f(t),a.clear(),AS++,function(){o.forEach(function(h){var g=mf.get(h)-1,b=i.get(h)-1;mf.set(h,g),i.set(h,b),g||(r1.has(h)||h.removeAttribute(r),r1.delete(h)),b||h.removeAttribute(n)}),AS--,AS||(mf=new WeakMap,mf=new WeakMap,r1=new WeakMap,s1={})}},xx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=cne(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),dne(r,s,n,"aria-hidden")):function(){return null}},wx="Dialog",[M9,O9]=xi(wx),[fne,Ro]=M9(wx),R9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=C.useRef(null),l=C.useRef(null),[u,f]=wo({prop:r,defaultProp:s??!1,onChange:i,caller:wx});return p.jsx(fne,{scope:t,triggerRef:a,contentRef:l,contentId:gr(),titleId:gr(),descriptionId:gr(),open:u,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};R9.displayName=wx;var I9="DialogTrigger",D9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ro(I9,n),i=Lt(t,s.triggerRef);return p.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":dN(s.open),...r,ref:i,onClick:ze(e.onClick,s.onOpenToggle)})});D9.displayName=I9;var cN="DialogPortal",[hne,L9]=M9(cN,{forceMount:void 0}),j9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Ro(cN,t);return p.jsx(hne,{scope:t,forceMount:n,children:C.Children.map(r,o=>p.jsx($s,{present:n||i.open,children:p.jsx(Ph,{asChild:!0,container:s,children:o})}))})};j9.displayName=cN;var Cy="DialogOverlay",P9=C.forwardRef((e,t)=>{const n=L9(Cy,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ro(Cy,e.__scopeDialog);return i.modal?p.jsx($s,{present:r||i.open,children:p.jsx(mne,{...s,ref:t})}):null});P9.displayName=Cy;var pne=_c("DialogOverlay.RemoveScroll"),mne=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ro(Cy,n);return p.jsx(Xg,{as:pne,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(rt.div,{"data-state":dN(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gu="DialogContent",B9=C.forwardRef((e,t)=>{const n=L9(Gu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ro(Gu,e.__scopeDialog);return p.jsx($s,{present:r||i.open,children:i.modal?p.jsx(gne,{...s,ref:t}):p.jsx(bne,{...s,ref:t})})});B9.displayName=Gu;var gne=C.forwardRef((e,t)=>{const n=Ro(Gu,e.__scopeDialog),r=C.useRef(null),s=Lt(t,n.contentRef,r);return C.useEffect(()=>{const i=r.current;if(i)return xx(i)},[]),p.jsx(H9,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault())})}),bne=C.forwardRef((e,t)=>{const n=Ro(Gu,e.__scopeDialog),r=C.useRef(!1),s=C.useRef(!1);return p.jsx(H9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),H9=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Ro(Gu,n),l=C.useRef(null),u=Lt(t,l);return yx(),p.jsxs(p.Fragment,{children:[p.jsx(Qg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(jh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":dN(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(vne,{titleId:a.titleId}),p.jsx(wne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),uN="DialogTitle",F9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ro(uN,n);return p.jsx(rt.h2,{id:s.titleId,...r,ref:t})});F9.displayName=uN;var U9="DialogDescription",z9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ro(U9,n);return p.jsx(rt.p,{id:s.descriptionId,...r,ref:t})});z9.displayName=U9;var $9="DialogClose",V9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ro($9,n);return p.jsx(rt.button,{type:"button",...r,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});V9.displayName=$9;function dN(e){return e?"open":"closed"}var q9="DialogTitleWarning",[yne,G9]=eJ(q9,{contentName:Gu,titleName:uN,docsSlug:"dialog"}),vne=({titleId:e})=>{const t=G9(q9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xne="DialogDescriptionWarning",wne=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G9(xne).contentName}}.`;return C.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},fN=R9,Ene=D9,hN=j9,pN=P9,mN=B9,Y9=F9,W9=z9,gN=V9,K9="AlertDialog",[Cne]=xi(K9,[O9]),vl=O9(),Q9=e=>{const{__scopeAlertDialog:t,...n}=e,r=vl(t);return p.jsx(fN,{...r,...n,modal:!0})};Q9.displayName=K9;var Sne="AlertDialogTrigger",Tne=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vl(n);return p.jsx(Ene,{...s,...r,ref:t})});Tne.displayName=Sne;var kne="AlertDialogPortal",X9=e=>{const{__scopeAlertDialog:t,...n}=e,r=vl(t);return p.jsx(hN,{...r,...n})};X9.displayName=kne;var _ne="AlertDialogOverlay",Z9=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vl(n);return p.jsx(pN,{...s,...r,ref:t})});Z9.displayName=_ne;var Zf="AlertDialogContent",[Nne,Ane]=Cne(Zf),Mne=z8("AlertDialogContent"),J9=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=vl(n),o=C.useRef(null),a=Lt(t,o),l=C.useRef(null);return p.jsx(yne,{contentName:Zf,titleName:eB,docsSlug:"alert-dialog",children:p.jsx(Nne,{scope:n,cancelRef:l,children:p.jsxs(mN,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ze(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[p.jsx(Mne,{children:r}),p.jsx(Rne,{contentRef:o})]})})})});J9.displayName=Zf;var eB="AlertDialogTitle",tB=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vl(n);return p.jsx(Y9,{...s,...r,ref:t})});tB.displayName=eB;var nB="AlertDialogDescription",rB=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vl(n);return p.jsx(W9,{...s,...r,ref:t})});rB.displayName=nB;var One="AlertDialogAction",sB=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vl(n);return p.jsx(gN,{...s,...r,ref:t})});sB.displayName=One;var iB="AlertDialogCancel",oB=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Ane(iB,n),i=vl(n),o=Lt(t,s);return p.jsx(gN,{...i,...r,ref:o})});oB.displayName=iB;var Rne=({contentRef:e})=>{const t=`\`${Zf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zf}\` by passing a \`${nB}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ine=Q9,Dne=X9,aB=Z9,lB=J9,cB=sB,uB=oB,dB=tB,fB=rB;const xD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wD=Ao,hB=(e,t)=>n=>{var r;if(t?.variants==null)return wD(e,n?.class,n?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=n?.[u],h=i?.[u];if(f===null)return null;const g=xD(f)||xD(h);return s[u][g]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,g]=f;return g===void 0||(u[h]=g),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:g,...b}=f;return Object.entries(b).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...i,...a}[x]):{...i,...a}[x]===w})?[...u,h,g]:u},[]);return wD(e,o,l,n?.class,n?.className)},bN=hB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{primary:"bg-emerald-800 text-white shadow-xs active:bg-emerald-800/90 hover:bg-emerald-800/90",default:"bg-primary text-primary-foreground shadow-xs active:bg-primary/90 hover:bg-primary/90",tertiary:"bg-silk-tertiary text-silk-secondary shadow-xs hover:bg-silk-tertiary/90 active:bg-silk-tertiary/90 hover:bg-silk-tertiary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs active:bg-secondary/80 hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",xl:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Et({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?F8:"button";return p.jsx(i,{"data-slot":"button",className:Ue("cursor-pointer",bN({variant:t,size:n,className:e})),...s})}const Lne=Ine,jne=Dne,pB=C.forwardRef(({className:e,...t},n)=>p.jsx(aB,{className:Ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));pB.displayName=aB.displayName;const mB=C.forwardRef(({className:e,...t},n)=>p.jsxs(jne,{children:[p.jsx(pB,{}),p.jsx(lB,{ref:n,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));mB.displayName=lB.displayName;const gB=({className:e,...t})=>p.jsx("div",{className:Ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});gB.displayName="AlertDialogHeader";const bB=({className:e,...t})=>p.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bB.displayName="AlertDialogFooter";const yB=C.forwardRef(({className:e,...t},n)=>p.jsx(dB,{ref:n,className:Ue("text-lg font-semibold",e),...t}));yB.displayName=dB.displayName;const vB=C.forwardRef(({className:e,...t},n)=>p.jsx(fB,{ref:n,className:Ue("text-sm text-muted-foreground",e),...t}));vB.displayName=fB.displayName;const Pne=C.forwardRef(({className:e,...t},n)=>p.jsx(cB,{ref:n,className:Ue(bN(),e),...t}));Pne.displayName=cB.displayName;const Bne=C.forwardRef(({className:e,...t},n)=>p.jsx(uB,{ref:n,className:Ue(bN({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Bne.displayName=uB.displayName;const Hne=hB("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-secondary"}},defaultVariants:{variant:"default"}});function ia({className:e,variant:t,asChild:n=!1,...r}){const s=n?F8:"span";return p.jsx(s,{"data-slot":"badge",className:Ue(Hne({variant:t}),e),...r})}function Ar({className:e,...t}){return p.jsx("div",{"data-slot":"card",className:Ue("bg-card text-card-foreground flex flex-col rounded-md border py-6",e),...t})}function Eo({className:e,...t}){return p.jsx("div",{"data-slot":"card-header",className:Ue("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-x-2 px-6 pb-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Co({className:e,...t}){return p.jsx("div",{"data-slot":"card-title",className:Ue("leading-none font-semibold text-2xl",e),...t})}function Nc({className:e,...t}){return p.jsx("div",{"data-slot":"card-description",className:Ue("text-muted-foreground text-sm",e),...t})}function $r({className:e,...t}){return p.jsx("div",{"data-slot":"card-content",className:Ue("px-6",e),...t})}function Fne({className:e,...t}){return p.jsx("div",{"data-slot":"card-footer",className:Ue("flex items-center px-6 [.border-t]:pt-6",e),...t})}function Une(e){return Object.prototype.toString.call(e)==="[object Object]"}function ED(e){return Une(e)||Array.isArray(e)}function zne(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function yN(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=e[o],l=t[o];return typeof a=="function"?`${a}`==`${l}`:!ED(a)||!ED(l)?a===l:yN(a,l)})}function CD(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function $ne(e,t){if(e.length!==t.length)return!1;const n=CD(e),r=CD(t);return n.every((s,i)=>{const o=r[i];return yN(s,o)})}function vN(e){return typeof e=="number"}function RT(e){return typeof e=="string"}function Ex(e){return typeof e=="boolean"}function SD(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pn(e){return Math.abs(e)}function xN(e){return Math.sign(e)}function _m(e,t){return Pn(e-t)}function Vne(e,t){if(e===0||t===0||Pn(e)<=Pn(t))return 0;const n=_m(Pn(e),Pn(t));return Pn(n/e)}function qne(e){return Math.round(e*100)/100}function og(e){return ag(e).map(Number)}function bo(e){return e[Zg(e)]}function Zg(e){return Math.max(0,e.length-1)}function wN(e,t){return t===Zg(e)}function TD(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function ag(e){return Object.keys(e)}function xB(e,t){return[e,t].reduce((n,r)=>(ag(r).forEach(s=>{const i=n[s],o=r[s],a=SD(i)&&SD(o);n[s]=a?xB(i,o):o}),n),{})}function IT(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Gne(e,t){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return t-l}function o(l,u){return RT(e)?n[e](l):e(t,l,u)}return{measure:o}}function lg(){let e=[];function t(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const u=s;u.addListener(o),l=()=>u.removeListener(o)}return e.push(l),r}function n(){e=e.filter(s=>s())}const r={add:t,clear:n};return r}function Yne(e,t,n,r){const s=lg(),i=1e3/60;let o=null,a=0,l=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&v()})}function f(){b(),s.clear()}function h(w){if(!l)return;o||(o=w,n(),n());const S=w-o;for(o=w,a+=S;a>=i;)n(),a-=i;const _=a/i;r(_),l&&(l=t.requestAnimationFrame(h))}function g(){l||(l=t.requestAnimationFrame(h))}function b(){t.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:u,destroy:f,start:g,stop:b,update:n,render:r}}function Wne(e,t){const n=t==="rtl",r=e==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=f(),l=h();function u(v){const{height:x,width:w}=v;return r?x:w}function f(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function g(v){return v*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:u,direction:g}}function Yu(e=0,t=0){const n=Pn(e-t);function r(u){return u<e}function s(u){return u>t}function i(u){return r(u)||s(u)}function o(u){return i(u)?r(u)?e:t:u}function a(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function wB(e,t,n){const{constrain:r}=Yu(0,e),s=e+1;let i=o(t);function o(g){return n?Pn((s+g)%s):r(g)}function a(){return i}function l(g){return i=o(g),h}function u(g){return f().set(a()+g)}function f(){return wB(e,a(),n)}const h={get:a,set:l,add:u,clone:f};return h}function Kne(e,t,n,r,s,i,o,a,l,u,f,h,g,b,v,x,w,S,_){const{cross:N,direction:M}=e,O=["INPUT","SELECT","TEXTAREA"],R={passive:!1},I=lg(),j=lg(),U=Yu(50,225).constrain(b.measure(20)),P={mouse:300,touch:400},K={mouse:500,touch:600},W=v?43:25;let ne=!1,Q=0,te=0,F=!1,V=!1,z=!1,J=!1;function B(Te){if(!_)return;function Fe(kt){(Ex(_)||_(Te,kt))&&de(kt)}const Je=t;I.add(Je,"dragstart",kt=>kt.preventDefault(),R).add(Je,"touchmove",()=>{},R).add(Je,"touchend",()=>{}).add(Je,"touchstart",Fe).add(Je,"mousedown",Fe).add(Je,"touchcancel",we).add(Je,"contextmenu",we).add(Je,"click",Me,!0)}function Se(){I.clear(),j.clear()}function X(){const Te=J?n:t;j.add(Te,"touchmove",ie,R).add(Te,"touchend",we).add(Te,"mousemove",ie,R).add(Te,"mouseup",we)}function D(Te){const Fe=Te.nodeName||"";return O.includes(Fe)}function he(){return(v?K:P)[J?"mouse":"touch"]}function ue(Te,Fe){const Je=h.add(xN(Te)*-1),kt=f.byDistance(Te,!v).distance;return v||Pn(Te)<U?kt:w&&Fe?kt*.5:f.byIndex(Je.get(),0).distance}function de(Te){const Fe=IT(Te,r);J=Fe,z=v&&Fe&&!Te.buttons&&ne,ne=_m(s.get(),o.get())>=2,!(Fe&&Te.button!==0)&&(D(Te.target)||(F=!0,i.pointerDown(Te),u.useFriction(0).useDuration(0),s.set(o),X(),Q=i.readPoint(Te),te=i.readPoint(Te,N),g.emit("pointerDown")))}function ie(Te){if(!IT(Te,r)&&Te.touches.length>=2)return we(Te);const Je=i.readPoint(Te),kt=i.readPoint(Te,N),qt=_m(Je,Q),Gt=_m(kt,te);if(!V&&!J&&(!Te.cancelable||(V=qt>Gt,!V)))return we(Te);const Mn=i.pointerMove(Te);qt>x&&(z=!0),u.useFriction(.3).useDuration(.75),a.start(),s.add(M(Mn)),Te.preventDefault()}function we(Te){const Je=f.byDistance(0,!1).index!==h.get(),kt=i.pointerUp(Te)*he(),qt=ue(M(kt),Je),Gt=Vne(kt,qt),Mn=W-10*Gt,vt=S+Gt/50;V=!1,F=!1,j.clear(),u.useDuration(Mn).useFriction(vt),l.distance(qt,!v),J=!1,g.emit("pointerUp")}function Me(Te){z&&(Te.stopPropagation(),Te.preventDefault(),z=!1)}function Be(){return F}return{init:B,destroy:Se,pointerDown:Be}}function Qne(e,t){let r,s;function i(h){return h.timeStamp}function o(h,g){const v=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(IT(h,t)?h:h.touches[0])[v]}function a(h){return r=h,s=h,o(h)}function l(h){const g=o(h)-o(s),b=i(h)-i(r)>170;return s=h,b&&(r=h),g}function u(h){if(!r||!s)return 0;const g=o(s)-o(r),b=i(h)-i(r),v=i(h)-i(s)>170,x=g/b;return b&&!v&&Pn(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:u,readPoint:o}}function Xne(){function e(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:e}}function Zne(e){function t(r){return e*(r/100)}return{measure:t}}function Jne(e,t,n,r,s,i,o){const a=[e].concat(r);let l,u,f=[],h=!1;function g(w){return s.measureSize(o.measure(w))}function b(w){if(!i)return;u=g(e),f=r.map(g);function S(_){for(const N of _){if(h)return;const M=N.target===e,O=r.indexOf(N.target),R=M?u:f[O],I=g(M?e:r[O]);if(Pn(I-R)>=.5){w.reInit(),t.emit("resize");break}}}l=new ResizeObserver(_=>{(Ex(i)||i(w,_))&&S(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>l.observe(_))})}function v(){h=!0,l&&l.disconnect()}return{init:b,destroy:v}}function ere(e,t,n,r,s,i){let o=0,a=0,l=s,u=i,f=e.get(),h=0;function g(){const R=r.get()-e.get(),I=!l;let j=0;return I?(o=0,n.set(r),e.set(r),j=R):(n.set(e),o+=R/l,o*=u,f+=o,e.add(o),j=f-h),a=xN(j),h=f,O}function b(){const R=r.get()-t.get();return Pn(R)<.001}function v(){return l}function x(){return a}function w(){return o}function S(){return N(s)}function _(){return M(i)}function N(R){return l=R,O}function M(R){return u=R,O}const O={direction:x,duration:v,velocity:w,seek:g,settled:b,useBaseFriction:_,useBaseDuration:S,useFriction:M,useDuration:N};return O}function tre(e,t,n,r,s){const i=s.measure(10),o=s.measure(50),a=Yu(.1,.99);let l=!1;function u(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(b){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",x=Pn(e[v]-t.get()),w=n.get()-t.get(),S=a.constrain(x/o);n.subtract(w*S),!b&&Pn(w)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(b){l=!b}return{shouldConstrain:u,constrain:f,toggleActive:h}}function nre(e,t,n,r,s){const i=Yu(-t+e,0),o=h(),a=f(),l=g();function u(v,x){return _m(v,x)<=1}function f(){const v=o[0],x=bo(o),w=o.lastIndexOf(v),S=o.indexOf(x)+1;return Yu(w,S)}function h(){return n.map((v,x)=>{const{min:w,max:S}=i,_=i.constrain(v),N=!x,M=wN(n,x);return N?S:M||u(w,_)?w:u(S,_)?S:_}).map(v=>parseFloat(v.toFixed(3)))}function g(){if(t<=e+s)return[i.max];if(r==="keepSnaps")return o;const{min:v,max:x}=a;return o.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function rre(e,t,n){const r=t[0],s=n?r-e:bo(t);return{limit:Yu(s,r)}}function sre(e,t,n,r){const i=t.min+.1,o=t.max+.1,{reachedMin:a,reachedMax:l}=Yu(i,o);function u(g){return g===1?l(n.get()):g===-1?a(n.get()):!1}function f(g){if(!u(g))return;const b=e*(g*-1);r.forEach(v=>v.add(b))}return{loop:f}}function ire(e){const{max:t,length:n}=e;function r(i){const o=i-t;return n?o/-n:0}return{get:r}}function ore(e,t,n,r,s){const{startEdge:i,endEdge:o}=e,{groupSlides:a}=s,l=h().map(t.measure),u=g(),f=b();function h(){return a(r).map(x=>bo(x)[o]-x[0][i]).map(Pn)}function g(){return r.map(x=>n[i]-x[i]).map(x=>-Pn(x))}function b(){return a(u).map(x=>x[0]).map((x,w)=>x+l[w])}return{snaps:u,snapsAligned:f}}function are(e,t,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,u=f();function f(){const g=o(i),b=!e||t==="keepSnaps";return n.length===1?[i]:b?g:g.slice(a,l).map((v,x,w)=>{const S=!x,_=wN(w,x);if(S){const N=bo(w[0])+1;return TD(N)}if(_){const N=Zg(i)-bo(w)[0]+1;return TD(N,bo(w)[0])}return v})}return{slideRegistry:u}}function lre(e,t,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((x,w)=>Pn(x)-Pn(w))[0]}function u(v){const x=e?o(v):a(v),w=t.map((_,N)=>({diff:f(_-x,0),index:N})).sort((_,N)=>Pn(_.diff)-Pn(N.diff)),{index:S}=w[0];return{index:S,distance:x}}function f(v,x){const w=[v,v+n,v-n];if(!e)return v;if(!x)return l(w);const S=w.filter(_=>xN(_)===x);return S.length?l(S):bo(w)-n}function h(v,x){const w=t[v]-s.get(),S=f(w,x);return{index:v,distance:S}}function g(v,x){const w=s.get()+v,{index:S,distance:_}=u(w),N=!e&&i(w);if(!x||N)return{index:S,distance:v};const M=t[S]-_,O=v+f(M,0);return{index:S,distance:O}}return{byDistance:g,byIndex:h,shortcut:f}}function cre(e,t,n,r,s,i,o){function a(h){const g=h.distance,b=h.index!==t.get();i.add(g),g&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),b&&(n.set(t.get()),t.set(h.index),o.emit("select"))}function l(h,g){const b=s.byDistance(h,g);a(b)}function u(h,g){const b=t.clone().set(h),v=s.byIndex(b.get(),g);a(v)}return{distance:l,index:u}}function ure(e,t,n,r,s,i,o,a){const l={passive:!0,capture:!0};let u=0;function f(b){if(!a)return;function v(x){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const _=n.findIndex(N=>N.includes(x));vN(_)&&(s.useDuration(0),r.index(_,0),o.emit("slideFocus"))}i.add(document,"keydown",h,!1),t.forEach((x,w)=>{i.add(x,"focus",S=>{(Ex(a)||a(b,S))&&v(w)},l)})}function h(b){b.code==="Tab"&&(u=new Date().getTime())}return{init:f}}function gm(e){let t=e;function n(){return t}function r(l){t=o(l)}function s(l){t+=o(l)}function i(l){t-=o(l)}function o(l){return vN(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function EB(e,t){const n=e.scroll==="x"?o:a,r=t.style;let s=null,i=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function a(g){return`translate3d(0px,${g}px,0px)`}function l(g){if(i)return;const b=qne(e.direction(g));b!==s&&(r.transform=n(b),s=b)}function u(g){i=!g}function f(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:l,toggleActive:u}}function dre(e,t,n,r,s,i,o,a,l){const f=og(s),h=og(s).reverse(),g=S().concat(_());function b(I,j){return I.reduce((U,P)=>U-s[P],j)}function v(I,j){return I.reduce((U,P)=>b(U,j)>0?U.concat([P]):U,[])}function x(I){return i.map((j,U)=>({start:j-r[U]+.5+I,end:j+t-.5+I}))}function w(I,j,U){const P=x(j);return I.map(K=>{const W=U?0:-n,ne=U?n:0,Q=U?"end":"start",te=P[K][Q];return{index:K,loopPoint:te,slideLocation:gm(-1),translate:EB(e,l[K]),target:()=>a.get()>te?W:ne}})}function S(){const I=o[0],j=v(h,I);return w(j,n,!1)}function _(){const I=t-o[0]-1,j=v(f,I);return w(j,-n,!0)}function N(){return g.every(({index:I})=>{const j=f.filter(U=>U!==I);return b(j,t)<=.1})}function M(){g.forEach(I=>{const{target:j,translate:U,slideLocation:P}=I,K=j();K!==P.get()&&(U.to(K),P.set(K))})}function O(){g.forEach(I=>I.translate.clear())}return{canLoop:N,clear:O,loop:M,loopPoints:g}}function fre(e,t,n){let r,s=!1;function i(l){if(!n)return;function u(f){for(const h of f)if(h.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(f=>{s||(Ex(n)||n(l,f))&&u(f)}),r.observe(e,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function hre(e,t,n,r){const s={};let i=null,o=null,a,l=!1;function u(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const w=t.indexOf(x.target);s[w]=x}),i=null,o=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(v=>a.observe(v))}function f(){a&&a.disconnect(),l=!0}function h(v){return ag(s).reduce((x,w)=>{const S=parseInt(w),{isIntersecting:_}=s[S];return(v&&_||!v&&!_)&&x.push(S),x},[])}function g(v=!0){if(v&&i)return i;if(!v&&o)return o;const x=h(v);return v&&(i=x),v||(o=x),x}return{init:u,destroy:f,get:g}}function pre(e,t,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=e,u=n[0]&&s,f=v(),h=x(),g=n.map(o),b=w();function v(){if(!u)return 0;const _=n[0];return Pn(t[a]-_[a])}function x(){if(!u)return 0;const _=i.getComputedStyle(bo(r));return parseFloat(_.getPropertyValue(`margin-${l}`))}function w(){return n.map((_,N,M)=>{const O=!N,R=wN(M,N);return O?g[N]+f:R?g[N]+h:M[N+1][a]-_[a]}).map(Pn)}return{slideSizes:g,slideSizesWithGaps:b,startGap:f,endGap:h}}function mre(e,t,n,r,s,i,o,a,l){const{startEdge:u,endEdge:f,direction:h}=e,g=vN(n);function b(S,_){return og(S).filter(N=>N%_===0).map(N=>S.slice(N,N+_))}function v(S){return S.length?og(S).reduce((_,N,M)=>{const O=bo(_)||0,R=O===0,I=N===Zg(S),j=s[u]-i[O][u],U=s[u]-i[N][f],P=!r&&R?h(o):0,K=!r&&I?h(a):0,W=Pn(U-K-(j+P));return M&&W>t+l&&_.push(N),I&&_.push(S.length),_},[]).map((_,N,M)=>{const O=Math.max(M[N-1]||0);return S.slice(O,_)}):[]}function x(S){return g?b(S,n):v(S)}return{groupSlides:x}}function gre(e,t,n,r,s,i,o){const{align:a,axis:l,direction:u,startIndex:f,loop:h,duration:g,dragFree:b,dragThreshold:v,inViewThreshold:x,slidesToScroll:w,skipSnaps:S,containScroll:_,watchResize:N,watchSlides:M,watchDrag:O,watchFocus:R}=i,I=2,j=Xne(),U=j.measure(t),P=n.map(j.measure),K=Wne(l,u),W=K.measureSize(U),ne=Zne(W),Q=Gne(a,W),te=!h&&!!_,F=h||!!_,{slideSizes:V,slideSizesWithGaps:z,startGap:J,endGap:B}=pre(K,U,P,n,F,s),Se=mre(K,W,w,h,U,P,J,B,I),{snaps:X,snapsAligned:D}=ore(K,Q,U,P,Se),he=-bo(X)+bo(z),{snapsContained:ue,scrollContainLimit:de}=nre(W,he,D,_,I),ie=te?ue:D,{limit:we}=rre(he,ie,h),Me=wB(Zg(ie),f,h),Be=Me.clone(),He=og(n),Te=({dragHandler:lt,scrollBody:Jt,scrollBounds:rn,options:{loop:xn}})=>{xn||rn.constrain(lt.pointerDown()),Jt.seek()},Fe=({scrollBody:lt,translate:Jt,location:rn,offsetLocation:xn,previousLocation:hn,scrollLooper:Vn,slideLooper:Ht,dragHandler:gs,animation:Qn,eventHandler:Ws,scrollBounds:Sl,options:{loop:Ca}},Uo)=>{const Ks=lt.settled(),dt=!Sl.shouldConstrain(),pn=Ca?Ks:Ks&&dt,qn=pn&&!gs.pointerDown();qn&&Qn.stop();const vr=rn.get()*Uo+hn.get()*(1-Uo);xn.set(vr),Ca&&(Vn.loop(lt.direction()),Ht.loop()),Jt.to(xn.get()),qn&&Ws.emit("settle"),pn||Ws.emit("scroll")},Je=Yne(r,s,()=>Te(Xe),lt=>Fe(Xe,lt)),kt=.68,qt=ie[Me.get()],Gt=gm(qt),Mn=gm(qt),vt=gm(qt),G=gm(qt),se=ere(Gt,vt,Mn,G,g,kt),pe=lre(h,ie,he,we,G),je=cre(Je,Me,Be,se,pe,G,o),Ae=ire(we),Oe=lg(),ee=hre(t,n,o,x),{slideRegistry:be}=are(te,_,ie,de,Se,He),Pe=ure(e,n,be,je,se,Oe,o,R),Xe={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:U,slideRects:P,animation:Je,axis:K,dragHandler:Kne(K,e,r,s,G,Qne(K,s),Gt,Je,je,se,pe,Me,o,ne,b,v,S,kt,O),eventStore:Oe,percentOfView:ne,index:Me,indexPrevious:Be,limit:we,location:Gt,offsetLocation:vt,previousLocation:Mn,options:i,resizeHandler:Jne(t,o,s,n,K,N,j),scrollBody:se,scrollBounds:tre(we,vt,G,se,ne),scrollLooper:sre(he,we,vt,[Gt,vt,Mn,G]),scrollProgress:Ae,scrollSnapList:ie.map(Ae.get),scrollSnaps:ie,scrollTarget:pe,scrollTo:je,slideLooper:dre(K,W,he,V,z,X,ie,vt,n),slideFocus:Pe,slidesHandler:fre(t,o,M),slidesInView:ee,slideIndexes:He,slideRegistry:be,slidesToScroll:Se,target:G,translate:EB(K,t)};return Xe}function bre(){let e={},t;function n(u){t=u}function r(u){return e[u]||[]}function s(u){return r(u).forEach(f=>f(t,u)),l}function i(u,f){return e[u]=r(u).concat([f]),l}function o(u,f){return e[u]=r(u).filter(h=>h!==f),l}function a(){e={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const yre={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function vre(e){function t(i,o){return xB(i,o||{})}function n(i){const o=i.breakpoints||{},a=ag(o).filter(l=>e.matchMedia(l).matches).map(l=>o[l]).reduce((l,u)=>t(l,u),{});return t(i,a)}function r(i){return i.map(o=>ag(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function xre(e){let t=[];function n(i,o){return t=o.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(i,e)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(i=>i.destroy())}return{init:n,destroy:r}}function Sy(e,t,n){const r=e.ownerDocument,s=r.defaultView,i=vre(s),o=xre(i),a=lg(),l=bre(),{mergeOptions:u,optionsAtMedia:f,optionsMediaQueries:h}=i,{on:g,off:b,emit:v}=l,x=K;let w=!1,S,_=u(yre,Sy.globalOptions),N=u(_),M=[],O,R,I;function j(){const{container:He,slides:Te}=N;R=(RT(He)?e.querySelector(He):He)||e.children[0];const Je=RT(Te)?R.querySelectorAll(Te):Te;I=[].slice.call(Je||R.children)}function U(He){const Te=gre(e,R,I,r,s,He,l);if(He.loop&&!Te.slideLooper.canLoop()){const Fe=Object.assign({},He,{loop:!1});return U(Fe)}return Te}function P(He,Te){w||(_=u(_,He),N=f(_),M=Te||M,j(),S=U(N),h([_,...M.map(({options:Fe})=>Fe)]).forEach(Fe=>a.add(Fe,"change",K)),N.active&&(S.translate.to(S.location.get()),S.animation.init(),S.slidesInView.init(),S.slideFocus.init(Be),S.eventHandler.init(Be),S.resizeHandler.init(Be),S.slidesHandler.init(Be),S.options.loop&&S.slideLooper.loop(),R.offsetParent&&I.length&&S.dragHandler.init(Be),O=o.init(Be,M)))}function K(He,Te){const Fe=Se();W(),P(u({startIndex:Fe},He),Te),l.emit("reInit")}function W(){S.dragHandler.destroy(),S.eventStore.clear(),S.translate.clear(),S.slideLooper.clear(),S.resizeHandler.destroy(),S.slidesHandler.destroy(),S.slidesInView.destroy(),S.animation.destroy(),o.destroy(),a.clear()}function ne(){w||(w=!0,a.clear(),W(),l.emit("destroy"),l.clear())}function Q(He,Te,Fe){!N.active||w||(S.scrollBody.useBaseFriction().useDuration(Te===!0?0:N.duration),S.scrollTo.index(He,Fe||0))}function te(He){const Te=S.index.add(1).get();Q(Te,He,-1)}function F(He){const Te=S.index.add(-1).get();Q(Te,He,1)}function V(){return S.index.add(1).get()!==Se()}function z(){return S.index.add(-1).get()!==Se()}function J(){return S.scrollSnapList}function B(){return S.scrollProgress.get(S.offsetLocation.get())}function Se(){return S.index.get()}function X(){return S.indexPrevious.get()}function D(){return S.slidesInView.get()}function he(){return S.slidesInView.get(!1)}function ue(){return O}function de(){return S}function ie(){return e}function we(){return R}function Me(){return I}const Be={canScrollNext:V,canScrollPrev:z,containerNode:we,internalEngine:de,destroy:ne,off:b,on:g,emit:v,plugins:ue,previousScrollSnap:X,reInit:x,rootNode:ie,scrollNext:te,scrollPrev:F,scrollProgress:B,scrollSnapList:J,scrollTo:Q,selectedScrollSnap:Se,slideNodes:Me,slidesInView:D,slidesNotInView:he};return P(t,n),setTimeout(()=>l.emit("init"),0),Be}Sy.globalOptions=void 0;function EN(e={},t=[]){const n=C.useRef(e),r=C.useRef(t),[s,i]=C.useState(),[o,a]=C.useState(),l=C.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return C.useEffect(()=>{yN(n.current,e)||(n.current=e,l())},[e,l]),C.useEffect(()=>{$ne(r.current,t)||(r.current=t,l())},[t,l]),C.useEffect(()=>{if(zne()&&o){Sy.globalOptions=EN.globalOptions;const u=Sy(o,n.current,r.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[a,s]}EN.globalOptions=void 0;const CB=C.createContext(null);function Cx(){const e=C.useContext(CB);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function wre({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:s,children:i,...o}){const[a,l]=EN({...t,axis:e==="horizontal"?"x":"y"},r),[u,f]=C.useState(!1),[h,g]=C.useState(!1),b=C.useCallback(S=>{S&&(f(S.canScrollPrev()),g(S.canScrollNext()))},[]),v=C.useCallback(()=>{l?.scrollPrev()},[l]),x=C.useCallback(()=>{l?.scrollNext()},[l]),w=C.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),v()):S.key==="ArrowRight"&&(S.preventDefault(),x())},[v,x]);return C.useEffect(()=>{!l||!n||n(l)},[l,n]),C.useEffect(()=>{if(l)return b(l),l.on("reInit",b),l.on("select",b),()=>{l?.off("select",b)}},[l,b]),p.jsx(CB.Provider,{value:{carouselRef:a,api:l,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:x,canScrollPrev:u,canScrollNext:h},children:p.jsx("div",{onKeyDownCapture:w,className:Ue("relative",s),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...o,children:i})})}function Ere({className:e,...t}){const{carouselRef:n,orientation:r}=Cx();return p.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:p.jsx("div",{className:Ue("flex",r==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})}function Cre({className:e,...t}){const{orientation:n}=Cx();return p.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:Ue("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})}function Sre({className:e="",size:t=36,...n}){const{orientation:r,scrollPrev:s}=Cx();return p.jsx(a9,{"data-slot":"carousel-previous",size:t,className:Ue("absolute cursor-pointer text-primary",r==="horizontal"?"top-1/2 -left-10 -translate-y-1/2":"-top-10 left-1/2 -translate-x-1/2 rotate-90",e),onClick:s,...n})}function Tre({className:e="",size:t=36,...n}){const{orientation:r,scrollNext:s,canScrollNext:i}=Cx();return p.jsx(Oo,{"data-slot":"carousel-next",size:t,className:Ue("absolute cursor-pointer text-primary",!i&&"disabled",r==="horizontal"?"top-1/2 -right-10 -translate-y-1/2":"-bottom-10 left-1/2 -translate-x-1/2 rotate-90",e),onClick:s,...n})}function SB(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function TB(e){const[t,n]=C.useState(void 0);return zr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Sx="Checkbox",[kre]=xi(Sx),[_re,CN]=kre(Sx);function Nre(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:u,value:f="on",internal_do_not_use_render:h}=e,[g,b]=wo({prop:n,defaultProp:s??!1,onChange:l,caller:Sx}),[v,x]=C.useState(null),[w,S]=C.useState(null),_=C.useRef(!1),N=v?!!o||!!v.closest("form"):!0,M={checked:g,disabled:i,setChecked:b,control:v,setControl:x,name:a,form:o,value:f,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:Ec(s)?!1:s,isFormControl:N,bubbleInput:w,setBubbleInput:S};return p.jsx(_re,{scope:t,...M,children:Are(h)?h(M):r})}var kB="CheckboxTrigger",_B=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:v}=CN(kB,e),x=Lt(s,f),w=C.useRef(l);return C.useEffect(()=>{const S=i?.form;if(S){const _=()=>h(w.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[i,h]),p.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":Ec(l)?"mixed":l,"aria-required":u,"data-state":IB(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:x,onKeyDown:ze(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ze(n,S=>{h(_=>Ec(_)?!0:!_),v&&b&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});_B.displayName=kB;var NB=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:u,form:f,...h}=e;return p.jsx(Nre,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:f,value:l,internal_do_not_use_render:({isFormControl:g})=>p.jsxs(p.Fragment,{children:[p.jsx(_B,{...h,ref:t,__scopeCheckbox:n}),g&&p.jsx(RB,{__scopeCheckbox:n})]})})});NB.displayName=Sx;var AB="CheckboxIndicator",MB=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=CN(AB,n);return p.jsx($s,{present:r||Ec(i.checked)||i.checked===!0,children:p.jsx(rt.span,{"data-state":IB(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});MB.displayName=AB;var OB="CheckboxBubbleInput",RB=C.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:u,value:f,form:h,bubbleInput:g,setBubbleInput:b}=CN(OB,e),v=Lt(n,b),x=SB(i),w=TB(r);C.useEffect(()=>{const _=g;if(!_)return;const N=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(N,"checked").set,R=!s.current;if(x!==i&&O){const I=new Event("click",{bubbles:R});_.indeterminate=Ec(i),O.call(_,Ec(i)?!1:i),_.dispatchEvent(I)}},[g,x,i,s]);const S=C.useRef(Ec(i)?!1:i);return p.jsx(rt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:a,disabled:l,name:u,value:f,form:h,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RB.displayName=OB;function Are(e){return typeof e=="function"}function Ec(e){return e==="indeterminate"}function IB(e){return Ec(e)?"indeterminate":e?"checked":"unchecked"}function Mre({className:e,...t}){return p.jsx(NB,{"data-slot":"checkbox",className:Ue("peer border-input dark:bg-input/30 data-[state=checked]:bg-emerald-800 data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-emerald-800 data-[state=checked]:border-emerald-800 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(MB,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(vy,{className:"size-3.5"})})})}var kD=1,Ore=.9,Rre=.8,Ire=.17,MS=.1,OS=.999,Dre=.9999,Lre=.99,jre=/[\\\/_+.#"@\[\(\{&]/,Pre=/[\\\/_+.#"@\[\(\{&]/g,Bre=/[\s-]/,DB=/[\s-]/g;function DT(e,t,n,r,s,i,o){if(i===t.length)return s===e.length?kD:Lre;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(i),u=n.indexOf(l,s),f=0,h,g,b,v;u>=0;)h=DT(e,t,n,r,u+1,i+1,o),h>f&&(u===s?h*=kD:jre.test(e.charAt(u-1))?(h*=Rre,b=e.slice(s,u-1).match(Pre),b&&s>0&&(h*=Math.pow(OS,b.length))):Bre.test(e.charAt(u-1))?(h*=Ore,v=e.slice(s,u-1).match(DB),v&&s>0&&(h*=Math.pow(OS,v.length))):(h*=Ire,s>0&&(h*=Math.pow(OS,u-s))),e.charAt(u)!==t.charAt(i)&&(h*=Dre)),(h<MS&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(g=DT(e,t,n,r,u+1,i+2,o),g*MS>h&&(h=g*MS)),h>f&&(f=h),u=n.indexOf(l,u+1);return o[a]=f,f}function _D(e){return e.toLowerCase().replace(DB," ")}function Hre(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,DT(e,t,_D(e),_D(t),0,0,{})}var nm='[cmdk-group=""]',RS='[cmdk-group-items=""]',Fre='[cmdk-group-heading=""]',LB='[cmdk-item=""]',ND=`${LB}:not([aria-disabled="true"])`,LT="cmdk-item-select",jf="data-value",Ure=(e,t,n)=>Hre(e,t,n),jB=C.createContext(void 0),Jg=()=>C.useContext(jB),PB=C.createContext(void 0),SN=()=>C.useContext(PB),BB=C.createContext(void 0),HB=C.forwardRef((e,t)=>{let n=Pf(()=>{var X,D;return{search:"",value:(D=(X=e.value)!=null?X:e.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Pf(()=>new Set),s=Pf(()=>new Map),i=Pf(()=>new Map),o=Pf(()=>new Set),a=FB(e),{label:l,children:u,value:f,onValueChange:h,filter:g,shouldFilter:b,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...S}=e,_=gr(),N=gr(),M=gr(),O=C.useRef(null),R=Zre();Wu(()=>{if(f!==void 0){let X=f.trim();n.current.value=X,I.emit()}},[f]),Wu(()=>{R(6,ne)},[]);let I=C.useMemo(()=>({subscribe:X=>(o.current.add(X),()=>o.current.delete(X)),snapshot:()=>n.current,setState:(X,D,he)=>{var ue,de,ie,we;if(!Object.is(n.current[X],D)){if(n.current[X]=D,X==="search")W(),P(),R(1,K);else if(X==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Me=document.getElementById(M);Me?Me.focus():(ue=document.getElementById(_))==null||ue.focus()}if(R(7,()=>{var Me;n.current.selectedItemId=(Me=Q())==null?void 0:Me.id,I.emit()}),he||R(5,ne),((de=a.current)==null?void 0:de.value)!==void 0){let Me=D??"";(we=(ie=a.current).onValueChange)==null||we.call(ie,Me);return}}I.emit()}},emit:()=>{o.current.forEach(X=>X())}}),[]),j=C.useMemo(()=>({value:(X,D,he)=>{var ue;D!==((ue=i.current.get(X))==null?void 0:ue.value)&&(i.current.set(X,{value:D,keywords:he}),n.current.filtered.items.set(X,U(D,he)),R(2,()=>{P(),I.emit()}))},item:(X,D)=>(r.current.add(X),D&&(s.current.has(D)?s.current.get(D).add(X):s.current.set(D,new Set([X]))),R(3,()=>{W(),P(),n.current.value||K(),I.emit()}),()=>{i.current.delete(X),r.current.delete(X),n.current.filtered.items.delete(X);let he=Q();R(4,()=>{W(),he?.getAttribute("id")===X&&K(),I.emit()})}),group:X=>(s.current.has(X)||s.current.set(X,new Set),()=>{i.current.delete(X),s.current.delete(X)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:_,inputId:M,labelId:N,listInnerRef:O}),[]);function U(X,D){var he,ue;let de=(ue=(he=a.current)==null?void 0:he.filter)!=null?ue:Ure;return X?de(X,n.current.search,D):0}function P(){if(!n.current.search||a.current.shouldFilter===!1)return;let X=n.current.filtered.items,D=[];n.current.filtered.groups.forEach(ue=>{let de=s.current.get(ue),ie=0;de.forEach(we=>{let Me=X.get(we);ie=Math.max(Me,ie)}),D.push([ue,ie])});let he=O.current;te().sort((ue,de)=>{var ie,we;let Me=ue.getAttribute("id"),Be=de.getAttribute("id");return((ie=X.get(Be))!=null?ie:0)-((we=X.get(Me))!=null?we:0)}).forEach(ue=>{let de=ue.closest(RS);de?de.appendChild(ue.parentElement===de?ue:ue.closest(`${RS} > *`)):he.appendChild(ue.parentElement===he?ue:ue.closest(`${RS} > *`))}),D.sort((ue,de)=>de[1]-ue[1]).forEach(ue=>{var de;let ie=(de=O.current)==null?void 0:de.querySelector(`${nm}[${jf}="${encodeURIComponent(ue[0])}"]`);ie?.parentElement.appendChild(ie)})}function K(){let X=te().find(he=>he.getAttribute("aria-disabled")!=="true"),D=X?.getAttribute(jf);I.setState("value",D||void 0)}function W(){var X,D,he,ue;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let de=0;for(let ie of r.current){let we=(D=(X=i.current.get(ie))==null?void 0:X.value)!=null?D:"",Me=(ue=(he=i.current.get(ie))==null?void 0:he.keywords)!=null?ue:[],Be=U(we,Me);n.current.filtered.items.set(ie,Be),Be>0&&de++}for(let[ie,we]of s.current)for(let Me of we)if(n.current.filtered.items.get(Me)>0){n.current.filtered.groups.add(ie);break}n.current.filtered.count=de}function ne(){var X,D,he;let ue=Q();ue&&(((X=ue.parentElement)==null?void 0:X.firstChild)===ue&&((he=(D=ue.closest(nm))==null?void 0:D.querySelector(Fre))==null||he.scrollIntoView({block:"nearest"})),ue.scrollIntoView({block:"nearest"}))}function Q(){var X;return(X=O.current)==null?void 0:X.querySelector(`${LB}[aria-selected="true"]`)}function te(){var X;return Array.from(((X=O.current)==null?void 0:X.querySelectorAll(ND))||[])}function F(X){let D=te()[X];D&&I.setState("value",D.getAttribute(jf))}function V(X){var D;let he=Q(),ue=te(),de=ue.findIndex(we=>we===he),ie=ue[de+X];(D=a.current)!=null&&D.loop&&(ie=de+X<0?ue[ue.length-1]:de+X===ue.length?ue[0]:ue[de+X]),ie&&I.setState("value",ie.getAttribute(jf))}function z(X){let D=Q(),he=D?.closest(nm),ue;for(;he&&!ue;)he=X>0?Qre(he,nm):Xre(he,nm),ue=he?.querySelector(ND);ue?I.setState("value",ue.getAttribute(jf)):V(X)}let J=()=>F(te().length-1),B=X=>{X.preventDefault(),X.metaKey?J():X.altKey?z(1):V(1)},Se=X=>{X.preventDefault(),X.metaKey?F(0):X.altKey?z(-1):V(-1)};return C.createElement(rt.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:X=>{var D;(D=S.onKeyDown)==null||D.call(S,X);let he=X.nativeEvent.isComposing||X.keyCode===229;if(!(X.defaultPrevented||he))switch(X.key){case"n":case"j":{w&&X.ctrlKey&&B(X);break}case"ArrowDown":{B(X);break}case"p":case"k":{w&&X.ctrlKey&&Se(X);break}case"ArrowUp":{Se(X);break}case"Home":{X.preventDefault(),F(0);break}case"End":{X.preventDefault(),J();break}case"Enter":{X.preventDefault();let ue=Q();if(ue){let de=new Event(LT);ue.dispatchEvent(de)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:ese},l),Tx(e,X=>C.createElement(PB.Provider,{value:I},C.createElement(jB.Provider,{value:j},X))))}),zre=C.forwardRef((e,t)=>{var n,r;let s=gr(),i=C.useRef(null),o=C.useContext(BB),a=Jg(),l=FB(e),u=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o?.forceMount;Wu(()=>{if(!u)return a.item(s,o?.id)},[u]);let f=UB(s,i,[e.value,e.children,i],e.keywords),h=SN(),g=Ac(R=>R.value&&R.value===f.current),b=Ac(R=>u||a.filter()===!1?!0:R.search?R.filtered.items.get(s)>0:!0);C.useEffect(()=>{let R=i.current;if(!(!R||e.disabled))return R.addEventListener(LT,v),()=>R.removeEventListener(LT,v)},[b,e.onSelect,e.disabled]);function v(){var R,I;x(),(I=(R=l.current).onSelect)==null||I.call(R,f.current)}function x(){h.setState("value",f.current,!0)}if(!b)return null;let{disabled:w,value:S,onSelect:_,forceMount:N,keywords:M,...O}=e;return C.createElement(rt.div,{ref:cl(i,t),...O,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||a.getDisablePointerSelection()?void 0:x,onClick:w?void 0:v},e.children)}),$re=C.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...i}=e,o=gr(),a=C.useRef(null),l=C.useRef(null),u=gr(),f=Jg(),h=Ac(b=>s||f.filter()===!1?!0:b.search?b.filtered.groups.has(o):!0);Wu(()=>f.group(o),[]),UB(o,a,[e.value,e.heading,l]);let g=C.useMemo(()=>({id:o,forceMount:s}),[s]);return C.createElement(rt.div,{ref:cl(a,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&C.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Tx(e,b=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},C.createElement(BB.Provider,{value:g},b))))}),Vre=C.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=C.useRef(null),i=Ac(o=>!o.search);return!n&&!i?null:C.createElement(rt.div,{ref:cl(s,t),...r,"cmdk-separator":"",role:"separator"})}),qre=C.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,i=SN(),o=Ac(u=>u.search),a=Ac(u=>u.selectedItemId),l=Jg();return C.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),C.createElement(rt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),n?.(u.target.value)}})}),Gre=C.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...s}=e,i=C.useRef(null),o=C.useRef(null),a=Ac(u=>u.selectedItemId),l=Jg();return C.useEffect(()=>{if(o.current&&i.current){let u=o.current,f=i.current,h,g=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let b=u.offsetHeight;f.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(h),g.unobserve(u)}}},[]),C.createElement(rt.div,{ref:cl(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},Tx(e,u=>C.createElement("div",{ref:cl(o,l.listInnerRef),"cmdk-list-sizer":""},u)))}),Yre=C.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:o,...a}=e;return C.createElement(fN,{open:n,onOpenChange:r},C.createElement(hN,{container:o},C.createElement(pN,{"cmdk-overlay":"",className:s}),C.createElement(mN,{"aria-label":e.label,"cmdk-dialog":"",className:i},C.createElement(HB,{ref:t,...a}))))}),Wre=C.forwardRef((e,t)=>Ac(n=>n.filtered.count===0)?C.createElement(rt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Kre=C.forwardRef((e,t)=>{let{progress:n,children:r,label:s="Loading...",...i}=e;return C.createElement(rt.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Tx(e,o=>C.createElement("div",{"aria-hidden":!0},o)))}),Vs=Object.assign(HB,{List:Gre,Item:zre,Input:qre,Group:$re,Separator:Vre,Dialog:Yre,Empty:Wre,Loading:Kre});function Qre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Xre(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function FB(e){let t=C.useRef(e);return Wu(()=>{t.current=e}),t}var Wu=typeof window>"u"?C.useEffect:C.useLayoutEffect;function Pf(e){let t=C.useRef();return t.current===void 0&&(t.current=e()),t}function Ac(e){let t=SN(),n=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,n,n)}function UB(e,t,n,r=[]){let s=C.useRef(),i=Jg();return Wu(()=>{var o;let a=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),l=r.map(u=>u.trim());i.value(e,a,l),(o=t.current)==null||o.setAttribute(jf,a),s.current=a}),s}var Zre=()=>{let[e,t]=C.useState(),n=Pf(()=>new Map);return Wu(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}};function Jre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Tx({asChild:e,children:t},n){return e&&C.isValidElement(t)?C.cloneElement(Jre(t),{ref:t.ref},n(t.props.children)):n(t)}var ese={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function TN({...e}){return p.jsx(fN,{"data-slot":"dialog",...e})}function tse({...e}){return p.jsx(hN,{"data-slot":"dialog-portal",...e})}function nse({className:e,...t}){return p.jsx(pN,{"data-slot":"dialog-overlay",className:Ue("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function kN({className:e,children:t,showCloseButton:n=!0,...r}){return p.jsxs(tse,{"data-slot":"dialog-portal",children:[p.jsx(nse,{}),p.jsxs(mN,{"data-slot":"dialog-content",className:Ue("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-4xl",e),...r,children:[t,n&&p.jsxs(gN,{"data-slot":"dialog-close",className:"cursor-pointer ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-3 right-3 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(bx,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function rse({className:e,...t}){return p.jsx("div",{"data-slot":"dialog-header",className:Ue("flex flex-col gap-2 text-center sm:text-left",e),...t})}function _N({className:e,...t}){return p.jsx(Y9,{"data-slot":"dialog-title",className:Ue("text-lg leading-none font-semibold",e),...t})}function sse({className:e,...t}){return p.jsx(W9,{"data-slot":"dialog-description",className:Ue("text-muted-foreground text-sm",e),...t})}const zB=C.forwardRef(({className:e,...t},n)=>p.jsx(Vs,{ref:n,className:Ue("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));zB.displayName=Vs.displayName;const $B=C.forwardRef(({className:e,...t},n)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(Kg,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(Vs.Input,{ref:n,className:Ue("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));$B.displayName=Vs.Input.displayName;const VB=C.forwardRef(({className:e,...t},n)=>p.jsx(Vs.List,{ref:n,className:Ue("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));VB.displayName=Vs.List.displayName;const ise=C.forwardRef((e,t)=>p.jsx(Vs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ise.displayName=Vs.Empty.displayName;const W1=C.forwardRef(({className:e,...t},n)=>p.jsx(Vs.Group,{ref:n,className:Ue("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));W1.displayName=Vs.Group.displayName;const ose=C.forwardRef(({className:e,...t},n)=>p.jsx(Vs.Separator,{ref:n,className:Ue("-mx-1 h-px bg-border",e),...t}));ose.displayName=Vs.Separator.displayName;const K1=C.forwardRef(({className:e,...t},n)=>p.jsx(Vs.Item,{ref:n,className:Ue("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));K1.displayName=Vs.Item.displayName;const ase=["top","right","bottom","left"],So=Math.min,qr=Math.max,Ty=Math.round,i1=Math.floor,oa=e=>({x:e,y:e}),lse={left:"right",right:"left",bottom:"top",top:"bottom"},cse={start:"end",end:"start"};function jT(e,t,n){return qr(e,So(t,n))}function da(e,t){return typeof e=="function"?e(t):e}function To(e){return e.split("-")[0]}function Bh(e){return e.split("-")[1]}function NN(e){return e==="x"?"y":"x"}function AN(e){return e==="y"?"height":"width"}const use=new Set(["top","bottom"]);function ho(e){return use.has(To(e))?"y":"x"}function MN(e){return NN(ho(e))}function dse(e,t,n){n===void 0&&(n=!1);const r=Bh(e),s=MN(e),i=AN(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ky(o)),[o,ky(o)]}function fse(e){const t=ky(e);return[PT(e),t,PT(t)]}function PT(e){return e.replace(/start|end/g,t=>cse[t])}const AD=["left","right"],MD=["right","left"],hse=["top","bottom"],pse=["bottom","top"];function mse(e,t,n){switch(e){case"top":case"bottom":return n?t?MD:AD:t?AD:MD;case"left":case"right":return t?hse:pse;default:return[]}}function gse(e,t,n,r){const s=Bh(e);let i=mse(To(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(PT)))),i}function ky(e){return e.replace(/left|right|bottom|top/g,t=>lse[t])}function bse(e){return{top:0,right:0,bottom:0,left:0,...e}}function ON(e){return typeof e!="number"?bse(e):{top:e,right:e,bottom:e,left:e}}function fh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function OD(e,t,n){let{reference:r,floating:s}=e;const i=ho(t),o=MN(t),a=AN(o),l=To(t),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let b;switch(l){case"top":b={x:f,y:r.y-s.height};break;case"bottom":b={x:f,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:h};break;case"left":b={x:r.x-s.width,y:h};break;default:b={x:r.x,y:r.y}}switch(Bh(t)){case"start":b[o]-=g*(n&&u?-1:1);break;case"end":b[o]+=g*(n&&u?-1:1);break}return b}const yse=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=OD(u,r,l),g=r,b={},v=0;for(let x=0;x<a.length;x++){const{name:w,fn:S}=a[x],{x:_,y:N,data:M,reset:O}=await S({x:f,y:h,initialPlacement:r,placement:g,strategy:s,middlewareData:b,rects:u,platform:o,elements:{reference:e,floating:t}});f=_??f,h=N??h,b={...b,[w]:{...b[w],...M}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):O.rects),{x:f,y:h}=OD(u,g,l)),x=-1)}return{x:f,y:h,placement:g,strategy:s,middlewareData:b}};async function cg(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:b=0}=da(t,e),v=ON(b),w=a[g?h==="floating"?"reference":"floating":h],S=fh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),M=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},O=fh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:N,strategy:l}):_);return{top:(S.top-O.top+v.top)/M.y,bottom:(O.bottom-S.bottom+v.bottom)/M.y,left:(S.left-O.left+v.left)/M.x,right:(O.right-S.right+v.right)/M.x}}const vse=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=da(e,t)||{};if(u==null)return{};const h=ON(f),g={x:n,y:r},b=MN(s),v=AN(b),x=await o.getDimensions(u),w=b==="y",S=w?"top":"left",_=w?"bottom":"right",N=w?"clientHeight":"clientWidth",M=i.reference[v]+i.reference[b]-g[b]-i.floating[v],O=g[b]-i.reference[b],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=R?R[N]:0;(!I||!await(o.isElement==null?void 0:o.isElement(R)))&&(I=a.floating[N]||i.floating[v]);const j=M/2-O/2,U=I/2-x[v]/2-1,P=So(h[S],U),K=So(h[_],U),W=P,ne=I-x[v]-K,Q=I/2-x[v]/2+j,te=jT(W,Q,ne),F=!l.arrow&&Bh(s)!=null&&Q!==te&&i.reference[v]/2-(Q<W?P:K)-x[v]/2<0,V=F?Q<W?Q-W:Q-ne:0;return{[b]:g[b]+V,data:{[b]:te,centerOffset:Q-te-V,...F&&{alignmentOffset:V}},reset:F}}}),xse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=da(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=To(s),_=ho(a),N=To(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=g||(N||!x?[ky(a)]:fse(a)),R=v!=="none";!g&&R&&O.push(...gse(a,x,v,M));const I=[a,...O],j=await cg(t,w),U=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&U.push(j[S]),h){const Q=dse(s,o,M);U.push(j[Q[0]],j[Q[1]])}if(P=[...P,{placement:s,overflows:U}],!U.every(Q=>Q<=0)){var K,W;const Q=(((K=i.flip)==null?void 0:K.index)||0)+1,te=I[Q];if(te&&(!(h==="alignment"?_!==ho(te):!1)||P.every(z=>ho(z.placement)===_?z.overflows[0]>0:!0)))return{data:{index:Q,overflows:P},reset:{placement:te}};let F=(W=P.filter(V=>V.overflows[0]<=0).sort((V,z)=>V.overflows[1]-z.overflows[1])[0])==null?void 0:W.placement;if(!F)switch(b){case"bestFit":{var ne;const V=(ne=P.filter(z=>{if(R){const J=ho(z.placement);return J===_||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,B)=>J+B,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:ne[0];V&&(F=V);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function RD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ID(e){return ase.some(t=>e[t]>=0)}const wse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=da(e,t);switch(r){case"referenceHidden":{const i=await cg(t,{...s,elementContext:"reference"}),o=RD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ID(o)}}}case"escaped":{const i=await cg(t,{...s,altBoundary:!0}),o=RD(i,n.floating);return{data:{escapedOffsets:o,escaped:ID(o)}}}default:return{}}}}};function qB(e){const t=So(...e.map(i=>i.left)),n=So(...e.map(i=>i.top)),r=qr(...e.map(i=>i.right)),s=qr(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:s-n}}function Ese(e){const t=e.slice().sort((s,i)=>s.y-i.y),n=[];let r=null;for(let s=0;s<t.length;s++){const i=t[s];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(s=>fh(qB(s)))}const Cse=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:l,y:u}=da(e,t),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Ese(f),g=fh(qB(f)),b=ON(a);function v(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&u!=null)return h.find(w=>l>w.left-b.left&&l<w.right+b.right&&u>w.top-b.top&&u<w.bottom+b.bottom)||g;if(h.length>=2){if(ho(n)==="y"){const P=h[0],K=h[h.length-1],W=To(n)==="top",ne=P.top,Q=K.bottom,te=W?P.left:K.left,F=W?P.right:K.right,V=F-te,z=Q-ne;return{top:ne,bottom:Q,left:te,right:F,width:V,height:z,x:te,y:ne}}const w=To(n)==="left",S=qr(...h.map(P=>P.right)),_=So(...h.map(P=>P.left)),N=h.filter(P=>w?P.left===_:P.right===S),M=N[0].top,O=N[N.length-1].bottom,R=_,I=S,j=I-R,U=O-M;return{top:M,bottom:O,left:R,right:I,width:j,height:U,x:R,y:M}}return g}const x=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:o});return s.reference.x!==x.reference.x||s.reference.y!==x.reference.y||s.reference.width!==x.reference.width||s.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},GB=new Set(["left","top"]);async function Sse(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=To(n),a=Bh(n),l=ho(n)==="y",u=GB.has(o)?-1:1,f=i&&l?-1:1,h=da(t,e);let{mainAxis:g,crossAxis:b,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(b=a==="end"?v*-1:v),l?{x:b*f,y:g*u}:{x:g*u,y:b*f}}const Tse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await Sse(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},kse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:S,y:_}=w;return{x:S,y:_}}},...l}=da(e,t),u={x:n,y:r},f=await cg(t,l),h=ho(To(s)),g=NN(h);let b=u[g],v=u[h];if(i){const w=g==="y"?"top":"left",S=g==="y"?"bottom":"right",_=b+f[w],N=b-f[S];b=jT(_,b,N)}if(o){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",_=v+f[w],N=v-f[S];v=jT(_,v,N)}const x=a.fn({...t,[g]:b,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[h]:o}}}}}},_se=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=da(e,t),f={x:n,y:r},h=ho(s),g=NN(h);let b=f[g],v=f[h];const x=da(a,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const N=g==="y"?"height":"width",M=i.reference[g]-i.floating[N]+w.mainAxis,O=i.reference[g]+i.reference[N]-w.mainAxis;b<M?b=M:b>O&&(b=O)}if(u){var S,_;const N=g==="y"?"width":"height",M=GB.has(To(s)),O=i.reference[h]-i.floating[N]+(M&&((S=o.offset)==null?void 0:S[h])||0)+(M?0:w.crossAxis),R=i.reference[h]+i.reference[N]+(M?0:((_=o.offset)==null?void 0:_[h])||0)-(M?w.crossAxis:0);v<O?v=O:v>R&&(v=R)}return{[g]:b,[h]:v}}}},Nse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=da(e,t),f=await cg(t,u),h=To(s),g=Bh(s),b=ho(s)==="y",{width:v,height:x}=i.floating;let w,S;h==="top"||h==="bottom"?(w=h,S=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,w=g==="end"?"top":"bottom");const _=x-f.top-f.bottom,N=v-f.left-f.right,M=So(x-f[w],_),O=So(v-f[S],N),R=!t.middlewareData.shift;let I=M,j=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=_),R&&!g){const P=qr(f.left,0),K=qr(f.right,0),W=qr(f.top,0),ne=qr(f.bottom,0);b?j=v-2*(P!==0||K!==0?P+K:qr(f.left,f.right)):I=x-2*(W!==0||ne!==0?W+ne:qr(f.top,f.bottom))}await l({...t,availableWidth:j,availableHeight:I});const U=await o.getDimensions(a.floating);return v!==U.width||x!==U.height?{reset:{rects:!0}}:{}}}};function kx(){return typeof window<"u"}function Hh(e){return RN(e)?(e.nodeName||"").toLowerCase():"#document"}function Bs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ba(e){var t;return(t=(RN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RN(e){return kx()?e instanceof Node||e instanceof Bs(e).Node:!1}function Nn(e){return kx()?e instanceof Element||e instanceof Bs(e).Element:!1}function hi(e){return kx()?e instanceof HTMLElement||e instanceof Bs(e).HTMLElement:!1}function BT(e){return!kx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bs(e).ShadowRoot}const Ase=new Set(["inline","contents"]);function e0(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Qi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ase.has(s)}const Mse=new Set(["table","td","th"]);function Ose(e){return Mse.has(Hh(e))}const Rse=[":popover-open",":modal"];function _x(e){return Rse.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ise=["transform","translate","scale","rotate","perspective"],Dse=["transform","translate","scale","rotate","perspective","filter"],Lse=["paint","layout","strict","content"];function IN(e){const t=Nx(),n=Nn(e)?Qi(e):e;return Ise.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Dse.some(r=>(n.willChange||"").includes(r))||Lse.some(r=>(n.contain||"").includes(r))}function jse(e){let t=ul(e);for(;hi(t)&&!nl(t);){if(IN(t))return t;if(_x(t))return null;t=ul(t)}return null}function Nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Pse=new Set(["html","body","#document"]);function nl(e){return Pse.has(Hh(e))}function Qi(e){return Bs(e).getComputedStyle(e)}function Ax(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ul(e){if(Hh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BT(e)&&e.host||ba(e);return BT(t)?t.host:t}function YB(e){const t=ul(e);return nl(t)?e.ownerDocument?e.ownerDocument.body:e.body:hi(t)&&e0(t)?t:YB(t)}function rl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=YB(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Bs(s);if(i){const a=HT(o);return t.concat(o,o.visualViewport||[],e0(s)?s:[],a&&n?rl(a):[])}return t.concat(s,rl(s,[],n))}function HT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WB(e){const t=Qi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=hi(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Ty(n)!==i||Ty(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function DN(e){return Nn(e)?e:e.contextElement}function Jf(e){const t=DN(e);if(!hi(t))return oa(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=WB(t);let o=(i?Ty(n.width):n.width)/r,a=(i?Ty(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Bse=oa(0);function KB(e){const t=Bs(e);return!Nx()||!t.visualViewport?Bse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bs(e)?!1:t}function Ku(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=DN(e);let o=oa(1);t&&(r?Nn(r)&&(o=Jf(r)):o=Jf(e));const a=Hse(i,n,r)?KB(i):oa(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const g=Bs(i),b=r&&Nn(r)?Bs(r):r;let v=g,x=HT(v);for(;x&&r&&b!==v;){const w=Jf(x),S=x.getBoundingClientRect(),_=Qi(x),N=S.left+(x.clientLeft+parseFloat(_.paddingLeft))*w.x,M=S.top+(x.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,u*=w.y,f*=w.x,h*=w.y,l+=N,u+=M,v=Bs(x),x=HT(v)}}return fh({width:f,height:h,x:l,y:u})}function Mx(e,t){const n=Ax(e).scrollLeft;return t?t.left+n:Ku(ba(e)).left+n}function QB(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Mx(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Fse(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=ba(r),a=t?_x(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=oa(1);const f=oa(0),h=hi(r);if((h||!h&&!i)&&((Hh(r)!=="body"||e0(o))&&(l=Ax(r)),hi(r))){const b=Ku(r);u=Jf(r),f.x=b.x+r.clientLeft,f.y=b.y+r.clientTop}const g=o&&!h&&!i?QB(o,l):oa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-l.scrollTop*u.y+f.y+g.y}}function Use(e){return Array.from(e.getClientRects())}function zse(e){const t=ba(e),n=Ax(e),r=e.ownerDocument.body,s=qr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=qr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Mx(e);const a=-n.scrollTop;return Qi(r).direction==="rtl"&&(o+=qr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const DD=25;function $se(e,t){const n=Bs(e),r=ba(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const f=Nx();(!f||f&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Mx(r);if(u<=0){const f=r.ownerDocument,h=f.body,g=getComputedStyle(h),b=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-b);v<=DD&&(i-=v)}else u<=DD&&(i+=u);return{width:i,height:o,x:a,y:l}}const Vse=new Set(["absolute","fixed"]);function qse(e,t){const n=Ku(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=hi(e)?Jf(e):oa(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function LD(e,t,n){let r;if(t==="viewport")r=$se(e,n);else if(t==="document")r=zse(ba(e));else if(Nn(t))r=qse(t,n);else{const s=KB(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fh(r)}function XB(e,t){const n=ul(e);return n===t||!Nn(n)||nl(n)?!1:Qi(n).position==="fixed"||XB(n,t)}function Gse(e,t){const n=t.get(e);if(n)return n;let r=rl(e,[],!1).filter(a=>Nn(a)&&Hh(a)!=="body"),s=null;const i=Qi(e).position==="fixed";let o=i?ul(e):e;for(;Nn(o)&&!nl(o);){const a=Qi(o),l=IN(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Vse.has(s.position)||e0(o)&&!l&&XB(e,o))?r=r.filter(f=>f!==o):s=a,o=ul(o)}return t.set(e,r),r}function Yse(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?_x(t)?[]:Gse(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const h=LD(t,f,s);return u.top=qr(h.top,u.top),u.right=So(h.right,u.right),u.bottom=So(h.bottom,u.bottom),u.left=qr(h.left,u.left),u},LD(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wse(e){const{width:t,height:n}=WB(e);return{width:t,height:n}}function Kse(e,t,n){const r=hi(t),s=ba(t),i=n==="fixed",o=Ku(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=oa(0);function u(){l.x=Mx(s)}if(r||!r&&!i)if((Hh(t)!=="body"||e0(s))&&(a=Ax(t)),r){const b=Ku(t,!0,i,t);l.x=b.x+t.clientLeft,l.y=b.y+t.clientTop}else s&&u();i&&!r&&s&&u();const f=s&&!r&&!i?QB(s,a):oa(0),h=o.left+a.scrollLeft-l.x-f.x,g=o.top+a.scrollTop-l.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function IS(e){return Qi(e).position==="static"}function jD(e,t){if(!hi(e)||Qi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ba(e)===n&&(n=n.ownerDocument.body),n}function ZB(e,t){const n=Bs(e);if(_x(e))return n;if(!hi(e)){let s=ul(e);for(;s&&!nl(s);){if(Nn(s)&&!IS(s))return s;s=ul(s)}return n}let r=jD(e,t);for(;r&&Ose(r)&&IS(r);)r=jD(r,t);return r&&nl(r)&&IS(r)&&!IN(r)?n:r||jse(e)||n}const Qse=async function(e){const t=this.getOffsetParent||ZB,n=this.getDimensions,r=await n(e.floating);return{reference:Kse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xse(e){return Qi(e).direction==="rtl"}const Zse={convertOffsetParentRelativeRectToViewportRelativeRect:Fse,getDocumentElement:ba,getClippingRect:Yse,getOffsetParent:ZB,getElementRects:Qse,getClientRects:Use,getDimensions:Wse,getScale:Jf,isElement:Nn,isRTL:Xse};function JB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jse(e,t){let n=null,r;const s=ba(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:f,top:h,width:g,height:b}=u;if(a||t(),!g||!b)return;const v=i1(h),x=i1(s.clientWidth-(f+g)),w=i1(s.clientHeight-(h+b)),S=i1(f),N={rootMargin:-v+"px "+-x+"px "+-w+"px "+-S+"px",threshold:qr(0,So(1,l))||1};let M=!0;function O(R){const I=R[0].intersectionRatio;if(I!==l){if(!M)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!JB(u,e.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(O,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(e)}return o(!0),i}function _y(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=DN(e),f=s||i?[...u?rl(u):[],...rl(t)]:[];f.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const h=u&&a?Jse(u,n):null;let g=-1,b=null;o&&(b=new ResizeObserver(S=>{let[_]=S;_&&_.target===u&&b&&(b.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),u&&!l&&b.observe(u),b.observe(t));let v,x=l?Ku(e):null;l&&w();function w(){const S=Ku(e);x&&!JB(x,S)&&n(),x=S,v=requestAnimationFrame(w)}return n(),()=>{var S;f.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h?.(),(S=b)==null||S.disconnect(),b=null,l&&cancelAnimationFrame(v)}}const eie=Tse,tie=kse,nie=xse,rie=Nse,sie=wse,PD=vse,iie=Cse,oie=_se,aie=(e,t,n)=>{const r=new Map,s={platform:Zse,...n},i={...s.platform,_c:r};return yse(e,t,{...s,platform:i})};var lie=typeof document<"u",cie=function(){},Q1=lie?C.useLayoutEffect:cie;function Ny(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ny(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Ny(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function e7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BD(e,t){const n=e7(e);return Math.round(t*n)/n}function DS(e){const t=C.useRef(e);return Q1(()=>{t.current=e}),t}function t7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[f,h]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,b]=C.useState(r);Ny(g,r)||b(r);const[v,x]=C.useState(null),[w,S]=C.useState(null),_=C.useCallback(z=>{z!==R.current&&(R.current=z,x(z))},[]),N=C.useCallback(z=>{z!==I.current&&(I.current=z,S(z))},[]),M=i||v,O=o||w,R=C.useRef(null),I=C.useRef(null),j=C.useRef(f),U=l!=null,P=DS(l),K=DS(s),W=DS(u),ne=C.useCallback(()=>{if(!R.current||!I.current)return;const z={placement:t,strategy:n,middleware:g};K.current&&(z.platform=K.current),aie(R.current,I.current,z).then(J=>{const B={...J,isPositioned:W.current!==!1};Q.current&&!Ny(j.current,B)&&(j.current=B,Ki.flushSync(()=>{h(B)}))})},[g,t,n,K,W]);Q1(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const Q=C.useRef(!1);Q1(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Q1(()=>{if(M&&(R.current=M),O&&(I.current=O),M&&O){if(P.current)return P.current(M,O,ne);ne()}},[M,O,ne,P,U]);const te=C.useMemo(()=>({reference:R,floating:I,setReference:_,setFloating:N}),[_,N]),F=C.useMemo(()=>({reference:M,floating:O}),[M,O]),V=C.useMemo(()=>{const z={position:n,left:0,top:0};if(!F.floating)return z;const J=BD(F.floating,f.x),B=BD(F.floating,f.y);return a?{...z,transform:"translate("+J+"px, "+B+"px)",...e7(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:B}},[n,a,F.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:ne,refs:te,elements:F,floatingStyles:V}),[f,ne,te,F,V])}const uie=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PD({element:r.current,padding:s}).fn(n):{}:r?PD({element:r,padding:s}).fn(n):{}}}},Io=(e,t)=>({...eie(e),options:[e,t]}),Uc=(e,t)=>({...tie(e),options:[e,t]}),FT=(e,t)=>({...oie(e),options:[e,t]}),Xi=(e,t)=>({...nie(e),options:[e,t]}),t0=(e,t)=>({...rie(e),options:[e,t]}),n7=(e,t)=>({...sie(e),options:[e,t]}),Nm=(e,t)=>({...iie(e),options:[e,t]}),LN=(e,t)=>({...uie(e),options:[e,t]});var die="Arrow",r7=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return p.jsx(rt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});r7.displayName=die;var fie=r7,jN="Popper",[s7,zc]=xi(jN),[hie,i7]=s7(jN),o7=e=>{const{__scopePopper:t,children:n}=e,[r,s]=C.useState(null);return p.jsx(hie,{scope:t,anchor:r,onAnchorChange:s,children:n})};o7.displayName=jN;var a7="PopperAnchor",l7=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=i7(a7,n),o=C.useRef(null),a=Lt(t,o),l=C.useRef(null);return C.useEffect(()=>{const u=l.current;l.current=r?.current||o.current,u!==l.current&&i.onAnchorChange(l.current)}),r?null:p.jsx(rt.div,{...s,ref:a})});l7.displayName=a7;var PN="PopperContent",[pie,mie]=s7(PN),c7=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:v,...x}=e,w=i7(PN,n),[S,_]=C.useState(null),N=Lt(t,ie=>_(ie)),[M,O]=C.useState(null),R=TB(M),I=R?.width??0,j=R?.height??0,U=r+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},K=Array.isArray(u)?u:[u],W=K.length>0,ne={padding:P,boundary:K.filter(bie),altBoundary:W},{refs:Q,floatingStyles:te,placement:F,isPositioned:V,middlewareData:z}=t7({strategy:"fixed",placement:U,whileElementsMounted:(...ie)=>_y(...ie,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[Io({mainAxis:s+j,alignmentAxis:o}),l&&Uc({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?FT():void 0,...ne}),l&&Xi({...ne}),t0({...ne,apply:({elements:ie,rects:we,availableWidth:Me,availableHeight:Be})=>{const{width:He,height:Te}=we.reference,Fe=ie.floating.style;Fe.setProperty("--radix-popper-available-width",`${Me}px`),Fe.setProperty("--radix-popper-available-height",`${Be}px`),Fe.setProperty("--radix-popper-anchor-width",`${He}px`),Fe.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),M&&LN({element:M,padding:a}),yie({arrowWidth:I,arrowHeight:j}),g&&n7({strategy:"referenceHidden",...ne})]}),[J,B]=f7(F),Se=ua(v);zr(()=>{V&&Se?.()},[V,Se]);const X=z.arrow?.x,D=z.arrow?.y,he=z.arrow?.centerOffset!==0,[ue,de]=C.useState();return zr(()=>{S&&de(window.getComputedStyle(S).zIndex)},[S]),p.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(pie,{scope:n,placedSide:J,onArrowChange:O,arrowX:X,arrowY:D,shouldHideArrow:he,children:p.jsx(rt.div,{"data-side":J,"data-align":B,...x,ref:N,style:{...x.style,animation:V?void 0:"none"}})})})});c7.displayName=PN;var u7="PopperArrow",gie={top:"bottom",right:"left",bottom:"top",left:"right"},d7=C.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=mie(u7,r),o=gie[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(fie,{...s,ref:n,style:{...s.style,display:"block"}})})});d7.displayName=u7;function bie(e){return e!==null}var yie=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,f]=f7(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(s.arrow?.x??0)+a/2,b=(s.arrow?.y??0)+l/2;let v="",x="";return u==="bottom"?(v=o?h:`${g}px`,x=`${-l}px`):u==="top"?(v=o?h:`${g}px`,x=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,x=o?h:`${b}px`):u==="left"&&(v=`${r.floating.width+l}px`,x=o?h:`${b}px`),{data:{x:v,y:x}}}});function f7(e){const[t,n="center"]=e.split("-");return[t,n]}var Ox=o7,n0=l7,Rx=c7,Ix=d7,LS="rovingFocusGroup.onEntryFocus",vie={bubbles:!1,cancelable:!0},r0="RovingFocusGroup",[UT,h7,xie]=ux(r0),[wie,p7]=xi(r0,[xie]),[Eie,Cie]=wie(r0),m7=C.forwardRef((e,t)=>p.jsx(UT.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(UT.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Sie,{...e,ref:t})})}));m7.displayName=r0;var Sie=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,g=C.useRef(null),b=Lt(t,g),v=fx(i),[x,w]=wo({prop:o,defaultProp:a??null,onChange:l,caller:r0}),[S,_]=C.useState(!1),N=ua(u),M=h7(n),O=C.useRef(!1),[R,I]=C.useState(0);return C.useEffect(()=>{const j=g.current;if(j)return j.addEventListener(LS,N),()=>j.removeEventListener(LS,N)},[N]),p.jsx(Eie,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:x,onItemFocus:C.useCallback(j=>w(j),[w]),onItemShiftTab:C.useCallback(()=>_(!0),[]),onFocusableItemAdd:C.useCallback(()=>I(j=>j+1),[]),onFocusableItemRemove:C.useCallback(()=>I(j=>j-1),[]),children:p.jsx(rt.div,{tabIndex:S||R===0?-1:0,"data-orientation":r,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{O.current=!0}),onFocus:ze(e.onFocus,j=>{const U=!O.current;if(j.target===j.currentTarget&&U&&!S){const P=new CustomEvent(LS,vie);if(j.currentTarget.dispatchEvent(P),!P.defaultPrevented){const K=M().filter(F=>F.focusable),W=K.find(F=>F.active),ne=K.find(F=>F.id===x),te=[W,ne,...K].filter(Boolean).map(F=>F.ref.current);y7(te,f)}}O.current=!1}),onBlur:ze(e.onBlur,()=>_(!1))})})}),g7="RovingFocusGroupItem",b7=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=gr(),u=i||l,f=Cie(g7,n),h=f.currentTabStopId===u,g=h7(n),{onFocusableItemAdd:b,onFocusableItemRemove:v,currentTabStopId:x}=f;return C.useEffect(()=>{if(r)return b(),()=>v()},[r,b,v]),p.jsx(UT.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:p.jsx(rt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:t,onMouseDown:ze(e.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:ze(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:ze(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=_ie(w,f.orientation,f.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let N=g().filter(M=>M.focusable).map(M=>M.ref.current);if(S==="last")N.reverse();else if(S==="prev"||S==="next"){S==="prev"&&N.reverse();const M=N.indexOf(w.currentTarget);N=f.loop?Nie(N,M+1):N.slice(M+1)}setTimeout(()=>y7(N))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});b7.displayName=g7;var Tie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _ie(e,t,n){const r=kie(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tie[r]}function y7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Nie(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Aie=m7,Mie=b7,zT=["Enter"," "],Oie=["ArrowDown","PageUp","Home"],v7=["ArrowUp","PageDown","End"],Rie=[...Oie,...v7],Iie={ltr:[...zT,"ArrowRight"],rtl:[...zT,"ArrowLeft"]},Die={ltr:["ArrowLeft"],rtl:["ArrowRight"]},s0="Menu",[ug,Lie,jie]=ux(s0),[pd,x7]=xi(s0,[jie,zc,p7]),Dx=zc(),w7=p7(),[Pie,md]=pd(s0),[Bie,i0]=pd(s0),E7=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,a=Dx(t),[l,u]=C.useState(null),f=C.useRef(!1),h=ua(i),g=fx(s);return C.useEffect(()=>{const b=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(Ox,{...a,children:p.jsx(Pie,{scope:t,open:n,onOpenChange:h,content:l,onContentChange:u,children:p.jsx(Bie,{scope:t,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:g,modal:o,children:r})})})};E7.displayName=s0;var Hie="MenuAnchor",BN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Dx(n);return p.jsx(n0,{...s,...r,ref:t})});BN.displayName=Hie;var HN="MenuPortal",[Fie,C7]=pd(HN,{forceMount:void 0}),S7=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=md(HN,t);return p.jsx(Fie,{scope:t,forceMount:n,children:p.jsx($s,{present:n||i.open,children:p.jsx(Ph,{asChild:!0,container:s,children:r})})})};S7.displayName=HN;var qi="MenuContent",[Uie,FN]=pd(qi),T7=C.forwardRef((e,t)=>{const n=C7(qi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=md(qi,e.__scopeMenu),o=i0(qi,e.__scopeMenu);return p.jsx(ug.Provider,{scope:e.__scopeMenu,children:p.jsx($s,{present:r||i.open,children:p.jsx(ug.Slot,{scope:e.__scopeMenu,children:o.modal?p.jsx(zie,{...s,ref:t}):p.jsx($ie,{...s,ref:t})})})})}),zie=C.forwardRef((e,t)=>{const n=md(qi,e.__scopeMenu),r=C.useRef(null),s=Lt(t,r);return C.useEffect(()=>{const i=r.current;if(i)return xx(i)},[]),p.jsx(UN,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$ie=C.forwardRef((e,t)=>{const n=md(qi,e.__scopeMenu);return p.jsx(UN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Vie=_c("MenuContent.ScrollLock"),UN=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:b,disableOutsideScroll:v,...x}=e,w=md(qi,n),S=i0(qi,n),_=Dx(n),N=w7(n),M=Lie(n),[O,R]=C.useState(null),I=C.useRef(null),j=Lt(t,I,w.onContentChange),U=C.useRef(0),P=C.useRef(""),K=C.useRef(0),W=C.useRef(null),ne=C.useRef("right"),Q=C.useRef(0),te=v?Xg:C.Fragment,F=v?{as:Vie,allowPinchZoom:!0}:void 0,V=J=>{const B=P.current+J,Se=M().filter(ie=>!ie.disabled),X=document.activeElement,D=Se.find(ie=>ie.ref.current===X)?.textValue,he=Se.map(ie=>ie.textValue),ue=noe(he,B,D),de=Se.find(ie=>ie.textValue===ue)?.ref.current;(function ie(we){P.current=we,window.clearTimeout(U.current),we!==""&&(U.current=window.setTimeout(()=>ie(""),1e3))})(B),de&&setTimeout(()=>de.focus())};C.useEffect(()=>()=>window.clearTimeout(U.current),[]),yx();const z=C.useCallback(J=>ne.current===W.current?.side&&soe(J,W.current?.area),[]);return p.jsx(Uie,{scope:n,searchRef:P,onItemEnter:C.useCallback(J=>{z(J)&&J.preventDefault()},[z]),onItemLeave:C.useCallback(J=>{z(J)||(I.current?.focus(),R(null))},[z]),onTriggerLeave:C.useCallback(J=>{z(J)&&J.preventDefault()},[z]),pointerGraceTimerRef:K,onPointerGraceIntentChange:C.useCallback(J=>{W.current=J},[]),children:p.jsx(te,{...F,children:p.jsx(Qg,{asChild:!0,trapped:s,onMountAutoFocus:ze(i,J=>{J.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(jh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:b,children:p.jsx(Aie,{asChild:!0,...N,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:R,onEntryFocus:ze(l,J=>{S.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Rx,{role:"menu","aria-orientation":"vertical","data-state":U7(w.open),"data-radix-menu-content":"",dir:S.dir,..._,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:ze(x.onKeyDown,J=>{const Se=J.target.closest("[data-radix-menu-content]")===J.currentTarget,X=J.ctrlKey||J.altKey||J.metaKey,D=J.key.length===1;Se&&(J.key==="Tab"&&J.preventDefault(),!X&&D&&V(J.key));const he=I.current;if(J.target!==he||!Rie.includes(J.key))return;J.preventDefault();const de=M().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);v7.includes(J.key)&&de.reverse(),eoe(de)}),onBlur:ze(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(U.current),P.current="")}),onPointerMove:ze(e.onPointerMove,dg(J=>{const B=J.target,Se=Q.current!==J.clientX;if(J.currentTarget.contains(B)&&Se){const X=J.clientX>Q.current?"right":"left";ne.current=X,Q.current=J.clientX}}))})})})})})})});T7.displayName=qi;var qie="MenuGroup",zN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(rt.div,{role:"group",...r,ref:t})});zN.displayName=qie;var Gie="MenuLabel",k7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(rt.div,{...r,ref:t})});k7.displayName=Gie;var Ay="MenuItem",HD="menu.itemSelect",Lx=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=C.useRef(null),o=i0(Ay,e.__scopeMenu),a=FN(Ay,e.__scopeMenu),l=Lt(t,i),u=C.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const g=new CustomEvent(HD,{bubbles:!0,cancelable:!0});h.addEventListener(HD,b=>r?.(b),{once:!0}),$8(h,g),g.defaultPrevented?u.current=!1:o.onClose()}};return p.jsx(_7,{...s,ref:l,disabled:n,onClick:ze(e.onClick,f),onPointerDown:h=>{e.onPointerDown?.(h),u.current=!0},onPointerUp:ze(e.onPointerUp,h=>{u.current||h.currentTarget?.click()}),onKeyDown:ze(e.onKeyDown,h=>{const g=a.searchRef.current!=="";n||g&&h.key===" "||zT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Lx.displayName=Ay;var _7=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=FN(Ay,n),a=w7(n),l=C.useRef(null),u=Lt(t,l),[f,h]=C.useState(!1),[g,b]=C.useState("");return C.useEffect(()=>{const v=l.current;v&&b((v.textContent??"").trim())},[i.children]),p.jsx(ug.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:p.jsx(Mie,{asChild:!0,...a,focusable:!r,children:p.jsx(rt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ze(e.onPointerMove,dg(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,dg(v=>o.onItemLeave(v))),onFocus:ze(e.onFocus,()=>h(!0)),onBlur:ze(e.onBlur,()=>h(!1))})})})}),Yie="MenuCheckboxItem",N7=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return p.jsx(I7,{scope:e.__scopeMenu,checked:n,children:p.jsx(Lx,{role:"menuitemcheckbox","aria-checked":My(n)?"mixed":n,...s,ref:t,"data-state":VN(n),onSelect:ze(s.onSelect,()=>r?.(My(n)?!0:!n),{checkForDefaultPrevented:!1})})})});N7.displayName=Yie;var A7="MenuRadioGroup",[Wie,Kie]=pd(A7,{value:void 0,onValueChange:()=>{}}),M7=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=ua(r);return p.jsx(Wie,{scope:e.__scopeMenu,value:n,onValueChange:i,children:p.jsx(zN,{...s,ref:t})})});M7.displayName=A7;var O7="MenuRadioItem",R7=C.forwardRef((e,t)=>{const{value:n,...r}=e,s=Kie(O7,e.__scopeMenu),i=n===s.value;return p.jsx(I7,{scope:e.__scopeMenu,checked:i,children:p.jsx(Lx,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":VN(i),onSelect:ze(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});R7.displayName=O7;var $N="MenuItemIndicator",[I7,Qie]=pd($N,{checked:!1}),D7=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Qie($N,n);return p.jsx($s,{present:r||My(i.checked)||i.checked===!0,children:p.jsx(rt.span,{...s,ref:t,"data-state":VN(i.checked)})})});D7.displayName=$N;var Xie="MenuSeparator",L7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});L7.displayName=Xie;var Zie="MenuArrow",j7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Dx(n);return p.jsx(Ix,{...s,...r,ref:t})});j7.displayName=Zie;var Jie="MenuSub",[Z9e,P7]=pd(Jie),bm="MenuSubTrigger",B7=C.forwardRef((e,t)=>{const n=md(bm,e.__scopeMenu),r=i0(bm,e.__scopeMenu),s=P7(bm,e.__scopeMenu),i=FN(bm,e.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(BN,{asChild:!0,...u,children:p.jsx(_7,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":U7(n.open),...e,ref:cl(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,dg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ze(e.onPointerLeave,dg(h=>{f();const g=n.content?.getBoundingClientRect();if(g){const b=n.content?.dataset.side,v=b==="right",x=v?-5:5,w=g[v?"left":"right"],S=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:w,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:w,y:g.bottom}],side:b}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,h=>{const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||Iie[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});B7.displayName=bm;var H7="MenuSubContent",F7=C.forwardRef((e,t)=>{const n=C7(qi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=md(qi,e.__scopeMenu),o=i0(qi,e.__scopeMenu),a=P7(H7,e.__scopeMenu),l=C.useRef(null),u=Lt(t,l);return p.jsx(ug.Provider,{scope:e.__scopeMenu,children:p.jsx($s,{present:r||i.open,children:p.jsx(ug.Slot,{scope:e.__scopeMenu,children:p.jsx(UN,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&l.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ze(e.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ze(e.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),g=Die[o.dir].includes(f.key);h&&g&&(i.onOpenChange(!1),a.trigger?.focus(),f.preventDefault())})})})})})});F7.displayName=H7;function U7(e){return e?"open":"closed"}function My(e){return e==="indeterminate"}function VN(e){return My(e)?"indeterminate":e?"checked":"unchecked"}function eoe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function toe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function noe(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=toe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function roe(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,h=l.x,g=l.y;f>r!=g>r&&n<(h-u)*(r-f)/(g-f)+u&&(s=!s)}return s}function soe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return roe(n,t)}function dg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ioe=E7,ooe=BN,aoe=S7,loe=T7,coe=zN,uoe=k7,doe=Lx,foe=N7,hoe=M7,poe=R7,moe=D7,goe=L7,boe=j7,yoe=B7,voe=F7,jx="DropdownMenu",[xoe]=xi(jx,[x7]),hs=x7(),[woe,z7]=xoe(jx),$7=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=hs(t),u=C.useRef(null),[f,h]=wo({prop:s,defaultProp:i??!1,onChange:o,caller:jx});return p.jsx(woe,{scope:t,triggerId:gr(),triggerRef:u,contentId:gr(),open:f,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(g=>!g),[h]),modal:a,children:p.jsx(ioe,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};$7.displayName=jx;var V7="DropdownMenuTrigger",q7=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=z7(V7,n),o=hs(n);return p.jsx(ooe,{asChild:!0,...o,children:p.jsx(rt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:cl(t,i.triggerRef),onPointerDown:ze(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ze(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});q7.displayName=V7;var Eoe="DropdownMenuPortal",G7=e=>{const{__scopeDropdownMenu:t,...n}=e,r=hs(t);return p.jsx(aoe,{...r,...n})};G7.displayName=Eoe;var Y7="DropdownMenuContent",W7=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=z7(Y7,n),i=hs(n),o=C.useRef(!1);return p.jsx(loe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,a=>{o.current||s.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W7.displayName=Y7;var Coe="DropdownMenuGroup",Soe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(coe,{...s,...r,ref:t})});Soe.displayName=Coe;var Toe="DropdownMenuLabel",koe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(uoe,{...s,...r,ref:t})});koe.displayName=Toe;var _oe="DropdownMenuItem",K7=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(doe,{...s,...r,ref:t})});K7.displayName=_oe;var Noe="DropdownMenuCheckboxItem",Aoe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(foe,{...s,...r,ref:t})});Aoe.displayName=Noe;var Moe="DropdownMenuRadioGroup",Ooe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(hoe,{...s,...r,ref:t})});Ooe.displayName=Moe;var Roe="DropdownMenuRadioItem",Ioe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(poe,{...s,...r,ref:t})});Ioe.displayName=Roe;var Doe="DropdownMenuItemIndicator",Loe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(moe,{...s,...r,ref:t})});Loe.displayName=Doe;var joe="DropdownMenuSeparator",Poe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(goe,{...s,...r,ref:t})});Poe.displayName=joe;var Boe="DropdownMenuArrow",Hoe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(boe,{...s,...r,ref:t})});Hoe.displayName=Boe;var Foe="DropdownMenuSubTrigger",Uoe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(yoe,{...s,...r,ref:t})});Uoe.displayName=Foe;var zoe="DropdownMenuSubContent",$oe=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hs(n);return p.jsx(voe,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$oe.displayName=zoe;var Voe=$7,qoe=q7,Goe=G7,Yoe=W7,Woe=K7;function qN({...e}){return p.jsx(Voe,{"data-slot":"dropdown-menu",...e})}function GN({...e}){return p.jsx(qoe,{"data-slot":"dropdown-menu-trigger",...e})}function YN({className:e,sideOffset:t=4,...n}){return p.jsx(Goe,{children:p.jsx(Yoe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ue("border border-solid border-gray-200","bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function fg({className:e,inset:t,variant:n="default",...r}){return p.jsx(Woe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ue("cursor-pointer","focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function gd({className:e,type:t,...n}){return p.jsx("input",{type:t,"data-slot":"input",className:Ue("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-white px-3 py-1 shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Koe="Label",Q7=C.forwardRef((e,t)=>p.jsx(rt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q7.displayName=Koe;var Qoe=Q7;function lr({className:e,...t}){return p.jsx(Qoe,{"data-slot":"label",className:Ue("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var Px="Popover",[X7]=xi(Px,[zc]),o0=zc(),[Xoe,$c]=X7(Px),Z7=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=o0(t),l=C.useRef(null),[u,f]=C.useState(!1),[h,g]=wo({prop:r,defaultProp:s??!1,onChange:i,caller:Px});return p.jsx(Ox,{...a,children:p.jsx(Xoe,{scope:t,contentId:gr(),triggerRef:l,open:h,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>f(!0),[]),onCustomAnchorRemove:C.useCallback(()=>f(!1),[]),modal:o,children:n})})};Z7.displayName=Px;var J7="PopoverAnchor",Zoe=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=$c(J7,n),i=o0(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return C.useEffect(()=>(o(),()=>a()),[o,a]),p.jsx(n0,{...i,...r,ref:t})});Zoe.displayName=J7;var eH="PopoverTrigger",tH=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=$c(eH,n),i=o0(n),o=Lt(t,s.triggerRef),a=p.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oH(s.open),...r,ref:o,onClick:ze(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:p.jsx(n0,{asChild:!0,...i,children:a})});tH.displayName=eH;var WN="PopoverPortal",[Joe,eae]=X7(WN,{forceMount:void 0}),nH=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=$c(WN,t);return p.jsx(Joe,{scope:t,forceMount:n,children:p.jsx($s,{present:n||i.open,children:p.jsx(Ph,{asChild:!0,container:s,children:r})})})};nH.displayName=WN;var hh="PopoverContent",rH=C.forwardRef((e,t)=>{const n=eae(hh,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=$c(hh,e.__scopePopover);return p.jsx($s,{present:r||i.open,children:i.modal?p.jsx(nae,{...s,ref:t}):p.jsx(rae,{...s,ref:t})})});rH.displayName=hh;var tae=_c("PopoverContent.RemoveScroll"),nae=C.forwardRef((e,t)=>{const n=$c(hh,e.__scopePopover),r=C.useRef(null),s=Lt(t,r),i=C.useRef(!1);return C.useEffect(()=>{const o=r.current;if(o)return xx(o)},[]),p.jsx(Xg,{as:tae,allowPinchZoom:!0,children:p.jsx(sH,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rae=C.forwardRef((e,t)=>{const n=$c(hh,e.__scopePopover),r=C.useRef(!1),s=C.useRef(!1);return p.jsx(sH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sH=C.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...h}=e,g=$c(hh,n),b=o0(n);return yx(),p.jsx(Qg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(jh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:p.jsx(Rx,{"data-state":oH(g.open),role:"dialog",id:g.contentId,...b,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iH="PopoverClose",sae=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=$c(iH,n);return p.jsx(rt.button,{type:"button",...r,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});sae.displayName=iH;var iae="PopoverArrow",oae=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=o0(n);return p.jsx(Ix,{...s,...r,ref:t})});oae.displayName=iae;function oH(e){return e?"open":"closed"}var aae=Z7,lae=tH,cae=nH,aH=rH;const uae=aae,dae=lae,lH=C.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(cae,{children:p.jsx(aH,{ref:s,align:t,sideOffset:n,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));lH.displayName=aH.displayName;function FD(e,[t,n]){return Math.min(n,Math.max(t,e))}var cH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fae="VisuallyHidden",uH=C.forwardRef((e,t)=>p.jsx(rt.span,{...e,ref:t,style:{...cH,...e.style}}));uH.displayName=fae;var hae=uH,pae=[" ","Enter","ArrowUp","ArrowDown"],mae=[" ","Enter"],Qu="Select",[Bx,Hx,gae]=ux(Qu),[Fh]=xi(Qu,[gae,zc]),Fx=zc(),[bae,Vc]=Fh(Qu),[yae,vae]=Fh(Qu),dH=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:h,disabled:g,required:b,form:v}=e,x=Fx(t),[w,S]=C.useState(null),[_,N]=C.useState(null),[M,O]=C.useState(!1),R=fx(u),[I,j]=wo({prop:r,defaultProp:s??!1,onChange:i,caller:Qu}),[U,P]=wo({prop:o,defaultProp:a,onChange:l,caller:Qu}),K=C.useRef(null),W=w?v||!!w.closest("form"):!0,[ne,Q]=C.useState(new Set),te=Array.from(ne).map(F=>F.props.value).join(";");return p.jsx(Ox,{...x,children:p.jsxs(bae,{required:b,scope:t,trigger:w,onTriggerChange:S,valueNode:_,onValueNodeChange:N,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:gr(),value:U,onValueChange:P,open:I,onOpenChange:j,dir:R,triggerPointerDownPosRef:K,disabled:g,children:[p.jsx(Bx.Provider,{scope:t,children:p.jsx(yae,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(F=>{Q(V=>new Set(V).add(F))},[]),onNativeOptionRemove:C.useCallback(F=>{Q(V=>{const z=new Set(V);return z.delete(F),z})},[]),children:n})}),W?p.jsxs(IH,{"aria-hidden":!0,required:b,tabIndex:-1,name:f,autoComplete:h,value:U,onChange:F=>P(F.target.value),disabled:g,form:v,children:[U===void 0?p.jsx("option",{value:""}):null,Array.from(ne)]},te):null]})})};dH.displayName=Qu;var fH="SelectTrigger",hH=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Fx(n),o=Vc(fH,n),a=o.disabled||r,l=Lt(t,o.onTriggerChange),u=Hx(n),f=C.useRef("touch"),[h,g,b]=LH(x=>{const w=u().filter(N=>!N.disabled),S=w.find(N=>N.value===o.value),_=jH(w,x,S);_!==void 0&&o.onValueChange(_.value)}),v=x=>{a||(o.onOpenChange(!0),b()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return p.jsx(n0,{asChild:!0,...i,children:p.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DH(o.value)?"":void 0,...s,ref:l,onClick:ze(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:ze(s.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:ze(s.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(w&&x.key===" ")&&pae.includes(x.key)&&(v(),x.preventDefault())})})})});hH.displayName=fH;var pH="SelectValue",mH=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=Vc(pH,n),{onValueNodeHasChildrenChange:u}=l,f=i!==void 0,h=Lt(t,l.onValueNodeChange);return zr(()=>{u(f)},[u,f]),p.jsx(rt.span,{...a,ref:h,style:{pointerEvents:"none"},children:DH(l.value)?p.jsx(p.Fragment,{children:o}):i})});mH.displayName=pH;var xae="SelectIcon",gH=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return p.jsx(rt.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});gH.displayName=xae;var wae="SelectPortal",bH=e=>p.jsx(Ph,{asChild:!0,...e});bH.displayName=wae;var Xu="SelectContent",yH=C.forwardRef((e,t)=>{const n=Vc(Xu,e.__scopeSelect),[r,s]=C.useState();if(zr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ki.createPortal(p.jsx(vH,{scope:e.__scopeSelect,children:p.jsx(Bx.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),i):null}return p.jsx(xH,{...e,ref:t})});yH.displayName=Xu;var oo=10,[vH,qc]=Fh(Xu),Eae="SelectContentImpl",Cae=_c("SelectContent.RemoveScroll"),xH=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:x,avoidCollisions:w,...S}=e,_=Vc(Xu,n),[N,M]=C.useState(null),[O,R]=C.useState(null),I=Lt(t,ie=>M(ie)),[j,U]=C.useState(null),[P,K]=C.useState(null),W=Hx(n),[ne,Q]=C.useState(!1),te=C.useRef(!1);C.useEffect(()=>{if(N)return xx(N)},[N]),yx();const F=C.useCallback(ie=>{const[we,...Me]=W().map(Te=>Te.ref.current),[Be]=Me.slice(-1),He=document.activeElement;for(const Te of ie)if(Te===He||(Te?.scrollIntoView({block:"nearest"}),Te===we&&O&&(O.scrollTop=0),Te===Be&&O&&(O.scrollTop=O.scrollHeight),Te?.focus(),document.activeElement!==He))return},[W,O]),V=C.useCallback(()=>F([j,N]),[F,j,N]);C.useEffect(()=>{ne&&V()},[ne,V]);const{onOpenChange:z,triggerPointerDownPosRef:J}=_;C.useEffect(()=>{if(N){let ie={x:0,y:0};const we=Be=>{ie={x:Math.abs(Math.round(Be.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(Be.pageY)-(J.current?.y??0))}},Me=Be=>{ie.x<=10&&ie.y<=10?Be.preventDefault():N.contains(Be.target)||z(!1),document.removeEventListener("pointermove",we),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Me,{capture:!0})}}},[N,z,J]),C.useEffect(()=>{const ie=()=>z(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[z]);const[B,Se]=LH(ie=>{const we=W().filter(He=>!He.disabled),Me=we.find(He=>He.ref.current===document.activeElement),Be=jH(we,ie,Me);Be&&setTimeout(()=>Be.ref.current.focus())}),X=C.useCallback((ie,we,Me)=>{const Be=!te.current&&!Me;(_.value!==void 0&&_.value===we||Be)&&(U(ie),Be&&(te.current=!0))},[_.value]),D=C.useCallback(()=>N?.focus(),[N]),he=C.useCallback((ie,we,Me)=>{const Be=!te.current&&!Me;(_.value!==void 0&&_.value===we||Be)&&K(ie)},[_.value]),ue=r==="popper"?$T:wH,de=ue===$T?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return p.jsx(vH,{scope:n,content:N,viewport:O,onViewportChange:R,itemRefCallback:X,selectedItem:j,onItemLeave:D,itemTextRefCallback:he,focusSelectedItem:V,selectedItemText:P,position:r,isPositioned:ne,searchRef:B,children:p.jsx(Xg,{as:Cae,allowPinchZoom:!0,children:p.jsx(Qg,{asChild:!0,trapped:_.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:ze(s,ie=>{_.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:p.jsx(jh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:p.jsx(ue,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ie=>ie.preventDefault(),...S,...de,onPlaced:()=>Q(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:ze(S.onKeyDown,ie=>{const we=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!we&&ie.key.length===1&&Se(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Be=W().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const He=ie.target,Te=Be.indexOf(He);Be=Be.slice(Te+1)}setTimeout(()=>F(Be)),ie.preventDefault()}})})})})})})});xH.displayName=Eae;var Sae="SelectItemAlignedPosition",wH=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Vc(Xu,n),o=qc(Xu,n),[a,l]=C.useState(null),[u,f]=C.useState(null),h=Lt(t,I=>f(I)),g=Hx(n),b=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:S,focusSelectedItem:_}=o,N=C.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&x&&w&&S){const I=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),P=S.getBoundingClientRect();if(i.dir!=="rtl"){const He=P.left-j.left,Te=U.left-He,Fe=I.left-Te,Je=I.width+Fe,kt=Math.max(Je,j.width),qt=window.innerWidth-oo,Gt=FD(Te,[oo,Math.max(oo,qt-kt)]);a.style.minWidth=Je+"px",a.style.left=Gt+"px"}else{const He=j.right-P.right,Te=window.innerWidth-U.right-He,Fe=window.innerWidth-I.right-Te,Je=I.width+Fe,kt=Math.max(Je,j.width),qt=window.innerWidth-oo,Gt=FD(Te,[oo,Math.max(oo,qt-kt)]);a.style.minWidth=Je+"px",a.style.right=Gt+"px"}const K=g(),W=window.innerHeight-oo*2,ne=x.scrollHeight,Q=window.getComputedStyle(u),te=parseInt(Q.borderTopWidth,10),F=parseInt(Q.paddingTop,10),V=parseInt(Q.borderBottomWidth,10),z=parseInt(Q.paddingBottom,10),J=te+F+ne+z+V,B=Math.min(w.offsetHeight*5,J),Se=window.getComputedStyle(x),X=parseInt(Se.paddingTop,10),D=parseInt(Se.paddingBottom,10),he=I.top+I.height/2-oo,ue=W-he,de=w.offsetHeight/2,ie=w.offsetTop+de,we=te+F+ie,Me=J-we;if(we<=he){const He=K.length>0&&w===K[K.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-x.offsetTop-x.offsetHeight,Fe=Math.max(ue,de+(He?D:0)+Te+V),Je=we+Fe;a.style.height=Je+"px"}else{const He=K.length>0&&w===K[0].ref.current;a.style.top="0px";const Fe=Math.max(he,te+x.offsetTop+(He?X:0)+de)+Me;a.style.height=Fe+"px",x.scrollTop=we-he+x.offsetTop}a.style.margin=`${oo}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=W+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,a,u,x,w,S,i.dir,r]);zr(()=>N(),[N]);const[M,O]=C.useState();zr(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const R=C.useCallback(I=>{I&&v.current===!0&&(N(),_?.(),v.current=!1)},[N,_]);return p.jsx(kae,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:p.jsx(rt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wH.displayName=Sae;var Tae="SelectPopperPosition",$T=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=oo,...i}=e,o=Fx(n);return p.jsx(Rx,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$T.displayName=Tae;var[kae,KN]=Fh(Xu,{}),VT="SelectViewport",EH=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=qc(VT,n),o=KN(VT,n),a=Lt(t,i.onViewportChange),l=C.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Bx.Slot,{scope:n,children:p.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g?.current&&h){const b=Math.abs(l.current-f.scrollTop);if(b>0){const v=window.innerHeight-oo*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),S=Math.max(x,w);if(S<v){const _=S+b,N=Math.min(v,_),M=_-N;h.style.height=N+"px",h.style.bottom==="0px"&&(f.scrollTop=M>0?M:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});EH.displayName=VT;var CH="SelectGroup",[_ae,Nae]=Fh(CH),Aae=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gr();return p.jsx(_ae,{scope:n,id:s,children:p.jsx(rt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Aae.displayName=CH;var SH="SelectLabel",Mae=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Nae(SH,n);return p.jsx(rt.div,{id:s.id,...r,ref:t})});Mae.displayName=SH;var Oy="SelectItem",[Oae,TH]=Fh(Oy),kH=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=Vc(Oy,n),l=qc(Oy,n),u=a.value===r,[f,h]=C.useState(i??""),[g,b]=C.useState(!1),v=Lt(t,_=>l.itemRefCallback?.(_,r,s)),x=gr(),w=C.useRef("touch"),S=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Oae,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:C.useCallback(_=>{h(N=>N||(_?.textContent??"").trim())},[]),children:p.jsx(Bx.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:p.jsx(rt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ze(o.onFocus,()=>b(!0)),onBlur:ze(o.onBlur,()=>b(!1)),onClick:ze(o.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:ze(o.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:ze(o.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:ze(o.onPointerMove,_=>{w.current=_.pointerType,s?l.onItemLeave?.():w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(o.onPointerLeave,_=>{_.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ze(o.onKeyDown,_=>{l.searchRef?.current!==""&&_.key===" "||(mae.includes(_.key)&&S(),_.key===" "&&_.preventDefault())})})})})});kH.displayName=Oy;var ym="SelectItemText",_H=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Vc(ym,n),a=qc(ym,n),l=TH(ym,n),u=vae(ym,n),[f,h]=C.useState(null),g=Lt(t,S=>h(S),l.onItemTextChange,S=>a.itemTextRefCallback?.(S,l.value,l.disabled)),b=f?.textContent,v=C.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:b},l.value),[l.disabled,l.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return zr(()=>(x(v),()=>w(v)),[x,w,v]),p.jsxs(p.Fragment,{children:[p.jsx(rt.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ki.createPortal(i.children,o.valueNode):null]})});_H.displayName=ym;var NH="SelectItemIndicator",AH=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return TH(NH,n).isSelected?p.jsx(rt.span,{"aria-hidden":!0,...r,ref:t}):null});AH.displayName=NH;var qT="SelectScrollUpButton",MH=C.forwardRef((e,t)=>{const n=qc(qT,e.__scopeSelect),r=KN(qT,e.__scopeSelect),[s,i]=C.useState(!1),o=Lt(t,r.onScrollButtonChange);return zr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(RH,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MH.displayName=qT;var GT="SelectScrollDownButton",OH=C.forwardRef((e,t)=>{const n=qc(GT,e.__scopeSelect),r=KN(GT,e.__scopeSelect),[s,i]=C.useState(!1),o=Lt(t,r.onScrollButtonChange);return zr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;i(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(RH,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OH.displayName=GT;var RH=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=qc("SelectScrollButton",n),o=C.useRef(null),a=Hx(n),l=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),zr(()=>{a().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),p.jsx(rt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ze(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{l()})})}),Rae="SelectSeparator",Iae=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(rt.div,{"aria-hidden":!0,...r,ref:t})});Iae.displayName=Rae;var YT="SelectArrow",Dae=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Fx(n),i=Vc(YT,n),o=qc(YT,n);return i.open&&o.position==="popper"?p.jsx(Ix,{...s,...r,ref:t}):null});Dae.displayName=YT;var Lae="SelectBubbleInput",IH=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=C.useRef(null),i=Lt(r,s),o=SB(t);return C.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(h)}},[o,t]),p.jsx(rt.select,{...n,style:{...cH,...n.style},ref:i,defaultValue:t})});IH.displayName=Lae;function DH(e){return e===""||e===void 0}function LH(e){const t=ua(e),n=C.useRef(""),r=C.useRef(0),s=C.useCallback(o=>{const a=n.current+o;t(a),(function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[t]),i=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function jH(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=jae(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function jae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pae=dH,Bae=hH,Hae=mH,Fae=gH,Uae=bH,zae=yH,$ae=EH,Vae=kH,qae=_H,Gae=AH,Yae=MH,Wae=OH;function dl({...e}){return p.jsx(Pae,{"data-slot":"select",...e})}function fl({...e}){return p.jsx(Hae,{"data-slot":"select-value",...e})}function hl({className:e,size:t="default",children:n,...r}){return p.jsxs(Bae,{"data-slot":"select-trigger","data-size":t,className:Ue("cursor-pointer bg-white","border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,p.jsx(Fae,{asChild:!0,children:p.jsx(mx,{className:"size-4 opacity-50"})})]})}function pl({className:e,children:t,position:n="popper",...r}){return p.jsx(Uae,{children:p.jsxs(zae,{"data-slot":"select-content",className:Ue("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(Kae,{}),p.jsx($ae,{className:Ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),p.jsx(Qae,{})]})})}function dn({className:e,children:t,...n}){return p.jsxs(Vae,{"data-slot":"select-item",className:Ue("cursor-pointer","focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(Gae,{children:p.jsx(vy,{className:"size-4"})})}),p.jsx(qae,{children:t})]})}function Kae({className:e,...t}){return p.jsx(Yae,{"data-slot":"select-scroll-up-button",className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(QJ,{className:"size-4"})})}function Qae({className:e,...t}){return p.jsx(Wae,{"data-slot":"select-scroll-down-button",className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(mx,{className:"size-4"})})}function _e({className:e,...t}){return p.jsx("div",{className:Ue("animate-pulse rounded-md bg-primary/10",e),...t})}var Xae=(e,t,n,r,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function f(b){(Array.isArray(e)?e:[e]).forEach(v=>{let x=v==="class",w=x&&i?s.map(S=>i[S]||S):s;x?(l.classList.remove(...w),l.classList.add(i&&i[b]?i[b]:b)):l.setAttribute(v,b)}),h(b)}function h(b){a&&u.includes(b)&&(l.style.colorScheme=b)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let b=localStorage.getItem(t)||n,v=o&&b==="system"?g():b;f(v)}catch{}};C.createContext(void 0);C.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let f=JSON.stringify([n,t,i,e,a,o,r,s]).slice(1,-1);return C.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Xae.toString()})(${f})`}})});function Zae({className:e,...t}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Ue("w-full caption-bottom text-sm",e),...t})})}function Jae({className:e,...t}){return p.jsx("thead",{"data-slot":"table-header",className:Ue("[&_tr]:border-b",e),...t})}function ele({className:e,...t}){return p.jsx("tbody",{"data-slot":"table-body",className:Ue("[&_tr:last-child]:border-0",e),...t})}function Ry({className:e,...t}){return p.jsx("tr",{"data-slot":"table-row",className:Ue("border-gray-200","hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Cu({className:e,...t}){return p.jsx("th",{"data-slot":"table-head",className:Ue("px-4 py-2","text-foreground h-12 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function is({className:e,...t}){return p.jsx("td",{"data-slot":"table-cell",className:Ue("p-4 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function tle({className:e,...t}){return p.jsx("textarea",{"data-slot":"textarea",className:Ue("bg-white!","border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var[Ux]=xi("Tooltip",[zc]),zx=zc(),PH="TooltipProvider",nle=700,WT="tooltip.open",[rle,QN]=Ux(PH),BH=e=>{const{__scopeTooltip:t,delayDuration:n=nle,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),p.jsx(rle,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};BH.displayName=PH;var hg="Tooltip",[sle,a0]=Ux(hg),HH=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=QN(hg,e.__scopeTooltip),u=zx(t),[f,h]=C.useState(null),g=gr(),b=C.useRef(0),v=o??l.disableHoverableContent,x=a??l.delayDuration,w=C.useRef(!1),[S,_]=wo({prop:r,defaultProp:s??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(WT))):l.onClose(),i?.(I)},caller:hg}),N=C.useMemo(()=>S?w.current?"delayed-open":"instant-open":"closed",[S]),M=C.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,_(!0)},[_]),O=C.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_(!1)},[_]),R=C.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,_(!0),b.current=0},x)},[x,_]);return C.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),p.jsx(Ox,{...u,children:p.jsx(sle,{scope:t,contentId:g,open:S,stateAttribute:N,trigger:f,onTriggerChange:h,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?R():M()},[l.isOpenDelayedRef,R,M]),onTriggerLeave:C.useCallback(()=>{v?O():(window.clearTimeout(b.current),b.current=0)},[O,v]),onOpen:M,onClose:O,disableHoverableContent:v,children:n})})};HH.displayName=hg;var KT="TooltipTrigger",FH=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=a0(KT,n),i=QN(KT,n),o=zx(n),a=C.useRef(null),l=Lt(t,a,s.onTriggerChange),u=C.useRef(!1),f=C.useRef(!1),h=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(n0,{asChild:!0,...o,children:p.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ze(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ze(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});FH.displayName=KT;var XN="TooltipPortal",[ile,ole]=Ux(XN,{forceMount:void 0}),UH=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,i=a0(XN,t);return p.jsx(ile,{scope:t,forceMount:n,children:p.jsx($s,{present:n||i.open,children:p.jsx(Ph,{asChild:!0,container:s,children:r})})})};UH.displayName=XN;var ph="TooltipContent",zH=C.forwardRef((e,t)=>{const n=ole(ph,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=a0(ph,e.__scopeTooltip);return p.jsx($s,{present:r||o.open,children:o.disableHoverableContent?p.jsx($H,{side:s,...i,ref:t}):p.jsx(ale,{side:s,...i,ref:t})})}),ale=C.forwardRef((e,t)=>{const n=a0(ph,e.__scopeTooltip),r=QN(ph,e.__scopeTooltip),s=C.useRef(null),i=Lt(t,s),[o,a]=C.useState(null),{trigger:l,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,g=C.useCallback(()=>{a(null),h(!1)},[h]),b=C.useCallback((v,x)=>{const w=v.currentTarget,S={x:v.clientX,y:v.clientY},_=dle(S,w.getBoundingClientRect()),N=fle(S,_),M=hle(x.getBoundingClientRect()),O=mle([...N,...M]);a(O),h(!0)},[h]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(l&&f){const v=w=>b(w,f),x=w=>b(w,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[l,f,b,g]),C.useEffect(()=>{if(o){const v=x=>{const w=x.target,S={x:x.clientX,y:x.clientY},_=l?.contains(w)||f?.contains(w),N=!ple(S,o);_?g():N&&(g(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,u,g]),p.jsx($H,{...e,ref:i})}),[lle,cle]=Ux(hg,{isInside:!1}),ule=z8("TooltipContent"),$H=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=a0(ph,n),u=zx(n),{onClose:f}=l;return C.useEffect(()=>(document.addEventListener(WT,f),()=>document.removeEventListener(WT,f)),[f]),C.useEffect(()=>{if(l.trigger){const h=g=>{g.target?.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),p.jsx(jh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:p.jsxs(Rx,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(ule,{children:r}),p.jsx(lle,{scope:n,isInside:!0,children:p.jsx(hae,{id:l.contentId,role:"tooltip",children:s||r})})]})})});zH.displayName=ph;var VH="TooltipArrow",qH=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=zx(n);return cle(VH,n).isInside?null:p.jsx(Ix,{...s,...r,ref:t})});qH.displayName=VH;function dle(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fle(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function hle(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function ple(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,h=l.x,g=l.y;f>r!=g>r&&n<(h-u)*(r-f)/(g-f)+u&&(s=!s)}return s}function mle(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gle(t)}function gle(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ble=BH,yle=HH,vle=FH,xle=UH,wle=zH,Ele=qH;function Cle({delayDuration:e=0,...t}){return p.jsx(ble,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Sle({...e}){return p.jsx(Cle,{children:p.jsx(yle,{"data-slot":"tooltip",...e})})}function Tle({...e}){return p.jsx(vle,{"data-slot":"tooltip-trigger",...e})}function kle({className:e,sideOffset:t=0,children:n,...r}){return p.jsx(xle,{children:p.jsxs(wle,{"data-slot":"tooltip-content",sideOffset:t,className:Ue("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,p.jsx(Ele,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const _le=[{label:"NOSOTROS",route:Qe.CLIENT_ABOUT},{label:"BLOG",route:Qe.CLIENT_BLOG},{label:"SERVICIOS",route:Qe.CLIENT_SERVICES},{label:"QUIZ",route:Qe.CLIENT_QUIZ}],Nle=C.forwardRef((e,t)=>{const[n,r]=C.useState(!1),{pathname:s}=Q_();C.useEffect(()=>{const o=()=>{const a=window.scrollY;r(a>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return p.jsxs("header",{ref:t,className:Ue("fixed top-0 left-0 w-full z-50 flex-col items-center transition-all duration-300","bg-silk-secondary font-acumin select-none pb-2"),children:[p.jsx("div",{className:"flex justify-center transition-all duration-300 py-2",children:p.jsx(as,{to:"/",onClick:i,children:p.jsx("img",{src:"/silk-main-logo.webp",alt:"Logo de Estudio Silk",className:`transition-all duration-300 
                     ${n?"h-10":"h-15"}
            `})})}),p.jsx("div",{className:"w-screen h-[1px] bg-[#e0e0e0] mb-2 transition-opacity duration-300"}),p.jsx("nav",{className:"w-full flex justify-center transition-all duration-300",children:p.jsx("ul",{className:"flex gap-9 justify-center items-center w-full m-0 p-0 list-none",children:_le.map(({label:o,route:a},l)=>{const u=N8(s,a);return p.jsx("li",{className:"relative group",children:p.jsxs(as,{to:a,className:`text-base text-silk-tertiary transition-colors duration-300
                              inline-block relative ${u&&"font-semibold"}`,children:[o,p.jsx("span",{className:`block absolute left-0 -bottom-2 h-[1px] bg-silk-tertiary transition-all duration-300
                                    ${u?"w-full":"w-0"} group-hover:w-full`})]})},`nav-link-${l}`)})})})]})}),Ale=[{label:"NOSOTROS",route:Qe.CLIENT_ABOUT},{label:"BLOG",route:Qe.CLIENT_BLOG},{label:"SERVICIOS",route:Qe.CLIENT_SERVICES},{label:"QUIZ",route:Qe.CLIENT_QUIZ}],Mle=()=>{const e=cx(t=>t.user);return p.jsx("footer",{className:"bg-silk-primary py-20",children:p.jsxs("div",{className:"max-w-xs sm:max-w-xl lg:max-w-5xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("img",{src:"/silk-main-logo.webp",alt:"Logo de Estudiosilk footer",className:"w-[100px] mb-2"}),p.jsx("p",{className:"text-base leading-relaxed max-w-[650px] mb-4",children:"Combinamos creatividad y estrategia para transformar tu estilo en una herramienta de confianza y autenticidad, ayudándote a proyectar tu mejor versión cada día."})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center gap-4",children:[p.jsx("div",{className:"flex gap-4 ",children:Ale.map(({label:t,route:n})=>p.jsx(as,{to:n,children:t},t))}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx(as,{to:"https://www.instagram.com/estudiosilk/?hl=es",target:"_blank",rel:"noopener noreferrer",className:"size-7",children:p.jsx("img",{src:"/socials-images/instagram.webp",alt:"Instagram",className:"w-full h-full object-contain"})}),p.jsx(as,{to:"https://www.facebook.com/profile.php?id=61565342986870",target:"_blank",rel:"noopener noreferrer",className:"size-7",children:p.jsx("img",{src:"/socials-images/facebook.webp",alt:"Facebook",className:"w-full h-full object-contain"})}),p.jsx(as,{to:"https://www.tiktok.com/@lucasccontardi",target:"_blank",rel:"noopener noreferrer",className:"size-7",children:p.jsx("img",{src:"/socials-images/tik-tok.webp",alt:"TikTok",className:"w-full h-full object-contain"})})]})]}),p.jsx("div",{className:"w-full h-[1px] bg-silk-tertiary/40 my-5"}),p.jsxs("div",{className:"flex flex-col gap-3 text-xs opacity-70 pb-2",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[p.jsx("p",{className:"m-0",children:"ESTUDIOSILK. TODOS LOS DERECHOS RESERVADOS"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("span",{className:"cursor-pointer hover:underline",children:"Términos y condiciones"}),p.jsx("span",{className:"cursor-pointer hover:underline",children:"Privacy Policy"}),p.jsx(as,{to:e?Qe.ADMIN_DASHBOARD:Qe.ADMIN_LOGIN,className:"cursor-pointer hover:underline",children:"Acceso"})]})]}),p.jsxs("p",{className:"m-0 text-xs opacity-60 text-center",children:["Desarrollado por"," ",p.jsx(as,{to:"https://www.linkedin.com/in/lautaro-fullone-77320a197/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:opacity-80 transition-opacity",children:"Lautaro Fullone"})]})]})]})})},Ole=()=>{const{ref:e,height:t}=vZ();return p.jsxs("div",{className:"font-acumin text-silk-tertiary flex flex-col min-h-screen bg-silk-secondary",children:[p.jsx(Nle,{ref:e}),p.jsx("main",{className:"flex-1 transition-[margin] duration-300 bg-silk-tertiary",style:{marginTop:t},children:p.jsx(X_,{})}),p.jsx(Mle,{})]})},$x=()=>{const[e,t]=C.useState(!1);return C.useEffect(()=>{function n(){t(window.innerWidth<640)}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},Rle=(e,t=500)=>{const[n,r]=C.useState(e);return C.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n},Ile=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ZN extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class UD extends ZN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zD extends ZN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $D extends ZN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var QT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(QT||(QT={}));var Dle=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Lle{constructor(t,{headers:n={},customFetch:r,region:s=QT.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ile(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Dle(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:a}=n;let l={},{region:u}=n;u||(u=this.region);const f=new URL(`${this.url}/${t}`);u&&u!=="any"&&(l["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const g=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h,signal:a}).catch(w=>{throw w.name==="AbortError"?w:new UD(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new zD(g);if(!g.ok)throw new $D(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new UD(s)}:{data:null,error:s,response:s instanceof $D||s instanceof zD?s.context:void 0}}})}}var Er={},gf={},bf={},yf={},vf={},xf={},jle=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mh=jle();const Ple=mh.fetch,GH=mh.fetch.bind(mh),YH=mh.Headers,Ble=mh.Request,Hle=mh.Response,Uh=Object.freeze(Object.defineProperty({__proto__:null,Headers:YH,Request:Ble,Response:Hle,default:GH,fetch:Ple},Symbol.toStringTag,{value:"Module"})),Fle=AX(Uh);var o1={},VD;function WH(){if(VD)return o1;VD=1,Object.defineProperty(o1,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return o1.default=e,o1}var qD;function KH(){if(qD)return xf;qD=1;var e=xf&&xf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(xf,"__esModule",{value:!0});const t=e(Fle),n=e(WH());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,g,b;let v=null,x=null,w=null,S=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=R:x=JSON.parse(R))}const M=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");M&&O&&O.length>1&&(w=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,w=null,S=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const M=await u.text();try{v=JSON.parse(M),Array.isArray(v)&&u.status===404&&(x=[],v=null,S=200,_="OK")}catch{u.status===404&&M===""?(S=204,_="No Content"):v={message:M}}if(v&&this.isMaybeSingle&&(!((b=v?.details)===null||b===void 0)&&b.includes("0 rows"))&&(v=null,S=200,_="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:x,count:w,status:S,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,h,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return xf.default=r,xf}var GD;function QH(){if(GD)return vf;GD=1;var e=vf&&vf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vf,"__esModule",{value:!0});const t=e(KH());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return vf.default=n,vf}var YD;function JN(){if(YD)return yf;YD=1;var e=yf&&yf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yf,"__esModule",{value:!0});const t=e(QH());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return yf.default=n,yf}var WD;function XH(){if(WD)return bf;WD=1;var e=bf&&bf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bf,"__esModule",{value:!0});const t=e(JN());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(s??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(h.length>0){const g=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return bf.default=n,bf}var KD;function Ule(){if(KD)return gf;KD=1;var e=gf&&gf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gf,"__esModule",{value:!0});const t=e(XH()),n=e(JN());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var f;let h;const g=new URL(`${this.url}/rpc/${i}`);let b;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{g.searchParams.append(x,w)})):(h="POST",b=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:h,url:g,headers:v,schema:this.schemaName,body:b,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return gf.default=r,gf}var QD;function zle(){if(QD)return Er;QD=1;var e=Er&&Er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const t=e(Ule());Er.PostgrestClient=t.default;const n=e(XH());Er.PostgrestQueryBuilder=n.default;const r=e(JN());Er.PostgrestFilterBuilder=r.default;const s=e(QH());Er.PostgrestTransformBuilder=s.default;const i=e(KH());Er.PostgrestBuilder=i.default;const o=e(WH());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Er}var $le=zle();const Vle=lx($le),{PostgrestClient:qle,PostgrestQueryBuilder:J9e,PostgrestFilterBuilder:eBe,PostgrestTransformBuilder:tBe,PostgrestBuilder:nBe,PostgrestError:rBe}=Vle;class Gle{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Yle="2.15.5",Wle=`realtime-js/${Yle}`,Kle="1.0.0",XT=1e4,Qle=1e3,Xle=100;var Am;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Am||(Am={}));var mr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mr||(mr={}));var ao;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ao||(ao={}));var ZT;(function(e){e.websocket="websocket"})(ZT||(ZT={}));var Mu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mu||(Mu={}));class Zle{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ZH{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wn||(wn={}));const XD=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Jle(o,e,t,s),i),{})},Jle=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s?.type,o=n[e];return i&&!r.includes(i)?JH(i,o):JT(o)},JH=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rce(t,n)}switch(e){case wn.bool:return ece(t);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return tce(t);case wn.json:case wn.jsonb:return nce(t);case wn.timestamp:return sce(t);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return JT(t);default:return JT(t)}},JT=e=>e,ece=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rce=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>JH(t,a))}return e},sce=e=>typeof e=="string"?e.replace(" ","T"):e,eF=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class jS{constructor(t,n,r={},s=XT){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ZD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ZD||(ZD={}));class Mm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mm.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Mm.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mm.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=i[u];if(h){const g=f.map(w=>w.presence_ref),b=h.map(w=>w.presence_ref),v=f.filter(w=>b.indexOf(w.presence_ref)<0),x=h.filter(w=>g.indexOf(w.presence_ref)<0);v.length>0&&(a[u]=v),x.length>0&&(l[u]=x)}else a[u]=f}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),f.length>0){const h=t[a].map(b=>b.presence_ref),g=f.filter(b=>h.indexOf(b.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var JD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(JD||(JD={}));var Om;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Om||(Om={}));var Qa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qa||(Qa={}));class eA{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jS(this,ao.join,this.params,this.timeout),this.rejoinTimer=new ZH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ao.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mm(this),this.broadcastEndpointURL=eF(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mr.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Om.PRESENCE]&&this.bindings[Om.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Qa.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Qa.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var v;if(this.socket.setAuth(),b===void 0){t?.(Qa.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x?.length)!==null&&v!==void 0?v:0,S=[];for(let _=0;_<w;_++){const N=x[_],{filter:{event:M,schema:O,table:R,filter:I}}=N,j=b&&b[_];if(j&&j.event===M&&j.schema===O&&j.table===R&&j.filter===I)S.push(Object.assign(Object.assign({},N),{id:j.id}));else{this.unsubscribe(),this.state=mr.errored,t?.(Qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Qa.SUBSCRIBED);return}}).receive("error",b=>{this.state=mr.errored,t?.(Qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===mr.joined&&t===Om.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ao.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jS(this,ao.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jS(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Xle){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=ao;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var v,x,w;return((v=b.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=b.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var v,x,w,S,_,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const M=b.id,O=(v=b.filter)===null||v===void 0?void 0:v.event;return M&&((x=n.ids)===null||x===void 0?void 0:x.includes(M))&&(O==="*"||O?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const M=(_=(S=b?.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return M==="*"||M===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:w,commit_timestamp:S,type:_,errors:N}=v;g=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:S,eventType:_,new:{},old:{},errors:N}),this._getPayloadRecords(v))}b.callback(g,r)})}_isClosed(){return this.state===mr.closed}_isJoined(){return this.state===mr.joined}_isJoining(){return this.state===mr.joining}_isLeaving(){return this.state===mr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&eA.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ao.close,{},t)}_onError(t){this._on(ao.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=XD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=XD(t.columns,t.old_record)),n}}const PS=()=>{},a1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ice=[1e3,2e3,5e3,1e4],oce=1e4,ace=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lce{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=XT,this.transport=null,this.heartbeatIntervalMs=a1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=PS,this.ref=0,this.reconnectTimer=null,this.logger=PS,this.conn=null,this.sendBuffer=[],this.serializer=new Zle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ll(async()=>{const{default:a}=await Promise.resolve().then(()=>Uh);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ZT.websocket}`,this.httpEndpoint=eF(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gle.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kle}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Am.connecting:return Mu.Connecting;case Am.open:return Mu.Open;case Am.closing:return Mu.Closing;default:return Mu.Closed}}isConnected(){return this.connectionState()===Mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new eA(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Qle,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},a1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ao.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ace],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Wle};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ao.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ZH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},a1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,f;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:XT,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:a1.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:PS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>ice[h-1]||oce),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((h,g)=>g(JSON.stringify(h))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class tA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cce extends tA{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ek extends tA{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var uce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const tF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},dce=()=>uce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ll(()=>Promise.resolve().then(()=>Uh),void 0)).Response:Response}),tk=e=>{if(Array.isArray(e))return e.map(n=>tk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tk(r)}),t},fce=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var bd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const BS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hce=(e,t,n)=>bd(void 0,void 0,void 0,function*(){const r=yield dce();e instanceof r&&!n?.noResolveJson?e.json().then(s=>{const i=e.status||500,o=s?.statusCode||i+"";t(new cce(BS(s),i,o))}).catch(s=>{t(new ek(BS(s),s))}):t(new ek(BS(e),e))}),pce=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!r?s:(fce(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function l0(e,t,n,r,s,i){return bd(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,pce(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hce(l,a,r))})})}function Iy(e,t,n,r){return bd(this,void 0,void 0,function*(){return l0(e,"GET",t,n,r)})}function Ko(e,t,n,r,s){return bd(this,void 0,void 0,function*(){return l0(e,"POST",t,r,s,n)})}function nk(e,t,n,r,s){return bd(this,void 0,void 0,function*(){return l0(e,"PUT",t,r,s,n)})}function mce(e,t,n,r){return bd(this,void 0,void 0,function*(){return l0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nF(e,t,n,r,s){return bd(this,void 0,void 0,function*(){return l0(e,"DELETE",t,r,s,n)})}var gce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class bce{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return gce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}var yce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vce{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new bce(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return yce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}var _s=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const xce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wce{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=tF(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return _s(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},e6),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?nk:Ko)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return _s(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:e6.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield nk(this.fetch,a.toString(),l,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(sr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return _s(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield Ko(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new tA("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}update(t,n,r){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _s(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}copy(t,n,r){return _s(this,void 0,void 0,function*(){try{return{data:{path:(yield Ko(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return _s(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ko(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return _s(this,void 0,void 0,function*(){try{const s=yield Ko(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Iy(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new vce(l,this.shouldThrowOnError)}info(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Iy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}exists(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield mce(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r)&&r instanceof ek){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return _s(this,void 0,void 0,function*(){try{return{data:yield nF(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}list(t,n,r){return _s(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xce),n),{prefix:t||""});return{data:yield Ko(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}listV2(t,n){return _s(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ko(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ece="2.12.2",Cce={"X-Client-Info":`storage-js/${Ece}`};var wf=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Sce{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Cce),n),this.fetch=tF(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return wf(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}getBucket(t){return wf(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wf(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wf(this,void 0,void 0,function*(){try{return{data:yield nk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wf(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wf(this,void 0,void 0,function*(){try{return{data:yield nF(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}}class Tce extends Sce{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new wce(this.url,this.headers,t,this.fetch)}}const kce="2.58.0";let vm="";typeof Deno<"u"?vm="deno":typeof document<"u"?vm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vm="react-native":vm="node";const _ce={"X-Client-Info":`supabase-js-${vm}/${kce}`},Nce={headers:_ce},Ace={schema:"public"},Mce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oce={};var Rce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Ice=e=>{let t;return e?t=e:typeof fetch>"u"?t=GH:t=fetch,(...n)=>t(...n)},Dce=()=>typeof Headers>"u"?YH:Headers,Lce=(e,t,n)=>{const r=Ice(n),s=Dce();return(i,o)=>Rce(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var jce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Pce(e){return e.endsWith("/")?e:e+"/"}function Bce(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jce(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Hce(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pce(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rF="2.72.0",Bf=30*1e3,rk=3,HS=rk*Bf,Fce="http://localhost:9999",Uce="supabase.auth.token",zce={"X-Client-Info":`gotrue-js/${rF}`},sk="X-Supabase-Api-Version",sF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$ce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vce=600*1e3;class nA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qce extends nA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gce(e){return pt(e)&&e.name==="AuthApiError"}class iF extends nA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gc extends nA{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class nc extends Gc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yce(e){return pt(e)&&e.name==="AuthSessionMissingError"}class rm extends Gc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class l1 extends Gc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class c1 extends Gc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wce(e){return pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class t6 extends Gc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ik extends Gc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function FS(e){return pt(e)&&e.name==="AuthRetryableFetchError"}class n6 extends Gc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ok extends Gc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r6=` 	
\r=`.split(""),Kce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r6.length;t+=1)e[r6[t].charCodeAt(0)]=-2;for(let t=0;t<Dy.length;t+=1)e[Dy[t].charCodeAt(0)]=t;return e})();function s6(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dy[r]),t.queuedBits-=6}}function oF(e,t,n){const r=Kce[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i6(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Zce(o,r,n)};for(let o=0;o<e.length;o+=1)oF(e.charCodeAt(o),s,i);return t.join("")}function Qce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xce(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Qce(r,t)}}function Zce(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Jce(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)oF(e.charCodeAt(s),n,r);return new Uint8Array(t)}function eue(e){const t=[];return Xce(e,n=>t.push(n)),new Uint8Array(t)}function tue(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>s6(s,n,r)),s6(null,n,r),t.join("")}function nue(e){return Math.round(Date.now()/1e3)+e}function rue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ii=()=>typeof window<"u"&&typeof document<"u",Su={tested:!1,writable:!1},aF=()=>{if(!Ii())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Su.tested)return Su.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Su.tested=!0,Su.writable=!0}catch{Su.tested=!0,Su.writable=!1}return Su.writable};function sue(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const lF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Tu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xl=async(e,t)=>{await e.removeItem(t)};class Vx{constructor(){this.promise=new Vx.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vx.promiseConstructor=Promise;function US(e){const t=e.split(".");if(t.length!==3)throw new ok("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$ce.test(t[r]))throw new ok("JWT not in base64url format");return{header:JSON.parse(i6(t[0])),payload:JSON.parse(i6(t[1])),signature:Jce(t[2]),raw:{header:t[0],payload:t[1]}}}async function oue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aue(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function lue(e){return("0"+e.toString(16)).substr(-2)}function cue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,lue).join("")}async function uue(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function due(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uue(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ef(e,t,n=!1){const r=cue();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Hf(e,`${t}-code-verifier`,s);const i=await due(r);return[i,r===i?"plain":"s256"]}const fue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hue(e){const t=e.headers.get(sk);if(!t||!t.match(fue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cf(e){if(!gue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o6(e){return JSON.parse(JSON.stringify(e))}var bue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Au=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yue=[502,503,504];async function a6(e){var t;if(!iue(e))throw new ik(Au(e),0);if(yue.includes(e.status))throw new ik(Au(e),e.status);let n;try{n=await e.json()}catch(i){throw new iF(Au(i),i)}let r;const s=hue(e);if(s&&s.getTime()>=sF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new n6(Au(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new n6(Au(n),e.status,n.weak_password.reasons);throw new qce(Au(n),e.status||500,r)}const vue=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Mt(e,t,n,r){var s;const i=Object.assign({},r?.headers);i[sk]||(i[sk]=sF["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await xue(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function xue(e,t,n,r,s,i){const o=vue(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new ik(Au(l),0)}if(a.ok||await a6(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await a6(l)}}function Wo(e){var t;let n=null;Sue(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nue(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function l6(e){const t=Wo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wue(e){return{data:e,error:null}}function Eue(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=bue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Cue(e){return e}function Sue(e){return e.access_token&&e.refresh_token&&e.expires_in}const $S=["global","local","others"];var Tue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class kue{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lF(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=$S[0]){if($S.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$S.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Tue(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eue,redirectTo:n?.redirectTo})}catch(n){if(pt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Cue});if(f.error)throw f.error;const h=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return b.length>0&&(b.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cf(t);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cf(t);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Cf(t);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Cf(t.userId);try{const{data:n,error:r}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cf(t.userId),Cf(t.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}}function c6(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function _ue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sf={debug:!!(globalThis&&aF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nue extends cF{}async function Aue(e,t,n){Sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Sf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Mue(e){return parseInt(e,16)}function Oue(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Rue(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:f,uri:h,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=uF(e.address),v=f?`${f}://${r}`:r,x=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${b}

${x}`;let S=`URI: ${h}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),a&&(S+=`
Not Before: ${a.toISOString()}`),l&&(S+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const N of u){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);_+=`
- ${N}`}S+=_}return`${w}
${S}`}_ue();const Iue={url:Fce,storageKey:Uce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function u6(e,t,n){return await n()}const Tf={};class pg{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pg.nextInstanceID,pg.nextInstanceID+=1,this.instanceID>0&&Ii()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Iue),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kue({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lF(s.fetch),this.lock=s.lock||u6,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ii()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Aue:this.lock=u6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:aF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c6(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=c6(this.memoryStorage)),Ii()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Tf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Tf[this.storageKey]=Object.assign(Object.assign({},Tf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Tf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tf[this.storageKey]=Object.assign(Object.assign({},Tf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rF}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sue(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ii()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Wce(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pt(n)?{error:n}:{error:new iF("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wo}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(pt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:f,password:h,options:g}=t;let b=null,v=null;this.flowType==="pkce"&&([b,v]=await Ef(this.storage,this.storageKey)),i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:v},xform:Wo})}else if("phone"in t){const{phone:f,password:h,options:g}=t;i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(s=g?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Wo})}else throw new l1("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(pt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:l6})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:l6})}else throw new l1("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new rm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,f,h,g;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:S,options:_}=t;let N;if(Ii())if(typeof w=="object")N=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")N=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const M=new URL((n=_?.url)!==null&&n!==void 0?n:window.location.href),O=await N.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=uF(O[0]);let I=(r=_?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const U=await N.request({method:"eth_chainId"});I=Mue(U)}const j={domain:M.host,address:R,statement:S,uri:M.href,version:"1",chainId:I,nonce:(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=_?.signInWithEthereum)===null||f===void 0?void 0:f.resources};b=Rue(j),v=await N.request({method:"personal_sign",params:[Oue(b),R]})}try{const{data:x,error:w}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Wo});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new rm}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(pt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,f,h,g,b;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:w,wallet:S,statement:_,options:N}=t;let M;if(Ii())if(typeof S=="object")M=S;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))M=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=S}const O=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const R=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),_?{statement:_}:null));let I;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")I=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)I=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)v=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),x=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${O.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(r=N?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((a=N?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((h=(f=N?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...N.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const R=await M.signMessage(new TextEncoder().encode(v),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=R}}try{const{data:w,error:S}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:tue(x)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Wo});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new rm}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(pt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Tu(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Wo});if(await Xl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(pt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Wo}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ef(this.storage,this.storageKey));const{error:h}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:f}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new l1("You must provide either an email or phone number.")}catch(a){if(pt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ef(this.storage,this.storageKey)),await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wue})}catch(i){if(pt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nc;const{error:s}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(pt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new l1("You must provide either an email or phone number and a type")}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Tu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<HS:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Tu(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=zS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cc}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nc}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:cc})})}catch(n){if(pt(n))return Yce(n)&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nc;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ef(this.storage,this.storageKey));const{data:u,error:f}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:cc});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nc;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=US(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(pt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new nc;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ii())throw new c1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new c1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new t6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new c1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t6("No code detected.");const{data:_,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new c1("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let g=f+h;l&&(g=parseInt(l));const b=g-f;b*1e3<=Bf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${h}s`);const v=g-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,f);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const S={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(r){if(pt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Tu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Gce(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=rue(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ef(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(pt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,f;const{data:h,error:g}=i;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",b,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ii()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(pt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aue(async s=>(s>0&&await oue(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wo})),(s,i)=>{const o=200*Math.pow(2,s);return i&&FS(i)&&Date.now()+o-r<Bf})}catch(r){if(this._debug(n,"error",r),pt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ii()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Tu(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Tu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Hf(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o?.user)!==null&&t!==void 0?t:zS()}else if(s&&!s.user&&!s.user){const o=await Tu(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await Xl(this.storage,this.storageKey+"-user"),await Hf(this.storage,this.storageKey,s)):s.user=zS()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<HS;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${HS}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),FS(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new nc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),pt(i)){const o={session:null,error:i};return FS(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Hf(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=o6(s);await Hf(this.storage,this.storageKey,i)}else{const s=o6(n);await Hf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Xl(this.storage,this.storageKey),await Xl(this.storage,this.storageKey+"-code-verifier"),await Xl(this.storage,this.storageKey+"-user"),this.userStorage&&await Xl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ii()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Bf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bf}ms, refresh threshold is ${rk} ticks`),s<=rk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ii()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ef(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=US(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Vce>s)return r;const{data:i,error:o}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:v}=await this.getSession();if(v||!b.session)return{data:null,error:v};r=b.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=US(r);n?.allowExpired||pue(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:s,signature:o},error:null}}const f=mue(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,eue(`${a}.${l}`)))throw new ok("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}}pg.nextInstanceID=0;const Due=pg;class Lue extends Due{constructor(t){super(t)}}var jue=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Pue{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=Hce(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ace,realtime:Oce,auth:Object.assign(Object.assign({},Mce),{storageKey:l}),global:Nce},f=Bce(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Lce(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qle(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Tce(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Lle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return jue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},f,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lue({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bue=(e,t,n)=>new Pue(e,t,n);function Hue(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Hue()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fue="https://rzsrczjraasauflssdqq.supabase.co",Uue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6c3JjempyYWFzYXVmbHNzZHFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0ODc1NzksImV4cCI6MjA3NDA2MzU3OX0.CvAO78HZABf7im6zEd6fRG2bCuOI3dKOJLpUUd2ytCQ",d6=Bue(Fue,Uue,{auth:{autoRefreshToken:!0,persistSession:!1}}),dF=()=>{const[e,t]=C.useState(!1),{dispatchUser:n}=cx(i=>i.actions);return{login:async({email:i,password:o})=>{t(!0);try{const{data:a,error:l}=await d6.auth.signInWithPassword({email:i,password:o});if(l)throw l;return n(a.user),Zt.success(`Bienvenidx de nuevo ${a.user?.user_metadata?.display_name||""}!`),{success:!0,user:a.user}}catch(a){const l=a;let u="Error al iniciar sesión";switch(l.message){case"Invalid login credentials":u="Credenciales incorrectas. Verificá tu email y contraseña.";break;case"Email not confirmed":u="Tu email no ha sido confirmado. Revisá tu bandeja de entrada.";break;case"Too many requests":u="Demasiados intentos. Intentá nuevamente en unos minutos.";break;default:u=l.message||"Error desconocido al iniciar sesión"}return Zt.error("Error de autenticación",{description:u,duration:5e3}),{success:!1,error:u}}finally{t(!1)}},logout:async()=>{t(!0);try{return await d6.auth.signOut(),n(null),{success:!0}}catch(i){return console.error("Error during logout:",i),n(null),{success:!1}}finally{t(!1)}},isLoading:e}},qx=({data:e,searchFields:t,sortableFields:n,initialFilters:r={},defaultSort:s={}})=>{const[i,o]=C.useState(""),[a,l]=C.useState(r),[u,f]=C.useState(s.field||(n&&n.length>0?n[0]:void 0)),[h,g]=C.useState(s.order||"desc"),b=Rle(i,400),v=M=>M.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),x=C.useMemo(()=>{const M=v(b),O=e.filter(R=>{const I=M.length===0||t.some(U=>{const P=R[U];return typeof P=="string"&&v(P).includes(M)}),j=Object.entries(a).every(([U,P])=>{if(P==="all")return!0;const K=R[U];return String(K)===P});return I&&j});return u&&O.sort((R,I)=>{const j=R[u],U=I[u];return typeof j=="string"&&typeof U=="string"?h==="asc"?j.localeCompare(U):U.localeCompare(j):typeof j=="number"&&typeof U=="number"?h==="asc"?j-U:U-j:j instanceof Date&&U instanceof Date?h==="asc"?j.getTime()-U.getTime():U.getTime()-j.getTime():0}),O},[e,b,a,t,u,h]),w=(M,O)=>{l(R=>({...R,[M]:O}))},S=()=>{o(""),l(r)},_=()=>{g(M=>M==="asc"?"desc":"asc")},N=b.length>0||Object.entries(a).some(([,M])=>M!=="all");return{items:x,totalItems:x.length,searchTerm:i,setSearchTerm:o,filters:a,updateFilter:w,clearFilters:S,hasActiveFilters:N,sortBy:u,setSortBy:f,sortOrder:h,toggleSortOrder:_}};function Gx({totalItems:e,itemsPerPage:t=10}){const[n,r]=C.useState(1),[s,i]=C.useState(t),o=s==="*"?1:Math.ceil(e/s)||1,a=s==="*"?0:(n-1)*s,l=s==="*"?e:Math.min(a+s,e),u=x=>{i(x),r(1)},f=x=>{x>=1&&x<=o&&r(x)},h=()=>f(n+1),g=()=>f(n-1),b=n<o,v=n>1;return{currentPage:n,totalPages:o,startIndex:a,endIndex:l,itemsPerPage:s,goToPage:f,goToNext:h,goToPrevious:g,canGoNext:b,canGoPrevious:v,setItemsPerPage:u}}const Zr=EX.create({baseURL:"http://localhost:3031/api"});async function zue(e){const{data:t}=await Zr.get("/testimonials",{params:{onlyActive:e}});return t}async function $ue(e){const{data:t}=await Zr.get(`/testimonials/${e}`);return t}async function Vue(e){const t=new FormData;t.append("personName",e.personName),t.append("personRole",e.personRole),t.append("description",e.description),t.append("isHighlight",String(e.isHighlight)),t.append("isActive",String(e.isActive)),e.avatarFile&&t.append("avatarFile",e.avatarFile);const{data:n}=await Zr.post("/testimonials",t);return n}async function que({testimonialId:e,testimonialData:t}){const n=new FormData;t.personName!==void 0&&n.append("personName",t.personName),t.personRole!==void 0&&n.append("personRole",t.personRole),t.description!==void 0&&n.append("description",t.description),t.isHighlight!==void 0&&n.append("isHighlight",String(t.isHighlight)),t.isActive!==void 0&&n.append("isActive",String(t.isActive)),t.avatarFile&&n.append("avatarFile",t.avatarFile);const{data:r}=await Zr.patch(`/testimonials/${e}`,n);return r}async function Gue(e){const{data:t}=await Zr.delete(`/testimonials/${e}`);return t}function ps(e){if(e instanceof CX){if(e.response?.data&&typeof e.response.data=="object"){const{message:t,code:n,details:r}=e.response.data;if(t&&n)return{message:t,code:n,details:r}}if(e.response?.status)return{message:{400:"Solicitud incorrecta",401:"No autorizado",403:"Acceso denegado",404:"Recurso no encontrado",500:"Error interno del servidor",502:"Error de puerta de enlace",503:"Servicio no disponible"}[e.response.status]||`Error HTTP ${e.response.status}`,code:`HTTP_${e.response.status}`};if(e.code==="ERR_NETWORK"||e.message==="Network Error")return{message:"Error de conexión. Verifica tu conexión a internet.",code:"NETWORK_ERROR"};if(e.code==="ECONNABORTED")return{message:"La solicitud tardó demasiado tiempo. Intenta nuevamente.",code:"TIMEOUT_ERROR"}}return{message:e instanceof Error?e.message:"Error desconocido",code:"UNKNOWN_ERROR"}}const Vt={FETCH_TESTIMONIAL:"testimonial",FETCH_TESTIMONIALS:"testimonials",CREATE_TESTIMONIAL:"create_testimonial",UPDATE_TESTIMONIAL:"update_testimonial",DELETE_TESTIMONIAL:"delete_testimonial",FETCH_POST:"post",FETCH_POSTS:"posts",CREATE_POST:"create_post",UPDATE_POST:"update_post",DELETE_POST:"delete_post",FETCH_REQUEST:"request",FETCH_REQUESTS:"requests",CREATE_REQUEST:"create_request",UPDATE_REQUEST:"update_request",DELETE_REQUEST:"delete_request",FETCH_DASHBOARD_STATS:"dashboard_stats"},Yue=()=>{const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:Vue,onSuccess:({message:r})=>{Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_TESTIMONIALS]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.CREATE_TESTIMONIAL}`})}});return{createTestimonialMutate:t,isPending:n}};function Wue(){const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:Gue,onSuccess:({message:r})=>{Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_TESTIMONIALS]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.DELETE_TESTIMONIAL}`})}});return{deleteTestimonialMutate:t,isPending:n}}const fF=e=>{const{data:t,isLoading:n,error:r,isError:s}=fd({queryKey:[Vt.FETCH_TESTIMONIALS,e.onlyActive],queryFn:()=>zue(e.onlyActive),staleTime:12e5,retry:1});if(s&&r.message!=="Network Error"){const{message:i}=ps(r);Zt.error(i,{id:`error-${Vt.FETCH_TESTIMONIALS}`})}return{testimonials:t?.testimonials||[],isLoading:n,isError:s,error:r}},Kue=e=>{const{data:t,isLoading:n,error:r,isError:s}=fd({queryKey:[Vt.FETCH_TESTIMONIAL,e.testimonialId],queryFn:()=>$ue(e.testimonialId),staleTime:12e4,retry:1,enabled:!!e.testimonialId});if(s&&r.message!=="Network Error"){const{message:i}=ps(r);Zt.error(i,{id:`error-${Vt.FETCH_TESTIMONIAL}-${e.testimonialId}`})}return{testimonial:t?.testimonial,isLoading:n,isError:s,error:r}},Que=()=>{const e=Xr(),t=bl(),{mutateAsync:n,isPending:r}=yl({mutationFn:que,onSuccess:({message:s,testimonial:i})=>{s==="No hay cambios para aplicar"?Zt.info(s):(Zt.success(s),t.invalidateQueries({queryKey:[Vt.FETCH_TESTIMONIALS]}),t.setQueryData([Vt.FETCH_TESTIMONIAL,i.id],{message:s,testimonial:i}),e(Qe.ADMIN_TESTIMONIAL_LIST))},onError:s=>{if(s?.message==="Network Error")return;const{message:i}=ps(s);Zt.error(i,{id:`error-${Vt.UPDATE_TESTIMONIAL}`})}});return{updateTestimonialMutate:n,isPending:r}};async function Xue(){const{data:e}=await Zr.get("/service-requests");return e}async function Zue(e){const{data:t}=await Zr.get(`/service-requests/${e}`);return t}async function Jue(e){const{data:t}=await Zr.post("/service-requests",e);return t}async function ede({requestId:e,status:t}){const{data:n}=await Zr.patch(`/service-requests/${e}/status`,{status:t});return n}async function tde(e){const{data:t}=await Zr.delete(`/service-requests/${e}`);return t}const nde=()=>{const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:Jue,onSuccess:({message:r})=>{Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_REQUESTS]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.CREATE_REQUEST}`})}});return{createServiceRequestMutate:t,isPending:n}};function rde(){const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:tde,onSuccess:({message:r,request:s})=>{Zt.success(r),e.setQueryData([Vt.FETCH_REQUESTS],i=>i&&{...i,requests:i.requests?.filter(o=>o.id!==s.id)||[]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.DELETE_REQUEST}`})}});return{deleteRequestMutate:t,isPending:n}}const sde=e=>{const{data:t,isLoading:n,error:r,isError:s}=fd({queryKey:[Vt.FETCH_REQUEST,e.requestId],queryFn:()=>Zue(e.requestId),enabled:!!e.requestId,staleTime:12e5,retry:1});if(s&&r.message!=="Network Error"){const{message:i}=ps(r);Zt.error(i,{id:`error-${Vt.FETCH_REQUEST}`})}return{request:t?.request||null,isLoading:n,isError:s,error:r}},ide=()=>{const{data:e,isLoading:t,error:n,isError:r}=fd({queryKey:[Vt.FETCH_REQUESTS],queryFn:Xue,staleTime:12e5,retry:1});if(r&&n.message!=="Network Error"){const{message:s}=ps(n);Zt.error(s,{id:`error-${Vt.FETCH_REQUESTS}`})}return{requests:e?.requests||[],isLoading:t,isError:r,error:n}},ode=()=>{const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:ede,onSuccess:({message:r,request:s})=>{r==="No hay cambios para aplicar"?Zt.info(r):(Zt.success(r),e.setQueryData([Vt.FETCH_REQUESTS],i=>i&&{...i,requests:i.requests.map(o=>o.id===s.id?s:o)}),e.setQueryData([Vt.FETCH_REQUEST,s.id],{message:r,request:s}))},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.UPDATE_REQUEST}`})}});return{updateServiceRequestMutate:t,isPending:n}};async function ade(e){const{data:t}=await Zr.get("/posts",{params:{onlyActive:e}});return t}async function lde(e){const{data:t}=await Zr.get(`/posts/${e}`);return t}async function cde(e){const t=new FormData;t.append("title",e.title),t.append("author",e.author),t.append("date",e.date),t.append("description",e.description),t.append("categoryName",e.categoryName),t.append("content",JSON.stringify(e.content)),t.append("isActive",String(e.isActive)),e.imageFile&&t.append("imageFile",e.imageFile);const{data:n}=await Zr.post("/posts",t);return n}async function ude({postId:e,postData:t}){const n=new FormData;t.title!==void 0&&n.append("title",t.title),t.author!==void 0&&n.append("author",t.author),t.date!==void 0&&n.append("date",t.date),t.description!==void 0&&n.append("description",t.description),t.categoryName!==void 0&&n.append("categoryName",t.categoryName),t.content!==void 0&&n.append("content",JSON.stringify(t.content)),t.isActive!==void 0&&n.append("isActive",String(t.isActive)),t.imageFile&&n.append("imageFile",t.imageFile);const{data:r}=await Zr.patch(`/posts/${e}`,n);return r}async function dde(e){const{data:t}=await Zr.delete(`/posts/${e}`);return t}const fde=()=>{const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:cde,onSuccess:({message:r})=>{Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_POSTS]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.CREATE_POST}`})}});return{createPostMutate:t,isPending:n}};function hde(){const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:dde,onSuccess:({message:r})=>{Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_POSTS]})},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.DELETE_POST}`})}});return{deletePostMutate:t,isPending:n}}const Yx=e=>{const{data:t,isLoading:n,error:r,isError:s}=fd({queryKey:[Vt.FETCH_POSTS,e.onlyActive],queryFn:()=>ade(e.onlyActive),staleTime:12e5,retry:1});if(s&&r.message!=="Network Error"){const{message:i}=ps(r);Zt.error(i,{id:`error-${Vt.FETCH_POSTS}`})}return{posts:t?.posts||[],categories:t?.categories||{},isLoading:n,isError:s,error:r}},hF=e=>{const{data:t,isLoading:n,error:r,isError:s}=fd({queryKey:[Vt.FETCH_POST,e.postId],queryFn:()=>lde(e.postId),staleTime:12e4,retry:1,enabled:!!e.postId});if(s&&r.message!=="Network Error"){const{message:i}=ps(r);Zt.error(i,{id:`error-${Vt.FETCH_POST}-${e.postId}`})}return{post:t?.post,isLoading:n,isError:s,error:r}},pde=()=>{const e=bl(),{mutateAsync:t,isPending:n}=yl({mutationFn:ude,onSuccess:({message:r,post:s})=>{r==="No hay cambios para aplicar"?Zt.info(r):(Zt.success(r),e.invalidateQueries({queryKey:[Vt.FETCH_POSTS]}),e.setQueryData([Vt.FETCH_POST,s.id],()=>({post:s})))},onError:r=>{if(r?.message==="Network Error")return;const{message:s}=ps(r);Zt.error(s,{id:`error-${Vt.UPDATE_POST}`})}});return{updatePostMutate:t,isPending:n}};async function mde(){const{data:e}=await Zr.get("/dashboard/stats");return e}const gde=()=>{const{data:e,isLoading:t,error:n,isError:r}=fd({queryKey:[Vt.FETCH_DASHBOARD_STATS],queryFn:mde,staleTime:3e5,refetchOnWindowFocus:!1});return{stats:e?.stats,isLoading:t,isError:r,error:n}},bde=[{label:"Dashboard",route:Qe.ADMIN_DASHBOARD,icon:Tee},{label:"Posts",route:Qe.ADMIN_POST_LIST,icon:Pu},{label:"Testimonios",route:Qe.ADMIN_TESTIMONIAL_LIST,icon:wy},{label:"Solicitudes",route:Qe.ADMIN_REQUEST_LIST,icon:xy}],yde=()=>{const[e,t]=C.useState(!1),{pathname:n}=Q_(),r=Xr(),{logout:s}=dF(),i=$x();return p.jsxs(p.Fragment,{children:[i&&p.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm h-16 px-4 py-3",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>t(!0),className:"hover:bg-gray-100",children:p.jsx(Bee,{className:"h-5 w-5"})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h1",{className:"font-classy-vogue text-silk-secondary text-4xl",children:"SILK"}),p.jsx("span",{className:"px-2 bg-emerald-800 text-white text-sm font-light rounded-sm",children:"ADMIN"})]})]})}),p.jsxs("aside",{className:Ue("fixed top-0 left-0 z-50 h-full w-64 bg-white border-r border-gray-200 text-gray-700 flex flex-col transform transition-transform duration-300",i?e?"translate-x-0":"-translate-x-full":"relative translate-x-0 h-screen"),children:[p.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[p.jsx(as,{to:Qe.CLIENT_HOME,className:"select-none",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h1",{className:"font-classy-vogue text-silk-secondary text-4xl",children:"SILK"}),p.jsx("span",{className:"px-2 bg-emerald-800 text-white text-sm font-light rounded-sm",children:"ADMIN"})]})}),i&&p.jsx(Et,{size:"icon",variant:"ghost",className:"hover:bg-gray-100",onClick:()=>t(!1),children:p.jsx(bx,{className:"h-5 w-5"})})]}),p.jsx("nav",{className:"flex-1 p-2 space-y-1",children:bde.map(({label:o,route:a,icon:l})=>{const u=N8(n,a);return p.jsxs(Et,{variant:u?"secondary":"ghost",onClick:()=>{i&&t(!1),r(a)},className:Ue("w-full justify-start select-none","hover:bg-emerald-50! hover:text-emerald-800",u&&"bg-emerald-800 hover:bg-emerald-800 text-white"),children:[p.jsx(l,{className:"h-5! w-5!"}),o]},o)})}),p.jsx("div",{className:"p-4 border-t border-gray-200",children:p.jsxs(Et,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-red-700 hover:bg-red-50!",onClick:()=>s(),children:[p.jsx(Dee,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión"]})})]}),i&&e&&p.jsx("div",{className:"fixed inset-0 z-40 bg-black/40",onClick:()=>t(!1)})]})},vde=()=>p.jsxs("div",{className:"font-inter bg-gray-50 flex flex-row min-h-dvh fixed inset-0",children:[p.jsx(yde,{}),p.jsx("main",{className:"flex-1 flex flex-col p-4 sm:p-8 overflow-x-hidden overflow-y-auto",children:p.jsx("div",{className:"pt-16 sm:pt-0 space-y-6",children:p.jsx(X_,{})})})]}),xde=()=>p.jsx("div",{className:"font-inter bg-gray-50",children:p.jsx("main",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-dvh",children:p.jsx(X_,{})})}),pi=({icon:e,isLoading:t,label:n="Guardar",onClick:r,loadingLabel:s="Guardando...",className:i,...o})=>{const a=$x(),l=t?s:n;return p.jsxs(Et,{className:Ue(a&&"w-full",i),onClick:u=>!t&&r&&r(u),...o,children:[t?p.jsx(d9,{className:"animate-spin"}):e?p.jsx(e,{}):null,l]})},ak=({name:e,label:t,value:n,onChange:r,description:s,isLoading:i=!1,disabled:o=!1,errors:a={},className:l=""})=>{const u=e.split(".").reduce((h,g)=>h?.[g],a),f=!!u;return p.jsxs("div",{className:`flex items-start gap-2 ${l}`,children:[i?p.jsx(_e,{className:"shrink-0 h-4 w-4 rounded-sm"}):p.jsx(Mre,{id:`checkbox-${e}`,checked:n,onCheckedChange:r,disabled:o}),p.jsxs("div",{className:"flex flex-col space-y-1 w-full",children:[i?p.jsx(_e,{className:"h-4 w-36"}):p.jsx(lr,{htmlFor:`checkbox-${e}`,children:t}),s&&p.jsx(p.Fragment,{children:i?p.jsx(_e,{className:"h-4 w-full"}):p.jsx("p",{className:"text-gray-500 text-sm leading-4",children:s})}),f&&p.jsxs("p",{className:"mt-1 text-xs text-red-500 flex items-top gap-1",children:[p.jsx(Wg,{size:13}),u.message]})]})]})};function kf(e){return e?(e??"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g," "):""}const wde=({id:e,name:t,label:n,value:r,placeholder:s="Seleccionar...",searchPlaceholder:i="Buscar...",optionsHeader:o="Opciones disponibles",options:a,onSelect:l,onCreate:u,hasError:f=!1,errorMessages:h=[],isLoadingInput:g=!1,isLoadingOptions:b=!1,buttonClassName:v,newItemPrefix:x="Nueva:",noResultsMessage:w="No se encontraron resultados.",loadingMessage:S="Cargando opciones...",disabled:_=!1,isFilterMode:N=!1,showAllOption:M=!1,allOptionLabel:O="Todas",register:R,errors:I})=>{const[j,U]=C.useState(!1),[P,K]=C.useState(""),W=t&&I?t.split(".").reduce((de,ie)=>de?.[ie],I):null,ne=!!W,Q=ne||f,te=ne&&W?.message?[W.message]:h,F=Array.isArray(a)?a:Object.entries(a).map(([de,ie])=>({id:de,label:ie})),V=r?F.find(de=>N?de.id===r:kf(de.label)===kf(r)):void 0,z=!!(r&&!V&&!N),J=F.filter(de=>kf(de.label).includes(kf(P))),B=F.some(de=>kf(de.label)===kf(P)),Se=!!P.trim()&&!B&&u,X=!b&&J.length===0&&!Se,D=de=>{l(N?de.id:de.label),K(""),U(!1)},he=()=>{u&&(u(P),K(""),U(!1))},ue=r==="all";return p.jsxs("div",{className:"space-y-1",children:[n&&p.jsx(lr,{htmlFor:e,className:"mb-1",children:n}),g?p.jsx(_e,{className:"w-full h-9"}):p.jsxs(p.Fragment,{children:[p.jsxs(uae,{open:j,onOpenChange:U,children:[p.jsx(dae,{asChild:!0,children:p.jsxs(Et,{id:e,variant:"outline",role:"combobox","aria-expanded":j,disabled:_,className:Ue("relative w-full hover:bg-white font-normal border-input","focus:border-ring focus:ring-ring/50 focus:ring-[3px]",Q&&"border-red-500 focus:border-0 focus-visible:ring-red-500",v),children:[p.jsx("span",{className:"truncate block text-left w-[calc(100%-24px)] -ml-5",children:r?ue?O:z&&!N?`${x} ${r}`:V?.label||r:s}),p.jsx(nee,{className:"size-4 absolute right-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),p.jsx(lH,{className:"w-full p-0",children:p.jsxs(zB,{children:[p.jsx($B,{placeholder:i,disabled:b,value:P,onValueChange:K}),p.jsxs(VB,{children:[b&&p.jsxs("div",{className:"flex items-center justify-center py-6",children:[p.jsx(d9,{className:"h-6 w-6 animate-spin text-muted-foreground"}),p.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:S})]}),!b&&M&&p.jsx(W1,{children:p.jsxs(K1,{value:O,onSelect:()=>{l("all"),K(""),U(!1)},children:[p.jsx(vy,{className:Ue("text-emerald-800 size-4",ue?"opacity-100":"opacity-0")}),O]})}),Se&&p.jsx(W1,{children:p.jsxs(K1,{value:P,onSelect:he,children:[p.jsx(rg,{className:"size-4"}),'Crear "',P,'"']})}),!b&&J.length>0&&p.jsx(W1,{heading:o,children:J.map(de=>p.jsxs(K1,{value:de.label,onSelect:()=>D(de),children:[p.jsx(vy,{className:Ue("text-emerald-800 size-4",(N?r===de.id:r===de.label)?"opacity-100":"opacity-0")}),p.jsx("span",{className:"truncate block max-w-3xs md:max-w-md",children:de.label})]},de.id))}),X&&p.jsx("div",{className:"py-6 text-sm text-muted-foreground text-center",children:w})]})]})})]}),R&&t&&p.jsx("input",{type:"hidden",value:r||"",...R}),Q&&te?.length>0&&p.jsx("p",{className:"mt-1 text-xs text-red-500 flex flex-col gap-1",children:te.map((de,ie)=>p.jsxs("span",{className:"flex flex-row gap-1",children:[p.jsx(Wg,{size:13,className:"shrink-0"}),de]},`error-${ie}`))})]})]})},rA=({isOpen:e,isLoading:t=!1,title:n,description:r,confirmButton:s,cancelButton:i,maxWidth:o="sm:max-w-lg"})=>{const{label:a,icon:l,loadingLabel:u,variant:f="primary",onConfirm:h}=s,{label:g,variant:b="outline",onCancel:v}=i;return p.jsx(Lne,{open:e,children:p.jsxs(mB,{className:o,children:[p.jsxs(gB,{children:[p.jsx(yB,{className:"leading-tight",children:n}),p.jsx(vB,{children:r})]}),p.jsxs(bB,{className:"w-full flex flex-col space-y-2 sm:grid grid-cols-2 gap-2",children:[p.jsx(Et,{variant:b,onClick:v,disabled:t,className:"m-0",children:g}),p.jsx(pi,{icon:l,isLoading:t,variant:f,label:a,loadingLabel:u||"Procesando...",onClick:h})]})]})})};var c0=e=>e.type==="checkbox",Iu=e=>e instanceof Date,ss=e=>e==null;const pF=e=>typeof e=="object";var cr=e=>!ss(e)&&!Array.isArray(e)&&pF(e)&&!Iu(e),Ede=e=>cr(e)&&e.target?c0(e.target)?e.target.checked:e.target.value:e,Cde=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sde=(e,t)=>e.has(Cde(t)),Tde=e=>{const t=e.constructor&&e.constructor.prototype;return cr(t)&&t.hasOwnProperty("isPrototypeOf")},sA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cr(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(sA&&(e instanceof Blob||r))&&(n||cr(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Tde(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Cr(e[s]));else return e;return t}var Wx=e=>/^\w*$/.test(e),ir=e=>e===void 0,iA=e=>Array.isArray(e)?e.filter(Boolean):[],oA=e=>iA(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(e,t,n)=>{if(!t||!cr(e))return n;const r=(Wx(t)?[t]:oA(t)).reduce((s,i)=>ss(s)?s:s[i],e);return ir(r)||r===e?ir(e[t])?n:e[t]:r},ea=e=>typeof e=="boolean",Dn=(e,t,n)=>{let r=-1;const s=Wx(t)?[t]:oA(t),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=e[a];l=cr(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const f6={BLUR:"blur",FOCUS_OUT:"focusout"},co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kde=ge.createContext(null);kde.displayName="HookFormContext";var _de=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==co.all&&(t._proxyFormState[o]=!r||co.all),e[o]}});return s};const Nde=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;var ai=e=>typeof e=="string",Ade=(e,t,n,r,s)=>ai(e)?(r&&t.watch.add(e),Ke(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Ke(n,i))):(r&&(t.watchAll=!0),n),lk=e=>ss(e)||!pF(e);function uc(e,t,n=new WeakSet){if(lk(e)||lk(t))return e===t;if(Iu(e)&&Iu(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Iu(o)&&Iu(a)||cr(o)&&cr(a)||Array.isArray(o)&&Array.isArray(a)?!uc(o,a,n):o!==a)return!1}}return!0}var Mde=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Rm=e=>Array.isArray(e)?e:[e],h6=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function mF(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],i=t[r];if(s&&cr(s)&&i){const o=mF(s,i);cr(o)&&(n[r]=o)}else e[r]&&(n[r]=i)}return n}var Ms=e=>cr(e)&&!Object.keys(e).length,aA=e=>e.type==="file",uo=e=>typeof e=="function",Ly=e=>{if(!sA)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gF=e=>e.type==="select-multiple",lA=e=>e.type==="radio",Ode=e=>lA(e)||c0(e),VS=e=>Ly(e)&&e.isConnected;function Rde(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ir(e)?r++:e[t[r++]];return e}function Ide(e){for(const t in e)if(e.hasOwnProperty(t)&&!ir(e[t]))return!1;return!0}function nr(e,t){const n=Array.isArray(t)?t:Wx(t)?[t]:oA(t),r=n.length===1?e:Rde(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(cr(r)&&Ms(r)||Array.isArray(r)&&Ide(r))&&nr(e,n.slice(0,-1)),e}var Dde=e=>{for(const t in e)if(uo(e[t]))return!0;return!1};function bF(e){return Array.isArray(e)||cr(e)&&!Dde(e)}function ck(e,t={}){for(const n in e)bF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ck(e[n],t[n])):ss(e[n])||(t[n]=!0);return t}function Ff(e,t,n){n||(n=ck(t));for(const r in e)bF(e[r])?ir(t)||lk(n[r])?n[r]=ck(e[r],Array.isArray(e[r])?[]:{}):Ff(e[r],ss(t)?{}:t[r],n[r]):n[r]=!uc(e[r],t[r]);return n}const p6={value:!1,isValid:!1},m6={value:!0,isValid:!0};var yF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ir(e[0].attributes.value)?ir(e[0].value)||e[0].value===""?m6:{value:e[0].value,isValid:!0}:m6:p6}return p6},vF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ir(e)?e:t?e===""?NaN:e&&+e:n&&ai(e)?new Date(e):r?r(e):e;const g6={isValid:!1,value:null};var xF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,g6):g6;function b6(e){const t=e.ref;return aA(t)?t.files:lA(t)?xF(e.refs).value:gF(t)?[...t.selectedOptions].map(({value:n})=>n):c0(t)?yF(e.refs).value:vF(ir(t.value)?e.ref.value:t.value,e)}var Lde=(e,t,n,r)=>{const s={};for(const i of e){const o=Ke(t,i);o&&Dn(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},jy=e=>e instanceof RegExp,sm=e=>ir(e)?e:jy(e)?e.source:cr(e)?jy(e.value)?e.value.source:e.value:e,y6=e=>({isOnSubmit:!e||e===co.onSubmit,isOnBlur:e===co.onBlur,isOnChange:e===co.onChange,isOnAll:e===co.all,isOnTouch:e===co.onTouched});const v6="AsyncFunction";var jde=e=>!!e&&!!e.validate&&!!(uo(e.validate)&&e.validate.constructor.name===v6||cr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===v6)),Pde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x6=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Im=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=Ke(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Im(a,t))break}else if(cr(a)&&Im(a,t))break}}};function w6(e,t,n){const r=Ke(e,n);if(r||Wx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Ke(t,i),a=Ke(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var Bde=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return Ms(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||co.all))},Hde=(e,t,n)=>!e||!t||e===t||Rm(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Fde=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Ude=(e,t)=>!iA(Ke(e,t)).length&&nr(e,t),zde=(e,t,n)=>{const r=Rm(Ke(e,n));return Dn(r,"root",t[n]),Dn(e,n,r),e};function E6(e,t,n="validate"){if(ai(e)||Array.isArray(e)&&e.every(ai)||ea(e)&&!e)return{type:n,message:ai(e)?e:"",ref:t}}var _f=e=>cr(e)&&!jy(e)?e:{value:e,message:""},C6=async(e,t,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:f,min:h,max:g,pattern:b,validate:v,name:x,valueAsNumber:w,mount:S}=e._f,_=Ke(n,x);if(!S||t.has(x))return{};const N=a?a[0]:o,M=W=>{s&&N.reportValidity&&(N.setCustomValidity(ea(W)?"":W||""),N.reportValidity())},O={},R=lA(o),I=c0(o),j=R||I,U=(w||aA(o))&&ir(o.value)&&ir(_)||Ly(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,P=Mde.bind(null,x,r,O),K=(W,ne,Q,te=$a.maxLength,F=$a.minLength)=>{const V=W?ne:Q;O[x]={type:W?te:F,message:V,ref:o,...P(W?te:F,V)}};if(i?!Array.isArray(_)||!_.length:l&&(!j&&(U||ss(_))||ea(_)&&!_||I&&!yF(a).isValid||R&&!xF(a).isValid)){const{value:W,message:ne}=ai(l)?{value:!!l,message:l}:_f(l);if(W&&(O[x]={type:$a.required,message:ne,ref:N,...P($a.required,ne)},!r))return M(ne),O}if(!U&&(!ss(h)||!ss(g))){let W,ne;const Q=_f(g),te=_f(h);if(!ss(_)&&!isNaN(_)){const F=o.valueAsNumber||_&&+_;ss(Q.value)||(W=F>Q.value),ss(te.value)||(ne=F<te.value)}else{const F=o.valueAsDate||new Date(_),V=B=>new Date(new Date().toDateString()+" "+B),z=o.type=="time",J=o.type=="week";ai(Q.value)&&_&&(W=z?V(_)>V(Q.value):J?_>Q.value:F>new Date(Q.value)),ai(te.value)&&_&&(ne=z?V(_)<V(te.value):J?_<te.value:F<new Date(te.value))}if((W||ne)&&(K(!!W,Q.message,te.message,$a.max,$a.min),!r))return M(O[x].message),O}if((u||f)&&!U&&(ai(_)||i&&Array.isArray(_))){const W=_f(u),ne=_f(f),Q=!ss(W.value)&&_.length>+W.value,te=!ss(ne.value)&&_.length<+ne.value;if((Q||te)&&(K(Q,W.message,ne.message),!r))return M(O[x].message),O}if(b&&!U&&ai(_)){const{value:W,message:ne}=_f(b);if(jy(W)&&!_.match(W)&&(O[x]={type:$a.pattern,message:ne,ref:o,...P($a.pattern,ne)},!r))return M(ne),O}if(v){if(uo(v)){const W=await v(_,n),ne=E6(W,N);if(ne&&(O[x]={...ne,...P($a.validate,ne.message)},!r))return M(ne.message),O}else if(cr(v)){let W={};for(const ne in v){if(!Ms(W)&&!r)break;const Q=E6(await v[ne](_,n),N,ne);Q&&(W={...Q,...P(ne,Q.message)},M(Q.message),r&&(O[x]=W))}if(!Ms(W)&&(O[x]={ref:N,...W},!r))return O}}return M(!0),O};const $de={mode:co.onSubmit,reValidateMode:co.onChange,shouldFocusError:!0};function Vde(e={}){let t={...$de,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:uo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=cr(t.defaultValues)||cr(t.values)?Cr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Cr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const g={array:h6(),state:h6()},b=t.criteriaMode===co.all,v=G=>se=>{clearTimeout(u),u=setTimeout(G,se)},x=async G=>{if(!t.disabled&&(f.isValid||h.isValid||G)){const se=t.resolver?Ms((await I()).errors):await U(r,!0);se!==n.isValid&&g.state.next({isValid:se})}},w=(G,se)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((G||Array.from(a.mount)).forEach(pe=>{pe&&(se?Dn(n.validatingFields,pe,se):nr(n.validatingFields,pe))}),g.state.next({validatingFields:n.validatingFields,isValidating:!Ms(n.validatingFields)}))},S=(G,se=[],pe,je,Ae=!0,Oe=!0)=>{if(je&&pe&&!t.disabled){if(o.action=!0,Oe&&Array.isArray(Ke(r,G))){const ee=pe(Ke(r,G),je.argA,je.argB);Ae&&Dn(r,G,ee)}if(Oe&&Array.isArray(Ke(n.errors,G))){const ee=pe(Ke(n.errors,G),je.argA,je.argB);Ae&&Dn(n.errors,G,ee),Ude(n.errors,G)}if((f.touchedFields||h.touchedFields)&&Oe&&Array.isArray(Ke(n.touchedFields,G))){const ee=pe(Ke(n.touchedFields,G),je.argA,je.argB);Ae&&Dn(n.touchedFields,G,ee)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ff(s,i)),g.state.next({name:G,isDirty:K(G,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Dn(i,G,se)},_=(G,se)=>{Dn(n.errors,G,se),g.state.next({errors:n.errors})},N=G=>{n.errors=G,g.state.next({errors:n.errors,isValid:!1})},M=(G,se,pe,je)=>{const Ae=Ke(r,G);if(Ae){const Oe=Ke(i,G,ir(pe)?Ke(s,G):pe);ir(Oe)||je&&je.defaultChecked||se?Dn(i,G,se?Oe:b6(Ae._f)):Q(G,Oe),o.mount&&x()}},O=(G,se,pe,je,Ae)=>{let Oe=!1,ee=!1;const be={name:G};if(!t.disabled){if(!pe||je){(f.isDirty||h.isDirty)&&(ee=n.isDirty,n.isDirty=be.isDirty=K(),Oe=ee!==be.isDirty);const Pe=uc(Ke(s,G),se);ee=!!Ke(n.dirtyFields,G),Pe?nr(n.dirtyFields,G):Dn(n.dirtyFields,G,!0),be.dirtyFields=n.dirtyFields,Oe=Oe||(f.dirtyFields||h.dirtyFields)&&ee!==!Pe}if(pe){const Pe=Ke(n.touchedFields,G);Pe||(Dn(n.touchedFields,G,pe),be.touchedFields=n.touchedFields,Oe=Oe||(f.touchedFields||h.touchedFields)&&Pe!==pe)}Oe&&Ae&&g.state.next(be)}return Oe?be:{}},R=(G,se,pe,je)=>{const Ae=Ke(n.errors,G),Oe=(f.isValid||h.isValid)&&ea(se)&&n.isValid!==se;if(t.delayError&&pe?(l=v(()=>_(G,pe)),l(t.delayError)):(clearTimeout(u),l=null,pe?Dn(n.errors,G,pe):nr(n.errors,G)),(pe?!uc(Ae,pe):Ae)||!Ms(je)||Oe){const ee={...je,...Oe&&ea(se)?{isValid:se}:{},errors:n.errors,name:G};n={...n,...ee},g.state.next(ee)}},I=async G=>{w(G,!0);const se=await t.resolver(i,t.context,Lde(G||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(G),se},j=async G=>{const{errors:se}=await I(G);if(G)for(const pe of G){const je=Ke(se,pe);je?Dn(n.errors,pe,je):nr(n.errors,pe)}else n.errors=se;return se},U=async(G,se,pe={valid:!0})=>{for(const je in G){const Ae=G[je];if(Ae){const{_f:Oe,...ee}=Ae;if(Oe){const be=a.array.has(Oe.name),Pe=Ae._f&&jde(Ae._f);Pe&&f.validatingFields&&w([Oe.name],!0);const Xe=await C6(Ae,a.disabled,i,b,t.shouldUseNativeValidation&&!se,be);if(Pe&&f.validatingFields&&w([Oe.name]),Xe[Oe.name]&&(pe.valid=!1,se))break;!se&&(Ke(Xe,Oe.name)?be?zde(n.errors,Xe,Oe.name):Dn(n.errors,Oe.name,Xe[Oe.name]):nr(n.errors,Oe.name))}!Ms(ee)&&await U(ee,se,pe)}}return pe.valid},P=()=>{for(const G of a.unMount){const se=Ke(r,G);se&&(se._f.refs?se._f.refs.every(pe=>!VS(pe)):!VS(se._f.ref))&&ie(G)}a.unMount=new Set},K=(G,se)=>!t.disabled&&(G&&se&&Dn(i,G,se),!uc(B(),s)),W=(G,se,pe)=>Ade(G,a,{...o.mount?i:ir(se)?s:ai(G)?{[G]:se}:se},pe,se),ne=G=>iA(Ke(o.mount?i:s,G,t.shouldUnregister?Ke(s,G,[]):[])),Q=(G,se,pe={})=>{const je=Ke(r,G);let Ae=se;if(je){const Oe=je._f;Oe&&(!Oe.disabled&&Dn(i,G,vF(se,Oe)),Ae=Ly(Oe.ref)&&ss(se)?"":se,gF(Oe.ref)?[...Oe.ref.options].forEach(ee=>ee.selected=Ae.includes(ee.value)):Oe.refs?c0(Oe.ref)?Oe.refs.forEach(ee=>{(!ee.defaultChecked||!ee.disabled)&&(Array.isArray(Ae)?ee.checked=!!Ae.find(be=>be===ee.value):ee.checked=Ae===ee.value||!!Ae)}):Oe.refs.forEach(ee=>ee.checked=ee.value===Ae):aA(Oe.ref)?Oe.ref.value="":(Oe.ref.value=Ae,Oe.ref.type||g.state.next({name:G,values:Cr(i)})))}(pe.shouldDirty||pe.shouldTouch)&&O(G,Ae,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&J(G)},te=(G,se,pe)=>{for(const je in se){if(!se.hasOwnProperty(je))return;const Ae=se[je],Oe=G+"."+je,ee=Ke(r,Oe);(a.array.has(G)||cr(Ae)||ee&&!ee._f)&&!Iu(Ae)?te(Oe,Ae,pe):Q(Oe,Ae,pe)}},F=(G,se,pe={})=>{const je=Ke(r,G),Ae=a.array.has(G),Oe=Cr(se);Dn(i,G,Oe),Ae?(g.array.next({name:G,values:Cr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&pe.shouldDirty&&g.state.next({name:G,dirtyFields:Ff(s,i),isDirty:K(G,Oe)})):je&&!je._f&&!ss(Oe)?te(G,Oe,pe):Q(G,Oe,pe),x6(G,a)&&g.state.next({...n,name:G}),g.state.next({name:o.mount?G:void 0,values:Cr(i)})},V=async G=>{o.mount=!0;const se=G.target;let pe=se.name,je=!0;const Ae=Ke(r,pe),Oe=Pe=>{je=Number.isNaN(Pe)||Iu(Pe)&&isNaN(Pe.getTime())||uc(Pe,Ke(i,pe,Pe))},ee=y6(t.mode),be=y6(t.reValidateMode);if(Ae){let Pe,Xe;const lt=se.type?b6(Ae._f):Ede(G),Jt=G.type===f6.BLUR||G.type===f6.FOCUS_OUT,rn=!Pde(Ae._f)&&!t.resolver&&!Ke(n.errors,pe)&&!Ae._f.deps||Fde(Jt,Ke(n.touchedFields,pe),n.isSubmitted,be,ee),xn=x6(pe,a,Jt);Dn(i,pe,lt),Jt?(!se||!se.readOnly)&&(Ae._f.onBlur&&Ae._f.onBlur(G),l&&l(0)):Ae._f.onChange&&Ae._f.onChange(G);const hn=O(pe,lt,Jt),Vn=!Ms(hn)||xn;if(!Jt&&g.state.next({name:pe,type:G.type,values:Cr(i)}),rn)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Jt&&x():Jt||x()),Vn&&g.state.next({name:pe,...xn?{}:hn});if(!Jt&&xn&&g.state.next({...n}),t.resolver){const{errors:Ht}=await I([pe]);if(Oe(lt),je){const gs=w6(n.errors,r,pe),Qn=w6(Ht,r,gs.name||pe);Pe=Qn.error,pe=Qn.name,Xe=Ms(Ht)}}else w([pe],!0),Pe=(await C6(Ae,a.disabled,i,b,t.shouldUseNativeValidation))[pe],w([pe]),Oe(lt),je&&(Pe?Xe=!1:(f.isValid||h.isValid)&&(Xe=await U(r,!0)));je&&(Ae._f.deps&&(!Array.isArray(Ae._f.deps)||Ae._f.deps.length>0)&&J(Ae._f.deps),R(pe,Xe,Pe,hn))}},z=(G,se)=>{if(Ke(n.errors,se)&&G.focus)return G.focus(),1},J=async(G,se={})=>{let pe,je;const Ae=Rm(G);if(t.resolver){const Oe=await j(ir(G)?G:Ae);pe=Ms(Oe),je=G?!Ae.some(ee=>Ke(Oe,ee)):pe}else G?(je=(await Promise.all(Ae.map(async Oe=>{const ee=Ke(r,Oe);return await U(ee&&ee._f?{[Oe]:ee}:ee)}))).every(Boolean),!(!je&&!n.isValid)&&x()):je=pe=await U(r);return g.state.next({...!ai(G)||(f.isValid||h.isValid)&&pe!==n.isValid?{}:{name:G},...t.resolver||!G?{isValid:pe}:{},errors:n.errors}),se.shouldFocus&&!je&&Im(r,z,G?Ae:a.mount),je},B=(G,se)=>{let pe={...o.mount?i:s};return se&&(pe=mF(se.dirtyFields?n.dirtyFields:n.touchedFields,pe)),ir(G)?pe:ai(G)?Ke(pe,G):G.map(je=>Ke(pe,je))},Se=(G,se)=>({invalid:!!Ke((se||n).errors,G),isDirty:!!Ke((se||n).dirtyFields,G),error:Ke((se||n).errors,G),isValidating:!!Ke(n.validatingFields,G),isTouched:!!Ke((se||n).touchedFields,G)}),X=G=>{G&&Rm(G).forEach(se=>nr(n.errors,se)),g.state.next({errors:G?n.errors:{}})},D=(G,se,pe)=>{const je=(Ke(r,G,{_f:{}})._f||{}).ref,Ae=Ke(n.errors,G)||{},{ref:Oe,message:ee,type:be,...Pe}=Ae;Dn(n.errors,G,{...Pe,...se,ref:je}),g.state.next({name:G,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&je&&je.focus&&je.focus()},he=(G,se)=>uo(G)?g.state.subscribe({next:pe=>"values"in pe&&G(W(void 0,se),pe)}):W(G,se,!0),ue=G=>g.state.subscribe({next:se=>{Hde(G.name,se.name,G.exact)&&Bde(se,G.formState||f,Gt,G.reRenderRoot)&&G.callback({values:{...i},...n,...se,defaultValues:s})}}).unsubscribe,de=G=>(o.mount=!0,h={...h,...G.formState},ue({...G,formState:h})),ie=(G,se={})=>{for(const pe of G?Rm(G):a.mount)a.mount.delete(pe),a.array.delete(pe),se.keepValue||(nr(r,pe),nr(i,pe)),!se.keepError&&nr(n.errors,pe),!se.keepDirty&&nr(n.dirtyFields,pe),!se.keepTouched&&nr(n.touchedFields,pe),!se.keepIsValidating&&nr(n.validatingFields,pe),!t.shouldUnregister&&!se.keepDefaultValue&&nr(s,pe);g.state.next({values:Cr(i)}),g.state.next({...n,...se.keepDirty?{isDirty:K()}:{}}),!se.keepIsValid&&x()},we=({disabled:G,name:se})=>{(ea(G)&&o.mount||G||a.disabled.has(se))&&(G?a.disabled.add(se):a.disabled.delete(se))},Me=(G,se={})=>{let pe=Ke(r,G);const je=ea(se.disabled)||ea(t.disabled);return Dn(r,G,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:G}},name:G,mount:!0,...se}}),a.mount.add(G),pe?we({disabled:ea(se.disabled)?se.disabled:t.disabled,name:G}):M(G,!0,se.value),{...je?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:sm(se.min),max:sm(se.max),minLength:sm(se.minLength),maxLength:sm(se.maxLength),pattern:sm(se.pattern)}:{},name:G,onChange:V,onBlur:V,ref:Ae=>{if(Ae){Me(G,se),pe=Ke(r,G);const Oe=ir(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,ee=Ode(Oe),be=pe._f.refs||[];if(ee?be.find(Pe=>Pe===Oe):Oe===pe._f.ref)return;Dn(r,G,{_f:{...pe._f,...ee?{refs:[...be.filter(VS),Oe,...Array.isArray(Ke(s,G))?[{}]:[]],ref:{type:Oe.type,name:G}}:{ref:Oe}}}),M(G,!1,void 0,Oe)}else pe=Ke(r,G,{}),pe._f&&(pe._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(Sde(a.array,G)&&o.action)&&a.unMount.add(G)}}},Be=()=>t.shouldFocusError&&Im(r,z,a.mount),He=G=>{ea(G)&&(g.state.next({disabled:G}),Im(r,(se,pe)=>{const je=Ke(r,pe);je&&(se.disabled=je._f.disabled||G,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ae=>{Ae.disabled=je._f.disabled||G}))},0,!1))},Te=(G,se)=>async pe=>{let je;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Ae=Cr(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:Oe,values:ee}=await I();n.errors=Oe,Ae=Cr(ee)}else await U(r);if(a.disabled.size)for(const Oe of a.disabled)nr(Ae,Oe);if(nr(n.errors,"root"),Ms(n.errors)){g.state.next({errors:{}});try{await G(Ae,pe)}catch(Oe){je=Oe}}else se&&await se({...n.errors},pe),Be(),setTimeout(Be);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ms(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},Fe=(G,se={})=>{Ke(r,G)&&(ir(se.defaultValue)?F(G,Cr(Ke(s,G))):(F(G,se.defaultValue),Dn(s,G,Cr(se.defaultValue))),se.keepTouched||nr(n.touchedFields,G),se.keepDirty||(nr(n.dirtyFields,G),n.isDirty=se.defaultValue?K(G,Cr(Ke(s,G))):K()),se.keepError||(nr(n.errors,G),f.isValid&&x()),g.state.next({...n}))},Je=(G,se={})=>{const pe=G?Cr(G):s,je=Cr(pe),Ae=Ms(G),Oe=Ae?s:je;if(se.keepDefaultValues||(s=pe),!se.keepValues){if(se.keepDirtyValues){const ee=new Set([...a.mount,...Object.keys(Ff(s,i))]);for(const be of Array.from(ee))Ke(n.dirtyFields,be)?Dn(Oe,be,Ke(i,be)):F(be,Ke(Oe,be))}else{if(sA&&ir(G))for(const ee of a.mount){const be=Ke(r,ee);if(be&&be._f){const Pe=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Ly(Pe)){const Xe=Pe.closest("form");if(Xe){Xe.reset();break}}}}if(se.keepFieldsRef)for(const ee of a.mount)F(ee,Ke(Oe,ee));else r={}}i=t.shouldUnregister?se.keepDefaultValues?Cr(s):{}:Cr(Oe),g.array.next({values:{...Oe}}),g.state.next({values:{...Oe}})}a={mount:se.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!se.keepIsValid||!!se.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Ae?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!uc(G,s)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ae?{}:se.keepDirtyValues?se.keepDefaultValues&&i?Ff(s,i):n.dirtyFields:se.keepDefaultValues&&G?Ff(s,G):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},kt=(G,se)=>Je(uo(G)?G(i):G,se),qt=(G,se={})=>{const pe=Ke(r,G),je=pe&&pe._f;if(je){const Ae=je.refs?je.refs[0]:je.ref;Ae.focus&&(Ae.focus(),se.shouldSelect&&uo(Ae.select)&&Ae.select())}},Gt=G=>{n={...n,...G}},vt={control:{register:Me,unregister:ie,getFieldState:Se,handleSubmit:Te,setError:D,_subscribe:ue,_runSchema:I,_focusError:Be,_getWatch:W,_getDirty:K,_setValid:x,_setFieldArray:S,_setDisabledField:we,_setErrors:N,_getFieldArray:ne,_reset:Je,_resetDefaultValues:()=>uo(t.defaultValues)&&t.defaultValues().then(G=>{kt(G,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:He,_subjects:g,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(G){o=G},get _defaultValues(){return s},get _names(){return a},set _names(G){a=G},get _formState(){return n},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:de,trigger:J,register:Me,handleSubmit:Te,watch:he,setValue:F,getValues:B,reset:kt,resetField:Fe,clearErrors:X,unregister:ie,setError:D,setFocus:qt,getFieldState:Se};return{...vt,formControl:vt}}function Kx(e={}){const t=ge.useRef(void 0),n=ge.useRef(void 0),[r,s]=ge.useState({isDirty:!1,isValidating:!1,isLoading:uo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:uo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!uo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=Vde(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,Nde(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),ge.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ge.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ge.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ge.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ge.useEffect(()=>{e.values&&!uc(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=_de(r,i),t.current}const qS=({name:e,label:t,value:n,onChange:r,options:s,placeholder:i="Seleccioná una opción",errors:o={},className:a="",labelClassName:l="",register:u})=>{const f=e.split(".").reduce((b,v)=>b?.[v],o),h=!!f,g=b=>{u?u.onChange({target:{name:u.name,value:b},type:"change"}):r&&r(b)};return p.jsxs("div",{children:[p.jsx(lr,{htmlFor:e,className:`mb-2 ${l}`,children:t}),p.jsxs(dl,{value:n||"",onValueChange:g,name:u?.name||e,children:[p.jsx(hl,{id:`select-${e}`,className:`w-full shadow-xs ${h?"border-red-500 focus:ring-red-500":""} ${a}`,children:p.jsx(fl,{placeholder:i})}),p.jsx(pl,{children:s.map(b=>typeof b=="string"?p.jsx(dn,{value:b,children:b},b):p.jsx(dn,{value:b.value,children:b.label},b.value))})]}),h&&p.jsxs("p",{className:"mt-1 text-xs text-red-500 flex items-top gap-1",children:[p.jsx(Wg,{size:13}),f.message]})]})},Fi=({id:e,name:t,label:n,labelClassName:r="",placeholder:s,value:i,icon:o,iconSide:a="left",isLoading:l=!1,register:u,errors:f={},className:h="",disabled:g,...b})=>{const v=t.split(".").reduce((w,S)=>w?.[S],f),x=!!v;return p.jsxs("div",{className:"space-y-1",children:[n&&p.jsx(lr,{htmlFor:e,className:r,children:n}),p.jsx("div",{className:"relative",children:l?p.jsx(_e,{className:"w-full h-9"}):p.jsxs(p.Fragment,{children:[o&&p.jsx("span",{className:Ue("absolute top-1/2 transform -translate-y-1/2 text-gray-500",a==="left"?"left-3":"right-3"),children:p.jsx(o,{className:"size-4"})}),p.jsx(gd,{value:i,id:`input-${t}`,placeholder:s,disabled:g||l,className:Ue(o&&a==="left"?"pl-8":a==="right"?"pr-8":"",x&&"border-red-500 focus:border-0 focus-visible:ring-red-500",h),...u,...b})]})}),x&&p.jsxs("p",{className:"mt-1 text-xs text-red-500 flex items-top gap-1",children:[p.jsx(Wg,{size:13}),v.message]})]})},qde={name:"",phone:"",service:void 0,budget:void 0,age:void 0,email:"",ubication:"",startMoment:void 0},wF=({title:e="Comenzá tu transformación",subTitle:t="Completá tus datos",isServiceInputEnabled:n=!1,onSubmitSuccess:r})=>{const{createServiceRequestMutate:s,isPending:i}=nde(),{register:o,reset:a,watch:l,handleSubmit:u,formState:{errors:f}}=Kx({mode:"onSubmit",reValidateMode:"onChange",defaultValues:qde}),h=async g=>{const b={...g,service:(n?g.service:"Colorimetría")||"",budget:g.budget||"",age:g.age||0,startMoment:g.startMoment||""};await s(b),a(),r&&r()};return p.jsx(Ar,{className:"shadow-sm rounded-xl",children:p.jsx($r,{className:"h-full",children:p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-center",children:p.jsx("h3",{className:"text-2xl md:text-3xl font-semibold text-silk-primary",children:e})}),p.jsx("p",{className:"text-center text-xs tracking-wide text-silk-primary/80 uppercase",children:t}),p.jsxs("div",{className:"space-y-4 mt-6",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start",children:[p.jsx(Fi,{type:"text",name:"name",label:"Nombre Completo",labelClassName:"text-silk-primary",placeholder:"Ingresá tu nombre",register:o("name",{required:"El nombre es obligatorio",maxLength:{value:50,message:"El nombre no puede superar los 50 caracteres"},pattern:{value:/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,message:"El nombre solo puede contener letras y espacios"}}),errors:f,icon:Lh}),p.jsx(Fi,{type:"number",name:"age",label:"Edad",value:l("age")||"",labelClassName:"text-silk-primary",placeholder:"Ingresá tu edad",register:o("age",{required:"La edad es obligatoria",valueAsNumber:!0,min:{value:13,message:"La edad mínima es 13 años"},max:{value:120,message:"La edad máxima es 120 años"}}),errors:f,icon:hd})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start",children:[p.jsx(Fi,{type:"text",name:"ubication",label:"Ubicación",labelClassName:"text-silk-primary",placeholder:"Ingresá tu ubicación",register:o("ubication",{required:"La ubicación es obligatoria",maxLength:{value:100,message:"La ubicación no puede superar los 100 caracteres"}}),errors:f,icon:f9}),p.jsx(Fi,{type:"tel",name:"phone",label:"Teléfono",labelClassName:"text-silk-primary",placeholder:"Ingresá tu teléfono",register:o("phone",{required:"El teléfono es obligatorio",pattern:{value:/^[\d\s\-+()]+$/,message:"El teléfono solo puede contener números, espacios, guiones, paréntesis y el signo +"},minLength:{value:8,message:"El teléfono debe tener al menos 8 caracteres"},maxLength:{value:20,message:"El teléfono no puede superar los 20 caracteres"}}),errors:f,disabled:!1,icon:h9})]}),p.jsx(Fi,{type:"email",name:"email",label:"Email",labelClassName:"text-silk-primary",placeholder:"Ingresá tu email",register:o("email",{required:"El email es obligatorio",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"El email no tiene un formato válido"},maxLength:{value:100,message:"El email no puede superar los 100 caracteres"}}),errors:f,icon:gx}),n&&p.jsx(qS,{name:"service",label:"¿Que tipo de servicio estas buscando?",labelClassName:"text-silk-primary",placeholder:"Seleccioná un servicio",value:l("service"),register:o("service",{required:"El servicio es obligatorio"}),options:["Personal Shopper & Closet Detox","Transfomá tu imagen"],errors:f}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[p.jsx(qS,{name:"budget",label:"¿Cual es tu presupuesto para ropa y accesorios?",labelClassName:"text-silk-primary",placeholder:"Seleccioná tu presupuesto",value:l("budget"),register:o("budget",{required:"El presupuesto es obligatorio"}),errors:f,options:["Hasta 100 USD","Entre 100 y 250 USD","Entre 250 y 500 USD","Entre 500 y 1000 USD","Más de 1000 USD"]}),p.jsx(qS,{name:"startMoment",label:"¿Cuándo te gustaría empezar?",labelClassName:"text-silk-primary",placeholder:"Seleccioná cuándo empezar",value:l("startMoment"),register:o("startMoment",{required:"El momento de inicio es obligatorio"}),errors:f,options:["Inmediatamente","El próximo mes","A convenir"]})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(pi,{onClick:u(h),variant:"primary",size:"lg",label:"Enviar",loadingLabel:"Enviando...",isLoading:i})})]})]})})})},cA=({title:e="No hay datos",description:t="Sin información disponible",icon:n})=>p.jsx("div",{className:"text-center py-6 sm:py-8 px-4 border-2 border-dashed border-gray-200 rounded-md",children:p.jsx("div",{className:"flex flex-col items-center",children:p.jsxs("div",{className:"max-w-sm flex flex-col items-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:n?p.jsx(n,{className:"w-6 h-6 text-gray-400"}):p.jsx(bx,{className:"w-6 h-6 text-gray-400"})}),p.jsx("p",{className:"text-gray-500 font-medium text-lg mt-1",children:e}),p.jsx("p",{className:"text-sm text-muted-foreground text-wrap",children:t})]})})}),EF=({title:e="No hay datos",description:t="Sin información disponible",icon:n})=>p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-12 border border-silk-secondary/20 text-center",children:[n?p.jsx(n,{size:80,className:"mx-auto text-silk-secondary/60"}):p.jsx(bx,{size:80,className:"mx-auto text-silk-secondary/60"}),p.jsx("h3",{className:"font-very-vogue text-3xl text-silk-secondary mt-4 mb-2",children:e}),p.jsx("p",{className:"text-silk-secondary/80",children:t})]}),Gde=({title:e,description:t,mode:n="info",withDropdown:r,primaryAction:s,secondaryAction:i,classname:o})=>{const[a,l]=C.useState(!1),u=r?a:!0;return p.jsxs("div",{className:Ue(`p-4 border-l-4 rounded-r-md ${n==="info"?"text-emerald-800 bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-600":"text-red-800 bg-gradient-to-r from-rose-50 to-red-50 border-red-600"}`,o),children:[p.jsxs("div",{onClick:r?()=>l(f=>!f):void 0,className:Ue("flex items-center justify-between",r&&"cursor-pointer"),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(_ee,{className:"size-5 flex-shrink-0"}),p.jsx("h4",{className:"font-medium ",children:e})]}),r&&p.jsx(mx,{className:`size-4 text-emerald-600 transition-transform duration-300 ${u&&"rotate-180"}`})]}),p.jsx("div",{className:`overflow-hidden transition-all duration-600! ${u?"max-h-[500px]":"max-h-0"}`,children:p.jsxs("div",{className:"lg:flex lg:justify-between lg:items-start lg:gap-4",children:[p.jsx("div",{className:"lg:flex-1",children:Array.isArray(t)?p.jsx("ul",{className:"text-sm px-8 list-disc list-inside space-y-1 mt-2",children:t.map((f,h)=>p.jsx("li",{children:f},h))}):p.jsx("p",{className:"text-sm px-8 mt-2",children:t})}),(s||i)&&p.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mt-3 px-8 lg:px-0 lg:mt-0 lg:flex-shrink-0 lg:min-w-fit",children:[s&&p.jsx(pi,{variant:n==="info"?"primary":"destructive",icon:s.icon,onClick:s.onClick,disabled:s.disabled,label:s.label,isLoading:s.isLoading}),i&&p.jsx(Et,{variant:"outline",className:"text-primary",onClick:i.onClick,children:i.label})]})]})})]})},zh=({title:e,description:t,hasGoBack:n=!1,goBackRoute:r})=>{const s=Xr();return p.jsxs("div",{className:"flex items-center gap-4",children:[n&&p.jsx(ng,{className:"h-6 w-6 cursor-pointer hover:scale-105","aria-label":"Volver para atrás",onClick:()=>s(r?Qe[r]:-1)}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-silk-secondary font-bold text-3xl mb-2",children:e}),t&&p.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:t})]})]})},ya=({title:e,description:t,textColor:n="text-silk-secondary",element:r="h1"})=>p.jsxs("section",{className:"text-center",children:[r==="h1"?p.jsx("h1",{className:`font-very-vogue text-5xl md:text-6xl mb-4 leading-tight ${n}`,children:e}):p.jsx("h2",{className:`font-very-vogue text-5xl md:text-6xl mb-4 leading-tight ${n}`,children:e}),t&&p.jsx("p",{className:`max-w-3xl text-lg md:text-xl ${n}/80 leading-relaxed mx-auto`,children:t})]}),mg=({isLanding:e=!1,currentPage:t,totalPages:n,onPageChange:r,canGoNext:s,canGoPrevious:i,scrollToTop:o=!1})=>{const a=l=>{r(l),o&&setTimeout(()=>{const u=document.querySelector("main.overflow-y-auto");try{u?u.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:200,behavior:"smooth"})}catch{u?u.scrollTo(0,0):window.scrollTo(0,200)}},100)};return p.jsxs("div",{className:"flex items-center justify-end gap-4",children:[p.jsxs("div",{className:`flex items-center justify-center text-sm font-medium ${e&&"text-silk-secondary/80"}`,children:["Página ",t," de ",n]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs(Et,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>a(1),disabled:!i,children:[p.jsx("span",{className:"sr-only",children:"Ir a la primer página"}),p.jsx(ZJ,{})]}),p.jsxs(Et,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>a(t-1),disabled:!i,children:[p.jsx("span",{className:"sr-only",children:"Ir a la página anterior"}),p.jsx(a9,{})]}),p.jsxs(Et,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>a(t+1),disabled:!s,children:[p.jsx("span",{className:"sr-only",children:"Ir a la página siguiente"}),p.jsx(Oo,{})]}),p.jsxs(Et,{variant:"outline",size:"icon",className:`size-8 ${e&&"text-silk-secondary/80"}`,onClick:()=>a(n),disabled:!s,children:[p.jsx("span",{className:"sr-only",children:"Ir a la última página"}),p.jsx(eee,{})]})]})]})},u0={PENDING:{label:"Pendiente",icon:l9,color:"bg-amber-100 text-amber-700",timelineColor:"amber",description:"La solicitud está pendiente de revisión."},CONTACTED:{label:"Contactado",icon:lee,color:"bg-indigo-100 text-indigo-700",timelineColor:"indigo",description:"El cliente ya ha sido contactado."},CONTRACTED:{label:"Contratado",icon:c9,color:"bg-teal-100 text-teal-700",timelineColor:"emerald",description:"El servicio ha sido contratado."},CANCELLED:{label:"Cancelado",icon:uee,color:"bg-stone-100 text-stone-700",timelineColor:"stone",description:"La solicitud ha sido cancelada."}},CF=({status:e,disableTooltip:t,tooltipSide:n="top",tooltipAlign:r="center"})=>{const{label:s,description:i,color:o,icon:a}=u0[e];return t?p.jsxs(ia,{className:o,children:[p.jsx(a,{className:"size-4!"}),s]}):p.jsxs(Sle,{children:[p.jsx(Tle,{asChild:!0,children:p.jsxs(ia,{className:o,children:[p.jsx(a,{className:"size-4!"}),s]})}),p.jsx(kle,{side:n,align:r,children:p.jsx("p",{className:"text-sm",children:i})})]})},Yde=()=>{const{pathname:e}=Q_();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null},SF=({id:e,name:t,label:n,labelClassName:r="",value:s,placeholder:i,className:o="",disabled:a,isLoading:l=!1,register:u,limit:f,errors:h={},...g})=>{const b=t.split(".").reduce((x,w)=>x?.[w],h),v=!!b;return p.jsxs("div",{className:"space-y-1",children:[n&&p.jsx(lr,{htmlFor:e,className:r,children:n}),l?p.jsx(_e,{className:"w-full h-16"}):p.jsxs(p.Fragment,{children:[p.jsx(tle,{value:s,maxLength:f,id:`textarea-${t}`,placeholder:i,disabled:a||l,className:Ue(v&&"border-red-500 focus:border-0 focus-visible:ring-red-500",o),...u,...g}),f&&p.jsxs("div",{className:"mt-1 text-xs text-zinc-500 text-right",children:[s.length,"/",f]}),v&&p.jsxs("p",{className:"mt-1 text-xs text-red-500 flex items-top gap-1",children:[p.jsx(Wg,{size:13}),b.message]})]})]})},Wde=()=>p.jsx("section",{className:"bg-silk-secondary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{element:"h2",textColor:"text-silk-tertiary",title:p.jsxs(p.Fragment,{children:["Nuestra ",p.jsx("span",{className:"italic font-light",children:"misión"})]}),description:"Creemos que la imagen personal es una herramienta poderosa de autoexpresión y confianza. Queremos acompañarte en el proceso de descubrir tu estilo único y auténtico."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 grid-rows-2 gap-8",children:[p.jsxs("div",{className:"bg-silk-tertiary/10 backdrop-blur-sm rounded-lg p-6 border border-silk-tertiary/20",children:[p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-tertiary mb-3",children:"¿Por qué elegimos este camino?"}),p.jsx("p",{className:"text-silk-tertiary/90 leading-relaxed",children:"Después de años trabajando en la industria de la moda, nos dimos cuenta de que muchas personas no sabían cómo expresar su personalidad a través de su imagen. Decidimos crear SILK para cambiar esa realidad."})]}),p.jsxs("div",{className:"bg-silk-tertiary/10 backdrop-blur-sm rounded-lg p-6 border border-silk-tertiary/20",children:[p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-tertiary mb-3",children:"Nuestro enfoque"}),p.jsx("p",{className:"text-silk-tertiary/90 leading-relaxed",children:"Trabajamos desde una perspectiva integral, considerando no solo las tendencias, sino también tu estilo de vida, personalidad y objetivos. Cada consultoría es única y personalizada."})]}),p.jsx("div",{className:"hidden sm:flex items-center justify-center lg:row-span-2 lg:col-start-2 lg:row-start-1",children:p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:"/team-images/team-mission.webp",alt:"Nuestra misión en SILK",className:"rounded-lg shadow-lg max-w-full h-auto"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-silk-secondary/20 to-transparent rounded-lg"})]})})]})]})}),Kde=[{id:1,icon:wee,title:"Autenticidad",description:"Creemos que el verdadero estilo nace de la autenticidad. Te ayudamos a expresar quién realmente sos, no lo que otros esperan que seas."},{id:2,icon:ate,title:"Personalización",description:"Cada persona es única y merece un enfoque personalizado. Nuestras consultorías se adaptan 100% a tu estilo de vida, personalidad y objetivos."},{id:3,icon:lN,title:"Transformación",description:"No solo cambiamos tu apariencia, transformamos la relación que tenés con tu imagen y potenciamos tu confianza desde adentro hacia afuera."},{id:4,icon:ete,title:"Resultados",description:"Nos enfocamos en generar resultados tangibles y duraderos. Queremos que sientas el impacto de nuestro trabajo en tu día a día."},{id:5,icon:Kee,title:"Confianza",description:"Trabajamos en un ambiente de total confianza y respeto. Tu comodidad y bienestar son nuestra prioridad en cada sesión."},{id:6,icon:ig,title:"Excelencia",description:"Nos comprometemos con la excelencia en cada detalle. Desde la primera consulta hasta el seguimiento, buscamos superar tus expectativas."}],Qde=()=>p.jsx("section",{className:"bgsilk-tertiary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{element:"h2",textColor:"text-silk-secondary",title:p.jsxs(p.Fragment,{children:["Nuestros ",p.jsx("span",{className:"italic font-light",children:"valores"})]}),description:"Los principios que guían nuestro trabajo y definen la experiencia SILK"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12",children:Kde.map(e=>{const t=e.icon;return p.jsxs("div",{className:"bg-white backdrop-blur-sm rounded-md p-6 border border-silk-primary/20 hover:bg-white transition-all duration-300 group shadow-lg hover:shadow-xl",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"bg-gradient-to-b from-emerald-600 to-emerald-800 text-white border-none p-3 rounded-lg group-hover:scale-110 transition-transform duration-300",children:p.jsx(t,{size:24,className:"text-white"})}),p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-secondary ml-4",children:e.title})]}),p.jsx("p",{className:"text-silk-secondary leading-relaxed",children:e.description})]},e.id)})})]})}),Xde=[{id:1,name:"Lucas Contardi",role:"Asesor de Imagen & Co-fundador",image:"lucas-perfil.webp",bio:"Con más de 8 años de experiencia en asesoramiento de imagen, Lucas se especializa en transformaciones corporativas y personal branding. Su enfoque combina técnicas clásicas con tendencias contemporáneas.",specialties:["Asesoramiento Corporativo","Personal Branding","Colorimetría"],education:"Certificado en Asesoramiento de Imagen • Fashion Styling Institute",social:{instagram:"https://www.instagram.com/lucasccontardi/",mail:"lucas@estudiosilk.com",tiktok:"https://www.tiktok.com/@lucasccontardi"}},{id:2,name:"Magalí Cruz Frezzini",role:"Asesora de Imagen & Co-fundadora",image:"maggie-perfil.webp",bio:"Especialista en transformación integral con formación en psicología de la imagen. Magalí se enfoca en el coaching ontológico aplicado al desarrollo de la imagen personal y la autoestima.",specialties:["Transformación Integral","Coaching de Imagen","Personal Shopping"],education:"Master en Asesoramiento de Imagen • Coaching Ontológico Certificado",social:{instagram:"https://www.instagram.com/magalicruzfrezzini/",mail:"maggie@estudiosilk.com",tiktok:"https://www.tiktok.com/@magalicruzfrezzini"}}],Zde=()=>p.jsx("section",{className:"bg-silk-tertiary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{title:p.jsxs(p.Fragment,{children:["Conocé el equipo detrás de"," ",p.jsx("span",{className:"font-classy-vogue",children:"SILK"})]}),description:"Somos asesores de imagen apasionados por ayudarte a descubrir y potenciar tu estilo único. Nuestra misión es transformar la manera en que te ves y te sientes con vos mismo."}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Xde.map(e=>p.jsxs("div",{className:"bg-white backdrop-blur-sm rounded-2xl p-8 border border-silk-primary/20 hover:bg-white transition-all duration-300 shadow-lg hover:shadow-xl",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("div",{className:"relative inline-block",children:[p.jsx("img",{src:`/team-images/${e.image}`,alt:`Foto de ${e.name}`,className:"w-32 h-32 md:w-40 md:h-40 rounded-full object-cover mx-auto border-4 border-silk-primary/90"}),p.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-t from-silk-secondary/10 to-transparent"})]}),p.jsx("h3",{className:"font-very-vogue text-3xl md:text-4xl text-silk-secondary mt-4 mb-2",children:e.name}),p.jsx("p",{className:"text-silk-secondary/80 font-medium uppercase tracking-wide text-sm",children:e.role})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-silk-secondary/90 leading-relaxed text-center",children:e.bio}),p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-md p-4 border border-silk-primary/20",children:[p.jsx("h4",{className:"font-semibold text-silk-primary mb-2",children:"Formación"}),p.jsx("p",{className:"text-silk-secondary/90 text-sm",children:e.education})]}),p.jsxs("div",{className:"flex justify-center items-center space-x-4 py-2 bg-silk-primary rounded-md",children:[p.jsx(as,{to:e.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"size-7",children:p.jsx("img",{src:"/socials-images/instagram.webp",alt:"Instagram",className:"w-full h-full object-contain"})}),p.jsx("a",{href:`mailto:${e.social.mail}`,className:"size-7",children:p.jsx(gx,{className:"size-7"})}),p.jsx(as,{to:e.social.tiktok,target:"_blank",rel:"noopener noreferrer",className:"size-7",children:p.jsx("img",{src:"/socials-images/tik-tok.webp",alt:"TikTok",className:"w-full h-full object-contain"})})]})]})]},e.id))})]})}),Jde=()=>{const e=Xr();return p.jsx("section",{className:"container py-15 md:py-20 space-y-10",children:p.jsxs("div",{className:"text-center space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"font-very-vogue text-4xl md:text-5xl text-silk-secondary mb-4",children:"¡Vamos a trabajar juntos!"}),p.jsx("p",{className:"text-silk-secondary/80 text-lg leading-relaxed max-w-2xl mx-auto",children:"Ya conocés quiénes somos, nuestros valores y cómo trabajamos. Ahora es tu turno: explorá nuestros servicios o descubrí tu estilo ideal con nuestro quiz personalizado."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_SERVICES),variant:"primary",size:"xl",className:"group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["VER NUESTROS SERVICIOS",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]}),p.jsx(Et,{onClick:()=>e(Qe.CLIENT_QUIZ),variant:"secondary",size:"xl",className:"bg-white/80 backdrop-blur-sm border-silk-secondary/30 text-silk-secondary hover:bg-white/90",children:"HACER EL QUIZ DE ESTILO"})]}),p.jsx("p",{className:"text-silk-secondary/60 text-sm mt-4",children:"Comenzá tu transformación hoy • Te acompañaremos en cada paso • Resultados garantizados"})]})})},efe=()=>p.jsxs(p.Fragment,{children:[p.jsx(Zde,{}),p.jsx(Wde,{}),p.jsx(Qde,{}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-silk-secondary/30 to-transparent"})}),p.jsx(Jde,{})]});function $h(e){return e?`https://rzsrczjraasauflssdqq.supabase.co/storage/v1/object/public/silk-public/${e}`:"/image-placeholder.svg"}const eh=({post:{id:e,date:t,description:n,title:r,imageFilePath:s,category:i}})=>p.jsx(as,{to:Qe.CLIENT_BLOG_POST.replace(":postId",e),className:"group",children:p.jsxs("div",{className:`bg-silk-secondary border border-silk-secondary rounded-md shadow-lg \r
               transition-all overflow-hidden flex flex-col h-full`,children:[p.jsx("div",{className:"w-full flex items-center px-2 py-2 bg-silk-secondary justify-between",children:p.jsxs("div",{className:"flex space-x-1.5",children:[p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"})]})}),p.jsxs("div",{className:"flex flex-col flex-1 bg-silk-secondary",children:[s&&p.jsxs("div",{className:"relative h-48 overflow-hidden border-b border-silk-secondary",children:[p.jsx("img",{alt:r,src:$h(s),className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-300"}),p.jsx("div",{className:"absolute inset-0 bg-silk-secondary/0 group-hover:bg-silk-secondary/20 transition-colors duration-300"})]}),p.jsxs("div",{className:"p-5 flex flex-col flex-1 bg-white",children:[p.jsx("h2",{className:"text-2xl mb-2 text-silk-secondary font-serif leading-tight",children:r}),p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[p.jsx("span",{className:"text-muted-foreground text-sm",children:t}),p.jsx(ia,{variant:"default",className:"bg-silk-primary text-white border-none rounded-full uppercase tracking-wide px-4 py-1",children:i.name})]}),p.jsx("p",{className:"text-muted-foreground flex-1 mb-4",children:n}),p.jsxs("span",{className:"flex items-center gap-1 text-silk-primary font-medium group-hover:underline transition-all mt-auto",children:["Leer más ",p.jsx(Oo,{size:16})]})]})]})]})});eh.Skeleton=function(){return p.jsx("div",{className:"group",children:p.jsxs("div",{className:`border border-silk-secondary rounded-md shadow-lg \r
               transition-all overflow-hidden flex flex-col h-full`,children:[p.jsx("div",{className:"w-full flex items-center px-2 py-2 bg-silk-secondary justify-between",children:p.jsxs("div",{className:"flex space-x-1.5",children:[p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"})]})}),p.jsxs("div",{className:"flex flex-col flex-1",children:[p.jsx("div",{className:"h-48 overflow-hidden border-b",children:p.jsx(_e,{className:"h-full w-full rounded-b-none"})}),p.jsxs("div",{className:"p-5 flex flex-col flex-1 bg-white",children:[p.jsxs("div",{className:"mb-2",children:[p.jsx(_e,{className:"h-7 w-full mb-1"}),p.jsx(_e,{className:"h-7 w-3/4"})]}),p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[p.jsx(_e,{className:"h-4 w-20"}),p.jsx(_e,{className:"h-5 w-16 rounded-xs"})]}),p.jsxs("div",{className:"flex-1 mb-4 space-y-2",children:[p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-2/3"})]}),p.jsx("div",{className:"mt-auto",children:p.jsx(_e,{className:"h-5 w-20"})})]})]})]})})};const tfe=({paginatedPosts:e,isLoading:t,currentPage:n,totalPages:r,canGoNext:s,canGoPrevious:i,onPageChange:o,emptyMessage:a})=>p.jsx("section",{className:"space-y-4",children:t?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:Array.from({length:6}).map((l,u)=>p.jsx(eh.Skeleton,{},`post-skeleton-${u}`))}):e.length===0?p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-12 border border-silk-secondary/20 text-center",children:[p.jsx(Pu,{size:80,className:"mx-auto text-silk-secondary/60 mb-4"}),p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-secondary mb-2",children:"No hay Posts registrados"}),p.jsx("p",{className:"text-silk-secondary/80",children:a})]}):p.jsxs(p.Fragment,{children:[r>1&&!t&&p.jsx(mg,{isLanding:!0,currentPage:n,totalPages:r,onPageChange:o,canGoNext:s,canGoPrevious:i}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((l,u)=>p.jsx(eh,{post:l},`post-card-client-${l.id}-${u}`))}),r>1&&!t&&p.jsx(mg,{isLanding:!0,scrollToTop:!0,currentPage:n,totalPages:r,onPageChange:o,canGoNext:s,canGoPrevious:i})]})}),nfe=()=>{const e=$x(),{posts:t,categories:n,isLoading:r}=Yx({onlyActive:!0}),{items:s,searchTerm:i,setSearchTerm:o,filters:a,updateFilter:l,clearFilters:u,hasActiveFilters:f}=qx({data:t.map(O=>({...O,categoryName:O.category.name})),searchFields:["title","author","description"],initialFilters:{categoryName:"all"}}),{currentPage:h,totalPages:g,startIndex:b,endIndex:v,itemsPerPage:x,goToPage:w,canGoNext:S,canGoPrevious:_,setItemsPerPage:N}=Gx({totalItems:s.length,itemsPerPage:6}),M=s.slice(b,v);return p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{title:p.jsxs(p.Fragment,{children:["Explorá nuestro ",p.jsx("span",{className:"italic",children:"blog"})]}),description:"Consejos de estilo, tendencias y secretos para potenciar tu imagen personal"}),p.jsxs("section",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-silk-secondary/20",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(lr,{htmlFor:"search-filter",className:"text-silk-secondary font-medium",children:"Buscar por título, autor o descripción"}),p.jsxs("div",{className:"relative mt-2",children:[p.jsx(Kg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-silk-secondary/60"}),p.jsx(gd,{id:"search-filter",value:i,disabled:r,className:"pl-10 bg-white/80 backdrop-blur-sm border-silk-secondary/30 text-silk-secondary placeholder:text-silk-secondary/60",placeholder:"Ej: Tendencias en Colores...",onChange:O=>o(O.target.value)})]})]}),p.jsxs("div",{children:[p.jsx(lr,{htmlFor:"category-filter",className:"text-silk-secondary font-medium",children:"Categoría"}),p.jsxs(dl,{value:a.categoryName||"all",onValueChange:O=>l("categoryName",O),disabled:r,children:[p.jsx(hl,{className:"mt-2 bg-white/80 backdrop-blur-sm border-silk-secondary/30 text-silk-secondary w-full",id:"category-filter",children:p.jsx(fl,{placeholder:"Todas las categorías"})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"all",children:"Todas las categorías"}),Object.keys(n).map(O=>p.jsx(dn,{value:n[O],children:n[O]},O))]})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsx("div",{className:"text-sm text-silk-secondary/80",children:M.length===0?"Mostrando 0 de 0 posts":`Mostrando ${b+1}-${Math.min(v,s.length)} de ${s.length} posts`}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lr,{htmlFor:"items-per-page",className:"text-sm text-silk-secondary/80 whitespace-nowrap",children:"Mostrar:"}),p.jsxs(dl,{value:x.toString(),disabled:r,onValueChange:O=>N(O==="*"?"*":Number(O)),children:[p.jsx(hl,{id:"items-per-page",className:"w-20 bg-white/80 backdrop-blur-sm border-silk-secondary/30 text-silk-secondary",children:p.jsx(fl,{})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"3",children:"3"}),p.jsx(dn,{value:"6",children:"6"}),p.jsx(dn,{value:"12",children:"12"}),p.jsx(dn,{value:"*",children:"Todos"})]})]})]}),p.jsx(Et,{variant:"secondary",onClick:u,disabled:r||!f,className:"bg-white/80 backdrop-blur-sm border-silk-secondary/30 text-silk-secondary hover:bg-white/90",children:e?"Limpiar":"Limpiar filtros"})]})]})]}),p.jsx(tfe,{paginatedPosts:M,isLoading:r,currentPage:h,totalPages:g,canGoNext:S,canGoPrevious:_,onPageChange:w,emptyMessage:f?"Probá limpiar los filtros o buscar con otros términos":"Pronto tendremos contenido increíble para vos"})]})};function d0(e,t="full"){if(!e)return"";const n=typeof e=="string"?new Date(e):e,r=n.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),s=n.toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"});switch(t){case"time":return r;case"date":return s;case"full":default:return`${s} - ${r}hs`}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rfe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],uk=rfe.join(","),TF=typeof Element>"u",gg=TF?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Py=!TF&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},By=function e(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=s===""||s==="true",o=i||n&&t&&e(t.parentNode);return o},sfe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},ife=function(t,n,r){if(By(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(uk));return n&&gg.call(t,uk)&&s.unshift(t),s=s.filter(r),s},ofe=function e(t,n,r){for(var s=[],i=Array.from(t);i.length;){var o=i.shift();if(!By(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=e(l,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:o,candidates:u})}else{var f=gg.call(o,uk);f&&r.filter(o)&&(n||!t.includes(o))&&s.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),g=!By(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&g){var b=e(h===!0?o.children:h.children,!0,r);r.flatten?s.push.apply(s,b):s.push({scopeParent:o,candidates:b})}else i.unshift.apply(i,o.children)}}return s},kF=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},_F=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||sfe(t))&&!kF(t)?0:t.tabIndex},afe=function(t,n){var r=_F(t);return r<0&&n&&!kF(t)?0:r},lfe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},NF=function(t){return t.tagName==="INPUT"},cfe=function(t){return NF(t)&&t.type==="hidden"},ufe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},dfe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},ffe=function(t){if(!t.name)return!0;var n=t.form||Py(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=dfe(s,t.form);return!i||i===t},hfe=function(t){return NF(t)&&t.type==="radio"},pfe=function(t){return hfe(t)&&!ffe(t)},mfe=function(t){var n,r=t&&Py(t),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&s;){var u,f,h;r=Py(s),s=(u=r)===null||u===void 0?void 0:u.host,i=!!((f=s)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return i},S6=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},gfe=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=gg.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(gg.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=t;t;){var l=t.parentElement,u=Py(t);if(l&&!l.shadowRoot&&s(l)===!0)return S6(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=a}if(mfe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return S6(t);return!1},bfe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return gg.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},yfe=function(t,n){return!(n.disabled||By(n)||cfe(n)||gfe(n,t)||ufe(n)||bfe(n))},T6=function(t,n){return!(pfe(n)||_F(n)<0||!yfe(t,n))},vfe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},xfe=function e(t){var n=[],r=[];return t.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=afe(a,o),u=o?e(s.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:u})}),r.sort(lfe).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},AF=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ofe([t],n.includeContainer,{filter:T6.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:vfe}):r=ife(t,n.includeContainer,T6.bind(null,n)),xfe(r)};function wfe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Efe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function MF(){return/apple/i.test(navigator.vendor)}function Cfe(){return wfe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Sfe(){return Efe().includes("jsdom/")}const k6="data-floating-ui-focusable",Tfe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function dk(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function gh(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&BT(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Uf(e){return"composedPath"in e?e.composedPath()[0]:e.target}function GS(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function kfe(e){return e.matches("html,body")}function sa(e){return e?.ownerDocument||document}function _fe(e){return hi(e)&&e.matches(Tfe)}function Nfe(e){if(!e||Sfe())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Afe(e){return e?e.hasAttribute(k6)?e:e.querySelector("["+k6+"]")||e:null}function X1(e,t,n){return n===void 0&&(n=!0),e.filter(s=>{var i;return s.parentId===t&&(!n||((i=s.context)==null?void 0:i.open))}).flatMap(s=>[s,...X1(e,s.id,n)])}function Mfe(e){return"nativeEvent"in e}function fk(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var Ofe=typeof document<"u",Rfe=function(){},Wr=Ofe?C.useLayoutEffect:Rfe;const Ife={...ax};function mc(e){const t=C.useRef(e);return Wr(()=>{t.current=e}),t}const Dfe=Ife.useInsertionEffect,Lfe=Dfe||(e=>e());function ra(e){const t=C.useRef(()=>{});return Lfe(()=>{t.current=e}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}const OF=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function RF(e,t){const n=AF(e,OF()),r=n.length;if(r===0)return;const s=dk(sa(e)),i=n.indexOf(s),o=i===-1?t===1?0:r-1:i+t;return n[o]}function jfe(e){return RF(sa(e).body,1)||e}function Pfe(e){return RF(sa(e).body,-1)||e}function YS(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!gh(n,r)}function Bfe(e){AF(e,OF()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function _6(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Hfe="data-floating-ui-focusable",N6="active",A6="selected",Ffe={...ax};let M6=!1,Ufe=0;const O6=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ufe++;function zfe(){const[e,t]=C.useState(()=>M6?O6():void 0);return Wr(()=>{e==null&&t(O6())},[]),C.useEffect(()=>{M6=!0},[]),e}const $fe=Ffe.useId,uA=$fe||zfe;function Vfe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const qfe=C.createContext(null),Gfe=C.createContext(null),dA=()=>{var e;return((e=C.useContext(qfe))==null?void 0:e.id)||null},fA=()=>C.useContext(Gfe);function f0(e){return"data-floating-ui-"+e}function Di(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const R6=f0("safe-polygon");function Z1(e,t,n){if(n&&!fk(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function WS(e){return typeof e=="function"?e():e}function Yfe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:s,events:i,elements:o}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:f=!1,restMs:h=0,move:g=!0}=t,b=fA(),v=dA(),x=mc(u),w=mc(l),S=mc(n),_=mc(h),N=C.useRef(),M=C.useRef(-1),O=C.useRef(),R=C.useRef(-1),I=C.useRef(!0),j=C.useRef(!1),U=C.useRef(()=>{}),P=C.useRef(!1),K=ra(()=>{var V;const z=(V=s.current.openEvent)==null?void 0:V.type;return z?.includes("mouse")&&z!=="mousedown"});C.useEffect(()=>{if(!a)return;function V(z){let{open:J}=z;J||(Di(M),Di(R),I.current=!0,P.current=!1)}return i.on("openchange",V),()=>{i.off("openchange",V)}},[a,i]),C.useEffect(()=>{if(!a||!x.current||!n)return;function V(J){K()&&r(!1,J,"hover")}const z=sa(o.floating).documentElement;return z.addEventListener("mouseleave",V),()=>{z.removeEventListener("mouseleave",V)}},[o.floating,n,r,a,x,K]);const W=C.useCallback(function(V,z,J){z===void 0&&(z=!0),J===void 0&&(J="hover");const B=Z1(w.current,"close",N.current);B&&!O.current?(Di(M),M.current=window.setTimeout(()=>r(!1,V,J),B)):z&&(Di(M),r(!1,V,J))},[w,r]),ne=ra(()=>{U.current(),O.current=void 0}),Q=ra(()=>{if(j.current){const V=sa(o.floating).body;V.style.pointerEvents="",V.removeAttribute(R6),j.current=!1}}),te=ra(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);C.useEffect(()=>{if(!a)return;function V(X){if(Di(M),I.current=!1,f&&!fk(N.current)||WS(_.current)>0&&!Z1(w.current,"open"))return;const D=Z1(w.current,"open",N.current);D?M.current=window.setTimeout(()=>{S.current||r(!0,X,"hover")},D):n||r(!0,X,"hover")}function z(X){if(te()){Q();return}U.current();const D=sa(o.floating);if(Di(R),P.current=!1,x.current&&s.current.floatingContext){n||Di(M),O.current=x.current({...s.current.floatingContext,tree:b,x:X.clientX,y:X.clientY,onClose(){Q(),ne(),te()||W(X,!0,"safe-polygon")}});const ue=O.current;D.addEventListener("mousemove",ue),U.current=()=>{D.removeEventListener("mousemove",ue)};return}(N.current==="touch"?!gh(o.floating,X.relatedTarget):!0)&&W(X)}function J(X){te()||s.current.floatingContext&&(x.current==null||x.current({...s.current.floatingContext,tree:b,x:X.clientX,y:X.clientY,onClose(){Q(),ne(),te()||W(X)}})(X))}function B(){Di(M)}function Se(X){te()||W(X,!1)}if(Nn(o.domReference)){const X=o.domReference,D=o.floating;return n&&X.addEventListener("mouseleave",J),g&&X.addEventListener("mousemove",V,{once:!0}),X.addEventListener("mouseenter",V),X.addEventListener("mouseleave",z),D&&(D.addEventListener("mouseleave",J),D.addEventListener("mouseenter",B),D.addEventListener("mouseleave",Se)),()=>{n&&X.removeEventListener("mouseleave",J),g&&X.removeEventListener("mousemove",V),X.removeEventListener("mouseenter",V),X.removeEventListener("mouseleave",z),D&&(D.removeEventListener("mouseleave",J),D.removeEventListener("mouseenter",B),D.removeEventListener("mouseleave",Se))}}},[o,a,e,f,g,W,ne,Q,r,n,S,b,w,x,s,te,_]),Wr(()=>{var V;if(a&&n&&(V=x.current)!=null&&(V=V.__options)!=null&&V.blockPointerEvents&&K()){j.current=!0;const J=o.floating;if(Nn(o.domReference)&&J){var z;const B=sa(o.floating).body;B.setAttribute(R6,"");const Se=o.domReference,X=b==null||(z=b.nodesRef.current.find(D=>D.id===v))==null||(z=z.context)==null?void 0:z.elements.floating;return X&&(X.style.pointerEvents=""),B.style.pointerEvents="none",Se.style.pointerEvents="auto",J.style.pointerEvents="auto",()=>{B.style.pointerEvents="",Se.style.pointerEvents="",J.style.pointerEvents=""}}}},[a,n,v,o,b,x,K]),Wr(()=>{n||(N.current=void 0,P.current=!1,ne(),Q())},[n,ne,Q]),C.useEffect(()=>()=>{ne(),Di(M),Di(R),Q()},[a,o.domReference,ne,Q]);const F=C.useMemo(()=>{function V(z){N.current=z.pointerType}return{onPointerDown:V,onPointerEnter:V,onMouseMove(z){const{nativeEvent:J}=z;function B(){!I.current&&!S.current&&r(!0,J,"hover")}f&&!fk(N.current)||n||WS(_.current)===0||P.current&&z.movementX**2+z.movementY**2<2||(Di(R),N.current==="touch"?B():(P.current=!0,R.current=window.setTimeout(B,WS(_.current))))}}},[f,r,n,S,_]);return C.useMemo(()=>a?{reference:F}:{},[a,F])}const hk=()=>{},IF=C.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:hk,setState:hk,isInstantPhase:!1}),Wfe=()=>C.useContext(IF);function Kfe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[s,i]=C.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=C.useRef(null),a=C.useCallback(l=>{i({currentId:l})},[]);return Wr(()=>{s.currentId?o.current===null?o.current=s.currentId:s.isInstantPhase||i({isInstantPhase:!0}):(s.isInstantPhase&&i({isInstantPhase:!1}),o.current=null)},[s.currentId,s.isInstantPhase]),p.jsx(IF.Provider,{value:C.useMemo(()=>({...s,setState:i,setCurrentId:a}),[s,a]),children:t})}function Qfe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:s}=e,{id:i,enabled:o=!0}=t,a=i??s,l=Wfe(),{currentId:u,setCurrentId:f,initialDelay:h,setState:g,timeoutMs:b}=l;return Wr(()=>{o&&u&&(g({delay:{open:1,close:Z1(h,"close")}}),u!==a&&r(!1))},[o,a,r,g,u,h]),Wr(()=>{function v(){r(!1),g({delay:h,currentId:null})}if(o&&u&&!n&&u===a){if(b){const x=window.setTimeout(v,b);return()=>{clearTimeout(x)}}v()}},[o,n,g,u,a,r,h,b]),Wr(()=>{o&&(f===hk||!n||f(a))},[o,n,f,a]),l}const DF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},I6=C.forwardRef(function(t,n){const[r,s]=C.useState();Wr(()=>{MF()&&s("button")},[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[f0("focus-guard")]:"",style:DF};return p.jsx("span",{...t,...i})}),LF=C.createContext(null),D6=f0("portal");function Xfe(e){e===void 0&&(e={});const{id:t,root:n}=e,r=uA(),s=Jfe(),[i,o]=C.useState(null),a=C.useRef(null);return Wr(()=>()=>{i?.remove(),queueMicrotask(()=>{a.current=null})},[i]),Wr(()=>{if(!r||a.current)return;const l=t?document.getElementById(t):null;if(!l)return;const u=document.createElement("div");u.id=r,u.setAttribute(D6,""),l.appendChild(u),a.current=u,o(u)},[t,r]),Wr(()=>{if(n===null||!r||a.current)return;let l=n||s?.portalNode;l&&!RN(l)&&(l=l.current),l=l||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,l.appendChild(u));const f=document.createElement("div");f.id=r,f.setAttribute(D6,""),l=u||l,l.appendChild(f),a.current=f,o(f)},[t,n,r,s]),i}function Zfe(e){const{children:t,id:n,root:r,preserveTabOrder:s=!0}=e,i=Xfe({id:n,root:r}),[o,a]=C.useState(null),l=C.useRef(null),u=C.useRef(null),f=C.useRef(null),h=C.useRef(null),g=o?.modal,b=o?.open,v=!!o&&!o.modal&&o.open&&s&&!!(r||i);return C.useEffect(()=>{if(!i||!s||g)return;function x(w){i&&YS(w)&&(w.type==="focusin"?_6:Bfe)(i)}return i.addEventListener("focusin",x,!0),i.addEventListener("focusout",x,!0),()=>{i.removeEventListener("focusin",x,!0),i.removeEventListener("focusout",x,!0)}},[i,s,g]),C.useEffect(()=>{i&&(b||_6(i))},[b,i]),p.jsxs(LF.Provider,{value:C.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:f,afterInsideRef:h,portalNode:i,setFocusManagerState:a}),[s,i]),children:[v&&i&&p.jsx(I6,{"data-type":"outside",ref:l,onFocus:x=>{if(YS(x,i)){var w;(w=f.current)==null||w.focus()}else{const S=o?o.domReference:null,_=Pfe(S);_?.focus()}}}),v&&i&&p.jsx("span",{"aria-owns":i.id,style:DF}),i&&Ki.createPortal(t,i),v&&i&&p.jsx(I6,{"data-type":"outside",ref:u,onFocus:x=>{if(YS(x,i)){var w;(w=h.current)==null||w.focus()}else{const S=o?o.domReference:null,_=jfe(S);_?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,x.nativeEvent,"focus-out")}}})]})}const Jfe=()=>C.useContext(LF),ehe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},the={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},L6=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function jF(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:s,dataRef:i}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:g=!1,bubbles:b,capture:v}=t,x=fA(),w=ra(typeof l=="function"?l:()=>!1),S=typeof l=="function"?w:l,_=C.useRef(!1),{escapeKey:N,outsidePress:M}=L6(b),{escapeKey:O,outsidePress:R}=L6(v),I=C.useRef(!1),j=ra(Q=>{var te;if(!n||!o||!a||Q.key!=="Escape"||I.current)return;const F=(te=i.current.floatingContext)==null?void 0:te.nodeId,V=x?X1(x.nodesRef.current,F):[];if(!N&&(Q.stopPropagation(),V.length>0)){let z=!0;if(V.forEach(J=>{var B;if((B=J.context)!=null&&B.open&&!J.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}r(!1,Mfe(Q)?Q.nativeEvent:Q,"escape-key")}),U=ra(Q=>{var te;const F=()=>{var V;j(Q),(V=Uf(Q))==null||V.removeEventListener("keydown",F)};(te=Uf(Q))==null||te.addEventListener("keydown",F)}),P=ra(Q=>{var te;const F=i.current.insideReactTree;i.current.insideReactTree=!1;const V=_.current;if(_.current=!1,u==="click"&&V||F||typeof S=="function"&&!S(Q))return;const z=Uf(Q),J="["+f0("inert")+"]",B=sa(s.floating).querySelectorAll(J);let Se=Nn(z)?z:null;for(;Se&&!nl(Se);){const ue=ul(Se);if(nl(ue)||!Nn(ue))break;Se=ue}if(B.length&&Nn(z)&&!kfe(z)&&!gh(z,s.floating)&&Array.from(B).every(ue=>!gh(Se,ue)))return;if(hi(z)&&ne){const ue=nl(z),de=Qi(z),ie=/auto|scroll/,we=ue||ie.test(de.overflowX),Me=ue||ie.test(de.overflowY),Be=we&&z.clientWidth>0&&z.scrollWidth>z.clientWidth,He=Me&&z.clientHeight>0&&z.scrollHeight>z.clientHeight,Te=de.direction==="rtl",Fe=He&&(Te?Q.offsetX<=z.offsetWidth-z.clientWidth:Q.offsetX>z.clientWidth),Je=Be&&Q.offsetY>z.clientHeight;if(Fe||Je)return}const X=(te=i.current.floatingContext)==null?void 0:te.nodeId,D=x&&X1(x.nodesRef.current,X).some(ue=>{var de;return GS(Q,(de=ue.context)==null?void 0:de.elements.floating)});if(GS(Q,s.floating)||GS(Q,s.domReference)||D)return;const he=x?X1(x.nodesRef.current,X):[];if(he.length>0){let ue=!0;if(he.forEach(de=>{var ie;if((ie=de.context)!=null&&ie.open&&!de.context.dataRef.current.__outsidePressBubbles){ue=!1;return}}),!ue)return}r(!1,Q,"outside-press")}),K=ra(Q=>{var te;const F=()=>{var V;P(Q),(V=Uf(Q))==null||V.removeEventListener(u,F)};(te=Uf(Q))==null||te.addEventListener(u,F)});C.useEffect(()=>{if(!n||!o)return;i.current.__escapeKeyBubbles=N,i.current.__outsidePressBubbles=M;let Q=-1;function te(B){r(!1,B,"ancestor-scroll")}function F(){window.clearTimeout(Q),I.current=!0}function V(){Q=window.setTimeout(()=>{I.current=!1},Nx()?5:0)}const z=sa(s.floating);a&&(z.addEventListener("keydown",O?U:j,O),z.addEventListener("compositionstart",F),z.addEventListener("compositionend",V)),S&&z.addEventListener(u,R?K:P,R);let J=[];return g&&(Nn(s.domReference)&&(J=rl(s.domReference)),Nn(s.floating)&&(J=J.concat(rl(s.floating))),!Nn(s.reference)&&s.reference&&s.reference.contextElement&&(J=J.concat(rl(s.reference.contextElement)))),J=J.filter(B=>{var Se;return B!==((Se=z.defaultView)==null?void 0:Se.visualViewport)}),J.forEach(B=>{B.addEventListener("scroll",te,{passive:!0})}),()=>{a&&(z.removeEventListener("keydown",O?U:j,O),z.removeEventListener("compositionstart",F),z.removeEventListener("compositionend",V)),S&&z.removeEventListener(u,R?K:P,R),J.forEach(B=>{B.removeEventListener("scroll",te)}),window.clearTimeout(Q)}},[i,s,a,S,u,n,r,g,o,N,M,j,O,U,P,R,K]),C.useEffect(()=>{i.current.insideReactTree=!1},[i,S,u]);const W=C.useMemo(()=>({onKeyDown:j,...f&&{[ehe[h]]:Q=>{r(!1,Q.nativeEvent,"reference-press")},...h!=="click"&&{onClick(Q){r(!1,Q.nativeEvent,"reference-press")}}}}),[j,r,f,h]),ne=C.useMemo(()=>({onKeyDown:j,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[the[u]]:()=>{i.current.insideReactTree=!0}}),[j,u,i]);return C.useMemo(()=>o?{reference:W,floating:ne}:{},[o,W,ne])}function nhe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=uA(),i=C.useRef({}),[o]=C.useState(()=>Vfe()),a=dA()!=null,[l,u]=C.useState(r.reference),f=ra((b,v,x)=>{i.current.openEvent=b?v:void 0,o.emit("openchange",{open:b,event:v,reason:x,nested:a}),n?.(b,v,x)}),h=C.useMemo(()=>({setPositionReference:u}),[]),g=C.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return C.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:g,events:o,floatingId:s,refs:h}),[t,f,g,o,s,h])}function Vh(e){e===void 0&&(e={});const{nodeId:t}=e,n=nhe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[i,o]=C.useState(null),[a,l]=C.useState(null),f=s?.domReference||i,h=C.useRef(null),g=fA();Wr(()=>{f&&(h.current=f)},[f]);const b=t7({...e,elements:{...s,...a&&{reference:a}}}),v=C.useCallback(N=>{const M=Nn(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;l(M),b.refs.setReference(M)},[b.refs]),x=C.useCallback(N=>{(Nn(N)||N===null)&&(h.current=N,o(N)),(Nn(b.refs.reference.current)||b.refs.reference.current===null||N!==null&&!Nn(N))&&b.refs.setReference(N)},[b.refs]),w=C.useMemo(()=>({...b.refs,setReference:x,setPositionReference:v,domReference:h}),[b.refs,x,v]),S=C.useMemo(()=>({...b.elements,domReference:f}),[b.elements,f]),_=C.useMemo(()=>({...b,...r,refs:w,elements:S,nodeId:t}),[b,w,S,t,r]);return Wr(()=>{r.dataRef.current.floatingContext=_;const N=g?.nodesRef.current.find(M=>M.id===t);N&&(N.context=_)}),C.useMemo(()=>({...b,context:_,refs:w,elements:S}),[b,w,S,_])}function KS(){return Cfe()&&MF()}function rhe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:s,dataRef:i,elements:o}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=C.useRef(!1),f=C.useRef(-1),h=C.useRef(!0);C.useEffect(()=>{if(!a)return;const b=Bs(o.domReference);function v(){!n&&hi(o.domReference)&&o.domReference===dk(sa(o.domReference))&&(u.current=!0)}function x(){h.current=!0}function w(){h.current=!1}return b.addEventListener("blur",v),KS()&&(b.addEventListener("keydown",x,!0),b.addEventListener("pointerdown",w,!0)),()=>{b.removeEventListener("blur",v),KS()&&(b.removeEventListener("keydown",x,!0),b.removeEventListener("pointerdown",w,!0))}},[o.domReference,n,a]),C.useEffect(()=>{if(!a)return;function b(v){let{reason:x}=v;(x==="reference-press"||x==="escape-key")&&(u.current=!0)}return s.on("openchange",b),()=>{s.off("openchange",b)}},[s,a]),C.useEffect(()=>()=>{Di(f)},[]);const g=C.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(b){if(u.current)return;const v=Uf(b.nativeEvent);if(l&&Nn(v)){if(KS()&&!b.relatedTarget){if(!h.current&&!_fe(v))return}else if(!Nfe(v))return}r(!0,b.nativeEvent,"focus")},onBlur(b){u.current=!1;const v=b.relatedTarget,x=b.nativeEvent,w=Nn(v)&&v.hasAttribute(f0("focus-guard"))&&v.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var S;const _=dk(o.domReference?o.domReference.ownerDocument:document);!v&&_===o.domReference||gh((S=i.current.floatingContext)==null?void 0:S.refs.floating.current,_)||gh(o.domReference,_)||w||r(!1,x,"focus")})}}),[i,o.domReference,r,l]);return C.useMemo(()=>a?{reference:g}:{},[a,g])}function QS(e,t,n){const r=new Map,s=n==="item";let i=e;if(s&&e){const{[N6]:o,[A6]:a,...l}=e;i=l}return{...n==="floating"&&{tabIndex:-1,[Hfe]:""},...i,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,f]=l;if(!(s&&[N6,A6].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var h;(h=r.get(u))==null||h.push(f),o[u]=function(){for(var g,b=arguments.length,v=new Array(b),x=0;x<b;x++)v[x]=arguments[x];return(g=r.get(u))==null?void 0:g.map(w=>w(...v)).find(w=>w!==void 0)}}}else o[u]=f}),o),{})}}function PF(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),n=e.map(a=>a?.floating),r=e.map(a=>a?.item),s=C.useCallback(a=>QS(a,e,"reference"),t),i=C.useCallback(a=>QS(a,e,"floating"),n),o=C.useCallback(a=>QS(a,e,"item"),r);return C.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:o}),[s,i,o])}const she=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ihe(e,t){var n,r;t===void 0&&(t={});const{open:s,elements:i,floatingId:o}=e,{enabled:a=!0,role:l="dialog"}=t,u=uA(),f=((n=i.domReference)==null?void 0:n.id)||u,h=C.useMemo(()=>{var _;return((_=Afe(i.floating))==null?void 0:_.id)||o},[i.floating,o]),g=(r=she.get(l))!=null?r:l,v=dA()!=null,x=C.useMemo(()=>g==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:s?h:void 0}:{"aria-expanded":s?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":s?h:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:f},...g==="menu"&&v&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[g,h,v,s,f,l]),w=C.useMemo(()=>{const _={id:h,...g&&{role:g}};return g==="tooltip"||l==="label"?_:{..._,...g==="menu"&&{"aria-labelledby":f}}},[g,h,f,l]),S=C.useCallback(_=>{let{active:N,selected:M}=_;const O={role:"option",...N&&{id:h+"-fui-option"}};switch(l){case"select":case"combobox":return{...O,"aria-selected":M}}return{}},[h,l]);return C.useMemo(()=>a?{reference:x,floating:w,item:S}:{},[a,x,w,S])}const j6=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Nf(e,t){return typeof e=="function"?e(t):e}function ohe(e,t){const[n,r]=C.useState(e);return e&&!n&&r(!0),C.useEffect(()=>{if(!e&&n){const s=setTimeout(()=>r(!1),t);return()=>clearTimeout(s)}},[e,n,t]),n}function ahe(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:s=250}=t,o=(typeof s=="number"?s:s.close)||0,[a,l]=C.useState("unmounted"),u=ohe(n,o);return!u&&a==="close"&&l("unmounted"),Wr(()=>{if(r){if(n){l("initial");const f=requestAnimationFrame(()=>{Ki.flushSync(()=>{l("open")})});return()=>{cancelAnimationFrame(f)}}l("close")}},[n,r]),{isMounted:u,status:a}}function hA(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:s,common:i,duration:o=250}=t,a=e.placement,l=a.split("-")[0],u=C.useMemo(()=>({side:l,placement:a}),[l,a]),f=typeof o=="number",h=(f?o:o.open)||0,g=(f?o:o.close)||0,[b,v]=C.useState(()=>({...Nf(i,u),...Nf(n,u)})),{isMounted:x,status:w}=ahe(e,{duration:o}),S=mc(n),_=mc(r),N=mc(s),M=mc(i);return Wr(()=>{const O=Nf(S.current,u),R=Nf(N.current,u),I=Nf(M.current,u),j=Nf(_.current,u)||Object.keys(O).reduce((U,P)=>(U[P]="",U),{});if(w==="initial"&&v(U=>({transitionProperty:U.transitionProperty,...I,...O})),w==="open"&&v({transitionProperty:Object.keys(j).map(j6).join(","),transitionDuration:h+"ms",...I,...j}),w==="close"){const U=R||O;v({transitionProperty:Object.keys(U).map(j6).join(","),transitionDuration:g+"ms",...I,...U})}},[g,N,S,_,M,h,w,u]),{isMounted:x,styles:b}}function Pr(e){this.content=e}Pr.prototype={constructor:Pr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),i=r.content.slice();return s==-1?i.push(n||e,t):(i[s+1]=t,n&&(i[s]=n)),new Pr(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Pr(n)},addToStart:function(e,t){return new Pr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Pr(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),i=r.find(e);return s.splice(i==-1?s.length:i,0,t,n),new Pr(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Pr.from(e),e.size?new Pr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Pr.from(e),e.size?new Pr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Pr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Pr.from=function(e){if(e instanceof Pr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Pr(t)};function BF(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),i=t.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=BF(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function HF(e,t,n,r){for(let s=e.childCount,i=t.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=e.child(--s),a=t.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,f=Math.min(o.text.length,a.text.length);for(;u<f&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=HF(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class ve{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>t&&r(l,s+a,i||null,o)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,t-f),Math.min(l.content.size,n-f),r,s+f)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let i="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=u},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)s.push(t.content[i]);return new ve(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new ve(r,s)}cutByIndex(t,n){return t==n?ve.empty:t==0&&n==this.content.length?this:new ve(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new ve(s,i)}addToStart(t){return new ve([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ve(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return BF(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return HF(this,t,n,r)}findIndex(t){if(t==0)return u1(0,t);if(t==this.size)return u1(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=t)return i==t?u1(n+1,i):u1(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ve.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ve(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ve.empty;let n,r=0;for(let s=0;s<t.length;s++){let i=t[s];r+=i.nodeSize,s&&i.isText&&t[s-1].sameMarkup(i)?(n||(n=t.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ve(n||t,r)}static from(t){if(!t)return ve.empty;if(t instanceof ve)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ve([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ve.empty=new ve([],0);const XS={index:0,offset:0};function u1(e,t){return XS.index=e,XS.offset=t,XS}function Hy(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Hy(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Hy(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let yn=class pk{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let i=t[s];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,s));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Hy(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return pk.none;if(t instanceof pk)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};yn.none=[];class Fy extends Error{}class Le{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=UF(this.content,t+this.openStart,n);return r&&new Le(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Le(FF(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Le.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(ve.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Le(t,r,s)}}Le.empty=new Le(ve.empty,0,0);function FF(e,t,n){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(s==t||i.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(FF(i.content,t-s-1,n-s-1)))}function UF(e,t,n,r){let{index:s,offset:i}=e.findIndex(t),o=e.maybeChild(s);if(i==t||o.isText)return r&&!r.canReplace(s,s,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=UF(o.content,t-i-1,n,o);return a&&e.replaceChild(s,o.copy(a))}function lhe(e,t,n){if(n.openStart>e.depth)throw new Fy("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Fy("Inconsistent open depths");return zF(e,t,n,0)}function zF(e,t,n,r){let s=e.index(r),i=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let o=zF(e,t,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return Hu(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=che(n,e);return Hu(i,VF(e,o,a,t,r))}else return Hu(i,Uy(e,t,r))}function $F(e,t){if(!t.type.compatibleContent(e.type))throw new Fy("Cannot join "+t.type.name+" onto "+e.type.name)}function mk(e,t,n){let r=e.node(n);return $F(r,t.node(n)),r}function Bu(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Dm(e,t,n,r){let s=(t||e).node(n),i=0,o=t?t.index(n):s.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Bu(e.nodeAfter,r),i++));for(let a=i;a<o;a++)Bu(s.child(a),r);t&&t.depth==n&&t.textOffset&&Bu(t.nodeBefore,r)}function Hu(e,t){return e.type.checkContent(t),e.copy(t)}function VF(e,t,n,r,s){let i=e.depth>s&&mk(e,t,s+1),o=r.depth>s&&mk(n,r,s+1),a=[];return Dm(null,e,s,a),i&&o&&t.index(s)==n.index(s)?($F(i,o),Bu(Hu(i,VF(e,t,n,r,s+1)),a)):(i&&Bu(Hu(i,Uy(e,t,s+1)),a),Dm(t,n,s,a),o&&Bu(Hu(o,Uy(n,r,s+1)),a)),Dm(r,null,s,a),new ve(a)}function Uy(e,t,n){let r=[];if(Dm(null,e,n,r),e.depth>n){let s=mk(e,t,n+1);Bu(Hu(s,Uy(e,t,n+1)),r)}return Dm(t,null,n,r),new ve(r)}function che(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)s=t.node(i).copy(ve.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class bg{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)s+=r.child(i).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return yn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new zy(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(i),u=i-l;if(r.push(o,a,s+l),!u||(o=o.child(a),o.isText))break;i=u-1,s+=l+1}return new bg(n,r,i)}static resolveCached(t,n){let r=P6.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else P6.set(t,r=new uhe);let s=r.elts[r.i]=bg.resolve(t,n);return r.i=(r.i+1)%dhe,s}}class uhe{constructor(){this.elts=[],this.i=0}}const dhe=12,P6=new WeakMap;class zy{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const fhe=Object.create(null);let Cc=class gk{constructor(t,n,r,s=yn.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||ve.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Hy(this.attrs,n||t.defaultAttrs||fhe)&&yn.sameSet(this.marks,r||yn.none)}copy(t=null){return t==this.content?this:new gk(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new gk(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Le.empty;let s=this.resolve(t),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),u=s.node(o).content.cut(s.pos-a,i.pos-a);return new Le(u,s.depth-o,i.depth-o)}replace(t,n,r){return lhe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return bg.resolveCached(this,t)}resolveNoCache(t){return bg.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),qF(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ve.empty,s=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=yn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!yn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=ve.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Cc.prototype.text=void 0;class $y extends Cc{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qF(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new $y(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new $y(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function qF(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Zu{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new hhe(t,n);if(r.next==null)return Zu.empty;let s=GF(r);r.next&&r.err("Unexpected trailing text");let i=xhe(vhe(s));return whe(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(t.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return ve.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:h}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let g=i(h,a.concat(f));if(g)return g}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(t)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join(`
`)}}Zu.empty=new Zu(!0);class hhe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function GF(e){let t=[];do t.push(phe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function phe(e){let t=[];do t.push(mhe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function mhe(e){let t=yhe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=ghe(e,t);else break;return t}function B6(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function ghe(e,t){let n=B6(e),r=n;return e.eat(",")&&(e.next!="}"?r=B6(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function bhe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(t)&&s.push(o)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function yhe(e){if(e.eat("(")){let t=GF(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=bhe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function vhe(e){let t=[[]];return s(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let u={term:l,to:a};return t[o].push(u),u}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(i(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=i(o.exprs[l],a);if(l==o.exprs.length-1)return u;s(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let f=n();s(i(o.expr,l),f),l=f}if(o.max==-1)s(i(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let f=n();r(l,f),s(i(o.expr,l),f),l=f}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function YF(e,t){return t-e}function H6(e,t){let n=[];return r(t),n.sort(YF);function r(s){let i=e[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function xhe(e){let t=Object.create(null);return n(H6(e,0));function n(r){let s=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let f=0;f<s.length;f++)s[f][0]==a&&(u=s[f][1]);H6(e,l).forEach(f=>{u||s.push([a,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let i=t[r.join(",")]=new Zu(r.indexOf(e.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(YF);i.next.push({type:s[o][0],next:t[a.join(",")]||n(a)})}return i}}function whe(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function WF(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function KF(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let i=e[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function QF(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let i=e[s];i.validate&&i.validate(t[s])}}function XF(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Che(e,r,t[r]);return n}let F6=class ZF{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=XF(t,r.attrs),this.defaultAttrs=WF(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:KF(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Cc(this,this.computeAttrs(t),ve.from(n),yn.setFrom(r))}createChecked(t=null,n,r){return n=ve.from(n),this.checkContent(n),new Cc(this,this.computeAttrs(t),n,yn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ve.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(ve.empty,!0);return i?new Cc(this,t,n.append(i),yn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){QF(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:yn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new ZF(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Ehe(e,t,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Che{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Ehe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Qx{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=XF(t,s.attrs),this.excluded=null;let i=WF(this.attrs);this.instance=i?new yn(this,i):null}create(t=null){return!t&&this.instance?this.instance:new yn(this,KF(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((i,o)=>r[i]=new Qx(i,s++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){QF(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let JF=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Pr.from(t.nodes),n.marks=Pr.from(t.marks||{}),this.nodes=F6.compile(this.spec.nodes,this),this.marks=Qx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Zu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?U6(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:U6(this,o.split(" "))}this.nodeFromJSON=s=>Cc.fromJSON(this,s),this.markFromJSON=s=>yn.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof F6){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new $y(r,r.defaultAttrs,t,yn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function U6(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],i=e.marks[s],o=i;if(i)n.push(i);else for(let a in e.marks){let l=e.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function She(e){return e.tag!=null}function The(e){return e.style!=null}let yo=class bk{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(She(s))this.tags.push(s);else if(The(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=t.nodes[s.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new $6(this,n,!1);return r.addAll(t,yn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new $6(this,n,!0);return r.addAll(t,yn.none,n.from,n.to),Le.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Nhe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in t.marks){let i=t.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=V6(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in t.nodes){let i=t.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=V6(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new bk(t,bk.schemaRules(t)))}};const eU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},khe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tU={ol:!0,ul:!0},yg=1,yk=2,Lm=4;function z6(e,t,n){return t!=null?(t?yg:0)|(t==="full"?yk:0):e&&e.whitespace=="pre"?yg|yk:n&~Lm}class d1{constructor(t,n,r,s,i,o){this.type=t,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=yn.none,this.match=i||(o&Lm?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ve.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&yg)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=ve.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ve.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!eU.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class $6{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=z6(null,n.preserveWhitespace,0)|(r?Lm:0);s?i=new d1(s.type,s.attrs,yn.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new d1(null,null,yn.none,!0,null,o):i=new d1(t.schema.topNodeType,null,yn.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,s=this.top,i=s.options&yk?"full":this.localPreserveWS||(s.options&yg)>0;if(i==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let s=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;tU.hasOwnProperty(o)&&this.parser.normalizeLists&&_he(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:khe.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,f=this.needsBlock;if(eU.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let h=l&&l.skip?n:this.readStyles(t,n);h&&this.addAll(t,h),u&&this.sync(i),this.needsBlock=f}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(s)this.addElement(t,r,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}i&&this.sync(a)&&this.open--}addAll(t,n,r,s){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,a=s==null?null:t.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,n);this.findAtPoint(t,i)}findPlace(t,n,r){let s,i;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(t);if(u&&(!s||s.length>u.length+a)&&(s=u,i=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)n=this.enterInner(s[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(t,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let o=yn.none;for(let a of s.concat(t.marks))(i.type?i.type.allowsMarkType(a.type):q6(a.type,t.type))&&(o=a.addToSet(o));return i.content.push(t.mark(o)),!0}return!1}enter(t,n,r,s){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,s)),i}enterInner(t,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=z6(t,i,o.options);o.options&Lm&&o.content.length==0&&(a|=Lm);let l=yn.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):q6(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new d1(t,n,l,s,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=yg)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let f=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function _he(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&tU.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Nhe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function V6(e){let t={};for(let n in e)t[n]=e[n];return t}function q6(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:f}=a.edge(l);if(u==t||i.indexOf(f)<0&&o(f))return!0}};if(o(s.contentMatch))return!0}}class mi{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=ZS(n).createDocumentFragment());let s=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(i[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],f=this.serializeMark(u,o.isInline,n);f&&(i.push([u,s]),s.appendChild(f.dom),s=f.contentDOM||f.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=J1(ZS(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let i=this.serializeMark(t.marks[s],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&J1(ZS(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return J1(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new mi(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=G6(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return G6(t.marks)}}function G6(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ZS(e){return e.document||window.document}const Y6=new WeakMap;function Ahe(e){let t=Y6.get(e);return t===void 0&&Y6.set(e,t=Mhe(e)),t}function Mhe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function J1(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Ahe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?e.createElementNS(n,s):e.createElement(s),u=t[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let h in u)if(u[h]!=null){let g=h.indexOf(" ");g>0?l.setAttributeNS(h.slice(0,g),h.slice(g+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=f;h<t.length;h++){let g=t[h];if(g===0){if(h<t.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:b,contentDOM:v}=J1(e,g,n,r);if(l.appendChild(b),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const nU=65535,rU=Math.pow(2,16);function Ohe(e,t){return e+t*rU}function W6(e){return e&nU}function Rhe(e){return(e-(e&nU))/rU}const sU=1,iU=2,ey=4,oU=8;class vk{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&oU)>0}get deletedBefore(){return(this.delInfo&(sU|ey))>0}get deletedAfter(){return(this.delInfo&(iU|ey))>0}get deletedAcross(){return(this.delInfo&ey)>0}}class li{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&li.empty)return li.empty}recover(t){let n=0,r=W6(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Rhe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>t)break;let u=this.ranges[a+i],f=this.ranges[a+o],h=l+u;if(t<=h){let g=u?t==l?-1:t==h?1:n:n,b=l+s+(g<0?0:f);if(r)return b;let v=t==(n<0?l:h)?null:Ohe(a/3,t-l),x=t==l?iU:t==h?sU:ey;return(n<0?t!=l:t!=h)&&(x|=oU),new vk(b,x,v)}s+=f-u}return r?t+s:new vk(t+s,0,null)}touches(t,n){let r=0,s=W6(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+i],f=l+u;if(t<=f&&a==s*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),u=this.ranges[s+n],f=this.ranges[s+r];t(a,a+u,l,l+f),i+=f-u}}invert(){return new li(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?li.empty:new li(t<0?[0,-t,0]:[0,0,t])}}li.empty=new li([]);class bh{constructor(t,n,r=0,s=t?t.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new bh(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let s=t.getMirror(n);this.appendMap(t._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new bh;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,t=this._maps[l].recover(a.recover);continue}}s|=a.delInfo,t=a.pos}return r?t:new vk(t,s,null)}}const JS=Object.create(null);class Jr{getMap(){return li.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=JS[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in JS)throw new RangeError("Duplicate use of step JSON ID "+t);return JS[t]=n,n.prototype.jsonID=t,n}}class ar{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ar(t,null)}static fail(t){return new ar(null,t)}static fromReplace(t,n,r,s){try{return ar.ok(t.replace(n,r,s))}catch(i){if(i instanceof Fy)return ar.fail(i.message);throw i}}}function pA(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let i=e.child(s);i.content.size&&(i=i.copy(pA(i.content,t,i))),i.isInline&&(i=t(i,n,s)),r.push(i)}return ve.fromArray(r)}class gc extends Jr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Le(pA(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return ar.fromReplace(t,this.from,this.to,i)}invert(){return new po(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gc(n.pos,r.pos,this.mark)}merge(t){return t instanceof gc&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new gc(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new gc(n.from,n.to,t.markFromJSON(n.mark))}}Jr.jsonID("addMark",gc);class po extends Jr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Le(pA(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return ar.fromReplace(t,this.from,this.to,r)}invert(){return new gc(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new po(n.pos,r.pos,this.mark)}merge(t){return t instanceof po&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new po(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new po(n.from,n.to,t.markFromJSON(n.mark))}}Jr.jsonID("removeMark",po);class bc extends Jr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ar.fromReplace(t,this.pos,this.pos+1,new Le(ve.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new bc(this.pos,n.marks[s]);return new bc(this.pos,this.mark)}}return new Ju(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new bc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bc(n.pos,t.markFromJSON(n.mark))}}Jr.jsonID("addNodeMark",bc);class Ju extends Jr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ar.fromReplace(t,this.pos,this.pos+1,new Le(ve.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ju(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ju(n.pos,t.markFromJSON(n.mark))}}Jr.jsonID("removeNodeMark",Ju);class or extends Jr{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&xk(t,this.from,this.to)?ar.fail("Structure replace would overwrite content"):ar.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new li([this.from,this.to-this.from,this.slice.size])}invert(t){return new or(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new or(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof or)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Le.empty:new Le(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new or(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Le.empty:new Le(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new or(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new or(n.from,n.to,Le.fromJSON(t,n.slice),!!n.structure)}}Jr.jsonID("replace",or);class Kn extends Jr{constructor(t,n,r,s,i,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(xk(t,this.from,this.gapFrom)||xk(t,this.gapTo,this.to)))return ar.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ar.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ar.fromReplace(t,this.from,this.to,r):ar.fail("Content does not fit in gap")}getMap(){return new li([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Kn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Kn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Kn(n.from,n.to,n.gapFrom,n.gapTo,Le.fromJSON(t,n.slice),n.insert,!!n.structure)}}Jr.jsonID("replaceAround",Kn);function xk(e,t,n){let r=e.resolve(t),s=n-t,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function Ihe(e,t,n,r){let s=[],i=[],o,a;e.doc.nodesBetween(t,n,(l,u,f)=>{if(!l.isInline)return;let h=l.marks;if(!r.isInSet(h)&&f.type.allowsMarkType(r.type)){let g=Math.max(u,t),b=Math.min(u+l.nodeSize,n),v=r.addToSet(h);for(let x=0;x<h.length;x++)h[x].isInSet(v)||(o&&o.to==g&&o.mark.eq(h[x])?o.to=b:s.push(o=new po(g,b,h[x])));a&&a.to==g?a.to=b:i.push(a=new gc(g,b,r))}}),s.forEach(l=>e.step(l)),i.forEach(l=>e.step(l))}function Dhe(e,t,n,r){let s=[],i=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof Qx){let u=o.marks,f;for(;f=r.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let f=0;f<l.length;f++){let h=l[f],g;for(let b=0;b<s.length;b++){let v=s[b];v.step==i-1&&h.eq(s[b].style)&&(g=v)}g?(g.to=u,g.step=i):s.push({style:h,from:Math.max(a,t),to:u,step:i})}}}),s.forEach(o=>e.step(new po(o.from,o.to,o.style)))}function mA(e,t,n,r=n.contentMatch,s=!0){let i=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),f=a+u.nodeSize,h=r.matchType(u.type);if(!h)o.push(new or(a,f,Le.empty));else{r=h;for(let g=0;g<u.marks.length;g++)n.allowsMarkType(u.marks[g].type)||e.step(new po(a,f,u.marks[g]));if(s&&u.isText&&n.whitespace!="pre"){let g,b=/\r?\n|\r/g,v;for(;g=b.exec(u.text);)v||(v=new Le(ve.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new or(a+g.index,a+g.index+g[0].length,v))}}a=f}if(!r.validEnd){let l=r.fillBefore(ve.empty,!0);e.replace(a,a,new Le(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function Lhe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function qh(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let s=e.$from.node(r),i=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!Lhe(s,i,o))break}return null}function jhe(e,t,n){let{$from:r,$to:s,depth:i}=t,o=r.before(i+1),a=s.after(i+1),l=o,u=a,f=ve.empty,h=0;for(let v=i,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,f=ve.from(r.node(v).copy(f)),h++):l--;let g=ve.empty,b=0;for(let v=i,x=!1;v>n;v--)x||s.after(v+1)<s.end(v)?(x=!0,g=ve.from(s.node(v).copy(g)),b++):u++;e.step(new Kn(l,u,o,a,new Le(f.append(g),h,b),f.size-h,!0))}function aU(e,t,n=null,r=e){let s=Phe(e,t),i=s&&Bhe(r,t);return i?s.map(K6).concat({type:t,attrs:n}).concat(i.map(K6)):null}function K6(e){return{type:e,attrs:null}}function Phe(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,s,o)?i:null}function Bhe(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;l&&u<s;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function Hhe(e,t,n){let r=ve.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ve.from(n[o].type.create(n[o].attrs,r))}let s=t.start,i=t.end;e.step(new Kn(s,i,s,i,new Le(r,0,0),n.length,!0))}function Fhe(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&Uhe(e.doc,e.mapping.slice(i).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!v?u=!1:!b&&v&&(u=!0)}u===!1&&cU(e,o,a,i),mA(e,e.mapping.slice(i).map(a,1),r,void 0,u===null);let f=e.mapping.slice(i),h=f.map(a,1),g=f.map(a+o.nodeSize,1);return e.step(new Kn(h,g,h+1,g-1,new Le(ve.from(r.create(l,null,o.marks)),0,0),1,!0)),u===!0&&lU(e,o,a,i),!1}})}function lU(e,t,n,r){t.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function cU(e,t,n,r){t.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function Uhe(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function zhe(e,t,n,r,s){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Kn(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Le(ve.from(o),0,0),1,!0))}function sl(e,t,n=1,r){let s=e.resolve(t),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,f=n-2;u>i;u--,f--){let h=s.node(u),g=s.index(u);if(h.type.spec.isolating)return!1;let b=h.content.cutByIndex(g,h.childCount),v=r&&r[f+1];v&&(b=b.replaceChild(0,v.type.create(v.attrs)));let x=r&&r[f]||h;if(!h.canReplace(g+1,h.childCount)||!x.type.validContent(b))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function $he(e,t,n=1,r){let s=e.doc.resolve(t),i=ve.empty,o=ve.empty;for(let a=s.depth,l=s.depth-n,u=n-1;a>l;a--,u--){i=ve.from(s.node(a).copy(i));let f=r&&r[u];o=ve.from(f?f.type.create(f.attrs,o):s.node(a).copy(o))}e.step(new or(t,t,new Le(i.append(o),n,n),!0))}function yd(e,t){let n=e.resolve(t),r=n.index();return uU(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Vhe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let s=0;s<t.childCount;s++){let i=t.child(s),o=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function uU(e,t){return!!(e&&t&&!e.isLeaf&&Vhe(e,t))}function Xx(e,t,n=-1){let r=e.resolve(t);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&uU(i,o)&&r.node(s).canReplace(a,a+1))return t;if(s==0)break;t=n<0?r.before(s):r.after(s)}}function qhe(e,t,n){let r=null,{linebreakReplacement:s}=e.doc.type.schema,i=e.doc.resolve(t-n),o=i.node().type;if(s&&o.inlineContent){let f=o.whitespace=="pre",h=!!o.contentMatch.matchType(s);f&&!h?r=!1:!f&&h&&(r=!0)}let a=e.steps.length;if(r===!1){let f=e.doc.resolve(t+n);cU(e,f.node(),f.before(),a)}o.inlineContent&&mA(e,t+n-1,o,i.node().contentMatchAt(i.index()),r==null);let l=e.mapping.slice(a),u=l.map(t-n);if(e.step(new or(u,l.map(t+n,-1),Le.empty,!0)),r===!0){let f=e.doc.resolve(u);lU(e,f.node(),f.before(),e.steps.length)}return e}function Ghe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function dU(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),f=!1;if(i==1)f=u.canReplace(l,l,s);else{let h=u.contentMatchAt(l).findWrapping(s.firstChild.type);f=h&&u.canReplaceWith(l,l,h[0])}if(f)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Zx(e,t,n=t,r=Le.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),i=e.resolve(n);return fU(s,i,r)?new or(t,n,r):new Yhe(s,i,r).fit()}function fU(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Yhe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ve.empty;for(let s=0;s<=t.depth;s++){let i=t.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=ve.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new Le(i,o,a);return t>-1?new Kn(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new or(r.pos,s.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=e2(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],f,h=null;if(n==1&&(o?u.matchType(o.type)||(h=u.fillBefore(ve.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:h};if(n==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:f};if(i&&u.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=e2(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Le(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=e2(t,n);if(s.childCount<=1&&n>0){let i=t.size-n<=n+s.size;this.unplaced=new Le(xm(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Le(xm(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let x=0;x<i.length;x++)this.openFrontierNode(i[x]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,u=0,f=[],{match:h,type:g}=this.frontier[n];if(s){for(let x=0;x<s.childCount;x++)f.push(s.child(x));h=h.matchFragment(s)}let b=a.size+t-(o.content.size-o.openEnd);for(;u<a.childCount;){let x=a.child(u),w=h.matchType(x.type);if(!w)break;u++,(u>1||l==0||x.content.size)&&(h=w,f.push(hU(x.mark(g.allowedMarks(x.marks)),u==1?l:0,u==a.childCount?b:-1)))}let v=u==a.childCount;v||(b=-1),this.placed=wm(this.placed,n,ve.from(f)),this.frontier[n].match=h,v&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,w=a;x<b;x++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=v?t==0?Le.empty:new Le(xm(o.content,t-1,1),t-1,b<0?o.openEnd:t-1):new Le(xm(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!t2(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=t2(t,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],f=t2(t,a,u,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=wm(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,i)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=wm(this.placed,this.depth,ve.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ve.empty,!0);n.childCount&&(this.placed=wm(this.placed,this.frontier.length,n))}}function xm(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(xm(e.firstChild.content,t-1,n)))}function wm(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(wm(e.lastChild.content,t-1,n)))}function e2(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function hU(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,hU(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ve.empty,!0)))),e.copy(r)}function t2(e,t,n,r,s){let i=e.node(t),o=s?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!Whe(n,i.content,o)?a:null}function Whe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Khe(e){return e.spec.defining||e.spec.definingForContent}function Qhe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),i=e.doc.resolve(n);if(fU(s,i,r))return e.step(new or(t,n,r));let o=mU(s,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let g=s.depth,b=s.pos-1;g>0;g--,b--){let v=s.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(g)>-1?a=g:s.before(g)==b&&o.splice(1,0,-g)}let l=o.indexOf(a),u=[],f=r.openStart;for(let g=r.content,b=0;;b++){let v=g.firstChild;if(u.push(v),b==r.openStart)break;g=v.content}for(let g=f-1;g>=0;g--){let b=u[g],v=Khe(b.type);if(v&&!b.sameMarkup(s.node(Math.abs(a)-1)))f=g;else if(v||!b.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let b=(g+f+1)%(r.openStart+1),v=u[b];if(v)for(let x=0;x<o.length;x++){let w=o[(x+l)%o.length],S=!0;w<0&&(S=!1,w=-w);let _=s.node(w-1),N=s.index(w-1);if(_.canReplaceWith(N,N,v.type,v.marks))return e.replace(s.before(w),S?i.after(w):n,new Le(pU(r.content,0,r.openStart,b),b,r.openEnd))}}let h=e.steps.length;for(let g=o.length-1;g>=0&&(e.replace(t,n,r),!(e.steps.length>h));g--){let b=o[g];b<0||(t=s.before(b),n=i.after(b))}}function pU(e,t,n,r,s){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(pU(i.content,t+1,n,r,i)))}if(t>r){let i=s.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(ve.empty,!0))}return e}function Xhe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=Ghe(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new Le(ve.from(r),0,0))}function Zhe(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),i=mU(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return e.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function mU(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let i=e.start(s);if(i<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(i==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==i-1)&&n.push(s)}return n}class th extends Jr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return ar.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return ar.fromReplace(t,this.pos,this.pos+1,new Le(ve.from(s),0,n.isLeaf?0:1))}getMap(){return li.empty}invert(t){return new th(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new th(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new th(n.pos,n.attr,n.value)}}Jr.jsonID("attr",th);class vg extends Jr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return ar.ok(r)}getMap(){return li.empty}invert(t){return new vg(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new vg(n.attr,n.value)}}Jr.jsonID("docAttr",vg);let yh=class extends Error{};yh=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};yh.prototype=Object.create(Error.prototype);yh.prototype.constructor=yh;yh.prototype.name="TransformError";class gA{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new bh}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new yh(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Le.empty){let s=Zx(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new Le(ve.from(r),0,0))}delete(t,n){return this.replace(t,n,Le.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Qhe(this,t,n,r),this}replaceRangeWith(t,n,r){return Xhe(this,t,n,r),this}deleteRange(t,n){return Zhe(this,t,n),this}lift(t,n){return jhe(this,t,n),this}join(t,n=1){return qhe(this,t,n),this}wrap(t,n){return Hhe(this,t,n),this}setBlockType(t,n=t,r,s=null){return Fhe(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return zhe(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new th(t,n,r)),this}setDocAttribute(t,n){return this.step(new vg(t,n)),this}addNodeMark(t,n){return this.step(new bc(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof yn)n.isInSet(r.marks)&&this.step(new Ju(t,n));else{let s=r.marks,i,o=[];for(;i=n.isInSet(s);)o.push(new Ju(t,i)),s=i.removeFromSet(s);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(t,n=1,r){return $he(this,t,n,r),this}addMark(t,n,r){return Ihe(this,t,n,r),this}removeMark(t,n,r){return Dhe(this,t,n,r),this}clearIncompatible(t,n,r){return mA(this,t,n,r),this}}const n2=Object.create(null);class ot{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new gU(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Le.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],f=t.mapping.slice(i);t.replaceRange(f.map(l.pos),f.map(u.pos),a?Le.empty:n),a==0&&Z6(t,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=t.mapping.slice(r),u=l.map(o.pos),f=l.map(a.pos);i?t.deleteRange(u,f):(t.replaceRangeWith(u,f,n),Z6(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new $e(t):zf(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let i=t.depth-1;i>=0;i--){let o=n<0?zf(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):zf(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Hs(t.node(0))}static atStart(t){return zf(t,t,0,0,1)||new Hs(t)}static atEnd(t){return zf(t,t,t.content.size,t.childCount,-1)||new Hs(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=n2[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in n2)throw new RangeError("Duplicate use of selection JSON ID "+t);return n2[t]=n,n.prototype.jsonID=t,n}getBookmark(){return $e.between(this.$anchor,this.$head).getBookmark()}}ot.prototype.visible=!0;class gU{constructor(t,n){this.$from=t,this.$to=n}}let Q6=!1;function X6(e){!Q6&&!e.parent.inlineContent&&(Q6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class $e extends ot{constructor(t,n=t){X6(t),X6(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return ot.near(r);let s=t.resolve(n.map(this.anchor));return new $e(s.parent.inlineContent?s:r,r)}replace(t,n=Le.empty){if(super.replace(t,n),n==Le.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof $e&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Jx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=ot.findFrom(n,r,!0)||ot.findFrom(n,-r,!0);if(i)n=i.$head;else return ot.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(ot.findFrom(t,-r,!0)||ot.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new $e(t,n)}}ot.jsonID("text",$e);class Jx{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Jx(t.map(this.anchor),t.map(this.head))}resolve(t){return $e.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ze extends ot{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=t.resolve(s);return r?ot.near(i):new Ze(i)}content(){return new Le(ve.from(this.node),0,0)}eq(t){return t instanceof Ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bA(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ze(t.resolve(n.anchor))}static create(t,n){return new Ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ze.prototype.visible=!1;ot.jsonID("node",Ze);class bA{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Jx(r,r):new bA(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ze.isSelectable(r)?new Ze(n):ot.near(n)}}class Hs extends ot{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Le.empty){if(n==Le.empty){t.delete(0,t.doc.content.size);let r=ot.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Hs(t)}map(t){return new Hs(t)}eq(t){return t instanceof Hs}getBookmark(){return Jhe}}ot.jsonID("all",Hs);const Jhe={map(){return this},resolve(e){return new Hs(e)}};function zf(e,t,n,r,s,i=!1){if(t.inlineContent)return $e.create(e,n);for(let o=r-(s>0?0:1);s>0?o<t.childCount:o>=0;o+=s){let a=t.child(o);if(a.isAtom){if(!i&&Ze.isSelectable(a))return Ze.create(e,n-(s<0?a.nodeSize:0))}else{let l=zf(e,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function Z6(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof or||s instanceof Kn))return;let i=e.mapping.maps[r],o;i.forEach((a,l,u,f)=>{o==null&&(o=f)}),e.setSelection(ot.near(e.doc.resolve(o),n))}const J6=1,f1=2,eL=4;let epe=class extends gA{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|J6)&~f1,this.storedMarks=null,this}get selectionSet(){return(this.updated&J6)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=f1,this}ensureMarks(t){return yn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&f1)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~f1,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||yn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,i)),this.selection.empty||this.setSelection(ot.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=eL,this}get scrolledIntoView(){return(this.updated&eL)>0}};function tL(e,t){return!t||!e?e:e.bind(t)}class Em{constructor(t,n,r){this.name=t,this.init=tL(n.init,r),this.apply=tL(n.apply,r)}}const tpe=[new Em("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Em("selection",{init(e,t){return e.selection||ot.atStart(t.doc)},apply(e){return e.selection}}),new Em("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Em("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class r2{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tpe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Em(r.key,r.spec.state,r))})}}class Wf{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,u=s?s[o].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Wf(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new epe(this)}static create(t){let n=new r2(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Wf(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new r2(this.schema,t.plugins),r=n.fields,s=new Wf(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new r2(t.schema,t.plugins),i=new Wf(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Cc.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=ot.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=u.fromJSON.call(l,t,n[a],i);return}}i[o.name]=o.init(t,i)}}),i}}function bU(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=bU(s,t,{})),n[r]=s}return n}class ht{constructor(t){this.spec=t,this.props={},t.props&&bU(t.props,this,this.props),this.key=t.key?t.key.key:yU("plugin")}getState(t){return t[this.key]}}const s2=Object.create(null);function yU(e){return e in s2?e+"$"+ ++s2[e]:(s2[e]=0,e+"$")}class St{constructor(t="key"){this.key=yU(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Br=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},vh=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let wk=null;const Xa=function(e,t,n){let r=wk||(wk=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},npe=function(){wk=null},ed=function(e,t,n,r){return n&&(nL(e,t,n,r,-1)||nL(e,t,n,r,1))},rpe=/^(img|br|input|textarea|hr)$/i;function nL(e,t,n,r,s){for(var i;;){if(e==n&&t==r)return!0;if(t==(s<0?0:Ui(e))){let o=e.parentNode;if(!o||o.nodeType!=1||h0(e)||rpe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Br(e)+(s<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=s;else return!1;else e=o,t=s<0?Ui(e):0}else return!1}}function Ui(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function spe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ui(e)}else if(e.parentNode&&!h0(e))t=Br(e),e=e.parentNode;else return null}}function ipe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!h0(e))t=Br(e)+1,e=e.parentNode;else return null}}function ope(e,t,n){for(let r=t==0,s=t==Ui(e);r||s;){if(e==n)return!0;let i=Br(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,s=s&&i==Ui(e)}}function h0(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const ew=function(e){return e.focusNode&&ed(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ou(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function ape(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function lpe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ui(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ui(r.startContainer),r.startOffset)}}}const fa=typeof navigator<"u"?navigator:null,rL=typeof document<"u"?document:null,Yc=fa&&fa.userAgent||"",Ek=/Edge\/(\d+)/.exec(Yc),vU=/MSIE \d/.exec(Yc),Ck=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yc),Fs=!!(vU||Ck||Ek),Sc=vU?document.documentMode:Ck?+Ck[1]:Ek?+Ek[1]:0,Gi=!Fs&&/gecko\/(\d+)/i.test(Yc);Gi&&+(/Firefox\/(\d+)/.exec(Yc)||[0,0])[1];const Sk=!Fs&&/Chrome\/(\d+)/.exec(Yc),Gr=!!Sk,xU=Sk?+Sk[1]:0,us=!Fs&&!!fa&&/Apple Computer/.test(fa.vendor),xh=us&&(/Mobile\/\w+/.test(Yc)||!!fa&&fa.maxTouchPoints>2),Pi=xh||(fa?/Mac/.test(fa.platform):!1),cpe=fa?/Win/.test(fa.platform):!1,Ja=/Android \d/.test(Yc),p0=!!rL&&"webkitFontSmoothing"in rL.documentElement.style,upe=p0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dpe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Va(e,t){return typeof e=="number"?e:e[t]}function fpe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function sL(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=vh(o);continue}let a=o,l=a==i.body,u=l?dpe(i):fpe(a),f=0,h=0;if(t.top<u.top+Va(r,"top")?h=-(u.top-t.top+Va(s,"top")):t.bottom>u.bottom-Va(r,"bottom")&&(h=t.bottom-t.top>u.bottom-u.top?t.top+Va(s,"top")-u.top:t.bottom-u.bottom+Va(s,"bottom")),t.left<u.left+Va(r,"left")?f=-(u.left-t.left+Va(s,"left")):t.right>u.right-Va(r,"right")&&(f=t.right-u.right+Va(s,"right")),f||h)if(l)i.defaultView.scrollBy(f,h);else{let b=a.scrollLeft,v=a.scrollTop;h&&(a.scrollTop+=h),f&&(a.scrollLeft+=f);let x=a.scrollLeft-b,w=a.scrollTop-v;t={left:t.left-x,top:t.top-w,right:t.right-x,bottom:t.bottom-w}}let g=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:vh(o)}}function hpe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(i,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:wU(e.dom)}}function wU(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=vh(r));return t}function ppe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;EU(n,r==0?0:r-t)}function EU(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:i}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Af=null;function mpe(e){if(e.setActive)return e.setActive();if(Af)return e.focus(Af);let t=wU(e);e.focus(Af==null?{get preventScroll(){return Af={preventScroll:!0},!0}}:void 0),Af||(Af=!1,EU(t,0))}function CU(e,t){let n,r=2e8,s,i=0,o=t.top,a=t.top,l,u;for(let f=e.firstChild,h=0;f;f=f.nextSibling,h++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=Xa(f).getClientRects();else continue;for(let b=0;b<g.length;b++){let v=g[b];if(v.top<=o&&v.bottom>=a){o=Math.max(v.bottom,o),a=Math.min(v.top,a);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<r){n=f,r=x,s=x&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,f.nodeType==1&&x&&(i=h+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=f,u={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(i=h+1)}}return!n&&l&&(n=l,s=u,r=0),n&&n.nodeType==3?gpe(n,s):!n||r&&n.nodeType==1?{node:e,offset:i}:CU(n,s)}function gpe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let i=rc(r,1);if(i.top!=i.bottom&&yA(t,i))return{node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function yA(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function bpe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function ype(e,t,n){let{node:r,offset:s}=CU(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,s,i)}function vpe(e,t,n,r){let s=-1;for(let i=t,o=!1;i!=e.dom;){let a=e.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function SU(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=e.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(yA(t,u))return SU(o,t,u)}}if((i=(i+1)%r)==s)break}return e}function xpe(e,t){let n=e.dom.ownerDocument,r,s=0,i=lpe(n,t.left,t.top);i&&({node:r,offset:s}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!yA(t,u)||(o=SU(e.dom,t,u),!o))return null}if(us)for(let u=o;r&&u;u=vh(u))u.draggable&&(r=void 0);if(o=bpe(o,t),r){if(Gi&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let f=r.childNodes[s],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&s++}let u;p0&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=vpe(e,r,s,t))}a==null&&(a=ype(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function iL(e){return e.top<e.bottom||e.left<e.right}function rc(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(iL(r))return r}return Array.prototype.find.call(n,iL)||e.getBoundingClientRect()}const wpe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function TU(e,t,n){let{node:r,offset:s,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=p0||Gi;if(r.nodeType==3)if(o&&(wpe.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=rc(Xa(r,s,s),n);if(Gi&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=rc(Xa(r,s-1,s-1),-1);if(u.top==l.top){let f=rc(Xa(r,s,s+1),-1);if(f.top!=l.top)return im(f,f.left<u.left)}}return l}else{let l=s,u=s,f=n<0?1:-1;return n<0&&!s?(u++,f=-1):n>=0&&s==r.nodeValue.length?(l--,f=1):n<0?l--:u++,im(rc(Xa(r,l,u),f),f<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Ui(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return i2(l.getBoundingClientRect(),!1)}if(i==null&&s<Ui(r)){let l=r.childNodes[s];if(l.nodeType==1)return i2(l.getBoundingClientRect(),!0)}return i2(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Ui(r))){let l=r.childNodes[s-1],u=l.nodeType==3?Xa(l,Ui(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return im(rc(u,1),!1)}if(i==null&&s<Ui(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Xa(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return im(rc(u,-1),!0)}return im(rc(r.nodeType==3?Xa(r):r,-n),n>=0)}function im(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function i2(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function kU(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function Epe(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return kU(e,t,()=>{let{node:i}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=TU(e,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Xa(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Cpe=/[\u0590-\u08ac]/;function Spe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=e.domSelection();return a?!Cpe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:kU(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:h}=e.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let b=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:x}=e.domSelectionRange(),w=v&&!b.contains(v.nodeType==1?v:v.parentNode)||l==v&&u==x;try{a.collapse(f,h),l&&(l!=f||u!=h)&&a.extend&&a.extend(l,u)}catch{}return g!=null&&(a.caretBidiLevel=g),w}):r.pos==r.start()||r.pos==r.end()}let oL=null,aL=null,lL=!1;function Tpe(e,t,n){return oL==t&&aL==n?lL:(oL=t,aL=n,lL=n=="up"||n=="down"?Epe(e,t,n):Spe(e,t,n))}const Yi=0,cL=1,Du=2,ha=3;class m0{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Yi,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Br(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==t&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let a=s.children[o];if(a.size){s=a;break}}return s}if(t<i)return s.descAt(t-r-s.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>t||o instanceof NU){s=t-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof _U&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Br(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Br(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(s==-1&&t<=u){let f=o+l.border;if(t>=f&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,f);t=o;for(let h=a;h>0;h--){let g=this.children[h-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){s=Br(g.dom)+1;break}t-=g.size}s==-1&&(s=0)}if(s>-1&&(u>n||a==this.children.length-1)){n=u;for(let f=a+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Br(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let b=0,v=0;b<this.children.length;b++){let x=this.children[b],w=v+x.size;if(i>v&&o<w)return x.setSelection(t-v-x.border,n-v-x.border,r,s);v=w}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),h=!1;if((Gi||us)&&t==n){let{node:b,offset:v}=a;if(b.nodeType==3){if(h=!!(v&&b.nodeValue[v-1]==`
`),h&&v==b.nodeValue.length)for(let x=b,w;x;x=x.parentNode){if(w=x.nextSibling){w.nodeName=="BR"&&(a=l={node:w.parentNode,offset:Br(w)+1});break}let S=x.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let x=b.childNodes[v-1];h=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Gi&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let b=f.focusNode.childNodes[f.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||h&&us)&&ed(a.node,a.offset,f.anchorNode,f.anchorOffset)&&ed(l.node,l.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||t==n)&&!(h&&Gi)){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(t>n){let v=a;a=l,l=v}let b=document.createRange();b.setEnd(l.node,l.offset),b.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+i.border,l=o-i.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?Du:cL,t==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ha:i.markDirty(t-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Du:ha}r=o}this.dirty=Du}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Du:cL;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class _U extends m0{constructor(t,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Yi&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class kpe extends m0{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class td extends m0{constructor(t,n,r,s,i){super(t,[],r,s),this.mark=n,this.spec=i}static create(t,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=mi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new td(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ha||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ha&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Yi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Yi}}slice(t,n,r){let s=td.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=kk(i,n,o,r)),t>0&&(i=kk(i,0,t,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Tc extends m0{constructor(t,n,r,s,i,o,a,l,u){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(t,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,u=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),f=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=mi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=OU(f,r,n),u?l=new _pe(t,n,r,s,f,h||null,g,u,i,o+1):n.isText?new tw(t,n,r,s,f,g,i):new Tc(t,n,r,s,f,h||null,g,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ve.empty)}return t}matchesNode(t,n,r){return this.dirty==Yi&&t.eq(this.node)&&Vy(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new Ape(this,o&&o.node,t);Rpe(this.node,this.innerDeco,(u,f,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?yn.none:this.node.child(f).marks,r,t),l.placeWidget(u,t,s)},(u,f,h,g)=>{l.syncToMarks(u.marks,r,t);let b;l.findNodeMatch(u,f,h,g)||a&&t.state.selection.from>s&&t.state.selection.to<s+u.nodeSize&&(b=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(u,f,h,b,t)||l.updateNextNode(u,f,h,t,g,s)||l.addNode(u,f,h,t,s),s+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Du)&&(o&&this.protectLocalComposition(t,o),AU(this.contentDOM,this.children,t),xh&&Ipe(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof $e)||r<n||s>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=Dpe(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new kpe(this,i,n,s);t.input.compositionNodes.push(o),this.children=kk(this.children,r,r+s.length,t,o)}update(t,n,r,s){return this.dirty==ha||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Yi}updateOuterDeco(t){if(Vy(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=MU(this.dom,this.nodeDOM,Tk(this.outerDeco,this.node,n),Tk(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function uL(e,t,n,r,s){OU(r,t,e);let i=new Tc(void 0,e,t,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class tw extends Tc{constructor(t,n,r,s,i,o,a){super(t,n,r,s,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==ha||this.dirty!=Yi&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Yi||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Yi,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),i=document.createTextNode(s.text);return new tw(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ha)}get domAtom(){return!1}isText(t){return this.node.text==t}}class NU extends m0{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Yi&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class _pe extends Tc{constructor(t,n,r,s,i,o,a,l,u,f){super(t,n,r,s,i,o,a,u,f),this.spec=l}update(t,n,r,s){if(this.dirty==ha)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,s),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function AU(e,t,n){let r=e.firstChild,s=!1;for(let i=0;i<t.length;i++){let o=t[i],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=dL(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(a,r);if(o instanceof td){let l=r?r.previousSibling:e.lastChild;AU(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=dL(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const jm=function(e){e&&(this.nodeName=e)};jm.prototype=Object.create(null);const Lu=[new jm];function Tk(e,t,n){if(e.length==0)return Lu;let r=n?Lu[0]:new jm,s=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&s.push(r=new jm(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new jm(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function MU(e,t,n,r){if(n==Lu&&r==Lu)return t;let s=t;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=e&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Lu[0]),s=l}Npe(s,a||Lu[0],o)}return s}function Npe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&e.classList.add(s[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function OU(e,t,n){return MU(e,e,Lu,Tk(t,n,e.nodeType!=1))}function Vy(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function dL(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Ape{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Mpe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Yi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[i])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=td.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,s,i){let o=this.top.children[s];return o.dirty==ha&&o.dom==o.contentDOM&&(o.dirty=Du),o.update(t,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Tc){let u=this.preMatch.matched.get(l);if(u!=null&&u!=i)return!1;let f=l.dom,h,g=this.isLocked(f)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=ha&&Vy(n,l.outerDeco));if(!g&&l.update(t,n,r,s))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(h=this.recreateWrapper(l,t,n,r,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Du,h.updateChildren(s,o+1),h.dirty=Yi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Vy(r,t.outerDeco)||!s.eq(t.innerDeco))return null;let a=Tc.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,s,i){let o=Tc.create(this.top,t,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new _U(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof td;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof tw)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((us||Gr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new NU(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Mpe(e,t){let n=t,r=n.children.length,s=e.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof td)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function Ope(e,t){return e.type.side-t.type.side}function Rpe(e,t,n,r){let s=t.locals(e),i=0;if(s.length==0){for(let u=0;u<e.childCount;u++){let f=e.child(u);r(f,s,t.forChild(i,f),u),i+=f.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let f,h;for(;o<s.length&&s[o].to==i;){let w=s[o++];w.widget&&(f?(h||(h=[f])).push(w):f=w)}if(f)if(h){h.sort(Ope);for(let w=0;w<h.length;w++)n(h[w],u,!!l)}else n(f,u,!!l);let g,b;if(l)b=-1,g=l,l=null;else if(u<e.childCount)b=u,g=e.child(u++);else break;for(let w=0;w<a.length;w++)a[w].to<=i&&a.splice(w--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let v=i+g.nodeSize;if(g.isText){let w=v;o<s.length&&s[o].from<w&&(w=s[o].from);for(let S=0;S<a.length;S++)a[S].to<w&&(w=a[S].to);w<v&&(l=g.cut(w-i),g=g.cut(0,w-i),v=w,b=-1)}else for(;o<s.length&&s[o].to<v;)o++;let x=g.isInline&&!g.isLeaf?a.filter(w=>!w.inline):a.slice();r(g,x,t.forChild(i,g),b),i=v}}function Ipe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Dpe(e,t,n,r){for(let s=0,i=0;s<e.childCount&&i<=r;){let o=e.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<e.childCount;){let u=e.child(s++);if(i+=u.nodeSize,!u.isText)break;l+=u.text}if(i>=n){if(i>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function kk(e,t,n,r,s){let i=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],u=a,f=a+=l.size;u>=n||f<=t?i.push(l):(u<t&&i.push(l.slice(0,t-u,r)),s&&(i.push(s),s=void 0),f>n&&i.push(l.slice(n-u,l.size,r)))}return i}function vA(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(ew(n)){for(l=o;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Ze.isSelectable(h)&&s.parent&&!(h.isInline&&ope(n.focusNode,n.focusOffset,s.dom))){let g=s.posBefore;u=new Ze(o==g?a:r.resolve(g))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,g=o;for(let b=0;b<n.rangeCount;b++){let v=n.getRangeAt(b);h=Math.min(h,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[l,o]=g==e.state.selection.anchor?[g,h]:[h,g],a=r.resolve(o)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!u){let h=t=="pointer"||e.state.selection.head<a.pos&&!i?1:-1;u=xA(e,f,a,h)}return u}function RU(e){return e.editable?e.hasFocus():DU(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function il(e,t=!1){let n=e.state.selection;if(IU(e,n),!!RU(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Gr){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ed(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)jpe(e);else{let{anchor:r,head:s}=n,i,o;fL&&!(n instanceof $e)&&(n.$from.parent.inlineContent||(i=hL(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=hL(e,n.to))),e.docView.setSelection(r,s,e,t),fL&&(i&&pL(i),o&&pL(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Lpe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const fL=us||Gr&&xU<63;function hL(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(us&&s&&s.contentEditable=="false")return o2(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return o2(s);if(i)return o2(i)}}function o2(e){return e.contentEditable="true",us&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function pL(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Lpe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!RU(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function jpe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Br(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Fs&&Sc<=11&&(n.disabled=!0,n.disabled=!1)}function IU(e,t){if(t instanceof Ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(mL(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else mL(e)}function mL(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function xA(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||$e.between(t,n,r)}function gL(e){return e.editable&&!e.hasFocus()?!1:DU(e)}function DU(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Ppe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ed(t.node,t.offset,n.anchorNode,n.anchorOffset)}function _k(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return i&&ot.findFrom(i,t)}function oc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function bL(e,t,n){let r=e.state.selection;if(r instanceof $e)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(s.pos+i.nodeSize*(t<0?-1:1));return oc(e,new $e(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=_k(e.state,t);return s&&s instanceof Ze?oc(e,s):!1}else if(!(Pi&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=t<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?Ze.isSelectable(i)?oc(e,new Ze(t<0?e.state.doc.resolve(s.pos-i.nodeSize):s)):p0?oc(e,new $e(e.state.doc.resolve(t<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ze&&r.node.isInline)return oc(e,new $e(t>0?r.$to:r.$from));{let s=_k(e.state,t);return s?oc(e,s):!1}}}function qy(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Pm(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Mf(e,t){return t<0?Bpe(e):Hpe(e)}function Bpe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=!1;for(Gi&&n.nodeType==1&&r<qy(n)&&Pm(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Pm(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(LU(n))break;{let a=n.previousSibling;for(;a&&Pm(a,-1);)s=n.parentNode,i=Br(a),a=a.previousSibling;if(a)n=a,r=qy(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?Nk(e,n,r):s&&Nk(e,s,i)}function Hpe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=qy(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Pm(a,1))i=n,o=++r;else break}else{if(LU(n))break;{let a=n.nextSibling;for(;a&&Pm(a,1);)i=a.parentNode,o=Br(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=qy(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&Nk(e,i,o)}function LU(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Fpe(e,t){for(;e&&t==e.childNodes.length&&!h0(e);)t=Br(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Upe(e,t){for(;e&&!t&&!h0(e);)t=Br(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Nk(e,t,n){if(t.nodeType!=3){let i,o;(o=Fpe(t,n))?(t=o,n=0):(i=Upe(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(ew(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&il(e)},50)}function yL(e,t){let n=e.state.doc.resolve(t);if(!(Gr||cpe)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function vL(e,t,n){let r=e.state.selection;if(r instanceof $e&&!r.empty||n.indexOf("s")>-1||Pi&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=_k(e.state,t);if(o&&o instanceof Ze)return oc(e,o)}if(!s.parent.inlineContent){let o=t<0?s:i,a=r instanceof Hs?ot.near(o,t):ot.findFrom(o,t);return a?oc(e,a):!1}return!1}function xL(e,t){if(!(e.state.selection instanceof $e))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function wL(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function zpe(e){if(!us||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;wL(e,r,"true"),setTimeout(()=>wL(e,r,"false"),20)}return!1}function $pe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Vpe(e,t){let n=t.keyCode,r=$pe(t);if(n==8||Pi&&n==72&&r=="c")return xL(e,-1)||Mf(e,-1);if(n==46&&!t.shiftKey||Pi&&n==68&&r=="c")return xL(e,1)||Mf(e,1);if(n==13||n==27)return!0;if(n==37||Pi&&n==66&&r=="c"){let s=n==37?yL(e,e.state.selection.from)=="ltr"?-1:1:-1;return bL(e,s,r)||Mf(e,s)}else if(n==39||Pi&&n==70&&r=="c"){let s=n==39?yL(e,e.state.selection.from)=="ltr"?1:-1:1;return bL(e,s,r)||Mf(e,s)}else{if(n==38||Pi&&n==80&&r=="c")return vL(e,-1,r)||Mf(e,-1);if(n==40||Pi&&n==78&&r=="c")return zpe(e)||vL(e,1,r)||Mf(e,1);if(r==(Pi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wA(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let n=[],{content:r,openStart:s,openEnd:i}=t;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let o=e.someProp("clipboardSerializer")||mi.fromSchema(e.state.schema),a=UU(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,f,h=0;for(;u&&u.nodeType==1&&(f=FU[u.nodeName.toLowerCase()]);){for(let b=f.length-1;b>=0;b--){let v=a.createElement(f[b]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:g,slice:t}}function jU(e,t,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=!!t&&(r||i||!n);if(l){if(e.someProp("transformPastedText",g=>{t=g(t,i||r,e)}),i)return a=new Le(ve.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",g=>{a=g(a,e,!0)}),a;let h=e.someProp("clipboardTextParser",g=>g(t,s,r,e));if(h)a=h;else{let g=s.marks(),{schema:b}=e.state,v=mi.fromSchema(b);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let w=o.appendChild(document.createElement("p"));x&&w.appendChild(v.serializeNode(b.text(x,g)))})}}else e.someProp("transformPastedHTML",h=>{n=h(n,e)}),o=Wpe(n),p0&&Kpe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||yo.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||f),context:s,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!qpe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)a=Qpe(EL(a,+f[1],+f[2]),f[4]);else if(a=Le.maxOpen(Gpe(a.content,s),!0),a.openStart||a.openEnd){let h=0,g=0;for(let b=a.content.firstChild;h<a.openStart&&!b.type.spec.isolating;h++,b=b.firstChild);for(let b=a.content.lastChild;g<a.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);a=EL(a,h,g)}return e.someProp("transformPasted",h=>{a=h(a,e,l)}),a}const qpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Gpe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&i.length&&BU(l,i,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=HU(o[o.length-1],i.length));let f=PU(a,l);o.push(f),s=s.matchType(f.type),i=l}}),o)return ve.from(o)}return e}function PU(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ve.from(e));return e}function BU(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let i=BU(e,t,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(ve.from(PU(n,e,s+1))))}}function HU(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,HU(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ve.empty,!0);return e.copy(n.append(r))}function Ak(e,t,n,r,s,i){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(i=0),s<r-1&&(a=Ak(a,t,n,r,s+1,i)),s>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ve.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function EL(e,t,n){return t<e.openStart&&(e=new Le(Ak(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Le(Ak(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const FU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CL=null;function UU(){return CL||(CL=document.implementation.createHTMLDocument("title"))}let a2=null;function Ype(e){let t=window.trustedTypes;return t?(a2||(a2=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),a2.createHTML(e)):e}function Wpe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=UU().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&FU[r[1].toLowerCase()])&&(e=s.map(i=>"<"+i+">").join("")+e+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Ype(e),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function Kpe(e){let t=e.querySelectorAll(Gr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Qpe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:s,openStart:i,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=ve.from(l.create(r[a+1],s)),i++,o++}return new Le(s,i,o)}const ds={},fs={},Xpe={touchstart:!0,touchmove:!0};class Zpe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Jpe(e){for(let t in ds){let n=ds[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{tme(e,r)&&!EA(e,r)&&(e.editable||!(r.type in fs))&&n(e,r)},Xpe[t]?{passive:!0}:void 0)}us&&e.dom.addEventListener("input",()=>null),Mk(e)}function yc(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function eme(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Mk(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>EA(e,r))})}function EA(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function tme(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function nme(e,t){!EA(e,t)&&ds[t.type]&&(e.editable||!(t.type in fs))&&ds[t.type](e,t)}fs.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!$U(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ja&&Gr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),xh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,Ou(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Vpe(e,n)?n.preventDefault():yc(e,"key")};fs.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};fs.keypress=(e,t)=>{let n=t;if($U(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pi&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof $e)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,s,i))&&e.dispatch(i()),n.preventDefault()}};function nw(e){return{left:e.clientX,top:e.clientY}}function rme(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function CA(e,t,n,r,s){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,a=>o>i.depth?a(e,n,i.nodeAfter,i.before(o),s,!0):a(e,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function nh(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function sme(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ze.isSelectable(r)?(nh(e,new Ze(n)),!0):!1}function ime(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof Ze&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(Ze.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(nh(e,Ze.create(e.state.doc,s)),!0):!1}function ome(e,t,n,r,s){return CA(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(s?ime(e,n):sme(e,n))}function ame(e,t,n,r){return CA(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function lme(e,t,n,r){return CA(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||cme(e,n,r)}function cme(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(nh(e,$e.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)nh(e,$e.create(r,a+1,a+1+o.content.size));else if(Ze.isSelectable(o))nh(e,Ze.create(r,a));else continue;return!0}}function SA(e){return Gy(e)}const zU=Pi?"metaKey":"ctrlKey";ds.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=SA(e),s=Date.now(),i="singleClick";s-e.input.lastClick.time<500&&rme(n,e.input.lastClick)&&!n[zU]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=e.posAtCoords(nw(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new ume(e,o,n,!!r)):(i=="doubleClick"?ame:lme)(e,o.pos,o.inside,n)?n.preventDefault():yc(e,"pointer"))};class ume{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[zU],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let f=t.state.doc.resolve(n.pos);i=f.parent,o=f.depth?f.before():0}const a=s?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Ze&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),yc(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>il(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(nw(t))),this.updateAllowDefault(t),this.allowDefault||!n?yc(this.view,"pointer"):ome(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||us&&this.mightDrag&&!this.mightDrag.node.isAtom||Gr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(nh(this.view,ot.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):yc(this.view,"pointer")}move(t){this.updateAllowDefault(t),yc(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ds.touchstart=e=>{e.input.lastTouch=Date.now(),SA(e),yc(e,"pointer")};ds.touchmove=e=>{e.input.lastTouch=Date.now(),yc(e,"pointer")};ds.contextmenu=e=>SA(e);function $U(e,t){return e.composing?!0:us&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const dme=Ja?5e3:-1;fs.compositionstart=fs.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof $e&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Gy(e,!0),e.markCursor=null;else if(Gy(e,!t.selection.empty),Gi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=e.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}e.input.composing=!0}VU(e,dme)};fs.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,VU(e,20))};function VU(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Gy(e),t))}function qU(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=hme());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function fme(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=spe(t.focusNode,t.focusOffset),r=ipe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function hme(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Gy(e,t=!1){if(!(Ja&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),qU(e),t||e.docView&&e.docView.dirty){let n=vA(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function pme(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const xg=Fs&&Sc<15||xh&&upe<604;ds.copy=fs.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let i=xg?null:n.clipboardData,o=r.content(),{dom:a,text:l}=wA(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):pme(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mme(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function gme(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?wg(e,r.value,null,s,t):wg(e,r.textContent,r.innerHTML,s,t)},50)}function wg(e,t,n,r,s){let i=jU(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,s,i||Le.empty)))return!0;if(!i)return!1;let o=mme(i),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function GU(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}fs.paste=(e,t)=>{let n=t;if(e.composing&&!Ja)return;let r=xg?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&wg(e,GU(r),r.getData("text/html"),s,n)?n.preventDefault():gme(e,n)};class YU{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const bme=Pi?"altKey":"ctrlKey";function WU(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[bme]}ds.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,i=s.empty?null:e.posAtCoords(nw(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ze?s.to-1:s.to))){if(r&&r.mightDrag)o=Ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=e.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&(o=Ze.create(e.state.doc,h.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:u,slice:f}=wA(e,a);(!n.dataTransfer.files.length||!Gr||xU>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(xg?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",xg||n.dataTransfer.setData("text/plain",u),e.dragging=new YU(f,WU(e,n),o)};ds.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};fs.dragover=fs.dragenter=(e,t)=>t.preventDefault();fs.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(nw(n));if(!s)return;let i=e.state.doc.resolve(s.pos),o=r&&r.slice;o?e.someProp("transformPasted",v=>{o=v(o,e,!1)}):o=jU(e,GU(n.dataTransfer),xg?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&WU(e,n));if(e.someProp("handleDrop",v=>v(e,n,o||Le.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?dU(e.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let u=e.state.tr;if(a){let{node:v}=r;v?v.replace(u):u.deleteSelection()}let f=u.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=u.doc;if(h?u.replaceRangeWith(f,f,o.content.firstChild):u.replaceRange(f,f,o),u.doc.eq(g))return;let b=u.doc.resolve(f);if(h&&Ze.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ze(b));else{let v=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((x,w,S,_)=>v=_),u.setSelection(xA(e,b,u.doc.resolve(v)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};ds.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&il(e)},20))};ds.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ds.beforeinput=(e,t)=>{if(Gr&&Ja&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Ou(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in fs)ds[e]=fs[e];function Eg(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Yy{constructor(t,n){this.toDOM=t,this.spec=n||Fu,this.side=this.spec.side||0}map(t,n,r,s){let{pos:i,deleted:o}=t.mapResult(n.from+s,this.side<0?-1:1);return o?null:new Xt(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Yy&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Eg(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class kc{constructor(t,n){this.attrs=t,this.spec=n||Fu}map(t,n,r,s){let i=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Xt(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof kc&&Eg(this.attrs,t.attrs)&&Eg(this.spec,t.spec)}static is(t){return t.type instanceof kc}destroy(){}}class TA{constructor(t,n){this.attrs=t,this.spec=n||Fu}map(t,n,r,s){let i=t.mapResult(n.from+s,1);if(i.deleted)return null;let o=t.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Xt(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),i;return s==n.from&&!(i=t.child(r)).isText&&s+i.nodeSize==n.to}eq(t){return this==t||t instanceof TA&&Eg(this.attrs,t.attrs)&&Eg(this.spec,t.spec)}destroy(){}}class Xt{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Xt(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Xt(t,t,new Yy(n,r))}static inline(t,n,r,s){return new Xt(t,n,new kc(r,s))}static node(t,n,r,s){return new Xt(t,n,new TA(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof kc}get widget(){return this.type instanceof Yy}}const $f=[],Fu={};class bt{constructor(t,n){this.local=t.length?t:$f,this.children=n.length?n:$f}static create(t,n){return n.length?Wy(n,t,0,Fu):Vr}find(t,n,r){let s=[];return this.findInner(t??0,n??1e9,s,0,r),s}findInner(t,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,s+a,i)}}map(t,n,r){return this==Vr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Fu)}mapInner(t,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?yme(this.children,o||[],t,n,r,s,i):o?new bt(o.sort(Uu),$f):Vr}add(t,n){return n.length?this==Vr?bt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,i=0;t.forEach((a,l)=>{let u=l+r,f;if(f=QU(n,a,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,f,u+1):s.splice(i,0,l,l+a.nodeSize,Wy(f,a,u+1,Fu)),i+=3}});let o=KU(i?XU(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new bt(o.length?this.local.concat(o).sort(Uu):this.local,s||this.children)}remove(t){return t.length==0||this==Vr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let f=0,h;f<t.length;f++)(h=t[f])&&h.from>a&&h.to<l&&(t[f]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,a+1);u!=Vr?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new bt(s,r):Vr}forChild(t,n){if(this==Vr)return this;if(n.isLeaf)return bt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let i=t+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof kc){let u=Math.max(i,l.from)-i,f=Math.min(o,l.to)-i;u<f&&(s||(s=[])).push(l.copy(u,f))}}if(s){let a=new bt(s.sort(Uu),$f);return r?new dc([a,r]):a}return r||Vr}eq(t){if(this==t)return!0;if(!(t instanceof bt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return kA(this.localsInner(t))}localsInner(t){if(this==Vr)return $f;if(t.inlineContent||!this.local.some(kc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof kc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}bt.empty=new bt([],[]);bt.removeOverlap=kA;const Vr=bt.empty;class dc{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,Fu));return dc.from(r)}forChild(t,n){if(n.isLeaf)return bt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(t,n);i!=Vr&&(i instanceof dc?r=r.concat(i.members):r.push(i))}return dc.from(r)}eq(t){if(!(t instanceof dc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?kA(r?n:n.sort(Uu)):$f}static from(t){switch(t.length){case 0:return Vr;case 1:return t[0];default:return new dc(t.every(n=>n instanceof bt)?t:t.reduce((n,r)=>n.concat(r instanceof bt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function yme(e,t,n,r,s,i,o){let a=e.slice();for(let u=0,f=i;u<n.maps.length;u++){let h=0;n.maps[u].forEach((g,b,v,x)=>{let w=x-v-(b-g);for(let S=0;S<a.length;S+=3){let _=a[S+1];if(_<0||g>_+f-h)continue;let N=a[S]+f-h;b>=N?a[S+1]=g<=N?-2:-1:g>=f&&w&&(a[S]+=w,a[S+1]+=w)}h+=w}),f=n.maps[u].map(f,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let f=n.map(e[u]+i),h=f-s;if(h<0||h>=r.content.size){l=!0;continue}let g=n.map(e[u+1]+i,-1),b=g-s,{index:v,offset:x}=r.content.findIndex(h),w=r.maybeChild(v);if(w&&x==h&&x+w.nodeSize==b){let S=a[u+2].mapInner(n,w,f+1,e[u]+i+1,o);S!=Vr?(a[u]=h,a[u+1]=b,a[u+2]=S):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=vme(a,e,t,n,s,i,o),f=Wy(u,r,0,o);t=f.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,g=0;h<f.children.length;h+=3){let b=f.children[h];for(;g<a.length&&a[g]<b;)g+=3;a.splice(g,0,f.children[h],f.children[h+1],f.children[h+2])}}return new bt(t.sort(Uu),a)}function KU(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new Xt(s.from+t,s.to+t,s.type))}return n}function vme(e,t,n,r,s,i,o){function a(l,u){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(r,s,u);h?n.push(h):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+i+1);return n}function QU(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),e[i]=null);return s}function XU(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Wy(e,t,n,r){let s=[],i=!1;t.forEach((a,l)=>{let u=QU(e,a,l+n);if(u){i=!0;let f=Wy(u,a,n+l+1,r);f!=Vr&&s.push(l,l+a.nodeSize,f)}});let o=KU(i?XU(e):e,-n).sort(Uu);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new bt(o,s):Vr}function Uu(e,t){return e.from-t.from||e.to-t.to}function kA(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let i=t[s];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[s]=i.copy(i.from,r.to),SL(t,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),SL(t,s,r.copy(i.from,r.to)));break}}}return t}function SL(e,t,n){for(;t<e.length&&Uu(n,e[t])>0;)t++;e.splice(t,0,n)}function l2(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Vr&&t.push(r)}),e.cursorWrapper&&t.push(bt.create(e.state.doc,[e.cursorWrapper.deco])),dc.from(t)}const xme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},wme=Fs&&Sc<=11;class Eme{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Cme{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Eme,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Fs&&Sc<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),wme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gL(this.view)){if(this.suppressingSelectionUpdates)return il(this.view);if(Fs&&Sc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ed(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=vh(i))n.add(i);for(let i=t.anchorNode;i;i=vh(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gL(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,l=[];if(t.editable)for(let f=0;f<n.length;f++){let h=this.registerMutation(n[f],l);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(Gi&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,g]=f;h.parentNode&&h.parentNode.parentNode==g.parentNode?g.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let g of f){let b=g.parentNode;b&&b.nodeName=="LI"&&(!h||kme(t,h)!=b)&&g.remove()}}}let u=null;i<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&ew(r)&&(u=vA(t))&&u.eq(ot.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,il(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||s)&&(i>-1&&(t.docView.markDirty(i,o),Sme(t)),this.handleDOMChange(i,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||il(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let f=0;f<t.addedNodes.length;f++){let h=t.addedNodes[f];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,i=t.nextSibling;if(Fs&&Sc<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:h,nextSibling:g}=t.addedNodes[f];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(s=h),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(i=g)}let o=s&&s.parentNode==t.target?Br(s)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=i&&i.parentNode==t.target?Br(i):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let TL=new WeakMap,kL=!1;function Sme(e){if(!TL.has(e)&&(TL.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Gi,kL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kL=!0}}function _L(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return ed(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function Tme(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return _L(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?_L(e,n):null}function kme(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function _me(e,t,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,f=l.anchorNode;if(f&&e.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],ew(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Gr&&e.input.lastKeyCode===8)for(let w=i;w>s;w--){let S=r.childNodes[w-1],_=S.pmViewDesc;if(S.nodeName=="BR"&&!_){i=w;break}if(!_||_.size)break}let h=e.state.doc,g=e.someProp("domParser")||yo.fromSchema(e.state.schema),b=h.resolve(o),v=null,x=g.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:i,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Nme,context:b});if(u&&u[0].pos!=null){let w=u[0].pos,S=u[1]&&u[1].pos;S==null&&(S=w),v={anchor:w+o,head:S+o}}return{doc:x,sel:v,from:o,to:a}}function Nme(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(us&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||us&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ame=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Mme(e,t,n,r,s){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let I=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,j=vA(e,I);if(j&&!e.state.selection.eq(j)){if(Gr&&Ja&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",P=>P(e,Ou(13,"Enter"))))return;let U=e.state.tr.setSelection(j);I=="pointer"?U.setMeta("pointer",!0):I=="key"&&U.scrollIntoView(),i&&U.setMeta("composition",i),e.dispatch(U)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=_me(e,t,n),f=e.state.doc,h=f.slice(u.from,u.to),g,b;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,b="end"):(g=e.state.selection.from,b="start"),e.input.lastKeyCode=null;let v=Ime(h.content,u.doc.content,u.from,g,b);if(v&&e.input.domChangeCount++,(xh&&e.input.lastIOSEnter>Date.now()-225||Ja)&&s.some(I=>I.nodeType==1&&!Ame.test(I.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",I=>I(e,Ou(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof $e&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let I=NL(e,e.state.doc,u.sel);if(I&&!I.eq(e.state.selection)){let j=e.state.tr.setSelection(I);i&&j.setMeta("composition",i),e.dispatch(j)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof $e&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Fs&&Sc<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)=="  "&&(v.start--,v.endA--,v.endB--);let x=u.doc.resolveNoCache(v.start-u.from),w=u.doc.resolveNoCache(v.endB-u.from),S=f.resolve(v.start),_=x.sameParent(w)&&x.parent.inlineContent&&S.end()>=v.endA;if((xh&&e.input.lastIOSEnter>Date.now()-225&&(!_||s.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!_&&x.pos<u.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&x.pos<w.pos&&!/\S/.test(u.doc.textBetween(x.pos,w.pos,"","")))&&e.someProp("handleKeyDown",I=>I(e,Ou(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&Rme(f,v.start,v.endA,x,w)&&e.someProp("handleKeyDown",I=>I(e,Ou(8,"Backspace")))){Ja&&Gr&&e.domObserver.suppressSelectionUpdates();return}Gr&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Ja&&!_&&x.start()!=w.start()&&w.parentOffset==0&&x.depth==w.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,w=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(I){return I(e,Ou(13,"Enter"))})},20));let N=v.start,M=v.endA,O=I=>{let j=I||e.state.tr.replace(N,M,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let U=NL(e,j.doc,u.sel);U&&!(Gr&&e.composing&&U.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(U.head==N||U.head==j.mapping.map(M)-1)||Fs&&U.empty&&U.head==N)&&j.setSelection(U)}return i&&j.setMeta("composition",i),j.scrollIntoView()},R;if(_){if(x.pos==w.pos){Fs&&Sc<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>il(e),20));let I=O(e.state.tr.delete(N,M)),j=f.resolve(v.start).marksAcross(f.resolve(v.endA));j&&I.ensureMarks(j),e.dispatch(I)}else if(v.endA==v.endB&&(R=Ome(x.parent.content.cut(x.parentOffset,w.parentOffset),S.parent.content.cut(S.parentOffset,v.endA-S.start())))){let I=O(e.state.tr);R.type=="add"?I.addMark(N,M,R.mark):I.removeMark(N,M,R.mark),e.dispatch(I)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let I=x.parent.textBetween(x.parentOffset,w.parentOffset),j=()=>O(e.state.tr.insertText(I,N,M));e.someProp("handleTextInput",U=>U(e,N,M,I,j))||e.dispatch(j())}}else e.dispatch(O())}function NL(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:xA(e,t.resolve(n.anchor),t.resolve(n.head))}function Ome(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,i=r,o,a,l;for(let f=0;f<r.length;f++)s=r[f].removeFromSet(s);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=f=>f.mark(a.addToSet(f.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<t.childCount;f++)u.push(l(t.child(f)));if(ve.from(u).eq(e))return{mark:a,type:o}}function Rme(e,t,n,r,s){if(n-t<=s.pos-r.pos||c2(r,!0,!1)<s.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==t+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(c2(i,!0,!0));return!o.parent.isTextblock||o.pos>n||c2(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function c2(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function Ime(e,t,n,r,s){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&e.size<t.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<t.size&&AL(t.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<e.size&&AL(e.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function AL(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ZU{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Zpe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(DL),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=RL(this),OL(this),this.nodeViews=IL(this),this.docView=uL(this.state.doc,ML(this),l2(this),this.dom,this),this.domObserver=new Cme(this,(r,s,i,o)=>Mme(this,r,s,i,o)),this.domObserver.start(),Jpe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Mk(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(DL),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(qU(this),o=!0),this.state=t;let a=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=IL(this);Lme(b,this.nodeViews)&&(this.nodeViews=b,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Mk(this),this.editable=RL(this),OL(this);let l=l2(this),u=ML(this),f=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(t.doc,u,l);(h||!t.selection.eq(s.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&hpe(this);if(o){this.domObserver.stop();let b=h&&(Fs||Gr)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&Dme(s.selection,t.selection);if(h){let v=Gr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=fme(this)),(i||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=uL(t.doc,u,l,this.dom,this)),v&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ppe(this))?il(this,b):(IU(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&ppe(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sL(this,n.getBoundingClientRect(),t)}else sL(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new YU(t.slice,t.move,s<0?void 0:Ze.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[t];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Fs){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mpe(this.dom),il(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return xpe(this,t)}coordsAtPos(t,n=1){return TU(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return Tpe(this,n||this.state,t)}pasteHTML(t,n){return wg(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return wg(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return wA(this,t)}destroy(){this.docView&&(eme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],l2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,npe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return nme(this,t)}domSelectionRange(){let t=this.domSelection();return t?us&&this.root.nodeType===11&&ape(this.dom.ownerDocument)==this.dom&&Tme(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ZU.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function ML(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Xt.node(0,e.state.doc.content.size,t)]}function OL(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Xt.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function RL(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Dme(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function IL(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Lme(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function DL(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ky={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jme=typeof navigator<"u"&&/Mac/.test(navigator.platform),Pme=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hr=0;Hr<10;Hr++)Mc[48+Hr]=Mc[96+Hr]=String(Hr);for(var Hr=1;Hr<=24;Hr++)Mc[Hr+111]="F"+Hr;for(var Hr=65;Hr<=90;Hr++)Mc[Hr]=String.fromCharCode(Hr+32),Ky[Hr]=String.fromCharCode(Hr);for(var u2 in Mc)Ky.hasOwnProperty(u2)||(Ky[u2]=Mc[u2]);function Bme(e){var t=jme&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Pme&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Ky:Mc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Hme=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Fme=typeof navigator<"u"&&/Win/.test(navigator.platform);function Ume(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Hme?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function zme(e){let t=Object.create(null);for(let n in e)t[Ume(n)]=e[n];return t}function d2(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function $me(e){return new ht({props:{handleKeyDown:_A(e)}})}function _A(e){let t=zme(e);return function(n,r){let s=Bme(r),i,o=t[d2(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=t[d2(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Fme&&r.ctrlKey&&r.altKey)&&(i=Mc[r.keyCode])&&i!=s){let a=t[d2(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Ok,Rk;if(typeof WeakMap<"u"){let e=new WeakMap;Ok=t=>e.get(t),Rk=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;Ok=r=>{for(let s=0;s<e.length;s+=2)if(e[s]==r)return e[s+1]},Rk=(r,s)=>(n==10&&(n=0),e[n++]=r,e[n++]=s)}var Cn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,s=t/this.width|0;let i=r+1,o=s+1;for(let a=1;i<this.width&&this.map[t+a]==n;a++)i++;for(let a=1;o<this.height&&this.map[t+this.width*a]==n;a++)o++;return{left:r,top:s,right:i,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:s,top:i,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:o==this.height)?null:this.map[r+this.width*(n<0?i-1:o)]}rectBetween(e,t){const{left:n,right:r,top:s,bottom:i}=this.findCell(e),{left:o,right:a,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(s,l),right:Math.max(r,a),bottom:Math.max(i,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let s=e.left;s<e.right;s++){const i=r*this.width+s,o=this.map[i];n[o]||(n[o]=!0,!(s==e.left&&s&&this.map[i-1]==o||r==e.top&&r&&this.map[i-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const a=(e+1)*this.width;for(;o<a&&this.map[o]<s;)o++;return o==a?i-1:this.map[o]}s=i}}static get(e){return Ok(e)||Rk(e,Vme(e))}};function Vme(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=qme(e),n=e.childCount,r=[];let s=0,i=null;const o=[];for(let u=0,f=t*n;u<f;u++)r[u]=0;for(let u=0,f=0;u<n;u++){const h=e.child(u);f++;for(let v=0;;v++){for(;s<r.length&&r[s]!=0;)s++;if(v==h.childCount)break;const x=h.child(v),{colspan:w,rowspan:S,colwidth:_}=x.attrs;for(let N=0;N<S;N++){if(N+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:S-N});break}const M=s+N*t;for(let O=0;O<w;O++){r[M+O]==0?r[M+O]=f:(i||(i=[])).push({type:"collision",row:u,pos:f,n:w-O});const R=_&&_[O];if(R){const I=(M+O)%t*2,j=o[I];j==null||j!=R&&o[I+1]==1?(o[I]=R,o[I+1]=1):j==R&&o[I+1]++}}}s+=w,f+=x.nodeSize}const g=(u+1)*t;let b=0;for(;s<g;)r[s++]==0&&b++;b&&(i||(i=[])).push({type:"missing",row:u,n:b}),f++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const a=new Cn(t,n,r,i);let l=!1;for(let u=0;!l&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(l=!0);return l&&Gme(a,o,e),a}function qme(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const s=e.child(r);let i=0;if(n)for(let o=0;o<r;o++){const a=e.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let o=0;o<s.childCount;o++){const a=s.child(o);i+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function Gme(e,t,n){e.problems||(e.problems=[]);const r={};for(let s=0;s<e.map.length;s++){const i=e.map[s];if(r[i])continue;r[i]=!0;const o=n.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let a=null;const l=o.attrs;for(let u=0;u<l.colspan;u++){const f=(s+u)%e.width,h=t[f*2];h!=null&&(!l.colwidth||l.colwidth[u]!=h)&&((a||(a=Yme(l)))[u]=h)}a&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}function Yme(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Qr(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],s=r.spec.tableRole;s&&(t[s]=r)}}return t}var fc=new St("selectingCells");function Gh(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Wme(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function va(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function NA(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Gh(t.$head)||Kme(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function Kme(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Ik(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Qme(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function AA(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function JU(e,t,n){const r=e.node(-1),s=Cn.get(r),i=e.start(-1),o=s.nextCell(e.pos-i,t,n);return o==null?null:e.node(0).resolve(i+o)}function nd(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function ez(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(t,0,0)}return r}function Xme(e,t,n){const r=Qr(t.type.schema).header_cell;for(let s=0;s<e.height;s++)if(t.nodeAt(e.map[n+s*e.width]).type!=r)return!1;return!0}var fn=class Wa extends ot{constructor(t,n=t){const r=t.node(-1),s=Cn.get(r),i=t.start(-1),o=s.rectBetween(t.pos-i,n.pos-i),a=t.node(0),l=s.cellsInRect(o).filter(f=>f!=n.pos-i);l.unshift(n.pos-i);const u=l.map(f=>{const h=r.nodeAt(f);if(!h)throw RangeError(`No cell with offset ${f} found`);const g=i+f+1;return new gU(a.resolve(g),a.resolve(g+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),s=t.resolve(n.map(this.$headCell.pos));if(Ik(r)&&Ik(s)&&AA(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Wa.rowSelection(r,s):i&&this.isColSelection()?Wa.colSelection(r,s):new Wa(r,s)}return $e.between(r,s)}content(){const t=this.$anchorCell.node(-1),n=Cn.get(t),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},o=[];for(let l=s.top;l<s.bottom;l++){const u=[];for(let f=l*n.width+s.left,h=s.left;h<s.right;h++,f++){const g=n.map[f];if(i[g])continue;i[g]=!0;const b=n.findCell(g);let v=t.nodeAt(g);if(!v)throw RangeError(`No cell with offset ${g} found`);const x=s.left-b.left,w=b.right-s.right;if(x>0||w>0){let S=v.attrs;if(x>0&&(S=nd(S,0,x)),w>0&&(S=nd(S,S.colspan-w,w)),b.left<s.left){if(v=v.type.createAndFill(S),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(S)}`)}else v=v.type.create(S,v.content)}if(b.top<s.top||b.bottom>s.bottom){const S={...v.attrs,rowspan:Math.min(b.bottom,s.bottom)-Math.max(b.top,s.top)};b.top<s.top?v=v.type.createAndFill(S):v=v.type.create(S,v.content)}u.push(v)}o.push(t.child(l).copy(ve.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?t:o;return new Le(ve.from(a),1,1)}replace(t,n=Le.empty){const r=t.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){const{$from:a,$to:l}=s[o],u=t.mapping.slice(r);t.replace(u.map(a.pos),u.map(l.pos),o?Le.empty:n)}const i=ot.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new Le(ve.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Cn.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let o=0;o<i.length;o++)t(n.nodeAt(i[o]),s+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),s=Cn.get(r),i=t.start(-1),o=s.findCell(t.pos-i),a=s.findCell(n.pos-i),l=t.node(0);return o.top<=a.top?(o.top>0&&(t=l.resolve(i+s.map[o.left])),a.bottom<s.height&&(n=l.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(i+s.map[a.left])),o.bottom<s.height&&(t=l.resolve(i+s.map[s.width*(s.height-1)+o.right-1]))),new Wa(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Cn.get(t),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const o=s+this.$anchorCell.nodeAfter.attrs.colspan,a=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(t){return t instanceof Wa&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),s=Cn.get(r),i=t.start(-1),o=s.findCell(t.pos-i),a=s.findCell(n.pos-i),l=t.node(0);return o.left<=a.left?(o.left>0&&(t=l.resolve(i+s.map[o.top*s.width])),a.right<s.width&&(n=l.resolve(i+s.map[s.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(i+s.map[a.top*s.width])),o.right<s.width&&(t=l.resolve(i+s.map[s.width*(o.top+1)-1]))),new Wa(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Wa(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Wa(t.resolve(n),t.resolve(r))}getBookmark(){return new Zme(this.$anchorCell.pos,this.$headCell.pos)}};fn.prototype.visible=!1;ot.jsonID("cell",fn);var Zme=class tz{constructor(t,n){this.anchor=t,this.head=n}map(t){return new tz(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&AA(n,r)?new fn(n,r):ot.near(r,1)}};function Jme(e){if(!(e.selection instanceof fn))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Xt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),bt.create(e.doc,t)}function ege({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,s=e.depth;for(;s>=0&&!(e.after(s+1)<e.end(s));s--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,r--);return n==r&&/row|table/.test(e.node(s).type.spec.tableRole)}function tge({$from:e,$to:t}){let n,r;for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&t.parentOffset===0}function nge(e,t,n){const r=(t||e).selection,s=(t||e).doc;let i,o;if(r instanceof Ze&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")i=fn.create(s,r.from);else if(o=="row"){const a=s.resolve(r.from+1);i=fn.rowSelection(a,a)}else if(!n){const a=Cn.get(r.node),l=r.from+1,u=l+a.map[a.width*a.height-1];i=fn.create(s,l+1,u)}}else r instanceof $e&&ege(r)?i=$e.create(s,r.from):r instanceof $e&&tge(r)&&(i=$e.create(s,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}var rge=new St("fix-tables");function nz(e,t,n,r){const s=e.childCount,i=t.childCount;e:for(let o=0,a=0;o<i;o++){const l=t.child(o);for(let u=a,f=Math.min(s,o+3);u<f;u++)if(e.child(u)==l){a=u+1,n+=l.nodeSize;continue e}r(l,n),a<s&&e.child(a).sameMarkup(l)?nz(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function sge(e,t){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=ige(e,s,i,n))};return t?t.doc!=e.doc&&nz(t.doc,e.doc,0,r):e.doc.descendants(r),n}function ige(e,t,n,r){const s=Cn.get(t);if(!s.problems)return r;r||(r=e.tr);const i=[];for(let l=0;l<s.height;l++)i.push(0);for(let l=0;l<s.problems.length;l++){const u=s.problems[l];if(u.type=="collision"){const f=t.nodeAt(u.pos);if(!f)continue;const h=f.attrs;for(let g=0;g<h.rowspan;g++)i[u.row+g]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,nd(h,h.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const f=t.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const f=t.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...f.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const f=r.mapping.map(n);r.delete(f,f+t.nodeSize)}}let o,a;for(let l=0;l<i.length;l++)i[l]&&(o==null&&(o=l),a=l);for(let l=0,u=n+1;l<s.height;l++){const f=t.child(l),h=u+f.nodeSize,g=i[l];if(g>0){let b="cell";f.firstChild&&(b=f.firstChild.type.spec.tableRole);const v=[];for(let w=0;w<g;w++){const S=Qr(e.schema)[b].createAndFill();S&&v.push(S)}const x=(l==0||o==l-1)&&a==l?u+1:h-1;r.insert(r.mapping.map(x),v)}u=h}return r.setMeta(rge,{fixTables:!0})}function xa(e){const t=e.selection,n=NA(e),r=n.node(-1),s=n.start(-1),i=Cn.get(r);return{...t instanceof fn?i.rectBetween(t.$anchorCell.pos-s,t.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function rz(e,{map:t,tableStart:n,table:r},s){let i=s>0?-1:0;Xme(t,r,s+i)&&(i=s==0||s==t.width?null:0);for(let o=0;o<t.height;o++){const a=o*t.width+s;if(s>0&&s<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],u=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,ez(u.attrs,s-t.colCount(l))),o+=u.attrs.rowspan-1}else{const l=i==null?Qr(r.type.schema).cell:r.nodeAt(t.map[a+i]).type,u=t.positionAt(o,s,r);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function oge(e,t){if(!va(e))return!1;if(t){const n=xa(e);t(rz(e.tr,n,n.left))}return!0}function age(e,t){if(!va(e))return!1;if(t){const n=xa(e);t(rz(e.tr,n,n.right))}return!0}function lge(e,{map:t,table:n,tableStart:r},s){const i=e.mapping.maps.length;for(let o=0;o<t.height;){const a=o*t.width+s,l=t.map[a],u=n.nodeAt(l),f=u.attrs;if(s>0&&t.map[a-1]==l||s<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(i).map(r+l),null,nd(f,s-t.colCount(l)));else{const h=e.mapping.slice(i).map(r+l);e.delete(h,h+u.nodeSize)}o+=f.rowspan}}function cge(e,t){if(!va(e))return!1;if(t){const n=xa(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;lge(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Cn.get(i)}t(r)}return!0}function uge(e,t,n){var r;const s=Qr(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if(((r=t.nodeAt(e.map[i+n*e.width]))==null?void 0:r.type)!=s)return!1;return!0}function sz(e,{map:t,tableStart:n,table:r},s){var i;let o=n;for(let u=0;u<s;u++)o+=r.child(u).nodeSize;const a=[];let l=s>0?-1:0;uge(t,r,s+l)&&(l=s==0||s==t.height?null:0);for(let u=0,f=t.width*s;u<t.width;u++,f++)if(s>0&&s<t.height&&t.map[f]==t.map[f-t.width]){const h=t.map[f],g=r.nodeAt(h).attrs;e.setNodeMarkup(n+h,null,{...g,rowspan:g.rowspan+1}),u+=g.colspan-1}else{const h=l==null?Qr(r.type.schema).cell:(i=r.nodeAt(t.map[f+l*t.width]))==null?void 0:i.type,g=h?.createAndFill();g&&a.push(g)}return e.insert(o,Qr(r.type.schema).row.create(null,a)),e}function dge(e,t){if(!va(e))return!1;if(t){const n=xa(e);t(sz(e.tr,n,n.top))}return!0}function fge(e,t){if(!va(e))return!1;if(t){const n=xa(e);t(sz(e.tr,n,n.bottom))}return!0}function hge(e,{map:t,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const o=i+n.child(s).nodeSize,a=e.mapping.maps.length;e.delete(i+r,o+r);const l=new Set;for(let u=0,f=s*t.width;u<t.width;u++,f++){const h=t.map[f];if(!l.has(h)){if(l.add(h),s>0&&h==t.map[f-t.width]){const g=n.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(a).map(h+r),null,{...g,rowspan:g.rowspan-1}),u+=g.colspan-1}else if(s<t.height&&h==t.map[f+t.width]){const g=n.nodeAt(h),b=g.attrs,v=g.type.create({...b,rowspan:g.attrs.rowspan-1},g.content),x=t.positionAt(s+1,u,n);e.insert(e.mapping.slice(a).map(r+x),v),u+=b.colspan-1}}}}function pge(e,t){if(!va(e))return!1;if(t){const n=xa(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;hge(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Cn.get(n.table)}t(r)}return!0}function LL(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function mge({width:e,height:t,map:n},r){let s=r.top*e+r.left,i=s,o=(r.bottom-1)*e+r.left,a=s+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[a]==n[a+1])return!0;i+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[s]==n[s-e]||r.bottom<t&&n[o]==n[o+e])return!0;s++,o++}return!1}function gge(e,t){const n=e.selection;if(!(n instanceof fn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=xa(e),{map:s}=r;if(mge(s,r))return!1;if(t){const i=e.tr,o={};let a=ve.empty,l,u;for(let f=r.top;f<r.bottom;f++)for(let h=r.left;h<r.right;h++){const g=s.map[f*s.width+h],b=r.table.nodeAt(g);if(!(o[g]||!b))if(o[g]=!0,l==null)l=g,u=b;else{LL(b)||(a=a.append(b.content));const v=i.mapping.map(g+r.tableStart);i.delete(v,v+b.nodeSize)}}if(l==null||u==null)return!0;if(i.setNodeMarkup(l+r.tableStart,null,{...ez(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const f=l+1+u.content.size,h=LL(u)?l+1:f;i.replaceWith(h+r.tableStart,f+r.tableStart,a)}i.setSelection(new fn(i.doc.resolve(l+r.tableStart))),t(i)}return!0}function bge(e,t){const n=Qr(e.schema);return yge(({node:r})=>n[r.type.spec.tableRole])(e,t)}function yge(e){return(t,n)=>{var r;const s=t.selection;let i,o;if(s instanceof fn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,o=s.$anchorCell.pos}else{if(i=Wme(s.$from),!i)return!1;o=(r=Gh(s.$from))==null?void 0:r.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],u=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const f=xa(t),h=t.tr;for(let b=0;b<f.right-f.left;b++)l.push(u?{...a,colwidth:u&&u[b]?[u[b]]:null}:a);let g;for(let b=f.top;b<f.bottom;b++){let v=f.map.positionAt(b,f.left,f.table);b==f.top&&(v+=i.nodeSize);for(let x=f.left,w=0;x<f.right;x++,w++)x==f.left&&b==f.top||h.insert(g=h.mapping.map(v+f.tableStart,1),e({node:i,row:b,col:x}).createAndFill(l[w]))}h.setNodeMarkup(o,e({node:i,row:f.top,col:f.left}),l[0]),s instanceof fn&&h.setSelection(new fn(h.doc.resolve(s.$anchorCell.pos),g?h.doc.resolve(g):void 0)),n(h)}return!0}}function vge(e){return function(t,n){if(!va(t))return!1;if(n){const r=Qr(t.schema),s=xa(t),i=t.tr,o=s.map.cellsInRect(e=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:e=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),a=o.map(l=>s.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(s.tableStart+o[l],r.cell,a[l].attrs);if(i.steps.length==0)for(let l=0;l<o.length;l++)i.setNodeMarkup(s.tableStart+o[l],r.header_cell,a[l].attrs);n(i)}return!0}}function jL(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let s=0;s<r.length;s++){const i=t.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function MA(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?vge(e):function(n,r){if(!va(n))return!1;if(r){const s=Qr(n.schema),i=xa(n),o=n.tr,a=jL("row",i,s),l=jL("column",i,s),f=(e==="column"?a:e==="row"?l:!1)?1:0,h=e=="column"?{left:0,top:f,right:1,bottom:i.map.height}:e=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,g=e=="column"?l?s.cell:s.header_cell:e=="row"?a?s.cell:s.header_cell:s.cell;i.map.cellsInRect(h).forEach(b=>{const v=b+i.tableStart,x=o.doc.nodeAt(v);x&&o.setNodeMarkup(v,g,x.attrs)}),r(o)}return!0}}MA("row",{useDeprecatedLogic:!0});MA("column",{useDeprecatedLogic:!0});MA("cell",{useDeprecatedLogic:!0});function xge(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,s=e.before();r>=0;r--){const i=e.node(-1).child(r),o=i.lastChild;if(o)return s-1-o.nodeSize;s-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),s=e.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function PL(e){return function(t,n){if(!va(t))return!1;const r=xge(NA(t),e);if(r==null)return!1;if(n){const s=t.doc.resolve(r);n(t.tr.setSelection($e.between(s,Qme(s))).scrollIntoView())}return!0}}function h1(e,t){const n=e.selection;if(!(n instanceof fn))return!1;if(t){const r=e.tr,s=Qr(e.schema).cell.createAndFill().content;n.forEachCell((i,o)=>{i.content.eq(s)||r.replace(r.mapping.map(o+1),r.mapping.map(o+i.nodeSize-1),new Le(s,0,0))}),r.docChanged&&t(r)}return!0}function wge(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const s=t.child(0),i=s.type.spec.tableRole,o=s.type.schema,a=[];if(i=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const f=l?0:Math.max(0,n-1),h=l<t.childCount-1?0:Math.max(0,r-1);(f||h)&&(u=Dk(Qr(o).row,new Le(u,f,h)).content),a.push(u)}else if(i=="cell"||i=="header_cell")a.push(n||r?Dk(Qr(o).row,new Le(t,n,r)).content:t);else return null;return Ege(o,a)}function Ege(e,t){const n=[];for(let s=0;s<t.length;s++){const i=t[s];for(let o=i.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=i.child(o).attrs;for(let u=s;u<s+a;u++)n[u]=(n[u]||0)+l}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=t.length&&t.push(ve.empty),n[s]<r){const i=Qr(e).cell.createAndFill(),o=[];for(let a=n[s];a<r;a++)o.push(i);t[s]=t[s].append(ve.from(o))}return{height:t.length,width:r,rows:t}}function Dk(e,t){const n=e.createAndFill();return new gA(n).replace(0,n.content.size,t).doc}function Cge({width:e,height:t,rows:n},r,s){if(e!=r){const i=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let f=i[a]||0,h=0;f<r;h++){let g=l.child(h%l.childCount);f+g.attrs.colspan>r&&(g=g.type.createChecked(nd(g.attrs,g.attrs.colspan,f+g.attrs.colspan-r),g.content)),u.push(g),f+=g.attrs.colspan;for(let b=1;b<g.attrs.rowspan;b++)i[a+b]=(i[a+b]||0)+g.attrs.colspan}o.push(ve.from(u))}n=o,e=r}if(t!=s){const i=[];for(let o=0,a=0;o<s;o++,a++){const l=[],u=n[a%t];for(let f=0;f<u.childCount;f++){let h=u.child(f);o+h.attrs.rowspan>s&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,s-h.attrs.rowspan)},h.content)),l.push(h)}i.push(ve.from(l))}n=i,t=s}return{width:e,height:t,rows:n}}function Sge(e,t,n,r,s,i,o){const a=e.doc.type.schema,l=Qr(a);let u,f;if(s>t.width)for(let h=0,g=0;h<t.height;h++){const b=n.child(h);g+=b.nodeSize;const v=[];let x;b.lastChild==null||b.lastChild.type==l.cell?x=u||(u=l.cell.createAndFill()):x=f||(f=l.header_cell.createAndFill());for(let w=t.width;w<s;w++)v.push(x);e.insert(e.mapping.slice(o).map(g-1+r),v)}if(i>t.height){const h=[];for(let v=0,x=(t.height-1)*t.width;v<Math.max(t.width,s);v++){const w=v>=t.width?!1:n.nodeAt(t.map[x+v]).type==l.header_cell;h.push(w?f||(f=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const g=l.row.create(null,ve.from(h)),b=[];for(let v=t.height;v<i;v++)b.push(g);e.insert(e.mapping.slice(o).map(r+n.nodeSize-2),b)}return!!(u||f)}function BL(e,t,n,r,s,i,o,a){if(o==0||o==t.height)return!1;let l=!1;for(let u=s;u<i;u++){const f=o*t.width+u,h=t.map[f];if(t.map[f-t.width]==h){l=!0;const g=n.nodeAt(h),{top:b,left:v}=t.findCell(h);e.setNodeMarkup(e.mapping.slice(a).map(h+r),null,{...g.attrs,rowspan:o-b}),e.insert(e.mapping.slice(a).map(t.positionAt(o,v,n)),g.type.createAndFill({...g.attrs,rowspan:b+g.attrs.rowspan-o})),u+=g.attrs.colspan-1}}return l}function HL(e,t,n,r,s,i,o,a){if(o==0||o==t.width)return!1;let l=!1;for(let u=s;u<i;u++){const f=u*t.width+o,h=t.map[f];if(t.map[f-1]==h){l=!0;const g=n.nodeAt(h),b=t.colCount(h),v=e.mapping.slice(a).map(h+r);e.setNodeMarkup(v,null,nd(g.attrs,o-b,g.attrs.colspan-(o-b))),e.insert(v+g.nodeSize,g.type.createAndFill(nd(g.attrs,0,o-b))),u+=g.attrs.rowspan-1}}return l}function FL(e,t,n,r,s){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let o=Cn.get(i);const{top:a,left:l}=r,u=l+s.width,f=a+s.height,h=e.tr;let g=0;function b(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");o=Cn.get(i),g=h.mapping.maps.length}Sge(h,o,i,n,u,f,g)&&b(),BL(h,o,i,n,l,u,a,g)&&b(),BL(h,o,i,n,l,u,f,g)&&b(),HL(h,o,i,n,a,f,l,g)&&b(),HL(h,o,i,n,a,f,u,g)&&b();for(let v=a;v<f;v++){const x=o.positionAt(v,l,i),w=o.positionAt(v,u,i);h.replace(h.mapping.slice(g).map(x+n),h.mapping.slice(g).map(w+n),new Le(s.rows[v-a],0,0))}b(),h.setSelection(new fn(h.doc.resolve(n+o.positionAt(a,l,i)),h.doc.resolve(n+o.positionAt(f-1,u-1,i)))),t(h)}var Tge=_A({ArrowLeft:p1("horiz",-1),ArrowRight:p1("horiz",1),ArrowUp:p1("vert",-1),ArrowDown:p1("vert",1),"Shift-ArrowLeft":m1("horiz",-1),"Shift-ArrowRight":m1("horiz",1),"Shift-ArrowUp":m1("vert",-1),"Shift-ArrowDown":m1("vert",1),Backspace:h1,"Mod-Backspace":h1,Delete:h1,"Mod-Delete":h1});function ty(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function p1(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof fn)return ty(n,r,ot.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const o=iz(s,e,t);if(o==null)return!1;if(e=="horiz")return ty(n,r,ot.near(n.doc.resolve(i.head+t),t));{const a=n.doc.resolve(o),l=JU(a,e,t);let u;return l?u=ot.near(l,1):t<0?u=ot.near(n.doc.resolve(a.before(-1)),-1):u=ot.near(n.doc.resolve(a.after(-1)),1),ty(n,r,u)}}}function m1(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let o;if(i instanceof fn)o=i;else{const l=iz(s,e,t);if(l==null)return!1;o=new fn(n.doc.resolve(l))}const a=JU(o.$headCell,e,t);return a?ty(n,r,new fn(o.$anchorCell,a)):!1}}function kge(e,t){const n=e.state.doc,r=Gh(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new fn(r))),!0):!1}function _ge(e,t,n){if(!va(e.state))return!1;let r=wge(n);const s=e.state.selection;if(s instanceof fn){r||(r={width:1,height:1,rows:[ve.from(Dk(Qr(e.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),o=s.$anchorCell.start(-1),a=Cn.get(i).rectBetween(s.$anchorCell.pos-o,s.$headCell.pos-o);return r=Cge(r,a.right-a.left,a.bottom-a.top),FL(e.state,e.dispatch,o,a,r),!0}else if(r){const i=NA(e.state),o=i.start(-1);return FL(e.state,e.dispatch,o,Cn.get(i.node(-1)).findCell(i.pos-o),r),!0}else return!1}function Nge(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=UL(e,t.target);let s;if(t.shiftKey&&e.state.selection instanceof fn)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(s=Gh(e.state.selection.$anchor))!=null&&((n=f2(e,t))==null?void 0:n.pos)!=s.pos)i(s,t),t.preventDefault();else if(!r)return;function i(l,u){let f=f2(e,u);const h=fc.getState(e.state)==null;if(!f||!AA(l,f))if(h)f=l;else return;const g=new fn(l,f);if(h||!e.state.selection.eq(g)){const b=e.state.tr.setSelection(g);h&&b.setMeta(fc,l.pos),e.dispatch(b)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",a),fc.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(fc,-1))}function a(l){const u=l,f=fc.getState(e.state);let h;if(f!=null)h=e.state.doc.resolve(f);else if(UL(e,u.target)!=r&&(h=f2(e,t),!h))return o();h&&i(h,u)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",a)}function iz(e,t,n){if(!(e.state.selection instanceof $e))return null;const{$head:r}=e.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function UL(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function f2(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Gh(e.state.doc.resolve(n.pos)):null}var oz=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Lk(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Lk(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Lk(e,t,n,r,s,i){var o;let a=0,l=!0,u=t.firstChild;const f=e.firstChild;if(f){for(let h=0,g=0;h<f.childCount;h++){const{colspan:b,colwidth:v}=f.child(h).attrs;for(let x=0;x<b;x++,g++){const w=s==g?i:v&&v[x],S=w?w+"px":"";if(a+=w||r,w||(l=!1),u)u.style.width!=S&&(u.style.width=S),u=u.nextSibling;else{const _=document.createElement("col");_.style.width=S,t.appendChild(_)}}}for(;u;){const h=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=h}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var ci=new St("tableColumnResizing");function Age({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=oz,lastColumnResizable:s=!0}={}){const i=new ht({key:ci,state:{init(o,a){var l,u;const f=(u=(l=i.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,h=Qr(a.schema).table.name;return r&&f&&(f[h]=(g,b)=>new r(g,n,b)),new Mge(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=ci.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Oge(o,a,e,s)},mouseleave:o=>{Rge(o)},mousedown:(o,a)=>{Ige(o,a,t,n)}},decorations:o=>{const a=ci.getState(o);if(a&&a.activeHandle>-1)return Bge(o,a.activeHandle)},nodeViews:{}}});return i}var Mge=class ny{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(ci);if(r&&r.setHandle!=null)return new ny(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new ny(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let s=t.mapping.map(n.activeHandle,-1);return Ik(t.doc.resolve(s))||(s=-1),new ny(s,n.dragging)}return n}};function Oge(e,t,n,r){if(!e.editable)return;const s=ci.getState(e.state);if(s&&!s.dragging){const i=Lge(t.target);let o=-1;if(i){const{left:a,right:l}=i.getBoundingClientRect();t.clientX-a<=n?o=zL(e,t,"left",n):l-t.clientX<=n&&(o=zL(e,t,"right",n))}if(o!=s.activeHandle){if(!r&&o!==-1){const a=e.state.doc.resolve(o),l=a.node(-1),u=Cn.get(l),f=a.start(-1);if(u.colCount(a.pos-f)+a.nodeAfter.attrs.colspan-1==u.width-1)return}az(e,o)}}}function Rge(e){if(!e.editable)return;const t=ci.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&az(e,-1)}function Ige(e,t,n,r){var s;if(!e.editable)return!1;const i=(s=e.dom.ownerDocument.defaultView)!=null?s:window,o=ci.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=e.state.doc.nodeAt(o.activeHandle),l=Dge(e,o.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(ci,{setDragging:{startX:t.clientX,startWidth:l}}));function u(h){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",f);const g=ci.getState(e.state);g?.dragging&&(jge(e,g.activeHandle,$L(g.dragging,h,n)),e.dispatch(e.state.tr.setMeta(ci,{setDragging:null})))}function f(h){if(!h.which)return u(h);const g=ci.getState(e.state);if(g&&g.dragging){const b=$L(g.dragging,h,n);VL(e,g.activeHandle,b,r)}}return VL(e,o.activeHandle,l,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",f),t.preventDefault(),!0}function Dge(e,t,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=e.domAtPos(t);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(a-=r[u],l--);return a/l}function Lge(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function zL(e,t,n,r){const s=n=="right"?-r:r,i=e.posAtCoords({left:t.clientX+s,top:t.clientY});if(!i)return-1;const{pos:o}=i,a=Gh(e.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Cn.get(a.node(-1)),u=a.start(-1),f=l.map.indexOf(a.pos-u);return f%l.width==0?-1:u+l.map[f-1]}function $L(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function az(e,t){e.dispatch(e.state.tr.setMeta(ci,{setHandle:t}))}function jge(e,t,n){const r=e.state.doc.resolve(t),s=r.node(-1),i=Cn.get(s),o=r.start(-1),a=i.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<i.height;u++){const f=u*i.width+a;if(u&&i.map[f]==i.map[f-i.width])continue;const h=i.map[f],g=s.nodeAt(h).attrs,b=g.colspan==1?0:a-i.colCount(h);if(g.colwidth&&g.colwidth[b]==n)continue;const v=g.colwidth?g.colwidth.slice():Pge(g.colspan);v[b]=n,l.setNodeMarkup(o+h,null,{...g,colwidth:v})}l.docChanged&&e.dispatch(l)}function VL(e,t,n,r){const s=e.state.doc.resolve(t),i=s.node(-1),o=s.start(-1),a=Cn.get(i).colCount(s.pos-o)+s.nodeAfter.attrs.colspan-1;let l=e.domAtPos(s.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Lk(i,l.firstChild,l,r,a,n)}function Pge(e){return Array(e).fill(0)}function Bge(e,t){var n;const r=[],s=e.doc.resolve(t),i=s.node(-1);if(!i)return bt.empty;const o=Cn.get(i),a=s.start(-1),l=o.colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const f=l+u*o.width;if((l==o.width-1||o.map[f]!=o.map[f+1])&&(u==0||o.map[f]!=o.map[f-o.width])){const h=o.map[f],g=a+h+i.nodeAt(h).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",(n=ci.getState(e))!=null&&n.dragging&&r.push(Xt.node(a+h,a+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(Xt.widget(g,b))}}return bt.create(e.doc,r)}function Hge({allowTableNodeSelection:e=!1}={}){return new ht({key:fc,state:{init(){return null},apply(t,n){const r=t.getMeta(fc);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:s,pos:i}=t.mapping.mapResult(n);return s?null:i}},props:{decorations:Jme,handleDOMEvents:{mousedown:Nge},createSelectionBetween(t){return fc.getState(t.state)!=null?t.state.selection:null},handleTripleClick:kge,handleKeyDown:Tge,handlePaste:_ge},appendTransaction(t,n,r){return nge(r,sge(r,n),e)}})}const OA=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function lz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const cz=(e,t,n)=>{let r=lz(e,n);if(!r)return!1;let s=RA(r);if(!s){let o=r.blockRange(),a=o&&qh(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(yz(e,s,t,-1))return!0;if(r.parent.content.size==0&&(wh(i,"end")||Ze.isSelectable(i)))for(let o=r.depth;;o--){let a=Zx(e.doc,r.before(o),r.after(o),Le.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(wh(i,"end")?ot.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):Ze.create(l.doc,s.pos-i.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},Fge=(e,t,n)=>{let r=lz(e,n);if(!r)return!1;let s=RA(r);return s?uz(e,s,t):!1},Uge=(e,t,n)=>{let r=fz(e,n);if(!r)return!1;let s=IA(r);return s?uz(e,s,t):!1};function uz(e,t,n){let r=t.nodeBefore,s=r,i=t.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let f=s.lastChild;if(!f)return!1;s=f}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let u=Zx(e.doc,i,l,Le.empty);if(!u||u.from!=i||u instanceof or&&u.slice.size>=l-i)return!1;if(n){let f=e.tr.step(u);f.setSelection($e.create(f.doc,i)),n(f.scrollIntoView())}return!0}function wh(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const dz=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=RA(r)}let o=i&&i.nodeBefore;return!o||!Ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function RA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function fz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const hz=(e,t,n)=>{let r=fz(e,n);if(!r)return!1;let s=IA(r);if(!s)return!1;let i=s.nodeAfter;if(yz(e,s,t,1))return!0;if(r.parent.content.size==0&&(wh(i,"start")||Ze.isSelectable(i))){let o=Zx(e.doc,r.before(),r.after(),Le.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(wh(i,"start")?ot.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):Ze.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},pz=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=IA(r)}let o=i&&i.nodeAfter;return!o||!Ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,i.pos)).scrollIntoView()),!0)};function IA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const zge=(e,t)=>{let n=e.selection,r=n instanceof Ze,s;if(r){if(n.node.isTextblock||!yd(e.doc,n.from))return!1;s=n.from}else if(s=Xx(e.doc,n.from,-1),s==null)return!1;if(t){let i=e.tr.join(s);r&&i.setSelection(Ze.create(i.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},$ge=(e,t)=>{let n=e.selection,r;if(n instanceof Ze){if(n.node.isTextblock||!yd(e.doc,n.to))return!1;r=n.to}else if(r=Xx(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Vge=(e,t)=>{let{$from:n,$to:r}=e.selection,s=n.blockRange(r),i=s&&qh(s);return i==null?!1:(t&&t(e.tr.lift(s,i).scrollIntoView()),!0)},mz=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function DA(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const qge=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=DA(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ot.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},gz=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Hs||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=DA(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=e.tr.insert(o,i.createAndFill());a.setSelection($e.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},bz=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(sl(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&qh(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function Gge(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof Ze&&t.selection.node.isBlock)return!r.parentOffset||!sl(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,a,l=!1,u=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){l=r.end(b)==r.pos+(r.depth-b),u=r.start(b)==r.pos-(r.depth-b),a=DA(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),i.unshift(l&&a?{type:a}:null),o=b;break}else{if(b==1)return!1;i.unshift(null)}let f=t.tr;(t.selection instanceof $e||t.selection instanceof Hs)&&f.deleteSelection();let h=f.mapping.map(r.pos),g=sl(f.doc,h,i.length,i);if(g||(i[0]=a?{type:a}:null,g=sl(f.doc,h,i.length,i)),!g)return!1;if(f.split(h,i.length,i),!l&&u&&r.node(o).type!=a){let b=f.mapping.map(r.before(o)),v=f.doc.resolve(b);a&&r.node(o-1).canReplaceWith(v.index(),v.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(o)),a)}return n&&n(f.scrollIntoView()),!0}}const Yge=Gge(),Wge=(e,t)=>{let{$from:n,to:r}=e.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),t&&t(e.tr.setSelection(Ze.create(e.doc,s))),!0)};function Kge(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(s.isTextblock||yd(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function yz(e,t,n,r){let s=t.nodeBefore,i=t.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&Kge(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let b=t.pos+i.nodeSize,v=ve.empty;for(let S=o.length-1;S>=0;S--)v=ve.from(o[S].create(null,v));v=ve.from(s.copy(v));let x=e.tr.step(new Kn(t.pos-1,b,t.pos,b,new Le(v,1,0),o.length,!0)),w=x.doc.resolve(b+2*o.length);w.nodeAfter&&w.nodeAfter.type==s.type&&yd(x.doc,w.pos)&&x.join(w.pos),n(x.scrollIntoView())}return!0}let f=i.type.spec.isolating||r>0&&l?null:ot.findFrom(t,1),h=f&&f.$from.blockRange(f.$to),g=h&&qh(h);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(h,g).scrollIntoView()),!0;if(u&&wh(i,"start",!0)&&wh(s,"end")){let b=s,v=[];for(;v.push(b),!b.isTextblock;)b=b.lastChild;let x=i,w=1;for(;!x.isTextblock;x=x.firstChild)w++;if(b.canReplace(b.childCount,b.childCount,x.content)){if(n){let S=ve.empty;for(let N=v.length-1;N>=0;N--)S=ve.from(v[N].copy(S));let _=e.tr.step(new Kn(t.pos-v.length,t.pos+i.nodeSize,t.pos+w,t.pos+i.nodeSize-w,new Le(S,v.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function vz(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(t.tr.setSelection($e.create(t.doc,e<0?s.start(i):s.end(i)))),!0):!1}}const Qge=vz(-1),Xge=vz(1);function Zge(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&aU(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function qL(e,t=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,u)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)s=!0;else{let f=n.doc.resolve(u),h=f.index();s=f.parent.canReplaceWith(h,h+1,e)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,e,t)}r(i.scrollIntoView())}return!0}}function LA(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}LA(OA,cz,dz);LA(OA,hz,pz);LA(mz,gz,bz,Yge);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Jge(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return e0e(a,o,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function e0e(e,t,n,r=null){let s=!1,i=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=o.resolve(t.start-2);i=new zy(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new zy(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let a=aU(i,n,r,t);return a?(e&&t0e(e,t,a,s,n),!0):!1}function t0e(e,t,n,r,s){let i=ve.empty;for(let f=n.length-1;f>=0;f--)i=ve.from(n[f].type.create(n[f].attrs,i));e.step(new Kn(t.start-(r?2:0),t.end,t.start,t.end,new Le(i,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==s&&(o=f+1);let a=n.length-o,l=t.start+n.length-(r?2:0),u=t.parent;for(let f=t.startIndex,h=t.endIndex,g=!0;f<h;f++,g=!1)!g&&sl(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=u.child(f).nodeSize;return e}function n0e(e){return function(t,n){let{$from:r,$to:s}=t.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?r0e(t,n,e,i):s0e(t,n,i):!0:!1}}function r0e(e,t,n,r){let s=e.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Kn(i-1,o,i,o,new Le(ve.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new zy(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=qh(r);if(a==null)return!1;s.lift(r,a);let l=s.doc.resolve(s.mapping.map(i,-1)-1);return yd(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),t(s.scrollIntoView()),!0}function s0e(e,t,n){let r=e.tr,s=n.parent;for(let b=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)b-=s.child(v).nodeSize,r.delete(b-1,b+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,u=i.node(-1),f=i.index(-1);if(!u.canReplace(f+(a?0:1),f+1,o.content.append(l?ve.empty:ve.from(s))))return!1;let h=i.pos,g=h+o.nodeSize;return r.step(new Kn(h-(a?1:0),g+(l?1:0),h+1,g-1,new Le((a?ve.empty:ve.from(s.copy(ve.empty))).append(l?ve.empty:ve.from(s.copy(ve.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function i0e(e){return function(t,n){let{$from:r,$to:s}=t.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==e);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,f=ve.from(u?e.create():null),h=new Le(ve.from(e.create(null,ve.from(a.type.create(null,f)))),u?3:1,0),g=i.start,b=i.end;n(t.tr.step(new Kn(g-(u?3:1),b,g,b,h,1,!0)).scrollIntoView())}return!0}}var o0e=Object.defineProperty,xz=(e,t)=>{for(var n in t)o0e(e,n,{get:t[n],enumerable:!0})};function rw(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var sw=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([o,a])=>[o,(...u)=>{const f=a(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],a=!!e,l=e||s.tr,u=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),o.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(n).map(([h,g])=>[h,(...v)=>{const x=this.buildProps(l,t),w=g(...v)(x);return o.push(w),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>l(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:e,editor:r,view:i,state:rw({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...u)=>l(...u)(o)]))}};return o}},a0e=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function iw(e,t){const n=new gA(e);return t.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}var wz=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&wz(r)}return e};function g1(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return wz(n)}function Cg(e,t,n){if(e instanceof Cc||e instanceof ve)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,s=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return ve.fromArray(e.map(a=>t.nodeFromJSON(a)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),Cg("",t,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new JF({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?yo.fromSchema(l).parseSlice(g1(e),n.parseOptions):yo.fromSchema(l).parse(g1(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=yo.fromSchema(t);return n.slice?i.parseSlice(g1(e),n.parseOptions).content:i.parse(g1(e),n.parseOptions)}return Cg("",t,n)}function Qy(e,t,n={},r={}){return Cg(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function l0e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function GL(e,t){const n=[];return e.descendants((r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function Ez(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function c0e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function ow(e){return t=>c0e(t.$from,e)}function et(e,t,n){return e.config[t]===void 0&&e.parent?et(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?et(e.parent,t,n):null}):e.config[t]}function jA(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=et(t,"addExtensions",n);return r?[t,...jA(r())]:t}).flat(10)}function PA(e,t){const n=mi.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function Cz(e){return typeof e=="function"}function gn(e,t=void 0,...n){return Cz(e)?t?e.bind(t)(...n):e(...n):e}function u0e(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Sg(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),r=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Sz(e){const t=[],{nodeExtensions:n,markExtensions:r}=Sg(e),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=et(o,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([g,b])=>{t.push({type:h,name:g,attribute:{...i,...b}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=et(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([f,h])=>{const g={...i,...h};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,t.push({type:o.name,name:f,attribute:g})})}),t}function gi(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?String(i).split(" "):[],l=r[s]?r[s].split(" "):[],u=a.filter(f=>!l.includes(f));r[s]=[...l,...u].join(" ")}else if(s==="style"){const a=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;l.forEach(f=>{const[h,g]=f.split(":").map(b=>b.trim());u.set(h,g)}),a.forEach(f=>{const[h,g]=f.split(":").map(b=>b.trim());u.set(h,g)}),r[s]=Array.from(u.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else r[s]=i}),r},{})}function Xy(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>gi(n,r),{})}function d0e(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function YL(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const s=t.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):d0e(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function WL(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&u0e(n)?!1:n!=null))}function Tz(e,t){var n;const r=Sz(e),{nodeExtensions:s,markExtensions:i}=Sg(e),o=(n=s.find(u=>et(u,"topNode")))==null?void 0:n.name,a=Object.fromEntries(s.map(u=>{const f=r.filter(S=>S.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:t},g=e.reduce((S,_)=>{const N=et(_,"extendNodeSchema",h);return{...S,...N?N(u):{}}},{}),b=WL({...g,content:gn(et(u,"content",h)),marks:gn(et(u,"marks",h)),group:gn(et(u,"group",h)),inline:gn(et(u,"inline",h)),atom:gn(et(u,"atom",h)),selectable:gn(et(u,"selectable",h)),draggable:gn(et(u,"draggable",h)),code:gn(et(u,"code",h)),whitespace:gn(et(u,"whitespace",h)),linebreakReplacement:gn(et(u,"linebreakReplacement",h)),defining:gn(et(u,"defining",h)),isolating:gn(et(u,"isolating",h)),attrs:Object.fromEntries(f.map(S=>{var _,N;return[S.name,{default:(_=S?.attribute)==null?void 0:_.default,validate:(N=S?.attribute)==null?void 0:N.validate}]}))}),v=gn(et(u,"parseHTML",h));v&&(b.parseDOM=v.map(S=>YL(S,f)));const x=et(u,"renderHTML",h);x&&(b.toDOM=S=>x({node:S,HTMLAttributes:Xy(S,f)}));const w=et(u,"renderText",h);return w&&(b.toText=w),[u.name,b]})),l=Object.fromEntries(i.map(u=>{const f=r.filter(w=>w.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:t},g=e.reduce((w,S)=>{const _=et(S,"extendMarkSchema",h);return{...w,..._?_(u):{}}},{}),b=WL({...g,inclusive:gn(et(u,"inclusive",h)),excludes:gn(et(u,"excludes",h)),group:gn(et(u,"group",h)),spanning:gn(et(u,"spanning",h)),code:gn(et(u,"code",h)),attrs:Object.fromEntries(f.map(w=>{var S,_;return[w.name,{default:(S=w?.attribute)==null?void 0:S.default,validate:(_=w?.attribute)==null?void 0:_.validate}]}))}),v=gn(et(u,"parseHTML",h));v&&(b.parseDOM=v.map(w=>YL(w,f)));const x=et(u,"renderHTML",h);return x&&(b.toDOM=w=>x({mark:w,HTMLAttributes:Xy(w,f)})),[u.name,b]}));return new JF({topNode:o,nodes:a,marks:l})}function f0e(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function BA(e){return e.sort((n,r)=>{const s=et(n,"priority")||100,i=et(r,"priority")||100;return s>i?-1:s<i?1:0})}function HA(e){const t=BA(jA(e)),n=f0e(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function h0e(e,t){const n=HA(e);return Tz(n,t)}function kz(e,t,n){const{from:r,to:s}=t,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return e.nodesBetween(r,s,(l,u,f,h)=>{var g;l.isBlock&&u>r&&(a+=i);const b=o?.[l.type.name];if(b)return f&&(a+=b({node:l,pos:u,parent:f,index:h,range:t})),!1;l.isText&&(a+=(g=l?.text)==null?void 0:g.slice(Math.max(r,u)-u,s-u))}),a}function p0e(e,t){const n={from:0,to:e.content.size};return kz(e,n,t)}function _z(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function xl(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function Nz(e,t){const n=xl(t,e.schema),{from:r,to:s,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Mr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function m0e(e,t){const n=Mr(t,e.schema),{from:r,to:s}=e.selection,i=[];e.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function aw(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Az(e,t){const n=aw(typeof t=="string"?t:t.name,e.schema);return n==="node"?m0e(e,t):n==="mark"?Nz(e,t):{}}function g0e(e,t=JSON.stringify){const n={};return e.filter(r=>{const s=t(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function b0e(e){const t=g0e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function FA(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const u=t.slice(i).map(a,-1),f=t.slice(i).map(l),h=t.invert().map(u,-1),g=t.invert().map(f);r.push({oldRange:{from:h,to:g},newRange:{from:u,to:f}})})}),b0e(r)}function UA(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Zy(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(s=>n.strict?t[s]===e[s]:UA(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function Mz(e,t,n={}){return e.find(r=>r.type===t&&Zy(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function KL(e,t,n={}){return!!Mz(e,t,n)}function Tg(e,t,n){var r;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(f=>f.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(f=>f.type===t)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!Mz([...s.node.marks],t,n)))return;let o=s.index,a=e.start()+s.offset,l=o+1,u=a+s.node.nodeSize;for(;o>0&&KL([...e.parent.child(o-1).marks],t,n);)o-=1,a-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&KL([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function zA(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(s=>{const i=n.resolve(e),o=Tg(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(e,t,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function h2(e,t){return t.nodes[e]||t.marks[e]||null}function ry(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=e.find(i=>i.type===t&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var y0e=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(s,i,o,a)=>{var l,u;const f=((u=(l=s.type.spec).toText)==null?void 0:u.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?f:f.slice(0,Math.max(0,r-i))}),n};function jk(e,t,n={}){const{empty:r,ranges:s}=e.selection,i=t?xl(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>Zy(h.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:h,$to:g})=>{const b=h.pos,v=g.pos;e.doc.nodesBetween(b,v,(x,w)=>{if(!x.isText&&!x.marks.length)return;const S=Math.max(b,w),_=Math.min(v,w+x.nodeSize),N=_-S;o+=N,a.push(...x.marks.map(M=>({mark:M,from:S,to:_})))})}),o===0)return!1;const l=a.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>Zy(h.mark.attrs,n,{strict:!1})).reduce((h,g)=>h+g.to-g.from,0),u=a.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,g)=>h+g.to-g.from,0);return(l>0?l+u:l)>=o}function kg(e,t,n={}){const{from:r,to:s,empty:i}=e.selection,o=t?Mr(t,e.schema):null,a=[];e.doc.nodesBetween(r,s,(h,g)=>{if(h.isText)return;const b=Math.max(r,g),v=Math.min(s,g+h.nodeSize);a.push({node:h,from:b,to:v})});const l=s-r,u=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Zy(h.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((h,g)=>h+g.to-g.from,0)>=l}function v0e(e,t,n={}){if(!t)return kg(e,null,n)||jk(e,null,n);const r=aw(t,e.schema);return r==="node"?kg(e,t,n):r==="mark"?jk(e,t,n):!1}function QL(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function XL(e,t){const{nodeExtensions:n}=Sg(t),r=n.find(o=>o.name===e);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=gn(et(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function lw(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(i=>{s!==!1&&(lw(i,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function Jy(e){return e instanceof Ze}function $A(e){return e instanceof $e}function el(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function ev(e,t,n){const s=e.state.doc.content.size,i=el(t,0,s),o=el(n,0,s),a=e.coordsAtPos(i),l=e.coordsAtPos(o,-1),u=Math.min(a.top,l.top),f=Math.max(a.bottom,l.bottom),h=Math.min(a.left,l.left),g=Math.max(a.right,l.right),b=g-h,v=f-u,S={top:u,bottom:f,left:h,right:g,width:b,height:v,x:h,y:u};return{...S,toJSON:()=>S}}function Oz(e,t=null){if(!t)return null;const n=ot.atStart(e),r=ot.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const s=n.from,i=r.to;return t==="all"?$e.create(e,el(0,s,i),el(e.content.size,s,i)):$e.create(e,el(t,s,i),el(t,s,i))}function Rz(e,t,n){const r=e.steps.length-1;if(r<t)return;const s=e.steps[r];if(!(s instanceof or||s instanceof Kn))return;const i=e.mapping.maps[r];let o=0;i.forEach((a,l,u,f)=>{o===0&&(o=f)}),e.setSelection(ot.near(e.doc.resolve(o),n))}var Iz=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},x0e=(e,t)=>{if(UA(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function b1(e){var t;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||(t=u.nodeBefore||u.nodeAfter)!=null&&t.marks.find(g=>g.type.spec.code))return!1;let f=!1;const h=y0e(u)+i;return o.forEach(g=>{if(f)return;const b=x0e(h,g.find);if(!b)return;const v=l.state.tr,x=rw({state:l.state,transaction:v}),w={from:r-(b[0].length-i.length),to:s},{commands:S,chain:_,can:N}=new sw({editor:n,state:x});g.handler({state:x,range:w,match:b,commands:S,chain:_,can:N})===null||!v.steps.length||(g.undoable&&v.setMeta(a,{transform:v,from:r,to:s,text:i}),l.dispatch(v),f=!0)}),f}function w0e(e){const{editor:t,rules:n}=e,r=new ht({state:{init(){return null},apply(s,i,o){const a=s.getMeta(r);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=PA(ve.from(f),o.schema);const{from:h}=l,g=h+f.length;b1({editor:t,from:h,to:g,text:f,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return b1({editor:t,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&b1({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?b1({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function E0e(e){return Object.prototype.toString.call(e).slice(8,-1)}function y1(e){return E0e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Dz(e,t){const n={...e};return y1(e)&&y1(t)&&Object.keys(t).forEach(r=>{y1(t[r])&&y1(e[r])?n[r]=Dz(e[r],t[r]):n[r]=t[r]}),n}var VA=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...gn(et(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...gn(et(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Dz(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},wi=class Lz extends VA{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Lz(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>u?.type.name===n.name))return!1;const l=o.find(u=>u?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function C0e(e){return typeof e=="number"}var S0e=class{constructor(e){this.find=e.find,this.handler=e.handler}},T0e=(e,t,n)=>{if(UA(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=e,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function k0e(e){const{editor:t,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=e,{commands:l,chain:u,can:f}=new sw({editor:t,state:n}),h=[];return n.doc.nodesBetween(r,s,(b,v)=>{var x,w,S,_,N;if((w=(x=b.type)==null?void 0:x.spec)!=null&&w.code||!(b.isText||b.isTextblock||b.isInline))return;const M=(N=(_=(S=b.content)==null?void 0:S.size)!=null?_:b.nodeSize)!=null?N:0,O=Math.max(r,v),R=Math.min(s,v+M);if(O>=R)return;const I=b.isText?b.text||"":b.textBetween(O-v,R-v,void 0,"￼");T0e(I,i.find,o).forEach(U=>{if(U.index===void 0)return;const P=O+U.index+1,K=P+U[0].length,W={from:n.tr.mapping.map(P),to:n.tr.mapping.map(K)},ne=i.handler({state:n,range:W,match:U,commands:l,chain:u,can:f,pasteEvent:o,dropEvent:a});h.push(ne)})}),h.every(b=>b!==null)}var v1=null,_0e=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function N0e(e){const{editor:t,rules:n}=e;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:h,to:g,rule:b,pasteEvt:v})=>{const x=f.tr,w=rw({state:f,transaction:x});if(!(!k0e({editor:t,state:w,from:Math.max(h-1,0),to:g.b-1,rule:b,pasteEvent:v,dropEvent:a})||!x.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(f=>new ht({view(h){const g=v=>{var x;r=(x=h.dom.parentElement)!=null&&x.contains(v.target)?h.dom.parentElement:null,r&&(v1=t)},b=()=>{v1&&(v1=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(h,g)=>{if(i=r===h.dom.parentElement,a=g,!i){const b=v1;b?.isEditable&&setTimeout(()=>{const v=b.state.selection;v&&b.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,g)=>{var b;const v=(b=g.clipboardData)==null?void 0:b.getData("text/html");return o=g,s=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(h,g,b)=>{const v=h[0],x=v.getMeta("uiEvent")==="paste"&&!s,w=v.getMeta("uiEvent")==="drop"&&!i,S=v.getMeta("applyPasteRules"),_=!!S;if(!x&&!w&&!_)return;if(_){let{text:O}=S;typeof O=="string"?O=O:O=PA(ve.from(O),b.schema);const{from:R}=S,I=R+O.length,j=_0e(O);return l({rule:f,state:b,from:R,to:{b:I},pasteEvt:j})}const N=g.doc.content.findDiffStart(b.doc.content),M=g.doc.content.findDiffEnd(b.doc.content);if(!(!C0e(N)||!M||N===M.b))return l({rule:f,state:b,from:N,to:M,pasteEvt:o})}}))}var cw=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=HA(e),this.schema=Tz(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:h2(t.name,this.schema)},r=et(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return BA([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:h2(r.name,this.schema)},i=[],o=et(r,"addKeyboardShortcuts",s);let a={};if(r.type==="mark"&&et(r,"exitable",s)&&(a.ArrowRight=()=>wi.handleExit({editor:e,mark:r})),o){const g=Object.fromEntries(Object.entries(o()).map(([b,v])=>[b,()=>v({editor:e})]));a={...a,...g}}const l=$me(a);i.push(l);const u=et(r,"addInputRules",s);if(QL(r,e.options.enableInputRules)&&u){const g=u();if(g&&g.length){const b=w0e({editor:e,rules:g}),v=Array.isArray(b)?b:[b];i.push(...v)}}const f=et(r,"addPasteRules",s);if(QL(r,e.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const b=N0e({editor:e,rules:g});i.push(...b)}}const h=et(r,"addProseMirrorPlugins",s);if(h){const g=h();i.push(...g)}return i})}get attributes(){return Sz(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Sg(this.extensions);return Object.fromEntries(t.filter(n=>!!et(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Mr(n.name,this.schema)},i=et(n,"addNodeView",s);if(!i)return[];const o=(a,l,u,f,h)=>{const g=Xy(a,r);return i()({node:a,view:l,getPos:u,decorations:f,innerDecorations:h,editor:e,extension:n,HTMLAttributes:g})};return[n.name,o]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Sg(this.extensions);return Object.fromEntries(t.filter(n=>!!et(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:xl(n.name,this.schema)},i=et(n,"addMarkView",s);if(!i)return[];const o=(a,l,u)=>{const f=Xy(a,r);return i()({mark:a,view:l,inline:u,editor:e,extension:n,HTMLAttributes:f,updateAttributes:h=>{Ube(a,e,h)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:h2(t.name,this.schema)};t.type==="mark"&&((n=gn(et(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const s=et(t,"onBeforeCreate",r),i=et(t,"onCreate",r),o=et(t,"onUpdate",r),a=et(t,"onSelectionUpdate",r),l=et(t,"onTransaction",r),u=et(t,"onFocus",r),f=et(t,"onBlur",r),h=et(t,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}};cw.resolve=HA;cw.sort=BA;cw.flatten=jA;var Vf={};xz(Vf,{ClipboardTextSerializer:()=>Pz,Commands:()=>Fz,Delete:()=>Uz,Drop:()=>zz,Editable:()=>$z,FocusEvents:()=>qz,Keymap:()=>Gz,Paste:()=>Yz,Tabindex:()=>Wz,focusEventsPluginKey:()=>Vz});var nn=class jz extends VA{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new jz(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Pz=nn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ht({key:new St("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:s}=t,{ranges:i}=s,o=Math.min(...i.map(f=>f.$from.pos)),a=Math.max(...i.map(f=>f.$to.pos)),l=_z(n);return kz(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Bz={};xz(Bz,{blur:()=>A0e,clearContent:()=>M0e,clearNodes:()=>O0e,command:()=>R0e,createParagraphNear:()=>I0e,cut:()=>D0e,deleteCurrentNode:()=>L0e,deleteNode:()=>j0e,deleteRange:()=>P0e,deleteSelection:()=>B0e,enter:()=>H0e,exitCode:()=>F0e,extendMarkRange:()=>U0e,first:()=>z0e,focus:()=>V0e,forEach:()=>q0e,insertContent:()=>G0e,insertContentAt:()=>W0e,joinBackward:()=>X0e,joinDown:()=>Q0e,joinForward:()=>Z0e,joinItemBackward:()=>J0e,joinItemForward:()=>ebe,joinTextblockBackward:()=>tbe,joinTextblockForward:()=>nbe,joinUp:()=>K0e,keyboardShortcut:()=>sbe,lift:()=>ibe,liftEmptyBlock:()=>obe,liftListItem:()=>abe,newlineInCode:()=>lbe,resetAttributes:()=>cbe,scrollIntoView:()=>ube,selectAll:()=>dbe,selectNodeBackward:()=>fbe,selectNodeForward:()=>hbe,selectParentNode:()=>pbe,selectTextblockEnd:()=>mbe,selectTextblockStart:()=>gbe,setContent:()=>bbe,setMark:()=>vbe,setMeta:()=>xbe,setNode:()=>wbe,setNodeSelection:()=>Ebe,setTextSelection:()=>Cbe,sinkListItem:()=>Sbe,splitBlock:()=>Tbe,splitListItem:()=>kbe,toggleList:()=>_be,toggleMark:()=>Nbe,toggleNode:()=>Abe,toggleWrap:()=>Mbe,undoInputRule:()=>Obe,unsetAllMarks:()=>Rbe,unsetMark:()=>Ibe,updateAttributes:()=>Dbe,wrapIn:()=>Lbe,wrapInList:()=>jbe});var A0e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),M0e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),O0e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{e.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:f}=t,h=u.resolve(f.map(l)),g=u.resolve(f.map(l+a.nodeSize)),b=h.blockRange(g);if(!b)return;const v=qh(b);if(a.type.isTextblock){const{defaultType:x}=h.parent.contentMatchAt(h.index());t.setNodeMarkup(b.start,x)}(v||v===0)&&t.lift(b,v)})}),!0},R0e=e=>t=>e(t),I0e=()=>({state:e,dispatch:t})=>gz(e,t),D0e=(e,t)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,i.content),r.setSelection(new $e(r.doc.resolve(Math.max(o-1,0)))),!0},L0e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(t){const a=s.before(i),l=s.after(i);e.delete(a,l).scrollIntoView()}return!0}return!1},j0e=e=>({tr:t,state:n,dispatch:r})=>{const s=Mr(e,n.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),u=i.after(o);t.delete(l,u).scrollIntoView()}return!0}return!1},P0e=e=>({tr:t,dispatch:n})=>{const{from:r,to:s}=e;return n&&t.delete(r,s),!0},B0e=()=>({state:e,dispatch:t})=>OA(e,t),H0e=()=>({commands:e})=>e.keyboardShortcut("Enter"),F0e=()=>({state:e,dispatch:t})=>qge(e,t),U0e=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const i=xl(e,r.schema),{doc:o,selection:a}=n,{$from:l,from:u,to:f}=a;if(s){const h=Tg(l,i,t);if(h&&h.from<=u&&h.to>=f){const g=$e.create(o,h.from,h.to);n.setSelection(g)}}return!0},z0e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function $0e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function qA(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var V0e=(e=null,t={})=>({editor:n,view:r,tr:s,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{(qA()||$0e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!$A(n.state.selection))return o(),!0;const a=Oz(s.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},q0e=(e,t)=>n=>e.every((r,s)=>t(r,{...n,index:s})),G0e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Y0e=e=>!("type"in e),W0e=(e,t,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=w=>{i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Cg(t,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(w){l(w)}try{a=Cg(t,i.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(w){return l(w),!1}let{from:f,to:h}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},g=!0,b=!0;if((Y0e(a)?a:[a]).forEach(w=>{w.check(),g=g?w.isText&&w.marks.length===0:!1,b=b?w.isBlock:!1}),f===h&&b){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,h+=1)}let x;if(g){if(Array.isArray(t))x=t.map(w=>w.text||"").join("");else if(t instanceof ve){let w="";t.forEach(S=>{S.text&&(w+=S.text)}),x=w}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,f,h)}else{x=a;const w=r.doc.resolve(f),S=w.node(),_=w.parentOffset===0,N=S.isText||S.isTextblock,M=S.content.size>0;_&&N&&M&&(f=Math.max(0,f-1)),r.replaceWith(f,h,x)}n.updateSelection&&Rz(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:x})}return!0},K0e=()=>({state:e,dispatch:t})=>zge(e,t),Q0e=()=>({state:e,dispatch:t})=>$ge(e,t),X0e=()=>({state:e,dispatch:t})=>cz(e,t),Z0e=()=>({state:e,dispatch:t})=>hz(e,t),J0e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Xx(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},ebe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Xx(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},tbe=()=>({state:e,dispatch:t})=>Fge(e,t),nbe=()=>({state:e,dispatch:t})=>Uge(e,t);function Hz(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rbe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))qA()||Hz()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var sbe=e=>({editor:t,view:n,tr:r,dispatch:s})=>{const i=rbe(e).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l?.steps.forEach(u=>{const f=u.map(r.mapping);f&&s&&r.maybeStep(f)}),!0},ibe=(e,t={})=>({state:n,dispatch:r})=>{const s=Mr(e,n.schema);return kg(n,s,t)?Vge(n,r):!1},obe=()=>({state:e,dispatch:t})=>bz(e,t),abe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return n0e(r)(t,n)},lbe=()=>({state:e,dispatch:t})=>mz(e,t);function ZL(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,s)=>(n.includes(s)||(r[s]=e[s]),r),{})}var cbe=(e,t)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=aw(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Mr(e,r.schema)),a==="mark"&&(o=xl(e,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,f)=>{i&&i===u.type&&n.setNodeMarkup(f,void 0,ZL(u.attrs,t)),o&&u.marks.length&&u.marks.forEach(h=>{o===h.type&&n.addMark(f,f+u.nodeSize,o.create(ZL(h.attrs,t)))})})}),!0):!1},ube=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),dbe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Hs(e.doc);e.setSelection(n)}return!0},fbe=()=>({state:e,dispatch:t})=>dz(e,t),hbe=()=>({state:e,dispatch:t})=>pz(e,t),pbe=()=>({state:e,dispatch:t})=>Wge(e,t),mbe=()=>({state:e,dispatch:t})=>Xge(e,t),gbe=()=>({state:e,dispatch:t})=>Qge(e,t),bbe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const u=Qy(e,s.schema,r,{errorOnInvalidContent:t??s.options.enableContentCheck});return o&&i.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??s.options.enableContentCheck})};function ybe(e,t,n){var r;const{selection:s}=t;let i=null;if($A(s)&&(i=s.$cursor),i){const a=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(u=>u.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(f,h,g)=>{if(u)return!1;if(f.isInline){const b=!g||g.type.allowsMarkType(n),v=!!n.isInSet(f.marks)||!f.marks.some(x=>x.type.excludes(n));u=b&&v}return!u}),u})}var vbe=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=xl(e,r.schema);if(s)if(o){const u=Nz(r,l);n.addStoredMark(l.create({...u,...t}))}else a.forEach(u=>{const f=u.$from.pos,h=u.$to.pos;r.doc.nodesBetween(f,h,(g,b)=>{const v=Math.max(b,f),x=Math.min(b+g.nodeSize,h);g.marks.find(S=>S.type===l)?g.marks.forEach(S=>{l===S.type&&n.addMark(v,x,l.create({...S.attrs,...t}))}):n.addMark(v,x,l.create(t))})});return ybe(r,n,l)},xbe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),wbe=(e,t={})=>({state:n,dispatch:r,chain:s})=>{const i=Mr(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:a})=>qL(i,{...o,...t})(n)?!0:a.clearNodes()).command(({state:a})=>qL(i,{...o,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Ebe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,s=el(e,0,r.content.size),i=Ze.create(r,s);t.setSelection(i)}return!0},Cbe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:s,to:i}=typeof e=="number"?{from:e,to:e}:e,o=$e.atStart(r).from,a=$e.atEnd(r).to,l=el(s,o,a),u=el(i,o,a),f=$e.create(r,l,u);t.setSelection(f)}return!0},Sbe=e=>({state:t,dispatch:n})=>{const r=Mr(e,t.schema);return i0e(r)(t,n)};function JL(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(s=>t?.includes(s.type.name));e.tr.ensureMarks(r)}}var Tbe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=t,{$from:a,$to:l}=i,u=s.extensionManager.attributes,f=ry(u,a.node().type.name,a.node().attrs);if(i instanceof Ze&&i.node.isBlock)return!a.parentOffset||!sl(o,a.pos)?!1:(r&&(e&&JL(n,s.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,g=a.depth===0?void 0:l0e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let b=h&&g?[{type:g,attrs:f}]:void 0,v=sl(t.doc,t.mapping.map(a.pos),1,b);if(!b&&!v&&sl(t.doc,t.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(v=!0,b=g?[{type:g,attrs:f}]:void 0),r){if(v&&(i instanceof $e&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,b),g&&!h&&!a.parentOffset&&a.parent.type!==g)){const x=t.mapping.map(a.before()),w=t.doc.resolve(x);a.node(-1).canReplaceWith(w.index(),w.index()+1,g)&&t.setNodeMarkup(t.mapping.map(a.before()),g)}e&&JL(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return v},kbe=(e,t={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=Mr(e,r.schema),{$from:l,$to:u}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const h=l.node(-1);if(h.type!==a)return!1;const g=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let S=ve.empty;const _=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-_;j>=l.depth-3;j-=1)S=ve.from(l.node(j).copy(S));const N=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,M={...ry(g,l.node().type.name,l.node().attrs),...t},O=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(M))||void 0;S=S.append(ve.from(a.createAndFill(null,O)||void 0));const R=l.before(l.depth-(_-1));n.replace(R,l.after(-N),new Le(S,4-_,0));let I=-1;n.doc.nodesBetween(R,n.doc.content.size,(j,U)=>{if(I>-1)return!1;j.isTextblock&&j.content.size===0&&(I=U+1)}),I>-1&&n.setSelection($e.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const b=u.pos===l.end()?h.contentMatchAt(0).defaultType:null,v={...ry(g,h.type.name,h.attrs),...t},x={...ry(g,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,u.pos);const w=b?[{type:a,attrs:v},{type:b,attrs:x}]:[{type:a,attrs:v}];if(!sl(n.doc,l.pos,2))return!1;if(s){const{selection:S,storedMarks:_}=r,{splittableMarks:N}=i.extensionManager,M=_||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!M||!s)return!0;const O=M.filter(R=>N.includes(R.type.name));n.ensureMarks(O)}return!0},p2=(e,t)=>{const n=ow(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===s?.type&&yd(e.doc,n.pos)&&e.join(n.pos),!0},m2=(e,t)=>{const n=ow(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===s?.type&&yd(e.doc,r)&&e.join(r),!0},_be=(e,t,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:u,can:f})=>{const{extensions:h,splittableMarks:g}=s.extensionManager,b=Mr(e,o.schema),v=Mr(t,o.schema),{selection:x,storedMarks:w}=o,{$from:S,$to:_}=x,N=S.blockRange(_),M=w||x.$to.parentOffset&&x.$from.marks();if(!N)return!1;const O=ow(R=>XL(R.type.name,h))(x);if(N.depth>=1&&O&&N.depth-O.depth<=1){if(O.node.type===b)return u.liftListItem(v);if(XL(O.node.type.name,h)&&b.validContent(O.node.content)&&a)return l().command(()=>(i.setNodeMarkup(O.pos,b),!0)).command(()=>p2(i,b)).command(()=>m2(i,b)).run()}return!n||!M||!a?l().command(()=>f().wrapInList(b,r)?!0:u.clearNodes()).wrapInList(b,r).command(()=>p2(i,b)).command(()=>m2(i,b)).run():l().command(()=>{const R=f().wrapInList(b,r),I=M.filter(j=>g.includes(j.type.name));return i.ensureMarks(I),R?!0:u.clearNodes()}).wrapInList(b,r).command(()=>p2(i,b)).command(()=>m2(i,b)).run()},Nbe=(e,t={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=xl(e,r.schema);return jk(r,o,t)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,t)},Abe=(e,t,n={})=>({state:r,commands:s})=>{const i=Mr(e,r.schema),o=Mr(t,r.schema),a=kg(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},Mbe=(e,t={})=>({state:n,commands:r})=>{const s=Mr(e,n.schema);return kg(n,s,t)?r.lift(s):r.wrapIn(s,t)},Obe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(e))){if(t){const o=e.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},Rbe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:s}=n;return r||t&&s.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},Ibe=(e,t={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,l=xl(e,r.schema),{$from:u,empty:f,ranges:h}=a;if(!s)return!0;if(f&&o){let{from:g,to:b}=a;const v=(i=u.marks().find(w=>w.type===l))==null?void 0:i.attrs,x=Tg(u,l,v);x&&(g=x.from,b=x.to),n.removeMark(g,b,l)}else h.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,l)});return n.removeStoredMark(l),!0},Dbe=(e,t={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=aw(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Mr(e,r.schema)),a==="mark"&&(o=xl(e,r.schema)),s&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,f=l.$to.pos;let h,g,b,v;n.selection.empty?r.doc.nodesBetween(u,f,(x,w)=>{i&&i===x.type&&(b=Math.max(w,u),v=Math.min(w+x.nodeSize,f),h=w,g=x)}):r.doc.nodesBetween(u,f,(x,w)=>{w<u&&i&&i===x.type&&(b=Math.max(w,u),v=Math.min(w+x.nodeSize,f),h=w,g=x),w>=u&&w<=f&&(i&&i===x.type&&n.setNodeMarkup(w,void 0,{...x.attrs,...t}),o&&x.marks.length&&x.marks.forEach(S=>{if(o===S.type){const _=Math.max(w,u),N=Math.min(w+x.nodeSize,f);n.addMark(_,N,o.create({...S.attrs,...t}))}}))}),g&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...g.attrs,...t}),o&&g.marks.length&&g.marks.forEach(x=>{o===x.type&&n.addMark(b,v,o.create({...x.attrs,...t}))}))}),!0):!1},Lbe=(e,t={})=>({state:n,dispatch:r})=>{const s=Mr(e,n.schema);return Zge(s,t)(n,r)},jbe=(e,t={})=>({state:n,dispatch:r})=>{const s=Mr(e,n.schema);return Jge(s,t)(n,r)},Fz=nn.create({name:"commands",addCommands(){return{...Bz}}}),Uz=nn.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,s;const i=()=>{var o,a,l,u;if((u=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?u:e.getMeta("y-sync$"))return;const f=iw(e.before,[e,...t]);FA(f).forEach(b=>{f.mapping.mapResult(b.oldRange.from).deletedAfter&&f.mapping.mapResult(b.oldRange.to).deletedBefore&&f.before.nodesBetween(b.oldRange.from,b.oldRange.to,(v,x)=>{const w=x+v.nodeSize-2,S=b.oldRange.from<=x&&w<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:x,to:w,newFrom:f.mapping.map(x),newTo:f.mapping.map(w),deletedRange:b.oldRange,newRange:b.newRange,partial:!S,editor:this.editor,transaction:e,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((b,v)=>{var x,w;if(b instanceof po){const S=g.slice(v).map(b.from,-1),_=g.slice(v).map(b.to),N=g.invert().map(S,-1),M=g.invert().map(_),O=(x=f.doc.nodeAt(S-1))==null?void 0:x.marks.some(I=>I.eq(b.mark)),R=(w=f.doc.nodeAt(_))==null?void 0:w.marks.some(I=>I.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:N,to:M},newRange:{from:S,to:_},partial:!!(R||O),editor:this.editor,transaction:e,combinedTransform:f})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),zz=nn.create({name:"drop",addProseMirrorPlugins(){return[new ht({key:new St("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),$z=nn.create({name:"editable",addProseMirrorPlugins(){return[new ht({key:new St("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Vz=new St("focusEvents"),qz=nn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new ht({key:Vz,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Gz=nn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:f,$anchor:h}=l,{pos:g,parent:b}=h,v=h.parent.isTextblock&&g>0?a.doc.resolve(g-1):h,x=v.parent.type.spec.isolating,w=h.pos-h.parentOffset,S=x&&v.parent.childCount===1?w===h.pos:ot.atStart(u).from===g;return!f||!b.type.isTextblock||b.textContent.length||!S||S&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qA()||Hz()?i:s},addProseMirrorPlugins(){return[new ht({key:new St("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),s=e.some(x=>x.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=t.selection,l=ot.atStart(t.doc).from,u=ot.atEnd(t.doc).to;if(i||!(o===l&&a===u)||!lw(n.doc))return;const g=n.tr,b=rw({state:n,transaction:g}),{commands:v}=new sw({editor:this.editor,state:b});if(v.clearNodes(),!!g.steps.length)return g}})]}}),Yz=nn.create({name:"paste",addProseMirrorPlugins(){return[new ht({key:new St("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Wz=nn.create({name:"tabindex",addProseMirrorPlugins(){return[new ht({key:new St("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Pbe=class qf{constructor(t,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new qf(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new qf(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new qf(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new qf(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),t.push(new qf(a,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===t)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===t&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(t,n,r))))}),s}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},Bbe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Hbe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var Fbe=class extends a0e{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Oz(t,this.options.autofocus);this.editorState=Wf.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Hbe(Bbe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Cz(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(i))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[$z,Pz.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Fz,qz,Gz,Wz,zz,Yz,Uz].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new cw(r,this)}createCommandManager(){this.commandManager=new sw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Qy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Qy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new ZU(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),s=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),a=o?.getMeta("focus"),l=o?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return Az(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return v0e(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return PA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return p0e(this.state.doc,{blockSeparator:t,textSerializers:{..._z(this.schema),...n}})}get isEmpty(){return lw(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Pbe(t,this)}get $doc(){return this.$pos(0)}};function Eh(e){return new Iz({find:e.find,handler:({state:t,range:n,match:r})=>{const s=gn(e.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=t,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),u=n.from+a.indexOf(o),f=u+o.length;if(zA(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(x=>x===e.type&&x!==b.mark.type)).filter(b=>b.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+l,u);const g=n.from+l+o.length;i.addMark(n.from+l,g,e.type.create(s||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function Ube(e,t,n={}){const{state:r}=t,{doc:s,tr:i}=r,o=e;s.descendants((a,l)=>{const u=i.mapping.map(l),f=i.mapping.map(l)+a.nodeSize;let h=null;if(a.marks.forEach(b=>{if(b!==o)return!1;h=b}),!h)return;let g=!1;if(Object.keys(n).forEach(b=>{n[b]!==h.attrs[b]&&(g=!0)}),g){const b=e.type.create({...e.attrs,...n});i.removeMark(u,f,e.type),i.addMark(u,f,b)}}),i.docChanged&&t.view.dispatch(i)}var Ji=class Kz extends VA{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Kz(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function rd(e){return new S0e({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:s})=>{const i=gn(e.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let u=n.to;if(a){const f=l.search(/\S/),h=n.from+l.indexOf(a),g=h+a.length;if(zA(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>h).length)return null;g<n.to&&o.delete(g,n.to),h>n.from&&o.delete(n.from+f,h),u=n.from+f+a.length,o.addMark(n.from+f,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}var e5=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},zbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$be=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Vbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Gbe=wi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return e5("strong",{...gi(this.options.HTMLAttributes,e),children:e5("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Eh({find:zbe,type:this.type}),Eh({find:Vbe,type:this.type})]},addPasteRules(){return[rd({find:$be,type:this.type}),rd({find:qbe,type:this.type})]}}),Ybe=Gbe,Wbe=/(^|[^`])`([^`]+)`(?!`)$/,Kbe=/(^|[^`])`([^`]+)`(?!`)/g,Qbe=wi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",gi(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Eh({find:Wbe,type:this.type})]},addPasteRules(){return[rd({find:Kbe,type:this.type})]}}),Xbe=Qbe,Zbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Jbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,e1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,t1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,n1e=wi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",gi(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Eh({find:Zbe,type:this.type}),Eh({find:e1e,type:this.type})]},addPasteRules(){return[rd({find:Jbe,type:this.type}),rd({find:t1e,type:this.type})]}}),r1e=n1e,s1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,i1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,o1e=wi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",gi(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Eh({find:s1e,type:this.type})]},addPasteRules(){return[rd({find:i1e,type:this.type})]}}),a1e=o1e,l1e=wi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",gi(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),c1e=l1e,x1,u1e=new Uint8Array(16);function d1e(){if(!x1&&(x1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x1(u1e)}const f1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function h1e(e){return typeof e=="string"&&f1e.test(e)}var jr=[];for(var g2=0;g2<256;++g2)jr.push((g2+256).toString(16).substr(1));function p1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(jr[e[t+0]]+jr[e[t+1]]+jr[e[t+2]]+jr[e[t+3]]+"-"+jr[e[t+4]]+jr[e[t+5]]+"-"+jr[e[t+6]]+jr[e[t+7]]+"-"+jr[e[t+8]]+jr[e[t+9]]+"-"+jr[e[t+10]]+jr[e[t+11]]+jr[e[t+12]]+jr[e[t+13]]+jr[e[t+14]]+jr[e[t+15]]).toLowerCase();if(!h1e(n))throw TypeError("Stringified UUID is invalid");return n}function Qz(e,t,n){e=e||{};var r=e.random||(e.rng||d1e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,p1e(r)}var m1e=class Xz{constructor(t){this.cache=new Map(t)}get(t){return this.cache.get(t)}set(t,n,r){t<0||this.cache.set(t,[n,r])}replace(t,n,r,s){this.remove(t),this.set(n,r,s)}remove(t){this.cache.delete(t)}invalidate(t){const n=new Xz(this.cache),r=t.mapping;return this.cache.forEach(([s,i],o)=>{if(o<0)return;const a=r.mapResult(o),l=t.doc.nodeAt(a.pos);if(a.deleted||!l?.eq(s))n.remove(o);else if(o!==a.pos){const u=i.map(f=>f.map(r,0,0)).filter(f=>f!=null);n.replace(o,a.pos,l,u)}}),n}};function g1e({parser:e,nodeTypes:t=["code_block","codeBlock"],languageExtractor:n=r=>r.attrs.language}){const r=new St("prosemirror-highlight");return new ht({key:r,state:{init(s,i){const o=new m1e,[a,l]=t5(i.doc,e,t,n,o);return{cache:o,decorations:a,promises:l}},apply:(s,i)=>{const o=i.cache.invalidate(s),a=!!s.getMeta("prosemirror-highlight-refresh");if(!s.docChanged&&!a){const f=i.decorations.map(s.mapping,s.doc),h=i.promises;return{cache:o,decorations:f,promises:h}}const[l,u]=t5(s.doc,e,t,n,o);return{cache:o,decorations:l,promises:u}}},view:s=>{const i=new Set,o=()=>{if(i.size>0)return;const l=s.state.tr.setMeta("prosemirror-highlight-refresh",!0);s.dispatch(l)},a=()=>{var l;const u=r.getState(s.state);for(const f of(l=u?.promises)!=null?l:[])i.add(f),f.then(()=>{i.delete(f),o()}).catch(()=>{i.delete(f)})};return a(),{update:()=>{a()}}},props:{decorations(s){var i;return(i=this.getState(s))==null?void 0:i.decorations}}})}function t5(e,t,n,r,s){const i=[],o=[];return e.descendants((a,l)=>{if(!a.type.isTextblock)return!0;if(n.includes(a.type.name)){const u=r(a),f=s.get(l);if(f){const[h,g]=f;i.push(...g)}else{const h=t({content:a.textContent,language:u||void 0,pos:l,size:a.nodeSize});h&&Array.isArray(h)?(s.set(l,a,h),i.push(...h)):h instanceof Promise&&(s.remove(l),o.push(h))}}return!1}),[bt.create(e,i),o]}function b1e(e,t){return function({content:r,language:s,pos:i,size:o}){var a;const l=[],{tokens:u,fg:f,bg:h,rootStyle:g}=e.codeToTokens(r,{lang:s,theme:e.getLoadedThemes()[0]}),b=g||(f&&h?`--prosemirror-highlight:${f};--prosemirror-highlight-bg:${h}`:"");if(b){const x=Xt.node(i,i+o,{style:b});l.push(x)}let v=i+1;for(const x of u){for(const w of x){const S=v+w.content.length,_=Xt.inline(v,S,{style:y1e((a=w.htmlStyle)!=null?a:`color: ${w.color}`),class:"shiki"});l.push(_),v=S}v+=1}return l}}function y1e(e){return typeof e=="string"?e:Object.entries(e).map(([t,n])=>`${t}:${n}`).join(";")}var v1e=Object.defineProperty,x1e=(e,t,n)=>t in e?v1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rs=(e,t,n)=>x1e(e,typeof t!="symbol"?t+"":t,n);function w1e(e,t=JSON.stringify){const n={};return e.filter(r=>{const s=t(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function E1e(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return w1e(t)}const uw=nn.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const e=window.__TEST_OPTIONS;return e.mockID===void 0?e.mockID=0:e.mockID++,e.mockID.toString()}return Qz()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>e.getAttribute(`data-${this.options.attributeName}`),renderHTML:e=>{const t={[`data-${this.options.attributeName}`]:e[this.options.attributeName]};return this.options.setIdAttribute?{...t,id:e[this.options.attributeName]}:t}}}}]},addProseMirrorPlugins(){let e=null,t=!1;return[new ht({key:new St("uniqueID"),appendTransaction:(n,r,s)=>{const i=n.some(b=>b.docChanged)&&!r.doc.eq(s.doc),o=this.options.filterTransaction&&n.some(b=>{var v,x;return!((x=(v=this.options).filterTransaction)!=null&&x.call(v,b))});if(!i||o)return;const{tr:a}=s,{types:l,attributeName:u,generateID:f}=this.options,h=iw(r.doc,n),{mapping:g}=h;if(FA(h).forEach(({newRange:b})=>{const v=Ez(s.doc,b,S=>l.includes(S.type.name)),x=v.map(({node:S})=>S.attrs[u]).filter(S=>S!==null),w=E1e(x);v.forEach(({node:S,pos:_})=>{var N;const M=(N=a.doc.nodeAt(_))==null?void 0:N.attrs[u];if(M===null){const R=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(R)===null){const I=JSON.parse(JSON.stringify(s.doc.toJSON()));if(I.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(I.content)===JSON.stringify(R.toJSON())){a.setNodeMarkup(_,void 0,{...S.attrs,[u]:"initialBlockId"});return}}a.setNodeMarkup(_,void 0,{...S.attrs,[u]:f()});return}const{deleted:O}=g.invert().mapResult(_);O&&w.includes(M)&&a.setNodeMarkup(_,void 0,{...S.attrs,[u]:f()})})}),!!a.steps.length)return a.setMeta("uniqueID",!0),a},view(n){const r=s=>{let i;e=!((i=n.dom.parentElement)===null||i===void 0)&&i.contains(s.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let s;return e!==n.dom.parentElement||((s=r.dataTransfer)===null||s===void 0?void 0:s.effectAllowed)==="copy"?t=!0:t=!1,e=null,!1},paste:()=>(t=!0,!1)},transformPasted:n=>{if(!t)return n;const{types:r,attributeName:s}=this.options,i=o=>{const a=[];return o.forEach(l=>{if(l.isText){a.push(l);return}if(!r.includes(l.type.name)){a.push(l.copy(i(l.content)));return}const u=l.type.create({...l.attrs,[s]:null},i(l.content),l.marks);a.push(u)}),ve.from(a)};return t=!1,new Le(i(n.content),n.openStart,n.openEnd)}}})]}});function n5(e){return e.type==="link"}function Zz(e){return typeof e!="string"&&e.type==="link"}function sd(e){return typeof e!="string"&&e.type==="text"}function Oc(e){var t,n,r,s,i;return Rc(e)?{...e}:_g(e)?{type:"tableCell",content:[].concat(e.content),props:{backgroundColor:((t=e.props)==null?void 0:t.backgroundColor)??"default",textColor:((n=e.props)==null?void 0:n.textColor)??"default",textAlignment:((r=e.props)==null?void 0:r.textAlignment)??"left",colspan:((s=e.props)==null?void 0:s.colspan)??1,rowspan:((i=e.props)==null?void 0:i.rowspan)??1}}:{type:"tableCell",content:[].concat(e),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function _g(e){return e!=null&&typeof e!="string"&&!Array.isArray(e)&&e.type==="tableCell"}function Rc(e){return _g(e)&&e.props!==void 0&&e.content!==void 0}function id(e){return Rc(e)?e.props.colspan??1:1}function Ng(e){return Rc(e)?e.props.rowspan??1:1}class pa extends Error{constructor(t){super(`Unreachable case: ${t}`)}}function Tt(e,t=!0){const{"data-test":n,...r}=e;if(Object.keys(r).length>0&&t)throw new Error("Object must be empty "+JSON.stringify(e))}const C1e=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function oi(e,t="Ctrl"){return C1e()?e.replace("Mod","⌘"):e.replace("Mod",t)}function $n(...e){return[...new Set(e.filter(t=>t).join(" ").split(" "))].join(" ")}const Pk=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function S1e(e,t,n,r){const s=document.createElement("div");s.className=$n("bn-block-content",n.class),s.setAttribute("data-content-type",e);for(const[o,a]of Object.entries(n))o!=="class"&&s.setAttribute(o,a);const i=document.createElement(t);i.className=$n("bn-inline-content",r.class);for(const[o,a]of Object.entries(r))o!=="class"&&i.setAttribute(o,a);return s.appendChild(i),{dom:s,contentDOM:i}}const r5=(e,t)=>{let n=vd(e,t.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=t.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const s=r(n);if(typeof s!="object"||!("dom"in s))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return s};function T1e(e,t="<br>"){const n=e.querySelectorAll("p");if(n.length>1){const r=n[0];for(let s=1;s<n.length;s++){const i=n[s];r.innerHTML+=t+i.innerHTML,i.remove()}}}function Bk(e){return"data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s5(e){const t=e.split("/");return!t.length||t[t.length-1]===""?e:t[t.length-1]}function k1e(e){const t={};return Object.entries(e).forEach(([n,r])=>{t[n]={default:r.default,keepOnSplit:!0,parseHTML:s=>{const i=s.getAttribute(Bk(n));if(i===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return i==="true"?!0:i==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const o=parseFloat(i);return!Number.isNaN(o)&&Number.isFinite(o)?o:null}return i},renderHTML:s=>s[n]!==r.default?{[Bk(n)]:s[n]}:{}}}),t}function _1e(e,t,n,r){const s=e();if(s===void 0)throw new Error("Cannot find node position");const i=n.state.doc.resolve(s).node().attrs.id;if(!i)throw new Error("Block doesn't have id");const o=t.getBlock(i);if(o.type!==r)throw new Error("Block type does not match");return o}function Hk(e,t,n,r,s=!1,i){const o=document.createElement("div");if(i!==void 0)for(const[a,l]of Object.entries(i))a!=="class"&&o.setAttribute(a,l);o.className=$n("bn-block-content",i?.class||""),o.setAttribute("data-content-type",t);for(const[a,l]of Object.entries(n)){const u=r[a].default;l!==u&&o.setAttribute(Bk(a),l)}return s&&o.setAttribute("data-file-block",""),o.appendChild(e.dom),e.contentDOM&&(e.contentDOM.className=$n("bn-inline-content",e.contentDOM.className)),{...e,dom:o}}function N1e(e,t,n){return{config:{type:e.type,content:e.content,propSchema:t},implementation:{node:e.node,render:r5,toExternalHTML:r5},extensions:n}}function A1e(e,t){e.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{t.view.dom.blur()},10),!0)}function M1e(e,t){const n=[{tag:"[data-content-type="+e.type+"]",contentElement:".bn-inline-content"}];return t.parse&&n.push({tag:"*",getAttrs(r){var s;if(typeof r=="string")return!1;const i=(s=t.parse)==null?void 0:s.call(t,r);return i===void 0?!1:i},getContent:e.content==="inline"||e.content==="none"?(r,s)=>{var i;if(t.parseContent)return t.parseContent({el:r,schema:s});if(e.content==="inline"){const o=r.cloneNode(!0);return T1e(o,(i=t.meta)!=null&&i.code?`
`:"<br>"),yo.fromSchema(s).parse(o,{topNode:s.nodes.paragraph.create()}).content}return ve.empty}:void 0}),n}function O1e(e,t,n,r){var s,i,o,a;const l=t.node||Ji.create({name:e.type,content:e.content==="inline"?"inline*":e.content==="none"?"":e.content,group:"blockContent",selectable:((s=t.meta)==null?void 0:s.selectable)??!0,isolating:((i=t.meta)==null?void 0:i.isolating)??!0,code:((o=t.meta)==null?void 0:o.code)??!1,defining:((a=t.meta)==null?void 0:a.defining)??!0,priority:r,addAttributes(){return k1e(e.propSchema)},parseHTML(){return M1e(e,t)},renderHTML({HTMLAttributes:u}){var f;const h=document.createElement("div");return Hk({dom:h,contentDOM:e.content==="inline"?h:void 0},e.type,{},e.propSchema,((f=t.meta)==null?void 0:f.fileBlockAccept)!==void 0,u)},addNodeView(){return u=>{var f,h;const g=this.options.editor,b=_1e(u.getPos,g,this.editor,e.type),v=((f=this.options.domAttributes)==null?void 0:f.blockContent)||{},x=t.render.call({blockContentDOMAttributes:v,props:u,renderType:"nodeView"},b,g);return((h=t.meta)==null?void 0:h.selectable)===!1&&A1e(x,this.editor),x}}});if(l.name!==e.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return{config:e,implementation:{node:l,render(u,f){var h;const g=((h=l.options.domAttributes)==null?void 0:h.blockContent)||{};return t.render.call({blockContentDOMAttributes:g,props:void 0,renderType:"dom"},u,f)},toExternalHTML:(u,f)=>{var h,g;const b=((h=l.options.domAttributes)==null?void 0:h.blockContent)||{};return((g=t.toExternalHTML)==null?void 0:g.call({blockContentDOMAttributes:b},u,f))??t.render.call({blockContentDOMAttributes:b,renderType:"dom",props:void 0},u,f)}},extensions:n}}function eo(e,t,n){return(r={})=>{const s=typeof e=="function"?e(r):e,i=typeof t=="function"?t(r):t,o=n?typeof n=="function"?n(r):n:void 0;return{config:s,implementation:{...i,toExternalHTML(a,l){var u,f;const h=(u=i.toExternalHTML)==null?void 0:u.call({blockContentDOMAttributes:this.blockContentDOMAttributes},a,l);if(h!==void 0)return Hk(h,a.type,a.props,s.propSchema,((f=i.meta)==null?void 0:f.fileBlockAccept)!==void 0)},render(a,l){var u;const f=i.render.call({blockContentDOMAttributes:this.blockContentDOMAttributes,renderType:this.renderType,props:this.props},a,l);return Hk(f,a.type,a.props,s.propSchema,((u=i.meta)==null?void 0:u.fileBlockAccept)!==void 0,this.blockContentDOMAttributes)}},extensions:o}}}function Ic(e,t){const n=e.resolve(t);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,s=n.node(r);for(;r>0;){if(s.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:s};r--,s=n.node(r)}const i=[];e.descendants((a,l)=>{a.type.isInGroup("bnBlock")&&i.push(l)}),console.warn(`Position ${t} is not within a blockContainer node.`);const o=e.resolve(i.find(a=>a>=t)||i[i.length-1]);return{posBeforeNode:o.pos,node:o.nodeAfter}}function GA(e,t){if(!e.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${e.type.name}`);const n=e,r=t,s=r+n.nodeSize,i={node:n,beforePos:r,afterPos:s};if(n.type.name==="blockContainer"){let o,a;if(n.forEach((l,u)=>{if(l.type.spec.group==="blockContent"){const f=l,h=r+u+1,g=h+l.nodeSize;o={node:f,beforePos:h,afterPos:g}}else if(l.type.name==="blockGroup"){const f=l,h=r+u+1,g=h+l.nodeSize;a={node:f,beforePos:h,afterPos:g}}}),!o)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:i,blockContent:o,childContainer:a,blockNoteType:o.node.type.name}}else{if(!i.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${i.node}`);return{isBlockContainer:!1,bnBlock:i,childContainer:i,blockNoteType:i.node.type.name}}}function Dc(e){return GA(e.node,e.posBeforeNode)}function g0(e){if(!e.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${e.pos} but a node at this position does not exist`);return GA(e.nodeAfter,e.pos)}function Li(e){const t=Ic(e.doc,e.selection.anchor);return Dc(t)}function b0(e){const t=Ic(e.doc,e.selection.anchor);return Dc(t)}function br(e){return"doc"in e?e.doc.type.schema:e.type.schema}function Jz(e){return e.cached.blockNoteEditor}function y0(e){return Jz(e).schema}function YA(e){return y0(e).blockSchema}function WA(e){return y0(e).inlineContentSchema}function Yh(e){return y0(e).styleSchema}function KA(e){return Jz(e).blockCache}function e$(e,t,n){var r,s;const i={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},o=[];e.content.forEach((a,l,u)=>{const f={cells:[]};u===0&&a.content.forEach(h=>{let g=h.attrs.colwidth;g==null&&(g=new Array(h.attrs.colspan??1).fill(void 0)),i.columnWidths.push(...g)}),f.cells=a.content.content.map((h,g)=>(o[u]||(o[u]=[]),o[u][g]=h.type.name==="tableHeader",{type:"tableCell",content:h.content.content.map(b=>dw(b,t,n)).reduce((b,v)=>{if(!b.length)return v;const x=b[b.length-1],w=v[0];return w&&sd(x)&&sd(w)&&JSON.stringify(x.styles)===JSON.stringify(w.styles)?(x.text+=`
`+w.text,b.push(...v.slice(1)),b):(b.push(...v),b)},[]),props:{colspan:h.attrs.colspan,rowspan:h.attrs.rowspan,backgroundColor:h.attrs.backgroundColor,textColor:h.attrs.textColor,textAlignment:h.attrs.textAlignment}})),i.rows.push(f)});for(let a=0;a<o.length;a++)(r=o[a])!=null&&r.every(l=>l)&&(i.headerRows=(i.headerRows??0)+1);for(let a=0;a<((s=o[0])==null?void 0:s.length);a++)o!=null&&o.every(l=>l[a])&&(i.headerCols=(i.headerCols??0)+1);return i}function dw(e,t,n){const r=[];let s;return e.content.forEach(i=>{if(i.type.name==="hardBreak"){if(s)if(sd(s))s.text+=`
`;else if(n5(s))s.content[s.content.length-1].text+=`
`;else throw new Error("unexpected");else s={type:"text",text:`
`,styles:{}};return}if(i.type.name!=="link"&&i.type.name!=="text"){if(!t[i.type.name]){console.warn("unrecognized inline content type",i.type.name);return}s&&(r.push(s),s=void 0),r.push(QA(i,t,n));return}const o={};let a;for(const l of i.marks)if(l.type.name==="link")a=l;else{const u=n[l.type.name];if(!u){if(l.type.spec.blocknoteIgnore)continue;throw new Error(`style ${l.type.name} not found in styleSchema`)}if(u.propSchema==="boolean")o[u.type]=!0;else if(u.propSchema==="string")o[u.type]=l.attrs.stringValue;else throw new pa(u.propSchema)}s?sd(s)?a?(r.push(s),s={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:o}]}):JSON.stringify(s.styles)===JSON.stringify(o)?s.text+=i.textContent:(r.push(s),s={type:"text",text:i.textContent,styles:o}):n5(s)&&(a?s.href===a.attrs.href?JSON.stringify(s.content[s.content.length-1].styles)===JSON.stringify(o)?s.content[s.content.length-1].text+=i.textContent:s.content.push({type:"text",text:i.textContent,styles:o}):(r.push(s),s={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:o}]}):(r.push(s),s={type:"text",text:i.textContent,styles:o})):a?s={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:o}]}:s={type:"text",text:i.textContent,styles:o}}),s&&r.push(s),r}function QA(e,t,n){if(e.type.name==="text"||e.type.name==="link")throw new Error("unexpected");const r={},s=t[e.type.name];for(const[o,a]of Object.entries(e.attrs)){if(!s)throw Error("ic node is of an unrecognized type: "+e.type.name);const l=s.propSchema;o in l&&(r[o]=a)}let i;return s.content==="styled"?i=dw(e,t,n):i=void 0,{type:e.type.name,props:r,content:i}}function Bn(e,t,n=YA(t),r=WA(t),s=Yh(t),i=KA(t)){var o;if(!e.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+e.type.name);const a=i?.get(e);if(a)return a;const l=GA(e,0);let u=l.bnBlock.node.attrs.id;u===null&&(u=uw.options.generateID());const f=n[l.blockNoteType];if(!f)throw Error("Block is of an unrecognized type: "+l.blockNoteType);const h={};for(const[w,S]of Object.entries({...e.attrs,...l.isBlockContainer?l.blockContent.node.attrs:{}})){const _=f.propSchema;w in _&&!(_[w].default===void 0&&S===void 0)&&(h[w]=S)}const g=n[l.blockNoteType],b=[];(o=l.childContainer)==null||o.node.forEach(w=>{b.push(Bn(w,t,n,r,s,i))});let v;if(g.content==="inline"){if(!l.isBlockContainer)throw new Error("impossible");v=dw(l.blockContent.node,r,s)}else if(g.content==="table"){if(!l.isBlockContainer)throw new Error("impossible");v=e$(l.blockContent.node,r,s)}else if(g.content==="none")v=void 0;else throw new pa(g.content);const x={id:u,type:g.type,props:h,content:v,children:b};return i?.set(e,x),x}function R1e(e,t,n=YA(t),r=WA(t),s=Yh(t),i=KA(t)){const o=[];return e.firstChild.descendants(a=>(o.push(Bn(a,t,n,r,s,i)),!1)),o}function I1e(e,t,n=YA(t),r=WA(t),s=Yh(t),i=KA(t)){function o(a,l,u){if(a.type.name!=="blockGroup")throw new Error("unexpected");const f=[];let h,g;return a.forEach((b,v,x)=>{if(b.type.name!=="blockContainer")throw new Error("unexpected");if(b.childCount===0)return;if(b.childCount===0||b.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+b.childCount);const w=x===0,S=x===a.childCount-1;if(b.firstChild.type.name==="blockGroup"){if(!w)throw new Error("unexpected");const O=o(b.firstChild,Math.max(0,l-1),S?Math.max(0,u-1):0);h=O.blockCutAtStart,S&&(g=O.blockCutAtEnd),f.push(...O.blocks);return}const _=Bn(b,t,n,r,s,i),N=b.childCount>1?b.child(1):void 0;let M=[];if(N){const O=o(N,0,S?Math.max(0,u-1):0);M=O.blocks,S&&(g=O.blockCutAtEnd)}S&&!N&&u>1&&(g=_.id),w&&l>1&&(h=_.id),f.push({..._,children:M})}),{blocks:f,blockCutAtStart:h,blockCutAtEnd:g}}if(e.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(e.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return o(e.content.firstChild,Math.max(e.openStart-1,0),Math.max(e.openEnd-1,0))}function t$(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function D1e(e){return e==="boolean"?{}:{stringValue:{default:void 0,keepOnSplit:!0,parseHTML:t=>t.getAttribute("data-value"),renderHTML:t=>t.stringValue!==void 0?{"data-value":t.stringValue}:{}}}}function w1(e,t,n,r){return e.dom.setAttribute("data-style-type",t),r==="string"&&e.dom.setAttribute("data-value",n),e.contentDOM&&e.contentDOM.setAttribute("data-editable",""),e}function n$(e,t){return{config:e,implementation:t}}function om(e,t){return n$({type:e.name,propSchema:t},{mark:e,render(n,r){const s=r.pmSchema.marks[e.name].spec.toDOM;if(s===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r.pmSchema.mark(e.name,{stringValue:n}),o=mi.renderSpec(document,s(i,!0));if(typeof o!="object"||!("dom"in o))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return o},toExternalHTML(n,r){const s=r.pmSchema.marks[e.name].spec.toDOM;if(s===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r.pmSchema.mark(e.name,{stringValue:n}),o=mi.renderSpec(document,s(i,!0));if(typeof o!="object"||!("dom"in o))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return o}})}function r$(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function L1e(e,t){const n=[{tag:`[data-style-type="${e.type}"]`,contentElement:r=>{const s=r;return s.matches("[data-editable]")?s:s.querySelector("[data-editable]")||s}}];return t&&n.push({tag:"*",getAttrs(r){if(typeof r=="string")return!1;const s=t?.(r);return s===void 0?!1:{stringValue:s}}}),n}function s$(e,t){const n=wi.create({name:e.type,addAttributes(){return D1e(e.propSchema)},parseHTML(){return L1e(e,t.parse)},renderHTML({mark:r}){const s=(t.toExternalHTML||t.render)(r.attrs.stringValue);return w1(s,e.type,r.attrs.stringValue,e.propSchema)},addMarkView(){return({mark:r})=>{const s=t.render(r.attrs.stringValue);return w1(s,e.type,r.attrs.stringValue,e.propSchema)}}});return n$(e,{mark:n,render:r=>{const s=t.render(r);return w1(s,e.type,r,e.propSchema)},toExternalHTML:r=>{const s=(t.toExternalHTML||t.render)(r);return w1(s,e.type,r,e.propSchema)}})}function j1e(e){const t=B1e(e);let{roots:n,nonRoots:r}=i5(t);const s=[];for(;n.size;){s.push(n);const i=new Set;for(const o of n){const a=e.get(o);if(a)for(const l of a){const u=t.get(l);if(u===void 0)continue;const f=u-1;t.set(l,f),f===0&&i.add(l)}}n=i}if(r=i5(t).nonRoots,r.size)throw new Error(`Cycle(s) detected; toposort only works on acyclic graphs. Cyclic nodes: ${Array.from(r).join(", ")}`);return s}function P1e(e){const t=H1e(e);return j1e(t)}function B1e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,0);for(const s of r){const i=t.get(s)??0;t.set(s,i+1)}}return t}function i5(e){const t=new Set,n=new Set;for(const[r,s]of e.entries())s===0?t.add(r):n.add(r);return{roots:t,nonRoots:n}}function H1e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,new Set);for(const s of r)t.has(s)||t.set(s,new Set),t.get(s).add(n)}return t}function F1e(){return new Map}function o5(e){return e&&Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}let U1e=class{constructor(t){Rs(this,"BlockNoteEditor","only for types"),Rs(this,"Block","only for types"),Rs(this,"PartialBlock","only for types"),Rs(this,"inlineContentSpecs"),Rs(this,"styleSpecs"),Rs(this,"blockSpecs"),Rs(this,"blockSchema"),Rs(this,"inlineContentSchema"),Rs(this,"styleSchema"),this.opts=t;const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:s,blockSchema:i,inlineContentSchema:o,styleSchema:a}=this.init();this.blockSpecs=n,this.styleSpecs=s,this.styleSchema=a,this.inlineContentSpecs=r,this.blockSchema=i,this.inlineContentSchema=o}init(){const t=F1e(),n=new Set;t.set("default",n);for(const[a,l]of Object.entries(this.opts.blockSpecs))l.implementation.runsBefore?t.set(a,new Set(l.implementation.runsBefore)):n.add(a);const r=P1e(t),s=r.findIndex(a=>a.has("default")),i=a=>91+(r.findIndex(l=>l.has(a))+s)*10,o=Object.fromEntries(Object.entries(this.opts.blockSpecs).map(([a,l])=>[a,O1e(l.config,l.implementation,l.extensions,i(a))]));return{blockSpecs:o,blockSchema:Object.fromEntries(Object.entries(o).map(([a,l])=>[a,l.config])),inlineContentSpecs:o5(this.opts.inlineContentSpecs),styleSpecs:o5(this.opts.styleSpecs),inlineContentSchema:t$(this.opts.inlineContentSpecs),styleSchema:r$(this.opts.styleSpecs)}}extend(t){Object.assign(this.opts.blockSpecs,t.blockSpecs),Object.assign(this.opts.inlineContentSpecs,t.inlineContentSpecs),Object.assign(this.opts.styleSpecs,t.styleSpecs);const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:s,blockSchema:i,inlineContentSchema:o,styleSchema:a}=this.init();return this.blockSpecs=n,this.styleSpecs=s,this.styleSchema=a,this.inlineContentSpecs=r,this.blockSchema=i,this.inlineContentSchema=o,this}};function Wc(e){const{height:t,width:n}=XA(e),r=new Array(t).fill(!1).map(()=>new Array(n).fill(null)),s=(i,o)=>{for(let a=i;a<t;a++)for(let l=o;l<n;l++)if(!r[a][l])return{row:a,col:l};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let i=0;i<e.content.rows.length;i++)for(let o=0;o<e.content.rows[i].cells.length;o++){const a=Oc(e.content.rows[i].cells[o]),l=Ng(a),u=id(a),{row:f,col:h}=s(i,o);for(let g=f;g<f+l;g++)for(let b=h;b<h+u;b++){if(r[g][b])throw new Error(`Unable to create occupancy grid for table, cell at ${g},${b} is already occupied`);r[g][b]={row:i,col:o,rowspan:l,colspan:u,cell:a}}}return r}function Ag(e){const t=new Set;return e.map(n=>({cells:n.map(r=>t.has(r.row+":"+r.col)?!1:(t.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function od(e,t,n=Wc(t)){for(let r=0;r<n.length;r++)for(let s=0;s<n[r].length;s++){const i=n[r][s];if(i.row===e.row&&i.col===e.col)return{row:r,col:s,cell:i.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${e.row},${e.col} is not occupied`)}function XA(e){const t=e.content.rows.length;let n=0;return e.content.rows.forEach(r=>{let s=0;r.cells.forEach(i=>{s+=id(i)}),n=Math.max(n,s)}),{height:t,width:n}}function i$(e,t,n=Wc(t)){var r;const s=(r=n[e.row])==null?void 0:r[e.col];if(s)return{row:s.row,col:s.col,cell:s.cell}}function Fk(e,t){var n;const r=Wc(e);if(t<0||t>=r.length)return[];let s=0;for(let o=0;o<t;o++){const a=(n=r[s])==null?void 0:n[0];if(!a)return[];s+=a.rowspan}const i=new Array(r[0].length).fill(!1).map((o,a)=>i$({row:s,col:a},e,r)).filter(o=>o!==void 0);return i.filter((o,a)=>i.findIndex(l=>l.row===o.row&&l.col===o.col)===a)}function Uk(e,t){var n;const r=Wc(e);if(t<0||t>=r[0].length)return[];let s=0;for(let o=0;o<t;o++){const a=(n=r[0])==null?void 0:n[s];if(!a)return[];s+=a.colspan}const i=new Array(r.length).fill(!1).map((o,a)=>i$({row:a,col:s},e,r)).filter(o=>o!==void 0);return i.filter((o,a)=>i.findIndex(l=>l.row===o.row&&l.col===o.col)===a)}function z1e(e,t,n,r=Wc(e)){const{col:s}=od({row:0,col:t},e,r),{col:i}=od({row:0,col:n},e,r);return r.forEach(o=>{const[a]=o.splice(s,1);o.splice(i,0,a)}),Ag(r)}function $1e(e,t,n,r=Wc(e)){const{row:s}=od({row:t,col:0},e,r),{row:i}=od({row:n,col:0},e,r),[o]=r.splice(s,1);return r.splice(i,0,o),Ag(r)}function zk(e){return e?_g(e)?zk(e.content):typeof e=="string"?e.length===0:Array.isArray(e)?e.every(t=>typeof t=="string"?t.length===0:sd(t)?t.text.length===0:Zz(t)?typeof t.content=="string"?t.content.length===0:t.content.every(n=>n.text.length===0):!1):!1:!0}function V1e(e,t,n=Wc(e)){if(t==="columns"){let i=0;for(let o=n[0].length-1;o>=0&&n.every(a=>zk(a[o].cell)&&a[o].colspan===1);o--)i++;for(let o=n.length-1;o>=0;o--){const a=Math.max(n[o].length-i,1);n[o]=n[o].slice(0,a)}return Ag(n)}let r=0;for(let i=n.length-1;i>=0&&n[i].every(o=>zk(o.cell)&&o.rowspan===1);i--)r++;const s=Math.min(r,n.length-1);return n.splice(n.length-s,s),Ag(n)}function q1e(e,t,n,r=Wc(e)){const{width:s,height:i}=XA(e);if(t==="columns")r.forEach((o,a)=>{if(n>=0)for(let l=0;l<n;l++)o.push({row:a,col:Math.max(...o.map(u=>u.col))+1,rowspan:1,colspan:1,cell:Oc("")});else o.splice(s+n,-1*n)});else if(n>0)for(let o=0;o<n;o++){const a=new Array(s).fill(null).map((l,u)=>({row:i+o,col:u,rowspan:1,colspan:1,cell:Oc("")}));r.push(a)}else n<0&&r.splice(i+n,-1*n);return Ag(r)}function o$(e,t,n){const r=Fk(e,n);if(!r.some(o=>Ng(o.cell)>1))return!0;let s=n,i=n;return r.forEach(o=>{const a=Ng(o.cell);s=Math.max(s,o.row+a-1),i=Math.min(i,o.row)}),t<n?n===s:n===i}function a$(e,t,n){const r=Uk(e,n);if(!r.some(o=>id(o.cell)>1))return!0;let s=n,i=n;return r.forEach(o=>{const a=id(o.cell);s=Math.max(s,o.col+a-1),i=Math.min(i,o.col)}),t<n?n===s:n===i}function G1e(e,t,n){const r=od(e,n),s=od(t,n);return r.col===s.col}function a5(e,t,n,r){const s=[];for(const[i,o]of Object.entries(e.styles||{})){const a=n[i];if(!a)throw new Error(`style ${i} not found in styleSchema`);if(a.propSchema==="boolean")o&&s.push(t.mark(i));else if(a.propSchema==="string")o&&s.push(t.mark(i,{stringValue:o}));else throw new pa(a.propSchema)}return!r||!t.nodes[r].spec.code?e.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?t.nodes.hardBreak.createChecked():t.text(i,s)):e.text.length>0?[t.text(e.text,s)]:[]}function Y1e(e,t,n){const r=t.marks.link.create({href:e.href});return $k(e.content,t,n).map(s=>{if(s.type.name==="text")return s.mark([...s.marks,r]);if(s.type.name==="hardBreak")return s;throw new Error("unexpected node type")})}function $k(e,t,n,r){const s=[];if(typeof e=="string")return s.push(...a5({text:e,styles:{}},t,n,r)),s;for(const i of e)s.push(...a5(i,t,n,r));return s}function ko(e,t,n,r=Yh(t)){const s=[];for(const i of e)typeof i=="string"?s.push(...$k(i,t,r,n)):Zz(i)?s.push(...Y1e(i,t,r)):sd(i)?s.push(...$k([i],t,r,n)):s.push(l$(i,t,r));return s}function fw(e,t,n=Yh(t)){const r=[],s=new Array(e.headerRows??0).fill(!0),i=new Array(e.headerCols??0).fill(!0),o=e.columnWidths??[];for(let a=0;a<e.rows.length;a++){const l=e.rows[a],u=[],f=s[a];for(let g=0;g<l.cells.length;g++){const b=l.cells[g],v=i[g],x=void 0;let w=null;const S=od({row:a,col:g},{content:e});let _=o[S.col]?[o[S.col]]:null;if(b)if(typeof b=="string")w=t.text(b);else if(_g(b)){b.content&&(w=ko(b.content,t,"tableParagraph",n));const M=id(b);M>1&&(_=new Array(M).fill(!1).map((O,R)=>o[S.col+R]??void 0))}else w=ko(b,t,"tableParagraph",n);const N=t.nodes[v||f?"tableHeader":"tableCell"].createChecked({..._g(b)?b.props:{},colwidth:_},t.nodes.tableParagraph.createChecked(x,w));u.push(N)}const h=t.nodes.tableRow.createChecked({},u);r.push(h)}return r}function l$(e,t,n){let r,s=e.type;if(s===void 0&&(s="paragraph"),!t.nodes[s])throw new Error(`node type ${s} not found in schema`);if(!e.content)r=t.nodes[s].createChecked(e.props);else if(typeof e.content=="string"){const i=ko([e.content],t,s,n);r=t.nodes[s].createChecked(e.props,i)}else if(Array.isArray(e.content)){const i=ko(e.content,t,s,n);r=t.nodes[s].createChecked(e.props,i)}else if(e.content.type==="tableContent"){const i=fw(e.content,t,n);r=t.nodes[s].createChecked(e.props,i)}else throw new pa(e.content.type);return r}function vd(e,t,n=Yh(t)){let r=e.id;r===void 0&&(r=uw.options.generateID());const s=[];if(e.children)for(const i of e.children)s.push(vd(i,t,n));if(!e.type||t.nodes[e.type].isInGroup("blockContent")){const i=l$(e,t,n),o=s.length>0?t.nodes.blockGroup.createChecked({},s):void 0;return t.nodes.blockContainer.createChecked({id:r,...e.props},o?[i,o]:i)}else{if(t.nodes[e.type].isInGroup("bnBlock"))return t.nodes[e.type].createChecked({id:r,...e.props},s);throw new Error(`block type ${e.type} doesn't match blockContent or bnBlock group`)}}function bi(e,t){let n,r;if(t.firstChild.descendants((s,i)=>n?!1:!ZA(s)||s.attrs.id!==e?!0:(n=s,r=i+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}function ZA(e){return e.type.isInGroup("bnBlock")}const W1e=(e,t)=>({tr:n,dispatch:r})=>(r&&hw(n,e,t),!0);function hw(e,t,n,r,s){const i=g0(e.doc.resolve(t));let o=null;i.blockNoteType==="table"&&(o=X1e(e));const a=br(e),l=a.nodes[i.blockNoteType],u=a.nodes[n.type||i.blockNoteType],f=u.isInGroup("bnBlock")?u:a.nodes.blockContainer;if(i.isBlockContainer&&u.isInGroup("blockContent"))l5(n,e,i),K1e(n,e,l,u,i);else if(!i.isBlockContainer&&u.isInGroup("bnBlock"))l5(n,e,i);else{const h=Bn(i.bnBlock.node,a);e.replaceWith(i.bnBlock.beforePos,i.bnBlock.afterPos,vd({children:h.children,...n},a));return}e.setNodeMarkup(i.bnBlock.beforePos,f,{...i.bnBlock.node.attrs,...n.props}),o&&Z1e(e,i,o)}function K1e(e,t,n,r,s,i,o){const a=br(t);let l="keep";if(e.content)if(typeof e.content=="string")l=ko([e.content],a,r.name);else if(Array.isArray(e.content))l=ko(e.content,a,r.name);else if(e.content.type==="tableContent")l=fw(e.content,a);else throw new pa(e.content.type);else n.spec.content===""||r.spec.content!==n.spec.content&&(l=[]);l==="keep"?t.setNodeMarkup(s.blockContent.beforePos,r,{...s.blockContent.node.attrs,...e.props}):t.replaceWith(s.blockContent.beforePos,s.blockContent.afterPos,r.createChecked({...s.blockContent.node.attrs,...e.props},l))}function l5(e,t,n){const r=br(t);if(e.children!==void 0&&e.children.length>0){const s=e.children.map(i=>vd(i,r));if(n.childContainer)t.step(new or(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new Le(ve.from(s),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");t.insert(n.blockContent.afterPos,r.nodes.blockGroup.createChecked({},s))}}}function Q1e(e,t,n,r,s){const i=typeof t=="string"?t:t.id,o=bi(i,e.doc);if(!o)throw new Error(`Block with ID ${i} not found`);hw(e,o.posBeforeNode,n);const a=e.doc.resolve(o.posBeforeNode+1).node(),l=br(e);return Bn(a,l)}function X1e(e){const t="selection"in e?e.selection:null;if(!(t instanceof $e))return null;const n=e.doc.resolve(t.head);let r=-1,s=-1;for(let x=n.depth;x>=0;x--){const w=n.node(x).type.name;if(r<0&&(w==="tableCell"||w==="tableHeader")&&(r=x),w==="table"){s=x;break}}if(r<0||s<0)return null;const i=n.before(r),o=n.before(s),a=e.doc.nodeAt(o);if(!a||a.type.name!=="table")return null;const l=Cn.get(a),u=i-(o+1),f=l.map.indexOf(u);if(f<0)return null;const h=Math.floor(f/l.width),g=f%l.width,b=i+1+1,v=Math.max(0,t.head-b);return{row:h,col:g,offset:v}}function Z1e(e,t,n){var r;if(t.blockNoteType!=="table")return!1;let s=-1;if(t.isBlockContainer)s=e.mapping.map(t.blockContent.beforePos);else{const w=e.mapping.map(t.bnBlock.beforePos),S=w+(((r=e.doc.nodeAt(w))==null?void 0:r.nodeSize)||0);e.doc.nodesBetween(w,S,(_,N)=>_.type.name==="table"?(s=N,!1):!0)}const i=s>=0?e.doc.nodeAt(s):null;if(!i||i.type.name!=="table")return!1;const o=Cn.get(i),a=Math.max(0,Math.min(n.row,o.height-1)),l=Math.max(0,Math.min(n.col,o.width-1)),u=a*o.width+l,f=o.map[u];if(f==null)return!1;const h=s+1+f+1,g=e.doc.nodeAt(h),b=h+1,v=g?g.content.size:0,x=b+Math.max(0,Math.min(n.offset,v));return"selection"in e&&e.setSelection($e.create(e.doc,x)),!0}const vc={gray:{text:"#9b9a97",background:"#ebeced"},brown:{text:"#64473a",background:"#e9e5e3"},red:{text:"#e03e3e",background:"#fbe4e4"},orange:{text:"#d9730d",background:"#f6e9d9"},yellow:{text:"#dfab01",background:"#fbf3db"},green:{text:"#4d6461",background:"#ddedea"},blue:{text:"#0b6e99",background:"#ddebf1"},purple:{text:"#6940a5",background:"#eae4f2"},pink:{text:"#ad1a72",background:"#f4dfeb"}},Wt={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},zs=e=>{const t={};return e.hasAttribute("data-background-color")?t.backgroundColor=e.getAttribute("data-background-color"):e.style.backgroundColor&&(t.backgroundColor=e.style.backgroundColor),e.hasAttribute("data-text-color")?t.textColor=e.getAttribute("data-text-color"):e.style.color&&(t.textColor=e.style.color),t.textAlignment=Wt.textAlignment.values.includes(e.style.textAlign)?e.style.textAlign:void 0,t},xd=(e,t)=>{e.backgroundColor&&e.backgroundColor!==Wt.backgroundColor.default&&(t.style.backgroundColor=e.backgroundColor in vc?vc[e.backgroundColor].background:e.backgroundColor),e.textColor&&e.textColor!==Wt.textColor.default&&(t.style.color=e.textColor in vc?vc[e.textColor].text:e.textColor),e.textAlignment&&e.textAlignment!==Wt.textAlignment.default&&(t.style.textAlign=e.textAlignment)},J1e=(e="backgroundColor")=>({default:Wt.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):t.style.backgroundColor?t.style.backgroundColor:Wt.backgroundColor.default,renderHTML:t=>t[e]===Wt.backgroundColor.default?{}:{"data-background-color":t[e]}}),eye=(e="textColor")=>({default:Wt.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):t.style.color?t.style.color:Wt.textColor.default,renderHTML:t=>t[e]===Wt.textColor.default?{}:{"data-text-color":t[e]}}),pw=(e,t)=>{const n=e.querySelector(t);if(!n)return;const r=e.querySelector("figcaption"),s=r?.textContent??void 0;return{targetElement:n,caption:s}},tye=(e,t,n)=>{const r=document.createElement("div");r.className="bn-add-file-button";const s=document.createElement("div");s.className="bn-add-file-button-icon",n?s.appendChild(n):s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(s);const i=document.createElement("p");i.className="bn-add-file-button-text",i.innerHTML=e.type in t.dictionary.file_blocks.add_button_text?t.dictionary.file_blocks.add_button_text[e.type]:t.dictionary.file_blocks.add_button_text.file,r.appendChild(i);const o=l=>{l.preventDefault()},a=()=>{t.transact(l=>l.setMeta(t.filePanel.plugins[0],{block:e}))};return r.addEventListener("mousedown",o,!0),r.addEventListener("click",a,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",o,!0),r.removeEventListener("click",a,!0)}}},nye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',rye=e=>{const t=document.createElement("div");t.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=nye,t.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=e.props.name,t.appendChild(r),{dom:t}},JA=(e,t,n,r)=>{const s=document.createElement("div");if(s.className="bn-file-block-content-wrapper",e.props.url===""){const o=tye(e,t,r);s.appendChild(o.dom);const a=t.onUploadStart(l=>{if(l===e.id){s.removeChild(o.dom);const u=document.createElement("div");u.className="bn-file-loading-preview",u.textContent="Loading...",s.appendChild(u)}});return{dom:s,destroy:()=>{a(),o.destroy()}}}const i={dom:s};if(e.props.showPreview===!1||!n){const o=rye(e);s.appendChild(o.dom),i.destroy=()=>{var a;(a=o.destroy)==null||a.call(o)}}else s.appendChild(n.dom);if(e.props.caption){const o=document.createElement("p");o.className="bn-file-caption",o.textContent=e.props.caption,s.appendChild(o)}return i},e3=(e,t)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},mw=(e,t)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},c5=e=>({url:e.src||void 0}),sye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',iye=e=>({type:"audio",propSchema:{backgroundColor:Wt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},content:"none"}),oye=(e={})=>t=>{if(t.tagName==="AUDIO"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...c5(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=pw(t,"audio");if(!n)return;const{targetElement:r,caption:s}=n,{backgroundColor:i}=zs(t);return{...c5(r),backgroundColor:i,caption:s}}},aye=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??sye;const s=document.createElement("audio");return s.className="bn-audio",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(i=>{s.src=i}):s.src=t.props.url,s.controls=!0,s.contentEditable="false",s.draggable=!1,JA(t,n,{dom:s},r.firstElementChild)},lye=(e={})=>(t,n)=>{if(!t.props.url){const s=document.createElement("p");return s.textContent="Add audio",{dom:s}}let r;return t.props.showPreview?(r=document.createElement("audio"),r.src=t.props.url):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?e3(r,t.props.caption):mw(r,t.props.caption):{dom:r}},cye=eo(iye,e=>({meta:{fileBlockAccept:["audio/*"]},parse:oye(e),render:aye(e),toExternalHTML:lye(e),runsBefore:["file"]}));let t3=class{constructor(){Rs(this,"callbacks",{})}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),()=>this.off(t,n)}emit(t,...n){const r=this.callbacks[t];r&&r.forEach(s=>s.apply(this,n))}off(t,n){const r=this.callbacks[t];r&&(n?this.callbacks[t]=r.filter(s=>s!==n):delete this.callbacks[t])}removeAllListeners(){this.callbacks={}}},ur=class extends t3{constructor(...t){super(),Rs(this,"plugins",[]),Rs(this,"inputRules"),Rs(this,"keyboardShortcuts"),Rs(this,"tiptapExtensions")}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(t){this.plugins.push(t)}get priority(){}};function ma(e){const t=Object.create(ur.prototype);return t.key=e.key,t.inputRules=e.inputRules,t.keyboardShortcuts=e.keyboardShortcuts,t.plugins=e.plugins??[],t.tiptapExtensions=e.tiptapExtensions,t}const u5=Symbol.for("blocknote.shikiParser"),b2=Symbol.for("blocknote.shikiHighlighterPromise");function uye(e){const t=globalThis;let n,r;return g1e({parser:s=>{if(!e.createHighlighter)return[];if(!n)return t[b2]=t[b2]||e.createHighlighter(),t[b2].then(o=>{n=o});const i=c$(e,s.language);return!i||i==="text"||i==="none"||i==="plaintext"||i==="txt"?[]:n.getLoadedLanguages().includes(i)?(r||(r=t[u5]||b1e(n),t[u5]=r),r(s)):n.loadLanguage(i)},languageExtractor:s=>s.attrs.language,nodeTypes:["codeBlock"]})}const dye=({defaultLanguage:e="text"})=>({type:"codeBlock",propSchema:{language:{default:e}},content:"inline"}),fye=eo(dye,e=>({meta:{code:!0,defining:!0,isolating:!1},parse:t=>{var n,r;if(t.tagName!=="PRE"||t.childElementCount!==1||((n=t.firstElementChild)==null?void 0:n.tagName)!=="CODE")return;const s=t.firstElementChild;return{language:s.getAttribute("data-language")||((r=s.className.split(" ").find(i=>i.includes("language-")))==null?void 0:r.replace("language-",""))}},parseContent:({el:t,schema:n})=>{const r=yo.fromSchema(n),s=t.firstElementChild;return r.parse(s,{topNode:n.nodes.codeBlock.create()}).content},render(t,n){const r=document.createDocumentFragment(),s=document.createElement("pre"),i=document.createElement("code");s.appendChild(i);let o;if(e.supportedLanguages){const a=document.createElement("select"),l=f=>{const h=f.target.value;n.updateBlock(t.id,{props:{language:h}})};a.addEventListener("change",l);const u=document.createElement("div");u.contentEditable="false",a.value=t.props.language||e.defaultLanguage||"text",Object.entries(e.supportedLanguages??{}).forEach(([f,{name:h}])=>{const g=document.createElement("option");g.value=f,g.text=h,a.appendChild(g)}),u.appendChild(a),r.appendChild(u),o=()=>a.removeEventListener("change",l)}return r.appendChild(s),{dom:r,contentDOM:i,destroy:()=>{o?.()}}},toExternalHTML(t){const n=document.createElement("pre"),r=document.createElement("code");return r.className=`language-${t.props.language}`,r.dataset.language=t.props.language,n.appendChild(r),{dom:n,contentDOM:r}}}),e=>[ma({key:"code-block-highlighter",plugins:[uye(e)]}),ma({key:"code-block-keyboard-shortcuts",keyboardShortcuts:{Delete:({editor:t})=>t.transact(n=>{const{block:r}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:s}=n.selection;return s.parent.textContent?!1:(t.removeBlocks([r]),!0)}),Tab:({editor:t})=>e.indentLineWithTab===!1?!1:t.transact(n=>{const{block:r}=t.getTextCursorPosition();return r.type==="codeBlock"?(n.insertText("  "),!0):!1}),Enter:({editor:t})=>t.transact(n=>{const{block:r,nextBlock:s}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:i}=n.selection,o=i.parentOffset===i.parent.nodeSize-2,a=i.parent.textContent.endsWith(`

`);if(o&&a){if(n.delete(i.pos-2,i.pos),s)return t.setTextCursorPosition(s,"start"),!0;const[l]=t.insertBlocks([{type:"paragraph"}],r,"after");return t.setTextCursorPosition(l,"start"),!0}return n.insertText(`
`),!0}),"Shift-Enter":({editor:t})=>t.transact(()=>{const{block:n}=t.getTextCursorPosition();if(n.type!=="codeBlock")return!1;const[r]=t.insertBlocks([{type:"paragraph"}],n,"after");return t.setTextCursorPosition(r,"start"),!0})},inputRules:[{find:/^```(.*?)\s$/,replace:({match:t})=>{const n=t[1].trim();return{type:"codeBlock",props:{language:{language:c$(e,n)??n}.language},content:[]}}}]})]);function c$(e,t){var n;return(n=Object.entries(e.supportedLanguages??{}).find(([r,{aliases:s}])=>s?.includes(t)||r===t))==null?void 0:n[0]}const d5=e=>({url:e.src||void 0}),hye=()=>({type:"file",propSchema:{backgroundColor:Wt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},content:"none"}),pye=()=>e=>{if(e.tagName==="EMBED"){if(e.closest("figure"))return;const{backgroundColor:t}=zs(e);return{...d5(e),backgroundColor:t}}if(e.tagName==="FIGURE"){const t=pw(e,"embed");if(!t)return;const{targetElement:n,caption:r}=t,{backgroundColor:s}=zs(e);return{...d5(n),backgroundColor:s,caption:r}}},mye=eo(hye,{meta:{fileBlockAccept:["*/*"]},parse:pye(),render(e,t){return JA(e,t)},toExternalHTML(e){if(!e.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const t=document.createElement("a");return t.href=e.props.url,t.textContent=e.props.name||e.props.url,e.props.caption?mw(t,e.props.caption):{dom:t}}}),gye={set:(e,t)=>window.localStorage.setItem(`toggle-${e.id}`,t?"true":"false"),get:e=>window.localStorage.getItem(`toggle-${e.id}`)==="true"},u$=(e,t,n,r=gye)=>{if(!("isToggleable"in e.props)||!e.props.isToggleable)return{dom:n};const s=document.createElement("div"),i=document.createElement("div");i.className="bn-toggle-wrapper";const o=document.createElement("button");o.className="bn-toggle-button",o.type="button",o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const a=v=>v.preventDefault();o.addEventListener("mousedown",a);const l=()=>{var v;i.getAttribute("data-show-children")==="true"?(i.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1),s.contains(u)&&s.removeChild(u)):(i.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0),((v=t.getBlock(e))==null?void 0:v.children.length)===0&&!s.contains(u)&&s.appendChild(u))};o.addEventListener("click",l),i.appendChild(o),i.appendChild(n);const u=document.createElement("button");u.className="bn-toggle-add-block-button",u.type="button",u.textContent=t.dictionary.toggle_blocks.add_block_button;const f=v=>v.preventDefault();u.addEventListener("mousedown",f);const h=()=>{t.transact(()=>{const v=t.updateBlock(e,{children:[{}]});t.setTextCursorPosition(v.children[0].id,"end"),t.focus()})};u.addEventListener("click",h),s.appendChild(i);let g=e.children.length;const b=t.onChange(()=>{var v;const x=((v=t.getBlock(e))==null?void 0:v.children.length)??0;x>g?(i.getAttribute("data-show-children")==="false"&&(i.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0)),s.contains(u)&&s.removeChild(u)):x===0&&x<g&&(i.getAttribute("data-show-children")==="true"&&(i.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1)),s.contains(u)&&s.removeChild(u)),g=x});return r.get(e)?(i.setAttribute("data-show-children","true"),e.children.length===0&&s.appendChild(u)):i.setAttribute("data-show-children","false"),{dom:s,ignoreMutation:v=>v instanceof MutationRecord&&(v.type==="attributes"&&v.target===i&&v.attributeName==="data-show-children"||v.type==="childList"&&(v.addedNodes[0]===u||v.removedNodes[0]===u)),destroy:()=>{o.removeEventListener("mousedown",a),o.removeEventListener("click",l),u.removeEventListener("mousedown",f),u.removeEventListener("click",h),b?.()}}},d$=[1,2,3,4,5,6],bye=({defaultLevel:e=1,levels:t=d$,allowToggleHeadings:n=!0}={})=>({type:"heading",propSchema:{...Wt,level:{default:e,values:t},...n?{isToggleable:{default:!1,optional:!0}}:{}},content:"inline"}),yye=eo(bye,({allowToggleHeadings:e=!0}={})=>({meta:{isolating:!1},parse(t){let n;switch(t.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6;break;default:return}return{...zs(t),level:n}},render(t,n){const r=document.createElement(`h${t.props.level}`);return e?{...u$(t,n,r),contentDOM:r}:{dom:r,contentDOM:r}},toExternalHTML(t){const n=document.createElement(`h${t.props.level}`);return xd(t.props,n),{dom:n,contentDOM:n}}}),({levels:e=d$}={})=>[ma({key:"heading-shortcuts",keyboardShortcuts:Object.fromEntries(e.map(t=>[`Mod-Alt-${t}`,({editor:n})=>{const r=n.getTextCursorPosition();return n.schema.blockSchema[r.block.type].content!=="inline"?!1:(n.updateBlock(r.block,{type:"heading",props:{level:t}}),!0)}])??[]),inputRules:e.map(t=>({find:new RegExp(`^(#{${t}})\\s$`),replace({match:n}){return{type:"heading",props:{level:n[1].length}}}}))})]),f$=(e,t,n,r,s)=>{const{dom:i,destroy:o}=JA(e,t,n,s),a=i;a.style.position="relative",e.props.url&&e.props.showPreview&&(e.props.previewWidth?a.style.width=`${e.props.previewWidth}px`:a.style.width="fit-content");const l=document.createElement("div");l.className="bn-resize-handle",l.style.left="4px";const u=document.createElement("div");u.className="bn-resize-handle",u.style.right="4px";const f=document.createElement("div");f.style.position="absolute",f.style.height="100%",f.style.width="100%";let h,g=e.props.previewWidth;const b=N=>{var M,O;if(!h){!t.isEditable&&r.contains(l)&&r.contains(u)&&(r.removeChild(l),r.removeChild(u));return}let R;const I="touches"in N?N.touches[0].clientX:N.clientX;e.props.textAlignment==="center"?h.handleUsed==="left"?R=h.initialWidth+(h.initialClientX-I)*2:R=h.initialWidth+(I-h.initialClientX)*2:h.handleUsed==="left"?R=h.initialWidth+h.initialClientX-I:R=h.initialWidth+I-h.initialClientX,g=Math.min(Math.max(R,64),((O=(M=t.domElement)==null?void 0:M.firstElementChild)==null?void 0:O.clientWidth)||Number.MAX_VALUE),a.style.width=`${g}px`},v=N=>{(!N.target||!a.contains(N.target)||!t.isEditable)&&r.contains(l)&&r.contains(u)&&(r.removeChild(l),r.removeChild(u)),h&&(h=void 0,a.contains(f)&&a.removeChild(f),t.updateBlock(e,{props:{previewWidth:g}}))},x=()=>{t.isEditable&&(r.appendChild(l),r.appendChild(u))},w=N=>{N.relatedTarget===l||N.relatedTarget===u||h||t.isEditable&&r.contains(l)&&r.contains(u)&&(r.removeChild(l),r.removeChild(u))},S=N=>{N.preventDefault(),a.contains(f)||a.appendChild(f);const M="touches"in N?N.touches[0].clientX:N.clientX;h={handleUsed:"left",initialWidth:a.clientWidth,initialClientX:M}},_=N=>{N.preventDefault(),a.contains(f)||a.appendChild(f);const M="touches"in N?N.touches[0].clientX:N.clientX;h={handleUsed:"right",initialWidth:a.clientWidth,initialClientX:M}};return window.addEventListener("mousemove",b),window.addEventListener("touchmove",b),window.addEventListener("mouseup",v),window.addEventListener("touchend",v),a.addEventListener("mouseenter",x),a.addEventListener("mouseleave",w),l.addEventListener("mousedown",S),l.addEventListener("touchstart",S),u.addEventListener("mousedown",_),u.addEventListener("touchstart",_),{dom:a,destroy:()=>{o?.(),window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",b),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),a.removeEventListener("mouseenter",x),a.removeEventListener("mouseleave",w),l.removeEventListener("mousedown",S),l.removeEventListener("touchstart",S),u.removeEventListener("mousedown",_),u.removeEventListener("touchstart",_)}}},f5=e=>{const t=e.src||void 0,n=e.width||void 0,r=e.alt||void 0;return{url:t,previewWidth:n,name:r}},vye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',xye=(e={})=>({type:"image",propSchema:{textAlignment:Wt.textAlignment,backgroundColor:Wt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),wye=(e={})=>t=>{if(t.tagName==="IMG"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...f5(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=pw(t,"img");if(!n)return;const{targetElement:r,caption:s}=n,{backgroundColor:i}=zs(t);return{...f5(r),backgroundColor:i,caption:s}}},Eye=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??vye;const s=document.createElement("div");s.className="bn-visual-media-wrapper";const i=document.createElement("img");return i.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(o=>{i.src=o}):i.src=t.props.url,i.alt=t.props.name||t.props.caption||"BlockNote image",i.contentEditable="false",i.draggable=!1,s.appendChild(i),f$(t,n,{dom:s},s,r.firstElementChild)},Cye=(e={})=>(t,n)=>{if(!t.props.url){const s=document.createElement("p");return s.textContent="Add image",{dom:s}}let r;return t.props.showPreview?(r=document.createElement("img"),r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(r.width=t.props.previewWidth)):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?e3(r,t.props.caption):mw(r,t.props.caption):{dom:r}},Sye=eo(xye,e=>({meta:{fileBlockAccept:["image/*"]},parse:wye(e),render:Eye(e),toExternalHTML:Cye(e),runsBefore:["file"]})),Tye=(e,t,n)=>({state:r,dispatch:s})=>s?h$(r.tr,e,t,n):!0,h$=(e,t,n,r)=>{const s=Ic(e.doc,t),i=Dc(s);if(!i.isBlockContainer)return!1;const o=br(e),a=[{type:i.bnBlock.node.type,attrs:r?{...i.bnBlock.node.attrs,id:void 0}:{}},{type:n?i.blockContent.node.type:o.nodes.paragraph,attrs:r?{...i.blockContent.node.attrs}:{}}];return e.split(t,2,a),!0},gw=(e,t)=>{const{blockInfo:n,selectionEmpty:r}=e.transact(o=>({blockInfo:b0(o),selectionEmpty:o.selection.anchor===o.selection.head}));if(!n.isBlockContainer)return!1;const{bnBlock:s,blockContent:i}=n;return i.node.type.name!==t||!r?!1:i.node.childCount===0?(e.transact(o=>{hw(o,s.beforePos,{type:"paragraph",props:{}})}),!0):i.node.childCount>0?e.transact(o=>(o.deleteSelection(),h$(o,o.selection.from,!0))):!1};function n3(e,t,n){var r,s,i;const o=yo.fromSchema(t),a=e,l=document.createElement("div");l.setAttribute("data-node-type","blockGroup");for(const b of Array.from(a.childNodes))l.appendChild(b.cloneNode(!0));let u=o.parse(l,{topNode:t.nodes.blockGroup.create()});((s=(r=u.firstChild)==null?void 0:r.firstChild)==null?void 0:s.type.name)==="checkListItem"&&(u=u.copy(u.content.cut(u.firstChild.firstChild.nodeSize+2)));const f=(i=u.firstChild)==null?void 0:i.firstChild;if(!(f!=null&&f.isTextblock))return ve.from(u);const h=t.nodes[n].create({},f.content),g=u.content.cut(f.nodeSize+2);if(g.size>0){const b=u.copy(g);return h.content.addToEnd(b)}return h.content}const kye=()=>({type:"bulletListItem",propSchema:{...Wt},content:"inline"}),_ye=eo(kye,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL"))return zs(e)},parseContent:({el:e,schema:t})=>n3(e,t,"bulletListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return xd(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[ma({key:"bullet-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>gw(e,"bulletListItem"),"Mod-Shift-8":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"bulletListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("^[-+*]\\s$"),replace(){return{type:"bulletListItem",props:{}}}}]})]),Nye=()=>({type:"checkListItem",propSchema:{...Wt,checked:{default:!1,type:"boolean"}},content:"inline"}),Aye=eo(Nye,{meta:{isolating:!1},parse(e){var t;if(e.tagName==="input")return e.closest("[data-content-type]")||e.closest("li")?void 0:e.type==="checkbox"?{checked:e.checked}:void 0;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL")){const r=e.querySelector("input[type=checkbox]")||null;return r===null?void 0:{...zs(e),checked:r.checked}}},parseContent:({el:e,schema:t})=>n3(e,t,"checkListItem"),render(e,t){const n=document.createDocumentFragment(),r=document.createElement("input");r.type="checkbox",r.checked=e.props.checked,e.props.checked&&r.setAttribute("checked",""),r.addEventListener("change",()=>{t.updateBlock(e,{props:{checked:!e.props.checked}})});const s=document.createElement("p");return n.appendChild(r),n.appendChild(s),{dom:n,contentDOM:s}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.checked=e.props.checked,e.props.checked&&n.setAttribute("checked","");const r=document.createElement("p");return xd(e.props,t),t.appendChild(n),t.appendChild(r),{dom:t,contentDOM:r}},runsBefore:["bulletListItem"]},[ma({key:"check-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>gw(e,"checkListItem"),"Mod-Shift-9":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"checkListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("\\[\\s*\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!1},content:[]}}},{find:new RegExp("\\[[Xx]\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!0}}}}]})]);function p$(e,t,n,r){let s=e.firstChild.attrs.start||1,i=!0;const o=!!e.firstChild.attrs.start,a=Dc({posBeforeNode:t,node:e});if(!a.isBlockContainer)throw new Error("impossible");const l=n.doc.resolve(a.bnBlock.beforePos).nodeBefore,u=l?r.get(l):void 0;return u!==void 0?(s=u+1,i=!1):l&&Dc({posBeforeNode:a.bnBlock.beforePos-l.nodeSize,node:l}).blockNoteType==="numberedListItem"&&(s=p$(l,a.bnBlock.beforePos-l.nodeSize,n,r).index+1,i=!1),r.set(e,s),{index:s,isFirst:i,hasStart:o}}function h5(e,t){const n=new Map,r=t.decorations.map(e.mapping,e.doc),s=[];e.doc.nodesBetween(0,e.doc.nodeSize-2,(o,a)=>{if(o.type.name==="blockContainer"&&o.firstChild.type.name==="numberedListItem"){const{index:l,isFirst:u,hasStart:f}=p$(o,a,e,n);r.find(a,a+o.nodeSize,h=>h.index===l&&h.isFirst===u&&h.hasStart===f).length===0&&s.push(Xt.node(a+1,a+o.nodeSize-1,{"data-index":l.toString()}))}});const i=s.flatMap(o=>r.find(o.from,o.to));return{decorations:r.remove(i).add(e.doc,s)}}const Mye=()=>new ht({key:new St("numbered-list-indexing-decorations"),state:{init(e,t){return h5(t.tr,{decorations:bt.empty})},apply(e,t){return!e.docChanged&&!e.selectionSet&&t.decorations?t:h5(e,t)}},props:{decorations(e){var t;return((t=this.getState(e))==null?void 0:t.decorations)??bt.empty}}}),Oye=()=>({type:"numberedListItem",propSchema:{...Wt,start:{default:void 0,type:"number"}},content:"inline"}),Rye=eo(Oye,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="OL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="OL")){const r=parseInt(n.getAttribute("start")||"1"),s=zs(e);return e.previousElementSibling||r===1?s:{...s,start:r}}},parseContent:({el:e,schema:t})=>n3(e,t,"numberedListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return xd(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[ma({key:"numbered-list-item-shortcuts",inputRules:[{find:new RegExp("^(\\d+)\\.\\s$"),replace({match:e}){const t=parseInt(e[1]);return{type:"numberedListItem",props:{start:t!==1?t:void 0}}}}],keyboardShortcuts:{Enter:({editor:e})=>gw(e,"numberedListItem"),"Mod-Shift-7":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"numberedListItem",props:{}}),!0)}},plugins:[Mye()]})]),Iye=()=>({type:"toggleListItem",propSchema:{...Wt},content:"inline"}),Dye=eo(Iye,{meta:{isolating:!1},render(e,t){const n=document.createElement("p");return{...u$(e,t,n),contentDOM:n}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return xd(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[ma({key:"toggle-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>gw(e,"toggleListItem"),"Mod-Shift-6":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"toggleListItem",props:{}}),!0)}}})]),Lye=()=>({type:"paragraph",propSchema:Wt,content:"inline"}),m$=eo(Lye,{meta:{isolating:!1},parse:e=>{var t;if(e.tagName==="P"&&(t=e.textContent)!=null&&t.trim())return zs(e)},render:()=>{const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("p");return xd(e.props,t),{dom:t,contentDOM:t}},runsBefore:["default"]},[ma({key:"paragraph-shortcuts",keyboardShortcuts:{"Mod-Alt-0":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"paragraph",props:{}}),!0)}}})]),jye=()=>({type:"quote",propSchema:{backgroundColor:Wt.backgroundColor,textColor:Wt.textColor},content:"inline"}),Pye=eo(jye,{meta:{isolating:!1},parse(e){if(e.tagName==="BLOCKQUOTE"){const{backgroundColor:t,textColor:n}=zs(e);return{backgroundColor:t,textColor:n}}},render(){const e=document.createElement("blockquote");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("blockquote");return xd(e.props,t),{dom:t,contentDOM:t}}},[ma({key:"quote-block-shortcuts",keyboardShortcuts:{"Mod-Alt-q":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"quote",props:{}}),!0)}},inputRules:[{find:new RegExp("^>\\s$"),replace(){return{type:"quote",props:{}}}}]})]),Bye=35,r3=120,Hye=31,Fye=nn.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[Age({cellMinWidth:Bye,defaultCellMinWidth:r3,View:null}),Hge()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const e=this.editor.state.selection,t=e.empty,n=e.$head.parentOffset===0,r=e.$head.node().type.name==="tableParagraph";return t&&n&&r},Tab:()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>PL(1)(e,t,n)),"Shift-Tab":()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>PL(-1)(e,t,n))}},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:gn(et(e,"tableRole",t))}}}),Uye={textColor:Wt.textColor},zye=Ji.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th",getContent:(e,t)=>g$(e,t)}]},renderHTML({HTMLAttributes:e}){return["th",gi(this.options.HTMLAttributes,e),0]}}),$ye=Ji.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td",getContent:(e,t)=>g$(e,t)}]},renderHTML({HTMLAttributes:e}){return["td",gi(this.options.HTMLAttributes,e),0]}}),Vye=Ji.create({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){var n,r,s;const i=S1e(this.name,"table",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{}),o=document.createElement("colgroup");for(const a of e.children[0].children)if(a.attrs.colwidth)for(const l of a.attrs.colwidth){const u=document.createElement("col");l&&(u.style=`width: ${l}px`),o.appendChild(u)}else o.appendChild(document.createElement("col"));return(s=i.dom.firstChild)==null||s.appendChild(o),i},addNodeView(){return({node:e,HTMLAttributes:t})=>{var n;class r extends oz{constructor(i,o,a){super(i,o),this.node=i,this.cellMinWidth=o,this.blockContentHTMLAttributes=a;const l=document.createElement("div");l.className=$n("bn-block-content",a.class),l.setAttribute("data-content-type","table");for(const[g,b]of Object.entries(a))g!=="class"&&l.setAttribute(g,b);const u=this.dom,f=document.createElement("div");f.className="tableWrapper-inner",f.appendChild(u.firstChild),u.appendChild(f),l.appendChild(u);const h=document.createElement("div");h.className="table-widgets-container",h.style.position="relative",u.appendChild(h),this.dom=l}ignoreMutation(i){return!i.target.closest(".tableWrapper-inner")||super.ignoreMutation(i)}}return new r(e,r3,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t})}}}),qye=Ji.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:e=>{if(typeof e=="string"||!e.textContent||!e.closest("[data-content-type]"))return!1;const t=e.parentElement;return t===null?!1:t.tagName==="TD"||t.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:e}){return["p",e,0]}}),Gye=Ji.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",gi(this.options.HTMLAttributes,e),0]}});function g$(e,t){const n=yo.fromSchema(t).parse(e,{topNode:t.nodes.blockGroup.create()}),r=[];return n.content.descendants(s=>{if(s.isInline)return r.push(s),!1}),ve.fromArray(r)}const Yye=()=>N1e({node:Vye,type:"table",content:"table"},Uye,[ma({key:"table-extensions",tiptapExtensions:[Fye,qye,zye,$ye,Gye]})]),p5=e=>{const t=e.src||void 0,n=e.width||void 0;return{url:t,previewWidth:n}},Wye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Kye=e=>({type:"video",propSchema:{textAlignment:Wt.textAlignment,backgroundColor:Wt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),Qye=e=>t=>{if(t.tagName==="VIDEO"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...p5(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=pw(t,"video");if(!n)return;const{targetElement:r,caption:s}=n,{backgroundColor:i}=zs(t);return{...p5(r),backgroundColor:i,caption:s}}},Xye=eo(Kye,e=>({meta:{fileBlockAccept:["video/*"]},parse:Qye(),render(t,n){const r=document.createElement("div");r.innerHTML=e.icon??Wye;const s=document.createElement("div");s.className="bn-visual-media-wrapper";const i=document.createElement("video");return i.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(o=>{i.src=o}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,i.width=t.props.previewWidth,s.appendChild(i),f$(t,n,{dom:s},s,r.firstElementChild)},toExternalHTML(t){if(!t.props.url){const r=document.createElement("p");return r.textContent="Add video",{dom:r}}let n;return t.props.showPreview?(n=document.createElement("video"),n.src=t.props.url,t.props.previewWidth&&(n.width=t.props.previewWidth)):(n=document.createElement("a"),n.href=t.props.url,n.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?e3(n,t.props.caption):mw(n,t.props.caption):{dom:n}},runsBefore:["file"]}));function Ln(e,t,n){if(!(t in e.schema.blockSpecs))return!1;if(!n)return!0;for(const[r,s]of Object.entries(n)){if(!(r in e.schema.blockSpecs[t].config.propSchema))return!1;if(typeof s=="string"){if(e.schema.blockSpecs[t].config.propSchema[r].default&&typeof e.schema.blockSpecs[t].config.propSchema[r].default!==s||e.schema.blockSpecs[t].config.propSchema[r].type&&e.schema.blockSpecs[t].config.propSchema[r].type!==s)return!1}else{if(e.schema.blockSpecs[t].config.propSchema[r].default!==s.default||e.schema.blockSpecs[t].config.propSchema[r].default===void 0&&s.default===void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==s.type||typeof e.schema.blockSpecs[t].config.propSchema[r].values!=typeof s.values)return!1;if(typeof e.schema.blockSpecs[t].config.propSchema[r].values=="object"&&typeof s.values=="object"){if(e.schema.blockSpecs[t].config.propSchema[r].values.length!==s.values.length)return!1;for(let i=0;i<e.schema.blockSpecs[t].config.propSchema[r].values.length;i++)if(e.schema.blockSpecs[t].config.propSchema[r].values[i]!==s.values[i])return!1}}}return!0}function ui(e,t,n,r){return Ln(t,n,r)&&e.type===n}function Vk(e){return e instanceof fn}function Zye(e){let t=e.getTextCursorPosition().block,n=e.schema.blockSchema[t.type].content;for(;n==="none";){if(t=e.getTextCursorPosition().nextBlock,t===void 0)return;n=e.schema.blockSchema[t.type].content,e.setTextCursorPosition(t,"end")}}function pr(e,t){const n=e.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&sd(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=e.updateBlock(n,t),e.setTextCursorPosition(r)):(r=e.insertBlocks([t],n,"after")[0],e.setTextCursorPosition(e.getTextCursorPosition().nextBlock)),Zye(e),r}function Jye(e){const t=[];return Ln(e,"heading",{level:"number"})&&t.push({onItemClick:()=>{pr(e,{type:"heading",props:{level:1}})},badge:oi("Mod-Alt-1"),key:"heading",...e.dictionary.slash_menu.heading},{onItemClick:()=>{pr(e,{type:"heading",props:{level:2}})},badge:oi("Mod-Alt-2"),key:"heading_2",...e.dictionary.slash_menu.heading_2},{onItemClick:()=>{pr(e,{type:"heading",props:{level:3}})},badge:oi("Mod-Alt-3"),key:"heading_3",...e.dictionary.slash_menu.heading_3}),Ln(e,"quote")&&t.push({onItemClick:()=>{pr(e,{type:"quote"})},key:"quote",...e.dictionary.slash_menu.quote}),Ln(e,"toggleListItem")&&t.push({onItemClick:()=>{pr(e,{type:"toggleListItem"})},badge:oi("Mod-Shift-6"),key:"toggle_list",...e.dictionary.slash_menu.toggle_list}),Ln(e,"numberedListItem")&&t.push({onItemClick:()=>{pr(e,{type:"numberedListItem"})},badge:oi("Mod-Shift-7"),key:"numbered_list",...e.dictionary.slash_menu.numbered_list}),Ln(e,"bulletListItem")&&t.push({onItemClick:()=>{pr(e,{type:"bulletListItem"})},badge:oi("Mod-Shift-8"),key:"bullet_list",...e.dictionary.slash_menu.bullet_list}),Ln(e,"checkListItem")&&t.push({onItemClick:()=>{pr(e,{type:"checkListItem"})},badge:oi("Mod-Shift-9"),key:"check_list",...e.dictionary.slash_menu.check_list}),Ln(e,"paragraph")&&t.push({onItemClick:()=>{pr(e,{type:"paragraph"})},badge:oi("Mod-Alt-0"),key:"paragraph",...e.dictionary.slash_menu.paragraph}),Ln(e,"codeBlock")&&t.push({onItemClick:()=>{pr(e,{type:"codeBlock"})},badge:oi("Mod-Alt-c"),key:"code_block",...e.dictionary.slash_menu.code_block}),Ln(e,"table")&&t.push({onItemClick:()=>{pr(e,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...e.dictionary.slash_menu.table}),Ln(e,"image",{url:"string"})&&t.push({onItemClick:()=>{const n=pr(e,{type:"image"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"image",...e.dictionary.slash_menu.image}),Ln(e,"video",{url:"string"})&&t.push({onItemClick:()=>{const n=pr(e,{type:"video"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"video",...e.dictionary.slash_menu.video}),Ln(e,"audio",{url:"string"})&&t.push({onItemClick:()=>{const n=pr(e,{type:"audio"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"audio",...e.dictionary.slash_menu.audio}),Ln(e,"file",{url:"string"})&&t.push({onItemClick:()=>{const n=pr(e,{type:"file"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"file",...e.dictionary.slash_menu.file}),Ln(e,"heading",{level:"number",isToggleable:"boolean"})&&t.push({onItemClick:()=>{pr(e,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...e.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{pr(e,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...e.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{pr(e,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...e.dictionary.slash_menu.toggle_heading_3}),Ln(e,"heading",{level:"number"})&&(e.schema.blockSchema.heading.propSchema.level.values||[]).filter(n=>n>3).forEach(n=>{t.push({onItemClick:()=>{pr(e,{type:"heading",props:{level:n}})},key:`heading_${n}`,...e.dictionary.slash_menu[`heading_${n}`]})}),t.push({onItemClick:()=>{e.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...e.dictionary.slash_menu.emoji}),t}function eve(e,t){return e.filter(({title:n,aliases:r})=>n.toLowerCase().includes(t.toLowerCase())||r&&r.filter(s=>s.toLowerCase().includes(t.toLowerCase())).length!==0)}const tve={audio:cye(),bulletListItem:_ye(),checkListItem:Aye(),codeBlock:fye(),file:mye(),heading:yye(),image:Sye(),numberedListItem:Rye(),paragraph:m$(),quote:Pye(),table:Yye(),toggleListItem:Dye(),video:Xye()},nve=s$({type:"textColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==Wt.textColor.default&&(t.style.color=e in vc?vc[e].text:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.color)return e.style.color}}),rve=s$({type:"backgroundColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==Wt.backgroundColor.default&&(t.style.backgroundColor=e in vc?vc[e].background:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.backgroundColor)return e.style.backgroundColor}}),s3={bold:om(Ybe,"boolean"),italic:om(r1e,"boolean"),underline:om(c1e,"boolean"),strike:om(a1e,"boolean"),code:om(Xbe,"boolean"),textColor:nve,backgroundColor:rve};r$(s3);const b$={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},sve=t$(b$);let y$=class v$ extends U1e{static create(t){return new v$({blockSpecs:t?.blockSpecs??tve,inlineContentSpecs:t?.inlineContentSpecs??b$,styleSpecs:t?.styleSpecs??s3})}};var y2,m5;function ive(){return m5||(m5=1,y2=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),y2}var ove=ive();const ave=lx(ove);var tv=200,_r=function(){};_r.prototype.append=function(t){return t.length?(t=_r.from(t),!this.length&&t||t.length<tv&&this.leafAppend(t)||this.length<tv&&t.leafPrepend(this)||this.appendInner(t)):this};_r.prototype.prepend=function(t){return t.length?_r.from(t).append(this):this};_r.prototype.appendInner=function(t){return new lve(this,t)};_r.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?_r.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};_r.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};_r.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};_r.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(t(i,o))},n,r),s};_r.from=function(t){return t instanceof _r?t:t&&t.length?new x$(t):_r.empty};var x$=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new t(this.values.slice(s,i))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=tv)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=tv)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(_r);_r.empty=new x$([]);var lve=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(_r);const cve=500;class fo{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=t.tr,a,l,u=[],f=[];return this.items.forEach((h,g)=>{if(!h.step){s||(s=this.remapping(r,g+1),i=s.maps.length),i--,f.push(h);return}if(s){f.push(new Zl(h.map));let b=h.step.map(s.slice(i)),v;b&&o.maybeStep(b).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new Zl(v,void 0,void 0,u.length+f.length))),i--,v&&s.appendMap(v,i)}else o.maybeStep(h.step);if(h.selection)return a=s?h.selection.map(s.slice(i)):h.selection,l=new fo(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let f=0;f<t.steps.length;f++){let h=t.steps[f].invert(t.docs[f]),g=new Zl(t.mapping.maps[f],h,n),b;(b=l&&l.merge(g))&&(g=b,f?i.pop():a=a.slice(0,a.length-1)),i.push(g),n&&(o++,n=void 0),s||(l=g)}let u=o-r.depth;return u>dve&&(a=uve(a,u),o-=u),new fo(a.append(i),o)}remapping(t,n){let r=new bh;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new fo(this.items.append(t.map(n=>new Zl(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},s);let l=n;this.items.forEach(g=>{let b=i.getMirror(--l);if(b==null)return;o=Math.min(o,b);let v=i.maps[b];if(g.step){let x=t.steps[b].invert(t.docs[b]),w=g.selection&&g.selection.map(i.slice(l+1,b));w&&a++,r.push(new Zl(v,x,w))}else r.push(new Zl(v))},s);let u=[];for(let g=n;g<o;g++)u.push(new Zl(i.maps[g]));let f=this.items.slice(0,s).append(u).append(r),h=new fo(f,a);return h.emptyItemCount()>cve&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=t)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let f=o.selection&&o.selection.map(n.slice(r));f&&i++;let h=new Zl(u.invert(),l,f),g,b=s.length-1;(g=s.length&&s[b].merge(h))?s[b]=g:s.push(h)}}else o.map&&r--},this.items.length,0),new fo(_r.from(s.reverse()),i)}}fo.empty=new fo(_r.empty,0);function uve(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}let Zl=class w${constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new w$(n.getMap().invert(),n,this.selection)}}};class ac{constructor(t,n,r,s,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const dve=20;function fve(e,t,n,r){let s=n.getMeta(zu),i;if(s)return s.historyState;n.getMeta(mve)&&(e=new ac(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(zu))return o.getMeta(zu).redo?new ac(e.done.addTransform(n,void 0,r,sy(t)),e.undone,g5(n.mapping.maps),e.prevTime,e.prevComposition):new ac(e.done,e.undone.addTransform(n,void 0,r,sy(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!hve(n,e.prevRanges)),u=o?v2(e.prevRanges,n.mapping):g5(n.mapping.maps);return new ac(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,sy(t)),fo.empty,u,n.time,a??e.prevComposition)}else return(i=n.getMeta("rebased"))?new ac(e.done.rebased(n,i),e.undone.rebased(n,i),v2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ac(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),v2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function hve(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&s>=t[i]&&(n=!0)}),n}function g5(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,i,o)=>t.push(i,o));return t}function v2(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),i=t.map(e[r+1],-1);s<=i&&n.push(s,i)}return n}function pve(e,t,n){let r=sy(t),s=zu.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,r),l=new ac(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(zu,{redo:n,historyState:l})}let x2=!1,b5=null;function sy(e){let t=e.plugins;if(b5!=t){x2=!1,b5=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){x2=!0;break}}return x2}const zu=new St("history"),mve=new St("closeHistory");function gve(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new ht({key:zu,state:{init(){return new ac(fo.empty,fo.empty,null,0,-1)},apply(t,n,r){return fve(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?i3:r=="historyRedo"?o3:null;return s?(n.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function E$(e,t){return(n,r)=>{let s=zu.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let i=pve(s,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const i3=E$(!1,!0),o3=E$(!0,!0);function C$(e={}){return new ht({view(t){return new bve(t,e)}})}class bve{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return t.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,a=i.height/s.offsetHeight;if(n){let h=t.nodeBefore,g=t.nodeAfter;if(h||g){let b=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(b){let v=b.getBoundingClientRect(),x=h?v.bottom:v.top;h&&g&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*a;r={left:v.left,right:v.right,top:x-w,bottom:x+w}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;r={left:h.left-g,right:h.left+g,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,f=-pageYOffset;else{let h=l.getBoundingClientRect(),g=h.width/l.offsetWidth,b=h.height/l.offsetHeight;u=h.left-l.scrollLeft*g,f=h.top-l.scrollTop*b}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,t):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=dU(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const Wi=()=>new Map,qk=e=>{const t=Wi();return e.forEach((n,r)=>{t.set(r,n)}),t},wa=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},yve=(e,t)=>{const n=[];for(const[r,s]of e)n.push(t(s,r));return n},vve=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},ad=()=>new Set,w2=e=>e[e.length-1],xve=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},Lc=Array.from,wve=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},Gk=Array.isArray;class S${constructor(){this._observers=Wi()}on(t,n){return wa(this._observers,t,ad).add(n),n}once(t,n){const r=(...s)=>{this.off(t,r),n(...s)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return Lc((this._observers.get(t)||Wi()).values()).forEach(r=>r(...n))}destroy(){this._observers=Wi()}}const ml=Math.floor,iy=Math.abs,ol=(e,t)=>e<t?e:t,_o=(e,t)=>e>t?e:t,T$=e=>e!==0?e<0:1/e<0,y5=1,v5=2,E2=4,C2=8,Mg=32,al=64,cs=128,Eve=1<<29,bw=31,Yk=63,$u=127,Cve=2147483647,k$=Number.MAX_SAFE_INTEGER,Sve=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&ml(e)===e),Tve=String.fromCharCode,kve=e=>e.toLowerCase(),_ve=/^\s*/g,Nve=e=>e.replace(_ve,""),Ave=/([A-Z])/g,x5=(e,t)=>Nve(e.replace(Ave,n=>`${t}${kve(n)}`)),Mve=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.codePointAt(s);return r},Og=typeof TextEncoder<"u"?new TextEncoder:null,Ove=e=>Og.encode(e),Rve=Og?Ove:Mve;let Bm=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Bm&&Bm.decode(new Uint8Array).length===1&&(Bm=null);class v0{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const x0=()=>new v0,Ive=e=>{const t=x0();return e(t),mo(t)},Dve=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},mo=e=>{const t=new Uint8Array(Dve(e));let n=0;for(let r=0;r<e.bufs.length;r++){const s=e.bufs[r];t.set(s,n),n+=s.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},Lve=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(_o(n,t)*2),e.cpos=0)},Tr=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},Wk=Tr,Bt=(e,t)=>{for(;t>$u;)Tr(e,cs|$u&t),t=ml(t/128);Tr(e,$u&t)},a3=(e,t)=>{const n=T$(t);for(n&&(t=-t),Tr(e,(t>Yk?cs:0)|(n?al:0)|Yk&t),t=ml(t/64);t>0;)Tr(e,(t>$u?cs:0)|$u&t),t=ml(t/128)},Kk=new Uint8Array(3e4),jve=Kk.length/3,Pve=(e,t)=>{if(t.length<jve){const n=Og.encodeInto(t,Kk).written||0;Bt(e,n);for(let r=0;r<n;r++)Tr(e,Kk[r])}else si(e,Rve(t))},Bve=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;Bt(e,r);for(let s=0;s<r;s++)Tr(e,n.codePointAt(s))},rh=Og&&Og.encodeInto?Pve:Bve,yw=(e,t)=>{const n=e.cbuf.length,r=e.cpos,s=ol(n-r,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),r),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(_o(n*2,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},si=(e,t)=>{Bt(e,t.byteLength),yw(e,t)},l3=(e,t)=>{Lve(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},Hve=(e,t)=>l3(e,4).setFloat32(0,t,!1),Fve=(e,t)=>l3(e,8).setFloat64(0,t,!1),Uve=(e,t)=>l3(e,8).setBigInt64(0,t,!1),w5=new DataView(new ArrayBuffer(4)),zve=e=>(w5.setFloat32(0,e),w5.getFloat32(0)===e),Ch=(e,t)=>{switch(typeof t){case"string":Tr(e,119),rh(e,t);break;case"number":Sve(t)&&iy(t)<=Cve?(Tr(e,125),a3(e,t)):zve(t)?(Tr(e,124),Hve(e,t)):(Tr(e,123),Fve(e,t));break;case"bigint":Tr(e,122),Uve(e,t);break;case"object":if(t===null)Tr(e,126);else if(Gk(t)){Tr(e,117),Bt(e,t.length);for(let n=0;n<t.length;n++)Ch(e,t[n])}else if(t instanceof Uint8Array)Tr(e,116),si(e,t);else{Tr(e,118);const n=Object.keys(t);Bt(e,n.length);for(let r=0;r<n.length;r++){const s=n[r];rh(e,s),Ch(e,t[s])}}break;case"boolean":Tr(e,t?120:121);break;default:Tr(e,127)}};class E5 extends v0{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Bt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const C5=e=>{e.count>0&&(a3(e.encoder,e.count===1?e.s:-e.s),e.count>1&&Bt(e.encoder,e.count-2))};class oy{constructor(){this.encoder=new v0,this.s=0,this.count=0}write(t){this.s===t?this.count++:(C5(this),this.count=1,this.s=t)}toUint8Array(){return C5(this),mo(this.encoder)}}const S5=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);a3(e.encoder,t),e.count>1&&Bt(e.encoder,e.count-2)}};class S2{constructor(){this.encoder=new v0,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(S5(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return S5(this),mo(this.encoder)}}class $ve{constructor(){this.sarr=[],this.s="",this.lensE=new oy}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new v0;return this.sarr.push(this.s),this.s="",rh(t,this.sarr.join("")),yw(t,this.lensE.toUint8Array()),mo(t)}}const jc=e=>new Error(e),vo=()=>{throw jc("Method unimplemented")},yi=()=>{throw jc("Unexpected case")},_$=jc("Unexpected end of array"),N$=jc("Integer out of Range");class vw{constructor(t){this.arr=t,this.pos=0}}const Wh=e=>new vw(e),Vve=e=>e.pos!==e.arr.length,qve=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},ii=e=>qve(e,Ot(e)),Sh=e=>e.arr[e.pos++],Ot=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const s=e.arr[e.pos++];if(t=t+(s&$u)*n,n*=128,s<cs)return t;if(t>k$)throw N$}throw _$},c3=e=>{let t=e.arr[e.pos++],n=t&Yk,r=64;const s=(t&al)>0?-1:1;if((t&cs)===0)return s*n;const i=e.arr.length;for(;e.pos<i;){if(t=e.arr[e.pos++],n=n+(t&$u)*r,r*=128,t<cs)return s*n;if(n>k$)throw N$}throw _$},Gve=e=>{let t=Ot(e);if(t===0)return"";{let n=String.fromCodePoint(Sh(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(Sh(e));else for(;t>0;){const r=t<1e4?t:1e4,s=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,s),t-=r}return decodeURIComponent(escape(n))}},Yve=e=>Bm.decode(ii(e)),sh=Bm?Yve:Gve,u3=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},Wve=e=>u3(e,4).getFloat32(0,!1),Kve=e=>u3(e,8).getFloat64(0,!1),Qve=e=>u3(e,8).getBigInt64(0,!1),Xve=[e=>{},e=>null,c3,Wve,Kve,Qve,e=>!1,e=>!0,sh,e=>{const t=Ot(e),n={};for(let r=0;r<t;r++){const s=sh(e);n[s]=Rg(e)}return n},e=>{const t=Ot(e),n=[];for(let r=0;r<t;r++)n.push(Rg(e));return n},ii],Rg=e=>Xve[127-Sh(e)](e);class T5 extends vw{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Vve(this)?this.count=Ot(this)+1:this.count=-1),this.count--,this.s}}class ay extends vw{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=c3(this);const t=T$(this.s);this.count=1,t&&(this.s=-this.s,this.count=Ot(this)+2)}return this.count--,this.s}}class T2 extends vw{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=c3(this),n=t&1;this.diff=ml(t/2),this.count=1,n&&(this.count=Ot(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Zve{constructor(t){this.decoder=new ay(t),this.str=sh(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const Jve=crypto.getRandomValues.bind(crypto),exe=Math.random,A$=()=>Jve(new Uint32Array(1))[0],txe=e=>e[ml(exe()*e.length)],nxe="10000000-1000-4000-8000"+-1e11,rxe=()=>nxe.replace(/[018]/g,e=>(e^A$()&15>>e/4).toString(16)),sxe=Date.now,k5=e=>new Promise(e);Promise.all.bind(Promise);const _5=e=>e===void 0?null:e;class ixe{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let M$=new ixe,oxe=!0;try{typeof localStorage<"u"&&localStorage&&(M$=localStorage,oxe=!1)}catch{}const axe=M$,lxe=Object.assign,O$=Object.keys,cxe=(e,t)=>{for(const n in e)t(e[n],n)},N5=e=>O$(e).length,uxe=e=>{for(const t in e)return!1;return!0},R$=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},dxe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),fxe=(e,t)=>e===t||N5(e)===N5(t)&&R$(e,(n,r)=>(n!==void 0||dxe(t,r))&&t[r]===n),hxe=Object.freeze,I$=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&I$(e[t])}return hxe(e)},d3=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&d3(e,t,n+1)}},pxe=e=>e,mxe=(e,t)=>t.includes(e);var D$={};const Th=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",L$=typeof window<"u"&&typeof document<"u"&&!Th;let Yo;const gxe=()=>{if(Yo===void 0)if(Th){Yo=Wi();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&Yo.set(t,""),t=r):t!==null&&(Yo.set(t,r),t=null)}t!==null&&Yo.set(t,"")}else typeof location=="object"?(Yo=Wi(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");Yo.set(`--${x5(t,"-")}`,n),Yo.set(`-${x5(t,"-")}`,n)}})):Yo=Wi();return Yo},Qk=e=>gxe().has(e),nv=e=>_5(Th?D$[e.toUpperCase().replaceAll("-","_")]:axe.getItem(e)),j$=e=>Qk("--"+e)||nv(e)!==null;j$("production");const bxe=Th&&mxe(D$.FORCE_COLOR,["true","1","2"]),yxe=bxe||!Qk("--no-colors")&&!j$("no-color")&&(!Th||process.stdout.isTTY)&&(!Th||Qk("--color")||nv("COLORTERM")!==null||(nv("TERM")||"").includes("color")),vxe=e=>new Uint8Array(e),xxe=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=Tve(e[n]);return btoa(t)},wxe=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),Exe=L$?xxe:wxe,Cxe=e=>{const t=vxe(e.byteLength);return t.set(e),t},Sxe=e=>Ive(t=>Ch(t,e));class Txe{constructor(t,n){this.left=t,this.right=n}}const qa=(e,t)=>new Txe(e,t),kxe=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const _xe=e=>yve(e,(t,n)=>`${n}:${t};`).join(""),Nxe=e=>class{constructor(n){this._=n}destroy(){e(this._)}},Axe=Nxe(clearTimeout),f3=(e,t)=>new Axe(setTimeout(t,e)),wl=Symbol,P$=wl(),B$=wl(),Mxe=wl(),Oxe=wl(),Rxe=wl(),H$=wl(),Ixe=wl(),h3=wl(),Dxe=wl(),Lxe=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const s=e[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)t.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const s=e[r];s instanceof Symbol||n.push(s)}return n},jxe={[P$]:qa("font-weight","bold"),[B$]:qa("font-weight","normal"),[Mxe]:qa("color","blue"),[Rxe]:qa("color","green"),[Oxe]:qa("color","grey"),[H$]:qa("color","red"),[Ixe]:qa("color","purple"),[h3]:qa("color","orange"),[Dxe]:qa("color","black")},Pxe=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=Wi();let s=[],i=0;for(;i<e.length;i++){const o=e[i],a=jxe[o];if(a!==void 0)r.set(a.left,a.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const l=_xe(r);i>0||l.length>0?(t.push("%c"+o),n.push(l)):t.push(o)}else break}}for(i>0&&(s=n,s.unshift(t.join("")));i<e.length;i++){const o=e[i];o instanceof Symbol||s.push(o)}return s},F$=yxe?Pxe:Lxe,Bxe=(...e)=>{console.log(...F$(e)),z$.forEach(t=>t.print(e))},U$=(...e)=>{console.warn(...F$(e)),e.unshift(h3),z$.forEach(t=>t.print(e))},z$=ad(),$$=e=>({[Symbol.iterator](){return this},next:e}),Hxe=(e,t)=>$$(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),k2=(e,t)=>$$(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class p3{constructor(t,n){this.clock=t,this.len=n}}class Kh{constructor(){this.clients=new Map}}const Pc=(e,t,n)=>t.clients.forEach((r,s)=>{const i=e.doc.store.clients.get(s);if(i!=null){const o=i[i.length-1],a=o.id.clock+o.length;for(let l=0,u=r[l];l<r.length&&u.clock<a;u=r[++l])rV(e,i,u.clock,u.len,n)}}),Fxe=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const s=ml((n+r)/2),i=e[s],o=i.clock;if(o<=t){if(t<o+i.len)return s;n=s+1}else r=s-1}return null},Qh=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&Fxe(n,t.clock)!==null},m3=e=>{e.clients.forEach(t=>{t.sort((s,i)=>s.clock-i.clock);let n,r;for(n=1,r=1;n<t.length;n++){const s=t[r-1],i=t[n];s.clock+s.len>=i.clock?s.len=_o(s.len,i.clock+i.len-s.clock):(r<n&&(t[r]=i),r++)}t.length=r})},Xk=e=>{const t=new Kh;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,s)=>{if(!t.clients.has(s)){const i=r.slice();for(let o=n+1;o<e.length;o++)xve(i,e[o].clients.get(s)||[]);t.clients.set(s,i)}});return m3(t),t},Ig=(e,t,n,r)=>{wa(e.clients,t,()=>[]).push(new p3(n,r))},V$=()=>new Kh,q$=e=>{const t=V$();return e.clients.forEach((n,r)=>{const s=[];for(let i=0;i<n.length;i++){const o=n[i];if(o.deleted){const a=o.id.clock;let l=o.length;if(i+1<n.length)for(let u=n[i+1];i+1<n.length&&u.deleted;u=n[++i+1])l+=u.length;s.push(new p3(a,l))}}s.length>0&&t.clients.set(r,s)}),t},Xh=(e,t)=>{Bt(e.restEncoder,t.clients.size),Lc(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),Bt(e.restEncoder,n);const s=r.length;Bt(e.restEncoder,s);for(let i=0;i<s;i++){const o=r[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}})},g3=e=>{const t=new Kh,n=Ot(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const s=Ot(e.restDecoder),i=Ot(e.restDecoder);if(i>0){const o=wa(t.clients,s,()=>[]);for(let a=0;a<i;a++)o.push(new p3(e.readDsClock(),e.readDsLen()))}}return t},A5=(e,t,n)=>{const r=new Kh,s=Ot(e.restDecoder);for(let i=0;i<s;i++){e.resetDsCurVal();const o=Ot(e.restDecoder),a=Ot(e.restDecoder),l=n.clients.get(o)||[],u=Wn(n,o);for(let f=0;f<a;f++){const h=e.readDsClock(),g=h+e.readDsLen();if(h<u){u<g&&Ig(r,o,u,g-u);let b=Zi(l,h),v=l[b];for(!v.deleted&&v.id.clock<h&&(l.splice(b+1,0,cv(t,v,h-v.id.clock)),b++);b<l.length&&(v=l[b++],v.id.clock<g);)v.deleted||(g<v.id.clock+v.length&&l.splice(b,0,cv(t,v,g-v.id.clock)),v.delete(t))}else Ig(r,o,h,g-h)}}if(r.clients.size>0){const i=new ld;return Bt(i.restEncoder,0),Xh(i,r),i.toUint8Array()}return null},G$=A$;class Kc extends S${constructor({guid:t=rxe(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=G$(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new tV,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=k5(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});const l=()=>k5(u=>{const f=h=>{(h===void 0||h===!0)&&(this.off("sync",f),u())};this.on("sync",f)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const t=this._item;t!==null&&!this.shouldLoad&&bn(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Lc(this.subdocs).map(t=>t.guid))}transact(t,n=null){return bn(this,t,n)}get(t,n=Nr){const r=wa(this.share,t,()=>{const i=new n;return i._integrate(this,null),i}),s=r.constructor;if(n!==Nr&&s!==n)if(s===Nr){const i=new n;i._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=r._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=r._length,this.share.set(t,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,ah)}getText(t=""){return this.get(t,Bc)}getMap(t=""){return this.get(t,_h)}getXmlElement(t=""){return this.get(t,Fr)}getXmlFragment(t=""){return this.get(t,cd)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,Lc(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new Kc({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,bn(t.parent.doc,r=>{const s=n.doc;t.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Y${constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Ot(this.restDecoder)}readDsLen(){return Ot(this.restDecoder)}}class W$ extends Y${readLeftID(){return mt(Ot(this.restDecoder),Ot(this.restDecoder))}readRightID(){return mt(Ot(this.restDecoder),Ot(this.restDecoder))}readClient(){return Ot(this.restDecoder)}readInfo(){return Sh(this.restDecoder)}readString(){return sh(this.restDecoder)}readParentInfo(){return Ot(this.restDecoder)===1}readTypeRef(){return Ot(this.restDecoder)}readLen(){return Ot(this.restDecoder)}readAny(){return Rg(this.restDecoder)}readBuf(){return Cxe(ii(this.restDecoder))}readJSON(){return JSON.parse(sh(this.restDecoder))}readKey(){return sh(this.restDecoder)}}class Uxe{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ot(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Ot(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class kh extends Uxe{constructor(t){super(t),this.keys=[],Ot(t),this.keyClockDecoder=new T2(ii(t)),this.clientDecoder=new ay(ii(t)),this.leftClockDecoder=new T2(ii(t)),this.rightClockDecoder=new T2(ii(t)),this.infoDecoder=new T5(ii(t),Sh),this.stringDecoder=new Zve(ii(t)),this.parentInfoDecoder=new T5(ii(t),Sh),this.typeRefDecoder=new ay(ii(t)),this.lenDecoder=new ay(ii(t))}readLeftID(){return new ih(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ih(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Rg(this.restDecoder)}readBuf(){return ii(this.restDecoder)}readJSON(){return Rg(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class K${constructor(){this.restEncoder=x0()}toUint8Array(){return mo(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Bt(this.restEncoder,t)}writeDsLen(t){Bt(this.restEncoder,t)}}class w0 extends K${writeLeftID(t){Bt(this.restEncoder,t.client),Bt(this.restEncoder,t.clock)}writeRightID(t){Bt(this.restEncoder,t.client),Bt(this.restEncoder,t.clock)}writeClient(t){Bt(this.restEncoder,t)}writeInfo(t){Wk(this.restEncoder,t)}writeString(t){rh(this.restEncoder,t)}writeParentInfo(t){Bt(this.restEncoder,t?1:0)}writeTypeRef(t){Bt(this.restEncoder,t)}writeLen(t){Bt(this.restEncoder,t)}writeAny(t){Ch(this.restEncoder,t)}writeBuf(t){si(this.restEncoder,t)}writeJSON(t){rh(this.restEncoder,JSON.stringify(t))}writeKey(t){rh(this.restEncoder,t)}}class Q${constructor(){this.restEncoder=x0(),this.dsCurrVal=0}toUint8Array(){return mo(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,Bt(this.restEncoder,n)}writeDsLen(t){t===0&&yi(),Bt(this.restEncoder,t-1),this.dsCurrVal+=t}}class ld extends Q${constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new S2,this.clientEncoder=new oy,this.leftClockEncoder=new S2,this.rightClockEncoder=new S2,this.infoEncoder=new E5(Wk),this.stringEncoder=new $ve,this.parentInfoEncoder=new E5(Wk),this.typeRefEncoder=new oy,this.lenEncoder=new oy}toUint8Array(){const t=x0();return Bt(t,0),si(t,this.keyClockEncoder.toUint8Array()),si(t,this.clientEncoder.toUint8Array()),si(t,this.leftClockEncoder.toUint8Array()),si(t,this.rightClockEncoder.toUint8Array()),si(t,mo(this.infoEncoder)),si(t,this.stringEncoder.toUint8Array()),si(t,mo(this.parentInfoEncoder)),si(t,this.typeRefEncoder.toUint8Array()),si(t,this.lenEncoder.toUint8Array()),yw(t,mo(this.restEncoder)),mo(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Ch(this.restEncoder,t)}writeBuf(t){si(this.restEncoder,t)}writeJSON(t){Ch(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const zxe=(e,t,n,r)=>{r=_o(r,t[0].id.clock);const s=Zi(t,r);Bt(e.restEncoder,t.length-s),e.writeClient(n),Bt(e.restEncoder,r);const i=t[s];i.write(e,r-i.id.clock);for(let o=s+1;o<t.length;o++)t[o].write(e,0)},b3=(e,t,n)=>{const r=new Map;n.forEach((s,i)=>{Wn(t,i)>s&&r.set(i,s)}),E0(t).forEach((s,i)=>{n.has(i)||r.set(i,0)}),Bt(e.restEncoder,r.size),Lc(r.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{zxe(e,t.clients.get(s),s,i)})},$xe=(e,t)=>{const n=Wi(),r=Ot(e.restDecoder);for(let s=0;s<r;s++){const i=Ot(e.restDecoder),o=new Array(i),a=e.readClient();let l=Ot(e.restDecoder);n.set(a,{i:0,refs:o});for(let u=0;u<i;u++){const f=e.readInfo();switch(bw&f){case 0:{const h=e.readLen();o[u]=new zi(mt(a,l),h),l+=h;break}case 10:{const h=Ot(e.restDecoder);o[u]=new $i(mt(a,l),h),l+=h;break}default:{const h=(f&(al|cs))===0,g=new an(mt(a,l),null,(f&cs)===cs?e.readLeftID():null,null,(f&al)===al?e.readRightID():null,h?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,h&&(f&Mg)===Mg?e.readString():null,TV(e,f));o[u]=g,l+=g.length}}}}return n},Vxe=(e,t,n)=>{const r=[];let s=Lc(n.keys()).sort((b,v)=>b-v);if(s.length===0)return null;const i=()=>{if(s.length===0)return null;let b=n.get(s[s.length-1]);for(;b.refs.length===b.i;)if(s.pop(),s.length>0)b=n.get(s[s.length-1]);else return null;return b};let o=i();if(o===null)return null;const a=new tV,l=new Map,u=(b,v)=>{const x=l.get(b);(x==null||x>v)&&l.set(b,v)};let f=o.refs[o.i++];const h=new Map,g=()=>{for(const b of r){const v=b.id.client,x=n.get(v);x?(x.i--,a.clients.set(v,x.refs.slice(x.i)),n.delete(v),x.i=0,x.refs=[]):a.clients.set(v,[b]),s=s.filter(w=>w!==v)}r.length=0};for(;;){if(f.constructor!==$i){const v=wa(h,f.id.client,()=>Wn(t,f.id.client))-f.id.clock;if(v<0)r.push(f),u(f.id.client,f.id.clock-1),g();else{const x=f.getMissing(e,t);if(x!==null){r.push(f);const w=n.get(x)||{refs:[],i:0};if(w.refs.length===w.i)u(x,Wn(t,x)),g();else{f=w.refs[w.i++];continue}}else(v===0||v<f.length)&&(f.integrate(e,v),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(o!==null&&o.i<o.refs.length)f=o.refs[o.i++];else{if(o=i(),o===null)break;f=o.refs[o.i++]}}if(a.clients.size>0){const b=new ld;return b3(b,a,new Map),Bt(b.restEncoder,0),{missing:l,update:b.toUint8Array()}}return null},qxe=(e,t)=>b3(e,t.doc.store,t.beforeState),Gxe=(e,t,n,r=new kh(e))=>bn(t,s=>{s.local=!1;let i=!1;const o=s.doc,a=o.store,l=$xe(r,o),u=Vxe(s,a,l),f=a.pendingStructs;if(f){for(const[g,b]of f.missing)if(b<Wn(a,g)){i=!0;break}if(u){for(const[g,b]of u.missing){const v=f.missing.get(g);(v==null||v>b)&&f.missing.set(g,b)}f.update=sv([f.update,u.update])}}else a.pendingStructs=u;const h=A5(r,s,a);if(a.pendingDs){const g=new kh(Wh(a.pendingDs));Ot(g.restDecoder);const b=A5(g,s,a);h&&b?a.pendingDs=sv([h,b]):a.pendingDs=h||b}else a.pendingDs=h;if(i){const g=a.pendingStructs.update;a.pendingStructs=null,rv(s.doc,g)}},n,!1),rv=(e,t,n,r=kh)=>{const s=Wh(t);Gxe(s,e,n,new r(s))},M5=(e,t,n)=>rv(e,t,n,W$),Yxe=(e,t,n=new Map)=>{b3(e,t.store,n),Xh(e,q$(t.store))},Wxe=(e,t=new Uint8Array([0]),n=new ld)=>{const r=X$(t);Yxe(n,e,r);const s=[n.toUint8Array()];if(e.store.pendingDs&&s.push(e.store.pendingDs),e.store.pendingStructs&&s.push(hwe(e.store.pendingStructs.update,t)),s.length>1){if(n.constructor===w0)return dwe(s.map((i,o)=>o===0?i:mwe(i)));if(n.constructor===ld)return sv(s)}return s[0]},O5=(e,t)=>Wxe(e,t,new w0),Kxe=e=>{const t=new Map,n=Ot(e.restDecoder);for(let r=0;r<n;r++){const s=Ot(e.restDecoder),i=Ot(e.restDecoder);t.set(s,i)}return t},X$=e=>Kxe(new Y$(Wh(e))),Z$=(e,t)=>(Bt(e.restEncoder,t.size),Lc(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{Bt(e.restEncoder,n),Bt(e.restEncoder,r)}),e),Qxe=(e,t)=>Z$(e,E0(t.store)),Xxe=(e,t=new Q$)=>(e instanceof Map?Z$(t,e):Qxe(t,e),t.toUint8Array()),Zxe=e=>Xxe(e,new K$);class Jxe{constructor(){this.l=[]}}const R5=()=>new Jxe,I5=(e,t)=>e.l.push(t),D5=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(s=>t!==s),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},J$=(e,t,n)=>d3(e.l,[t,n]);class ih{constructor(t,n){this.client=t,this.clock=n}}const Kf=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,mt=(e,t)=>new ih(e,t),Dg=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw yi()},Lg=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};class jg{constructor(t,n,r,s=0){this.type=t,this.tname=n,this.item=r,this.assoc=s}}const Hm=e=>new jg(e.type==null?null:mt(e.type.client,e.type.clock),e.tname??null,e.item==null?null:mt(e.item.client,e.item.clock),e.assoc==null?0:e.assoc);class ewe{constructor(t,n,r=0){this.type=t,this.index=n,this.assoc=r}}const twe=(e,t,n=0)=>new ewe(e,t,n),E1=(e,t,n)=>{let r=null,s=null;return e._item===null?s=Dg(e):r=mt(e._item.id.client,e._item.id.clock),new jg(r,s,t,n)},_2=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return E1(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return E1(e,mt(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return E1(e,r.lastId,n);r=r.right}return E1(e,null,n)},nwe=(e,t)=>{const n=oh(e,t),r=t.clock-n.id.clock;return{item:n,diff:r}},rwe=(e,t,n=!0)=>{const r=t.store,s=e.item,i=e.type,o=e.tname,a=e.assoc;let l=null,u=0;if(s!==null){if(Wn(r,s.client)<=s.clock)return null;const f=n?t_(r,s):nwe(r,s),h=f.item;if(!(h instanceof an))return null;if(l=h.parent,l._item===null||!l._item.deleted){u=h.deleted||!h.countable?0:f.diff+(a>=0?0:1);let g=h.left;for(;g!==null;)!g.deleted&&g.countable&&(u+=g.length),g=g.left}}else{if(o!==null)l=t.get(o);else if(i!==null){if(Wn(r,i.client)<=i.clock)return null;const{item:f}=n?t_(r,i):{item:oh(r,i)};if(f instanceof an&&f.content instanceof Do)l=f.content.type;else return null}else throw yi();a>=0?u=l._length:u=0}return twe(l,u,e.assoc)},L5=(e,t)=>e===t||e!==null&&t!==null&&e.tname===t.tname&&Kf(e.item,t.item)&&Kf(e.type,t.type)&&e.assoc===t.assoc;class y3{constructor(t,n){this.ds=t,this.sv=n}}const eV=(e,t)=>new y3(e,t),N2=e=>eV(q$(e.store),E0(e.store)),Ru=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Qh(t.ds,e.id),Zk=(e,t)=>{const n=wa(e.meta,Zk,ad),r=e.doc.store;n.has(t)||(t.sv.forEach((s,i)=>{s<Wn(r,i)&&Ls(e,mt(i,s))}),Pc(e,t.ds,s=>{}),n.add(t))};class tV{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const E0=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const s=n[n.length-1];t.set(r,s.id.clock+s.length)}),t},Wn=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},nV=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw yi()}n.push(t)},Zi=(e,t)=>{let n=0,r=e.length-1,s=e[r],i=s.id.clock;if(i===t)return r;let o=ml(t/(i+s.length-1)*r);for(;n<=r;){if(s=e[o],i=s.id.clock,i<=t){if(t<i+s.length)return o;n=o+1}else r=o-1;o=ml((n+r)/2)}throw yi()},swe=(e,t)=>{const n=e.clients.get(t.client);return n[Zi(n,t.clock)]},oh=swe,Jk=(e,t,n)=>{const r=Zi(t,n),s=t[r];return s.id.clock<n&&s instanceof an?(t.splice(r+1,0,cv(e,s,n-s.id.clock)),r+1):r},Ls=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Jk(e,n,t.clock)]},j5=(e,t,n)=>{const r=t.clients.get(n.client),s=Zi(r,n.clock),i=r[s];return n.clock!==i.id.clock+i.length-1&&i.constructor!==zi&&r.splice(s+1,0,cv(e,i,n.clock-i.id.clock+1)),i},iwe=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Zi(r,t.id.clock)]=n},rV=(e,t,n,r,s)=>{if(r===0)return;const i=n+r;let o=Jk(e,t,n),a;do a=t[o++],i<a.id.clock+a.length&&Jk(e,t,i),s(a);while(o<t.length&&t[o].id.clock<i)};class owe{constructor(t,n,r){this.doc=t,this.deleteSet=new Kh,this.beforeState=E0(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const P5=(e,t)=>t.deleteSet.clients.size===0&&!vve(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(m3(t.deleteSet),qxe(e,t),Xh(e,t.deleteSet),!0),B5=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&wa(e.changed,t,ad).add(n)},ly=(e,t)=>{let n=e[t],r=e[t-1],s=t;for(;s>0;n=r,r=e[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof an&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const i=t-s;return i&&e.splice(t+1-i,i),i},awe=(e,t,n)=>{for(const[r,s]of e.clients.entries()){const i=t.clients.get(r);for(let o=s.length-1;o>=0;o--){const a=s[o],l=a.clock+a.len;for(let u=Zi(i,a.clock),f=i[u];u<i.length&&f.id.clock<l;f=i[++u]){const h=i[u];if(a.clock+a.len<=h.id.clock)break;h instanceof an&&h.deleted&&!h.keep&&n(h)&&h.gc(t,!1)}}}},lwe=(e,t)=>{e.clients.forEach((n,r)=>{const s=t.clients.get(r);for(let i=n.length-1;i>=0;i--){const o=n[i],a=ol(s.length-1,1+Zi(s,o.clock+o.len-1));for(let l=a,u=s[l];l>0&&u.id.clock>=o.clock;u=s[l])l-=1+ly(s,l)}})},sV=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,s=r.store,i=n.deleteSet,o=n._mergeStructs;try{m3(i),n.afterState=E0(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,u)=>a.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(l=l.filter(f=>f.target._item===null||!f.target._item.deleted),l.forEach(f=>{f.currentTarget=u,f._path=null}),l.sort((f,h)=>f.path.length-h.path.length),J$(u._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),d3(a,[]),n._needFormattingCleanup&&Awe(n)}finally{r.gc&&awe(i,s,r.gcFilter),lwe(i,s),n.afterState.forEach((f,h)=>{const g=n.beforeState.get(h)||0;if(g!==f){const b=s.clients.get(h),v=_o(Zi(b,g),1);for(let x=b.length-1;x>=v;)x-=1+ly(b,x)}});for(let f=o.length-1;f>=0;f--){const{client:h,clock:g}=o[f].id,b=s.clients.get(h),v=Zi(b,g);v+1<b.length&&ly(b,v+1)>1||v>0&&ly(b,v)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Bxe(h3,P$,"[yjs] ",B$,H$,"Changed the client-id because another client seems to be using it."),r.clientID=G$()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new w0;P5(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new ld;P5(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:u}=n;(a.size>0||u.size>0||l.size>0)&&(a.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),u.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:l,added:a,removed:u},r,n]),u.forEach(f=>f.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):sV(e,t+1)}}},bn=(e,t,n=null,r=!0)=>{const s=e._transactionCleanups;let i=!1,o=null;e._transaction===null&&(i=!0,e._transaction=new owe(e,n,r),s.push(e._transaction),s.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{o=t(e._transaction)}finally{if(i){const a=e._transaction===s[0];e._transaction=null,a&&sV(s,0)}}return o};class cwe{constructor(t,n){this.insertions=n,this.deletions=t,this.meta=new Map}}const H5=(e,t,n)=>{Pc(e,n.deletions,r=>{r instanceof an&&t.scope.some(s=>s===e.doc||Lg(s,r))&&k3(r,!1)})},F5=(e,t,n)=>{let r=null;const s=e.doc,i=e.scope;bn(s,a=>{for(;t.length>0&&e.currStackItem===null;){const l=s.store,u=t.pop(),f=new Set,h=[];let g=!1;Pc(a,u.insertions,b=>{if(b instanceof an){if(b.redone!==null){let{item:v,diff:x}=t_(l,b.id);x>0&&(v=Ls(a,mt(v.id.client,v.id.clock+x))),b=v}!b.deleted&&i.some(v=>v===a.doc||Lg(v,b))&&h.push(b)}}),Pc(a,u.deletions,b=>{b instanceof an&&i.some(v=>v===a.doc||Lg(v,b))&&!Qh(u.insertions,b.id)&&f.add(b)}),f.forEach(b=>{g=SV(a,b,f,u.insertions,e.ignoreRemoteMapChanges,e)!==null||g});for(let b=h.length-1;b>=0;b--){const v=h[b];e.deleteFilter(v)&&(v.delete(a),g=!0)}e.currStackItem=g?u:null}a.changed.forEach((l,u)=>{l.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),r=a},e);const o=e.currStackItem;if(o!=null){const a=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:a,origin:e},e]),e.currStackItem=null}return o};class iV extends S${constructor(t,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=Gk(t)?t[0].doc:t instanceof Kc?t:t.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(t),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w)||w===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const u=this.undoing,f=this.redoing,h=u?this.redoStack:this.undoStack;u?this.stopCapturing():f||this.clear(!1,!0);const g=new Kh;l.afterState.forEach((w,S)=>{const _=l.beforeState.get(S)||0,N=w-_;N>0&&Ig(g,S,_,N)});const b=sxe();let v=!1;if(this.lastChange>0&&b-this.lastChange<this.captureTimeout&&h.length>0&&!u&&!f){const w=h[h.length-1];w.deletions=Xk([w.deletions,l.deleteSet]),w.insertions=Xk([w.insertions,g])}else h.push(new cwe(l.deleteSet,g)),v=!0;!u&&!f&&(this.lastChange=b),Pc(l,l.deleteSet,w=>{w instanceof an&&this.scope.some(S=>S===l.doc||Lg(S,w))&&k3(w,!0)});const x=[{stackItem:h[h.length-1],origin:l.origin,type:u?"redo":"undo",changedParentTypes:l.changedParentTypes},this];v?this.emit("stack-item-added",x):this.emit("stack-item-updated",x)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){const n=new Set(this.scope);t=Gk(t)?t:[t],t.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Nr?r.doc!==this.doc:r!==this.doc)&&U$("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,n=!0){(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{t&&(this.undoStack.forEach(s=>H5(r,this,s)),this.undoStack=[]),n&&(this.redoStack.forEach(s=>H5(r,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=F5(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=F5(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*uwe(e){const t=Ot(e.restDecoder);for(let n=0;n<t;n++){const r=Ot(e.restDecoder),s=e.readClient();let i=Ot(e.restDecoder);for(let o=0;o<r;o++){const a=e.readInfo();if(a===10){const l=Ot(e.restDecoder);yield new $i(mt(s,i),l),i+=l}else if((bw&a)!==0){const l=(a&(al|cs))===0,u=new an(mt(s,i),null,(a&cs)===cs?e.readLeftID():null,null,(a&al)===al?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(a&Mg)===Mg?e.readString():null,TV(e,a));yield u,i+=u.length}else{const l=e.readLen();yield new zi(mt(s,i),l),i+=l}}}}class v3{constructor(t,n){this.gen=uwe(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===$i);return this.curr}}class x3{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const dwe=e=>sv(e,W$,w0),fwe=(e,t)=>{if(e.constructor===zi){const{client:n,clock:r}=e.id;return new zi(mt(n,r+t),e.length-t)}else if(e.constructor===$i){const{client:n,clock:r}=e.id;return new $i(mt(n,r+t),e.length-t)}else{const n=e,{client:r,clock:s}=n.id;return new an(mt(r,s+t),null,mt(r,s+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},sv=(e,t=kh,n=ld)=>{if(e.length===1)return e[0];const r=e.map(f=>new t(Wh(f)));let s=r.map(f=>new v3(f,!0)),i=null;const o=new n,a=new x3(o);for(;s=s.filter(g=>g.curr!==null),s.sort((g,b)=>{if(g.curr.id.client===b.curr.id.client){const v=g.curr.id.clock-b.curr.id.clock;return v===0?g.curr.constructor===b.curr.constructor?0:g.curr.constructor===$i?1:-1:v}else return b.curr.id.client-g.curr.id.client}),s.length!==0;){const f=s[0],h=f.curr.id.client;if(i!==null){let g=f.curr,b=!1;for(;g!==null&&g.id.clock+g.length<=i.struct.id.clock+i.struct.length&&g.id.client>=i.struct.id.client;)g=f.next(),b=!0;if(g===null||g.id.client!==h||b&&g.id.clock>i.struct.id.clock+i.struct.length)continue;if(h!==i.struct.id.client)hc(a,i.struct,i.offset),i={struct:g,offset:0},f.next();else if(i.struct.id.clock+i.struct.length<g.id.clock)if(i.struct.constructor===$i)i.struct.length=g.id.clock+g.length-i.struct.id.clock;else{hc(a,i.struct,i.offset);const v=g.id.clock-i.struct.id.clock-i.struct.length;i={struct:new $i(mt(h,i.struct.id.clock+i.struct.length),v),offset:0}}else{const v=i.struct.id.clock+i.struct.length-g.id.clock;v>0&&(i.struct.constructor===$i?i.struct.length-=v:g=fwe(g,v)),i.struct.mergeWith(g)||(hc(a,i.struct,i.offset),i={struct:g,offset:0},f.next())}}else i={struct:f.curr,offset:0},f.next();for(let g=f.curr;g!==null&&g.id.client===h&&g.id.clock===i.struct.id.clock+i.struct.length&&g.constructor!==$i;g=f.next())hc(a,i.struct,i.offset),i={struct:g,offset:0}}i!==null&&(hc(a,i.struct,i.offset),i=null),w3(a);const l=r.map(f=>g3(f)),u=Xk(l);return Xh(o,u),o.toUint8Array()},hwe=(e,t,n=kh,r=ld)=>{const s=X$(t),i=new r,o=new x3(i),a=new n(Wh(e)),l=new v3(a,!1);for(;l.curr;){const f=l.curr,h=f.id.client,g=s.get(h)||0;if(l.curr.constructor===$i){l.next();continue}if(f.id.clock+f.length>g)for(hc(o,f,_o(g-f.id.clock,0)),l.next();l.curr&&l.curr.id.client===h;)hc(o,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===h&&l.curr.id.clock+l.curr.length<=g;)l.next()}w3(o);const u=g3(a);return Xh(i,u),i.toUint8Array()},oV=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:mo(e.encoder.restEncoder)}),e.encoder.restEncoder=x0(),e.written=0)},hc=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&oV(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Bt(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},w3=e=>{oV(e);const t=e.encoder.restEncoder;Bt(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];Bt(t,r.written),yw(t,r.restEncoder)}},pwe=(e,t,n,r)=>{const s=new n(Wh(e)),i=new v3(s,!1),o=new r,a=new x3(o);for(let u=i.curr;u!==null;u=i.next())hc(a,t(u),0);w3(a);const l=g3(s);return Xh(o,l),o.toUint8Array()},mwe=e=>pwe(e,pxe,kh,w0),U5="You must not compute changes after the event-handler fired.";class xw{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=gwe(this.currentTarget,this.target))}deletes(t){return Qh(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw jc(U5);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const i=n._map.get(s);let o,a;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))o="delete",a=w2(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=w2(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=w2(i.content.getContent());else return;t.set(s,{action:o,oldValue:a})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw jc(U5);const n=this.target,r=ad(),s=ad(),i=[];if(t={added:r,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&i.push(a)};for(let u=n._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=u.length,s.add(u)):this.adds(u)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(u.content.getContent()),r.add(u)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=u.length);a!==null&&a.retain===void 0&&l()}this._changes=t}return t}}const gwe=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,s=t._item.parent._start;for(;s!==t._item&&s!==null;)!s.deleted&&s.countable&&(r+=s.length),s=s.right;n.unshift(r)}t=t._item.parent}return n},Kr=()=>{U$("Invalid access: Add Yjs type to a document before reading data.")},aV=80;let E3=0;class bwe{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=E3++}}const ywe=e=>{e.timestamp=E3++},lV=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=E3++},vwe=(e,t,n)=>{if(e.length>=aV){const r=e.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return lV(r,t,n),r}else{const r=new bwe(t,n);return e.push(r),r}},ww=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((i,o)=>iy(t-i.index)<iy(t-o.index)?i:o);let r=e._start,s=0;for(n!==null&&(r=n.p,s=n.index,ywe(n));r.right!==null&&s<t;){if(!r.deleted&&r.countable){if(t<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>t;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&iy(n.index-s)<r.parent.length/aV?(lV(n,r,s),n):vwe(e._searchMarker,r,s)},Pg=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const s=e[r];if(n>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){e.splice(r,1);continue}s.p=i,i.marker=!0}(t<s.index||n>0&&t===s.index)&&(s.index=_o(t,s.index+n))}},Ew=(e,t,n)=>{const r=e,s=t.changedParentTypes;for(;wa(s,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;J$(r._eH,n,t)};class Nr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=R5(),this._dEH=R5(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw vo()}clone(){throw vo()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){I5(this._eH,t)}observeDeep(t){I5(this._dEH,t)}unobserve(t){D5(this._eH,t)}unobserveDeep(t){D5(this._dEH,t)}toJSON(){}}const cV=(e,t,n)=>{e.doc??Kr(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const s=[];let i=e._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){const o=i.content.getContent();if(o.length<=t)t-=o.length;else{for(let a=t;a<o.length&&r>0;a++)s.push(o[a]),r--;t=0}}i=i.right}return s},uV=e=>{e.doc??Kr();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)t.push(r[s])}n=n.right}return t},dV=(e,t)=>{const n=[];let r=e._start;for(;r!==null;){if(r.countable&&Ru(r,t)){const s=r.content.getContent();for(let i=0;i<s.length;i++)n.push(s[i])}r=r.right}return n},Bg=(e,t)=>{let n=0,r=e._start;for(e.doc??Kr();r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let i=0;i<s.length;i++)t(s[i],n++,e)}r=r.right}},fV=(e,t)=>{const n=[];return Bg(e,(r,s)=>{n.push(t(r,s,e))}),n},xwe=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},hV=(e,t)=>{e.doc??Kr();const n=ww(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},iv=(e,t,n,r)=>{let s=n;const i=e.doc,o=i.clientID,a=i.store,l=n===null?t._start:n.right;let u=[];const f=()=>{u.length>0&&(s=new an(mt(o,Wn(a,o)),s,s&&s.lastId,l,l&&l.id,t,null,new ud(u)),s.integrate(e,0),u=[])};r.forEach(h=>{if(h===null)u.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(h);break;default:switch(f(),h.constructor){case Uint8Array:case ArrayBuffer:s=new an(mt(o,Wn(a,o)),s,s&&s.lastId,l,l&&l.id,t,null,new C0(new Uint8Array(h))),s.integrate(e,0);break;case Kc:s=new an(mt(o,Wn(a,o)),s,s&&s.lastId,l,l&&l.id,t,null,new S0(h)),s.integrate(e,0);break;default:if(h instanceof Nr)s=new an(mt(o,Wn(a,o)),s,s&&s.lastId,l,l&&l.id,t,null,new Do(h)),s.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},pV=()=>jc("Length exceeded!"),mV=(e,t,n,r)=>{if(n>t._length)throw pV();if(n===0)return t._searchMarker&&Pg(t._searchMarker,n,r.length),iv(e,t,null,r);const s=n,i=ww(t,n);let o=t._start;for(i!==null&&(o=i.p,n-=i.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Ls(e,mt(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&Pg(t._searchMarker,s,r.length),iv(e,t,o,r)},wwe=(e,t,n)=>{let s=(t._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;return iv(e,t,s,n)},gV=(e,t,n,r)=>{if(r===0)return;const s=n,i=r,o=ww(t,n);let a=t._start;for(o!==null&&(a=o.p,n-=o.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Ls(e,mt(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Ls(e,mt(a.id.client,a.id.clock+r)),a.delete(e),r-=a.length),a=a.right;if(r>0)throw pV();t._searchMarker&&Pg(t._searchMarker,s,-i+r)},ov=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},C3=(e,t,n,r)=>{const s=t._map.get(n)||null,i=e.doc,o=i.clientID;let a;if(r==null)a=new ud([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new ud([r]);break;case Uint8Array:a=new C0(r);break;case Kc:a=new S0(r);break;default:if(r instanceof Nr)a=new Do(r);else throw new Error("Unexpected content type")}new an(mt(o,Wn(i.store,o)),s,s&&s.lastId,null,null,t,n,a).integrate(e,0)},S3=(e,t)=>{e.doc??Kr();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},bV=e=>{const t={};return e.doc??Kr(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},yV=(e,t)=>{e.doc??Kr();const n=e._map.get(t);return n!==void 0&&!n.deleted},Ewe=(e,t)=>{const n={};return e._map.forEach((r,s)=>{let i=r;for(;i!==null&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;i!==null&&Ru(i,t)&&(n[s]=i.content.getContent()[i.length-1])}),n},C1=e=>(e.doc??Kr(),Hxe(e._map.entries(),t=>!t[1].deleted));class Cwe extends xw{}class ah extends Nr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new ah;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ah}clone(){const t=new ah;return t.insert(0,this.toArray().map(n=>n instanceof Nr?n.clone():n)),t}get length(){return this.doc??Kr(),this._length}_callObserver(t,n){super._callObserver(t,n),Ew(this,t,new Cwe(this,t))}insert(t,n){this.doc!==null?bn(this.doc,r=>{mV(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?bn(this.doc,n=>{wwe(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?bn(this.doc,r=>{gV(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return hV(this,t)}toArray(){return uV(this)}slice(t=0,n=this.length){return cV(this,t,n)}toJSON(){return this.map(t=>t instanceof Nr?t.toJSON():t)}map(t){return fV(this,t)}forEach(t){Bg(this,t)}[Symbol.iterator](){return xwe(this)}_write(t){t.writeTypeRef(Wwe)}}const Swe=e=>new ah;class Twe extends xw{constructor(t,n,r){super(t,n),this.keysChanged=r}}class _h extends Nr{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new _h}clone(){const t=new _h;return this.forEach((n,r)=>{t.set(r,n instanceof Nr?n.clone():n)}),t}_callObserver(t,n){Ew(this,t,new Twe(this,t,n))}toJSON(){this.doc??Kr();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];t[r]=s instanceof Nr?s.toJSON():s}}),t}get size(){return[...C1(this)].length}keys(){return k2(C1(this),t=>t[0])}values(){return k2(C1(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return k2(C1(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Kr(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?bn(this.doc,n=>{ov(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?bn(this.doc,r=>{C3(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return S3(this,t)}has(t){return yV(this,t)}clear(){this.doc!==null?bn(this.doc,t=>{this.forEach(function(n,r,s){ov(t,s,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Kwe)}}const kwe=e=>new _h,xc=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&fxe(e,t);class e_{constructor(t,n,r,s){this.left=t,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&yi(),this.right.content.constructor){case dr:this.right.deleted||Zh(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const z5=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case dr:t.right.deleted||Zh(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Ls(e,mt(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},S1=(e,t,n,r)=>{const s=new Map,i=r?ww(t,n):null;if(i){const o=new e_(i.p.left,i.p,i.index,s);return z5(e,o,n-i.index)}else{const o=new e_(null,t._start,0,s);return z5(e,o,n)}},vV=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===dr&&xc(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=e.doc,i=s.clientID;r.forEach((o,a)=>{const l=n.left,u=n.right,f=new an(mt(i,Wn(s.store,i)),l,l&&l.lastId,u,u&&u.id,t,null,new dr(a,o));f.integrate(e,0),n.right=f,n.forward()})},Zh=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},xV=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===dr&&xc(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},wV=(e,t,n,r)=>{const s=e.doc,i=s.clientID,o=new Map;for(const a in r){const l=r[a],u=n.currentAttributes.get(a)??null;if(!xc(u,l)){o.set(a,u);const{left:f,right:h}=n;n.right=new an(mt(i,Wn(s.store,i)),f,f&&f.lastId,h,h&&h.id,t,null,new dr(a,l)),n.right.integrate(e,0),n.forward()}}return o},A2=(e,t,n,r,s)=>{n.currentAttributes.forEach((g,b)=>{s[b]===void 0&&(s[b]=null)});const i=e.doc,o=i.clientID;xV(n,s);const a=wV(e,t,n,s),l=r.constructor===String?new No(r):r instanceof Nr?new Do(r):new wd(r);let{left:u,right:f,index:h}=n;t._searchMarker&&Pg(t._searchMarker,n.index,l.getLength()),f=new an(mt(o,Wn(i.store,o)),u,u&&u.lastId,f,f&&f.id,t,null,l),f.integrate(e,0),n.right=f,n.index=h,n.forward(),vV(e,t,n,a)},$5=(e,t,n,r,s)=>{const i=e.doc,o=i.clientID;xV(n,s);const a=wV(e,t,n,s);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===dr));){if(!n.right.deleted)switch(n.right.content.constructor){case dr:{const{key:l,value:u}=n.right.content,f=s[l];if(f!==void 0){if(xc(f,u))a.delete(l);else{if(r===0)break e;a.set(l,u)}n.right.delete(e)}else n.currentAttributes.set(l,u);break}default:r<n.right.length&&Ls(e,mt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new an(mt(o,Wn(i.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new No(l)),n.right.integrate(e,0),n.forward()}vV(e,t,n,a)},EV=(e,t,n,r,s)=>{let i=t;const o=Wi();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===dr){const u=i.content;o.set(u.key,u)}i=i.right}let a=0,l=!1;for(;t!==i;){if(n===t&&(l=!0),!t.deleted){const u=t.content;switch(u.constructor){case dr:{const{key:f,value:h}=u,g=r.get(f)??null;(o.get(f)!==u||g===h)&&(t.delete(e),a++,!l&&(s.get(f)??null)===h&&g!==h&&(g===null?s.delete(f):s.set(f,g))),!l&&!t.deleted&&Zh(s,u);break}}}t=t.right}return a},_we=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===dr){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},Nwe=e=>{let t=0;return bn(e.doc,n=>{let r=e._start,s=e._start,i=Wi();const o=qk(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case dr:Zh(o,s.content);break;default:t+=EV(n,r,s,i,o),i=qk(o),r=s;break}s=s.right}}),t},Awe=e=>{const t=new Set,n=e.doc;for(const[r,s]of e.afterState.entries()){const i=e.beforeState.get(r)||0;s!==i&&rV(e,n.store.clients.get(r),i,s,o=>{!o.deleted&&o.content.constructor===dr&&o.constructor!==zi&&t.add(o.parent)})}bn(n,r=>{Pc(e,e.deleteSet,s=>{if(s instanceof zi||!s.parent._hasFormatting||t.has(s.parent))return;const i=s.parent;s.content.constructor===dr?t.add(i):_we(r,s)});for(const s of t)Nwe(s)})},V5=(e,t,n)=>{const r=n,s=qk(t.currentAttributes),i=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Do:case wd:case No:n<t.right.length&&Ls(e,mt(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}i&&EV(e,i,t.right,s,t.currentAttributes);const o=(t.left||t.right).parent;return o._searchMarker&&Pg(o._searchMarker,t.index,-r+n),t};class Mwe extends xw{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];bn(t,r=>{const s=new Map,i=new Map;let o=this.target._start,a=null;const l={};let u="",f=0,h=0;const g=()=>{if(a!==null){let b=null;switch(a){case"delete":h>0&&(b={delete:h}),h=0;break;case"insert":(typeof u=="object"||u.length>0)&&(b={insert:u},s.size>0&&(b.attributes={},s.forEach((v,x)=>{v!==null&&(b.attributes[x]=v)}))),u="";break;case"retain":f>0&&(b={retain:f},uxe(l)||(b.attributes=lxe({},l))),f=0;break}b&&n.push(b),a=null}};for(;o!==null;){switch(o.content.constructor){case Do:case wd:this.adds(o)?this.deletes(o)||(g(),a="insert",u=o.content.getContent()[0],g()):this.deletes(o)?(a!=="delete"&&(g(),a="delete"),h+=1):o.deleted||(a!=="retain"&&(g(),a="retain"),f+=1);break;case No:this.adds(o)?this.deletes(o)||(a!=="insert"&&(g(),a="insert"),u+=o.content.str):this.deletes(o)?(a!=="delete"&&(g(),a="delete"),h+=o.length):o.deleted||(a!=="retain"&&(g(),a="retain"),f+=o.length);break;case dr:{const{key:b,value:v}=o.content;if(this.adds(o)){if(!this.deletes(o)){const x=s.get(b)??null;xc(x,v)?v!==null&&o.delete(r):(a==="retain"&&g(),xc(v,i.get(b)??null)?delete l[b]:l[b]=v)}}else if(this.deletes(o)){i.set(b,v);const x=s.get(b)??null;xc(x,v)||(a==="retain"&&g(),l[b]=x)}else if(!o.deleted){i.set(b,v);const x=l[b];x!==void 0&&(xc(x,v)?x!==null&&o.delete(r):(a==="retain"&&g(),v===null?delete l[b]:l[b]=v))}o.deleted||(a==="insert"&&g(),Zh(s,o.content));break}}o=o.right}for(g();n.length>0;){const b=n[n.length-1];if(b.retain!==void 0&&b.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Bc extends Nr{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Kr(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Bc}clone(){const t=new Bc;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new Mwe(this,t,n);Ew(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Kr();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===No&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?bn(this.doc,r=>{const s=new e_(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const o=t[i];if(o.insert!==void 0){const a=!n&&typeof o.insert=="string"&&i===t.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&A2(r,this,s,a,o.attributes||{})}else o.retain!==void 0?$5(r,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&V5(r,s,o.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Kr();const s=[],i=new Map,o=this.doc;let a="",l=this._start;function u(){if(a.length>0){const h={};let g=!1;i.forEach((v,x)=>{g=!0,h[x]=v});const b={insert:a};g&&(b.attributes=h),s.push(b),a=""}}const f=()=>{for(;l!==null;){if(Ru(l,t)||n!==void 0&&Ru(l,n))switch(l.content.constructor){case No:{const h=i.get("ychange");t!==void 0&&!Ru(l,t)?(h===void 0||h.user!==l.id.client||h.type!=="removed")&&(u(),i.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Ru(l,n)?(h===void 0||h.user!==l.id.client||h.type!=="added")&&(u(),i.set("ychange",r?r("added",l.id):{type:"added"})):h!==void 0&&(u(),i.delete("ychange")),a+=l.content.str;break}case Do:case wd:{u();const h={insert:l.content.getContent()[0]};if(i.size>0){const g={};h.attributes=g,i.forEach((b,v)=>{g[v]=b})}s.push(h);break}case dr:Ru(l,t)&&(u(),Zh(i,l.content));break}l=l.right}u()};return t||n?bn(o,h=>{t&&Zk(h,t),n&&Zk(h,n),f()},"cleanup"):f(),s}insert(t,n,r){if(n.length<=0)return;const s=this.doc;s!==null?bn(s,i=>{const o=S1(i,this,t,!r);r||(r={},o.currentAttributes.forEach((a,l)=>{r[l]=a})),A2(i,this,o,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const s=this.doc;s!==null?bn(s,i=>{const o=S1(i,this,t,!r);A2(i,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?bn(r,s=>{V5(s,S1(s,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const s=this.doc;s!==null?bn(s,i=>{const o=S1(i,this,t,!1);o.right!==null&&$5(i,this,o,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?bn(this.doc,n=>{ov(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?bn(this.doc,r=>{C3(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return S3(this,t)}getAttributes(){return bV(this)}_write(t){t.writeTypeRef(Qwe)}}const Owe=e=>new Bc;class M2{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Kr()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===Fr||n.constructor===cd)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class cd extends Nr{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new cd}clone(){const t=new cd;return t.insert(0,this.toArray().map(n=>n instanceof Nr?n.clone():n)),t}get length(){return this.doc??Kr(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new M2(this,t)}querySelector(t){t=t.toUpperCase();const r=new M2(this,s=>s.nodeName&&s.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),Lc(new M2(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){Ew(this,t,new Dwe(this,n,t))}toString(){return fV(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const s=t.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),Bg(this,i=>{s.insertBefore(i.toDOM(t,n,r),null)}),s}insert(t,n){this.doc!==null?bn(this.doc,r=>{mV(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)bn(this.doc,r=>{const s=t&&t instanceof Nr?t._item:t;iv(r,this,s,n)});else{const r=this._prelimContent,s=t===null?0:r.findIndex(i=>i===t)+1;if(s===0&&t!==null)throw jc("Reference item not found");r.splice(s,0,...n)}}delete(t,n=1){this.doc!==null?bn(this.doc,r=>{gV(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return uV(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return hV(this,t)}slice(t=0,n=this.length){return cV(this,t,n)}forEach(t){Bg(this,t)}_write(t){t.writeTypeRef(Zwe)}}const Rwe=e=>new cd;class Fr extends cd{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new Fr(this.nodeName)}clone(){const t=new Fr(this.nodeName),n=this.getAttributes();return cxe(n,(r,s)=>{typeof r=="string"&&t.setAttribute(s,r)}),t.insert(0,this.toArray().map(r=>r instanceof Nr?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const a in t)r.push(a);r.sort();const s=r.length;for(let a=0;a<s;a++){const l=r[a];n.push(l+'="'+t[l]+'"')}const i=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(t){this.doc!==null?bn(this.doc,n=>{ov(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?bn(this.doc,r=>{C3(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return S3(this,t)}hasAttribute(t){return yV(this,t)}getAttributes(t){return t?Ewe(this,t):bV(this)}toDOM(t=document,n={},r){const s=t.createElement(this.nodeName),i=this.getAttributes();for(const o in i){const a=i[o];typeof a=="string"&&s.setAttribute(o,a)}return Bg(this,o=>{s.appendChild(o.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(t){t.writeTypeRef(Xwe),t.writeKey(this.nodeName)}}const Iwe=e=>new Fr(e.readKey());class Dwe extends xw{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class av extends _h{constructor(t){super(),this.hookName=t}_copy(){return new av(this.hookName)}clone(){const t=new av(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const s=n[this.hookName];let i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(Jwe),t.writeKey(this.hookName)}}const Lwe=e=>new av(e.readKey());class di extends Bc{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new di}clone(){const t=new di;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const s=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(t=>{const n=[];for(const s in t.attributes){const i=[];for(const o in t.attributes[s])i.push({key:o,value:t.attributes[s][o]});i.sort((o,a)=>o.key<a.key?-1:1),n.push({nodeName:s,attrs:i})}n.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const i=n[s];r+=`<${i.nodeName}`;for(let o=0;o<i.attrs.length;o++){const a=i.attrs[o];r+=` ${a.key}="${a.value}"`}r+=">"}r+=t.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(eEe)}}const jwe=e=>new di;class T3{constructor(t,n){this.id=t,this.length=n}get deleted(){throw vo()}mergeWith(t){return!1}write(t,n,r){throw vo()}integrate(t,n){throw vo()}}const Pwe=0;class zi extends T3{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),nV(t.doc.store,this)}write(t,n){t.writeInfo(Pwe),t.writeLen(this.length-n)}getMissing(t,n){return null}}class C0{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new C0(this.content)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const Bwe=e=>new C0(e.readBuf());class Hg{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Hg(this.len)}splice(t){const n=new Hg(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Ig(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const Hwe=e=>new Hg(e.readLen()),CV=(e,t)=>new Kc({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class S0{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new S0(CV(this.doc.guid,this.opts))}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Fwe=e=>new S0(CV(e.readString(),e.readAny()));class wd{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new wd(this.embed)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const Uwe=e=>new wd(e.readJSON());class dr{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new dr(this.key,this.value)}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const zwe=e=>new dr(e.readKey(),e.readJSON());class lv{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new lv(this.arr)}splice(t){const n=new lv(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const $we=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const s=e.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new lv(n)},Vwe=nv("node_env")==="development";class ud{constructor(t){this.arr=t,Vwe&&I$(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ud(this.arr)}splice(t){const n=new ud(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeAny(i)}}getRef(){return 8}}const qwe=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new ud(n)};class No{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new No(this.str)}splice(t){const n=new No(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Gwe=e=>new No(e.readString()),Ywe=[Swe,kwe,Owe,Iwe,Rwe,Lwe,jwe],Wwe=0,Kwe=1,Qwe=2,Xwe=3,Zwe=4,Jwe=5,eEe=6;class Do{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Do(this.type._copy())}splice(t){throw vo()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const tEe=e=>new Do(Ywe[e.readTypeRef()](e)),t_=(e,t)=>{let n=t,r=0,s;do r>0&&(n=mt(n.client,n.clock+r)),s=oh(e,n),r=n.clock-s.id.clock,n=s.redone;while(n!==null&&s instanceof an);return{item:s,diff:r}},k3=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},cv=(e,t,n)=>{const{client:r,clock:s}=t.id,i=new an(mt(r,s+n),t,mt(r,s+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),t.redone!==null&&(i.redone=mt(t.redone.client,t.redone.clock+n)),t.right=i,i.right!==null&&(i.right.left=i),e._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),t.length=n,i},q5=(e,t)=>wve(e,n=>Qh(n.deletions,t)),SV=(e,t,n,r,s,i)=>{const o=e.doc,a=o.store,l=o.clientID,u=t.redone;if(u!==null)return Ls(e,u);let f=t.parent._item,h=null,g;if(f!==null&&f.deleted===!0){if(f.redone===null&&(!n.has(f)||SV(e,f,n,r,s,i)===null))return null;for(;f.redone!==null;)f=Ls(e,f.redone)}const b=f===null?t.parent:f.content.type;if(t.parentSub===null){for(h=t.left,g=t;h!==null;){let S=h;for(;S!==null&&S.parent._item!==f;)S=S.redone===null?null:Ls(e,S.redone);if(S!==null&&S.parent._item===f){h=S;break}h=h.left}for(;g!==null;){let S=g;for(;S!==null&&S.parent._item!==f;)S=S.redone===null?null:Ls(e,S.redone);if(S!==null&&S.parent._item===f){g=S;break}g=g.right}}else if(g=null,t.right&&!s){for(h=t;h!==null&&h.right!==null&&(h.right.redone||Qh(r,h.right.id)||q5(i.undoStack,h.right.id)||q5(i.redoStack,h.right.id));)for(h=h.right;h.redone;)h=Ls(e,h.redone);if(h&&h.right!==null)return null}else h=b._map.get(t.parentSub)||null;const v=Wn(a,l),x=mt(l,v),w=new an(x,h,h&&h.lastId,g,g&&g.id,b,t.parentSub,t.content.copy());return t.redone=x,k3(w,!0),w.integrate(e,0),w};class an extends T3{constructor(t,n,r,s,i,o,a,l){super(t,l.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?v5:0}set marker(t){(this.info&C2)>0!==t&&(this.info^=C2)}get marker(){return(this.info&C2)>0}get keep(){return(this.info&y5)>0}set keep(t){this.keep!==t&&(this.info^=y5)}get countable(){return(this.info&v5)>0}get deleted(){return(this.info&E2)>0}set deleted(t){this.deleted!==t&&(this.info^=E2)}markDeleted(){this.info|=E2}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Wn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Wn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ih&&this.id.client!==this.parent.client&&this.parent.clock>=Wn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=j5(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ls(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===zi||this.right&&this.right.constructor===zi)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===an?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===an&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ih){const r=oh(n,this.parent);r.constructor===zi?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=j5(t,t.doc.store,mt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),Kf(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,i.clear();else if(Kf(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(oh(t.doc.store,s.origin)))i.has(oh(t.doc.store,s.origin))||(r=s,i.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),nV(t.doc.store,this),this.content.integrate(t,this),B5(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new zi(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:mt(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Kf(t.origin,this.lastId)&&this.right===t&&Kf(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Ig(t.deleteSet,this.id.client,this.id.clock,this.length),B5(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw yi();this.content.gc(t),n?iwe(t,this,new zi(this.id,this.length)):this.content=new Hg(this.length)}write(t,n){const r=n>0?mt(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&bw|(r===null?0:cs)|(s===null?0:al)|(i===null?0:Mg);if(t.writeInfo(o),r!==null&&t.writeLeftID(r),s!==null&&t.writeRightID(s),r===null&&s===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const u=Dg(a);t.writeParentInfo(!0),t.writeString(u)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else a.constructor===String?(t.writeParentInfo(!0),t.writeString(a)):a.constructor===ih?(t.writeParentInfo(!1),t.writeLeftID(a)):yi();i!==null&&t.writeString(i)}this.content.write(t,n)}}const TV=(e,t)=>nEe[t&bw](e),nEe=[()=>{yi()},Hwe,$we,Bwe,Gwe,Uwe,zwe,tEe,qwe,Fwe,()=>{yi()}],rEe=10;class $i extends T3{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){yi()}write(t,n){t.writeInfo(rEe),Bt(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const kV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},_V="__ $YJS$ __";kV[_V]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");kV[_V]=!0;const sEe=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},iEe=/[\uD800-\uDBFF]/,oEe=/[\uDC00-\uDFFF]/,aEe=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&iEe.test(e[n-1])&&n--;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return r>0&&oEe.test(e[e.length-r])&&r--,{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}},lEe=aEe,tn=new St("y-sync"),Vi=new St("y-undo"),Cm=new St("yjs-cursor"),aa=(e,t)=>e>>>t|e<<32-t,cEe=e=>aa(e,2)^aa(e,13)^aa(e,22),uEe=e=>aa(e,6)^aa(e,11)^aa(e,25),dEe=e=>aa(e,7)^aa(e,18)^e>>>3,fEe=e=>aa(e,17)^aa(e,19)^e>>>10,hEe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pEe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class mEe{constructor(){const t=new ArrayBuffer(320);this._H=new Uint32Array(t,0,8),this._H.set(pEe),this._W=new Uint32Array(t,64,64)}_updateHash(){const t=this._H,n=this._W;for(let h=16;h<64;h++)n[h]=fEe(n[h-2])+n[h-7]+dEe(n[h-15])+n[h-16];let r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],f=t[7];for(let h=0,g,b;h<64;h++)g=f+uEe(a)+(a&l^~a&u)+hEe[h]+n[h]>>>0,b=cEe(r)+(r&s^r&i^s&i)>>>0,f=u,u=l,l=a,a=o+g>>>0,o=i,i=s,s=r,r=g+b>>>0;t[0]+=r,t[1]+=s,t[2]+=i,t[3]+=o,t[4]+=a,t[5]+=l,t[6]+=u,t[7]+=f}digest(t){let n=0;for(;n+56<=t.length;){let o=0;for(;o<16&&n+3<t.length;o++)this._W[o]=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];if(n%64!==0){for(this._W.fill(0,o,16);n<t.length;)this._W[o]|=t[n]<<(3-n%4)*8,n++;this._W[o]|=cs<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let s=0;for(;n<t.length;s++)for(let o=3;o>=0&&n<t.length;o--)this._W[s]|=t[n++]<<o*8;r||(this._W[s-(n%4===0?0:1)]|=cs<<(3-n%4)*8),this._W[14]=t.byteLength/Eve,this._W[15]=t.byteLength*8,this._updateHash();const i=new Uint8Array(32);for(let o=0;o<this._H.length;o++)for(let a=0;a<4;a++)i[o*4+a]=this._H[o]>>>(3-a)*8;return i}}const gEe=e=>new mEe().digest(e),bEe=e=>{for(let n=6;n<e.length;n++)e[n%6]=e[n%6]^e[n];return e.slice(0,6)},yEe=e=>Exe(bEe(gEe(Sxe(e)))),uv=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!Qh(t.ds,e.id),vEe=[{light:"#ecd44433",dark:"#ecd444"}],xEe=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const r=ad();e.forEach(s=>r.add(s)),t=t.filter(s=>!r.has(s))}e.set(n,txe(t))}return e.get(n)},wEe=(e,{colors:t=vEe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:s=()=>{},mapping:i}={})=>{let o=!1;const a=new CEe(e,i),l=new ht({props:{editable:u=>{const f=tn.getState(u);return f.snapshot==null&&f.prevSnapshot==null}},key:tn,state:{init:(u,f)=>({type:e,doc:e.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(u,f)=>{const h=u.getMeta(tn);if(h!==void 0){f=Object.assign({},f);for(const g in h)f[g]=h[g]}return f.addToHistory=u.getMeta("addToHistory")!==!1,f.isChangeOrigin=h!==void 0&&!!h.isChangeOrigin,f.isUndoRedoOperation=h!==void 0&&!!h.isChangeOrigin&&!!h.isUndoRedoOperation,a.prosemirrorView!==null&&h!==void 0&&(h.snapshot!=null||h.prevSnapshot!=null)&&f3(0,()=>{a.prosemirrorView!=null&&(h.restore==null?a._renderSnapshot(h.snapshot,h.prevSnapshot,f):(a._renderSnapshot(h.snapshot,h.snapshot,f),delete f.restore,delete f.snapshot,delete f.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),f}},view:u=>(a.initView(u),i==null&&a._forceRerender(),s(),{update:()=>{const f=l.getState(u.state);if(f.snapshot==null&&f.prevSnapshot==null&&(o||u.state.doc.content.findDiffStart(u.state.doc.type.createAndFill().content)!==null)){if(o=!0,f.addToHistory===!1&&!f.isChangeOrigin){const h=Vi.getState(u.state),g=h&&h.undoManager;g&&g.stopCapturing()}a.mux(()=>{f.doc.transact(h=>{h.meta.set("addToHistory",f.addToHistory),a._prosemirrorChanged(u.state.doc)},tn)})}},destroy:()=>{a.destroy()}})});return l},EEe=(e,t,n)=>{if(t!==null&&t.anchor!==null&&t.head!==null)if(t.type==="all")e.setSelection(new Hs(e.doc));else if(t.type==="node"){const r=Vu(n.doc,n.type,t.anchor,n.mapping);e.setSelection(Ze.create(e.doc,r))}else{const r=Vu(n.doc,n.type,t.anchor,n.mapping),s=Vu(n.doc,n.type,t.head,n.mapping);if(r!==null&&s!==null){const i=$e.between(e.doc.resolve(r),e.doc.resolve(s));e.setSelection(i)}}},dv=(e,t)=>({type:t.selection.jsonID,anchor:Ug(t.selection.anchor,e.type,e.mapping),head:Ug(t.selection.head,e.type,e.mapping)});class CEe{constructor(t,n=new Map){this.type=t,this.prosemirrorView=null,this.mux=sEe(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=dv(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(L$&&this._domSelectionInView===null&&(f3(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection();if(t==null||t.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const s=n.getBoundingClientRect(),i=kxe.documentElement;return s.bottom>=0&&s.right>=0&&s.left<=(window.innerWidth||i.clientWidth||0)&&s.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(t,n){n||(n=eV(V$(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(tn,{snapshot:t,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const t=this.type.toArray().map(r=>cy(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(ve.from(t),0,0));n.setMeta(tn,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const t=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(s=>cy(s,this.prosemirrorView.state.schema,this)).filter(s=>s!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(ve.from(n),0,0));if(t){const s=ol(_o(t.anchor,0),r.doc.content.size),i=ol(_o(t.head,0),r.doc.content.size);r.setSelection($e.create(r.doc,s,i))}this.prosemirrorView.dispatch(r.setMeta(tn,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(t,n,r){let s=this.doc,i=this.type;if(t||(t=N2(this.doc)),t instanceof Uint8Array||n instanceof Uint8Array)if((!(t instanceof Uint8Array)||!(n instanceof Uint8Array))&&yi(),s=new Kc({gc:!1}),rv(s,n),n=N2(s),rv(s,t),t=N2(s),i._item===null){const o=Array.from(this.doc.share.keys()).find(a=>this.doc.share.get(a)===this.type);i=s.getXmlFragment(o)}else{const o=s.store.clients.get(i._item.id.client)??[],a=Zi(o,i._item.id.clock);i=o[a].content.type}this.mapping.clear(),this.mux(()=>{s.transact(o=>{const a=r.permanentUserData;a&&a.dss.forEach(h=>{Pc(o,h,g=>{})});const l=(h,g)=>{const b=h==="added"?a.getUserByClientId(g.client):a.getUserByDeletedId(g);return{user:b,type:h,color:xEe(r.colorMapping,r.colors,b)}},u=dV(i,new y3(n.ds,t.sv)).map(h=>!h._item.deleted||uv(h._item,t)||uv(h._item,n)?cy(h,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},t,n,l):null).filter(h=>h!==null),f=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(ve.from(u),0,0));this.prosemirrorView.dispatch(f.setMeta(tn,{isChangeOrigin:!0}))},tn)})}_typeChanged(t,n){if(this.prosemirrorView==null)return;const r=tn.getState(this.prosemirrorView.state);if(t.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const s=(a,l)=>this.mapping.delete(l);Pc(n,n.deleteSet,a=>{if(a.constructor===an){const l=a.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(s),n.changedParentTypes.forEach(s);const i=this.type.toArray().map(a=>NV(a,this.prosemirrorView.state.schema,this)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(ve.from(i),0,0));EEe(o,this.beforeTransactionSelection,this),o=o.setMeta(tn,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof iV}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(t){this.doc.transact(()=>{r_(this.doc,this.type,t,this),this.beforeTransactionSelection=dv(this,this.prosemirrorView.state)},tn)}initView(t){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=t,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const NV=(e,t,n,r,s,i)=>{const o=n.mapping.get(e);if(o===void 0){if(e instanceof Fr)return cy(e,t,n,r,s,i);throw vo()}return o},cy=(e,t,n,r,s,i)=>{const o=[],a=l=>{if(l instanceof Fr){const u=NV(l,t,n,r,s,i);u!==null&&o.push(u)}else{const u=l._item.right?.content?.type;u instanceof Bc&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(h=>{u._item.delete(h)}));const f=SEe(l,t,n,r,s,i);f!==null&&f.forEach(h=>{h!==null&&o.push(h)})}};r===void 0||s===void 0?e.toArray().forEach(a):dV(e,new y3(s.ds,r.sv)).forEach(a);try{const l=e.getAttributes(r);r!==void 0&&(uv(e._item,r)?uv(e._item,s)||(l.ychange=i?i("added",e._item.id):{type:"added"}):l.ychange=i?i("removed",e._item.id):{type:"removed"});const u=t.node(e.nodeName,l,o);return n.mapping.set(e,u),u}catch{return e.doc.transact(u=>{e._item.delete(u)},tn),n.mapping.delete(e),null}},SEe=(e,t,n,r,s,i)=>{const o=[],a=e.toDelta(r,s,i);try{for(let l=0;l<a.length;l++){const u=a[l];o.push(t.text(u.insert,MEe(u.attributes,t)))}}catch{return e.doc.transact(u=>{e._item.delete(u)},tn),null}return o},TEe=(e,t)=>{const n=new di,r=e.map(s=>({insert:s.text,attributes:OV(s.marks,t)}));return n.applyDelta(r),t.mapping.set(n,e),n},kEe=(e,t)=>{const n=new Fr(e.type.name);for(const r in e.attrs){const s=e.attrs[r];s!==null&&r!=="ychange"&&n.setAttribute(r,s)}return n.insert(0,Cw(e).map(r=>n_(r,t))),t.mapping.set(n,e),n},n_=(e,t)=>e instanceof Array?TEe(e,t):kEe(e,t),G5=e=>typeof e=="object"&&e!==null,_3=(e,t)=>{const n=Object.keys(e).filter(s=>e[s]!==null);let r=n.length===(t==null?0:Object.keys(t).filter(s=>t[s]!==null).length);for(let s=0;s<n.length&&r;s++){const i=n[s],o=e[i],a=t[i];r=i==="ychange"||o===a||G5(o)&&G5(a)&&_3(o,a)}return r},Cw=e=>{const t=e.content.content,n=[];for(let r=0;r<t.length;r++){const s=t[r];if(s.isText){const i=[];for(let o=t[r];r<t.length&&o.isText;o=t[++r])i.push(o);r--,n.push(i)}else n.push(s)}return n},AV=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every((r,s)=>r.insert===t[s].text&&O$(r.attributes||{}).length===t[s].marks.length&&R$(r.attributes,(i,o)=>{const a=MV(o),l=t[s].marks;return _3(i,l.find(u=>u.type.name===a)?.attrs)}))},Fg=(e,t)=>{if(e instanceof Fr&&!(t instanceof Array)&&s_(e,t)){const n=Cw(t);return e._length===n.length&&_3(e.getAttributes(),t.attrs)&&e.toArray().every((r,s)=>Fg(r,n[s]))}return e instanceof di&&t instanceof Array&&AV(e,t)},fv=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((n,r)=>t[r]===n),Y5=(e,t,n)=>{const r=e.toArray(),s=Cw(t),i=s.length,o=r.length,a=ol(o,i);let l=0,u=0,f=!1;for(;l<a;l++){const h=r[l],g=s[l];if(fv(n.mapping.get(h),g))f=!0;else if(!Fg(h,g))break}for(;l+u<a;u++){const h=r[o-u-1],g=s[i-u-1];if(fv(n.mapping.get(h),g))f=!0;else if(!Fg(h,g))break}return{equalityFactor:l+u,foundMappedChild:f}},_Ee=e=>{let t="",n=e._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof No?t+=n.content.str:n.content instanceof dr&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}},NEe=(e,t,n)=>{n.mapping.set(e,t);const{nAttrs:r,str:s}=_Ee(e),i=t.map(u=>({insert:u.text,attributes:Object.assign({},r,OV(u.marks,n))})),{insert:o,remove:a,index:l}=lEe(s,i.map(u=>u.insert).join(""));e.delete(l,a),e.insert(l,o),e.applyDelta(i.map(u=>({retain:u.insert.length,attributes:u.attributes})))},AEe=/(.*)(--[a-zA-Z0-9+/=]{8})$/,MV=e=>AEe.exec(e)?.[1]??e,MEe=(e,t)=>{const n=[];for(const r in e)n.push(t.mark(MV(r),e[r]));return n},OV=(e,t)=>{const n={};return e.forEach(r=>{if(r.type.name!=="ychange"){const s=wa(t.isOMark,r.type,()=>!r.type.excludes(r.type));n[s?`${r.type.name}--${yEe(r.toJSON())}`:r.type.name]=r.attrs}}),n},r_=(e,t,n,r)=>{if(t instanceof Fr&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(t,n),t instanceof Fr){const h=t.getAttributes(),g=n.attrs;for(const b in g)g[b]!==null?h[b]!==g[b]&&b!=="ychange"&&t.setAttribute(b,g[b]):t.removeAttribute(b);for(const b in h)g[b]===void 0&&t.removeAttribute(b)}const s=Cw(n),i=s.length,o=t.toArray(),a=o.length,l=ol(i,a);let u=0,f=0;for(;u<l;u++){const h=o[u],g=s[u];if(!fv(r.mapping.get(h),g))if(Fg(h,g))r.mapping.set(h,g);else break}for(;f+u<l;f++){const h=o[a-f-1],g=s[i-f-1];if(!fv(r.mapping.get(h),g))if(Fg(h,g))r.mapping.set(h,g);else break}e.transact(()=>{for(;a-u-f>0&&i-u-f>0;){const g=o[u],b=s[u],v=o[a-f-1],x=s[i-f-1];if(g instanceof di&&b instanceof Array)AV(g,b)||NEe(g,b,r),u+=1;else{let w=g instanceof Fr&&s_(g,b),S=v instanceof Fr&&s_(v,x);if(w&&S){const _=Y5(g,b,r),N=Y5(v,x,r);_.foundMappedChild&&!N.foundMappedChild?S=!1:!_.foundMappedChild&&N.foundMappedChild||_.equalityFactor<N.equalityFactor?w=!1:S=!1}w?(r_(e,g,b,r),u+=1):S?(r_(e,v,x,r),f+=1):(r.mapping.delete(t.get(u)),t.delete(u,1),t.insert(u,[n_(b,r)]),u+=1)}}const h=a-u-f;if(a===1&&i===0&&o[0]instanceof di?(r.mapping.delete(o[0]),o[0].delete(0,o[0].length)):h>0&&(t.slice(u,u+h).forEach(g=>r.mapping.delete(g)),t.delete(u,h)),u+f<i){const g=[];for(let b=u;b<i-f;b++)g.push(n_(s[b],r));t.insert(u,g)}},tn)},s_=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;let Fm=null;const OEe=()=>{const e=Fm;Fm=null,e.forEach((t,n)=>{const r=n.state.tr,s=tn.getState(n.state);s&&s.binding&&!s.binding.isDestroyed&&(t.forEach((i,o)=>{r.setMeta(o,i)}),n.dispatch(r))})},REe=(e,t,n)=>{Fm||(Fm=new Map,f3(0,OEe)),wa(Fm,e,Wi).set(t,n)},Ug=(e,t,n)=>{if(e===0)return _2(t,0,t.length===0?-1:0);let r=t._first===null?null:t._first.content.type;for(;r!==null&&t!==r;){if(r instanceof di){if(r._length>=e)return _2(r,e,t.length===0?-1:0);if(e-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,e--;while(r!==t&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==t&&(r=r._item===null?null:r._item.next.content.type)}}else{const s=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&e<s)r=r._first.content.type,e--;else{if(e===1&&r._length===0&&s>1)return new jg(r._item===null?null:r._item.id,r._item===null?Dg(r):null,null);if(e-=s,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(e===0)return r=r._item===null?r:r._item.parent,new jg(r._item===null?null:r._item.id,r._item===null?Dg(r):null,null);do r=r._item.parent,e--;while(r!==t&&r._item.next===null);r!==t&&(r=r._item.next.content.type)}}}if(r===null)throw yi();if(e===0&&r.constructor!==di&&r!==t)return IEe(r._item.parent,r._item)}return _2(t,t._length,t.length===0?-1:0)},IEe=(e,t)=>{let n=null,r=null;return e._item===null?r=Dg(e):n=mt(e._item.id.client,e._item.id.clock),new jg(n,r,t.id)},Vu=(e,t,n,r)=>{const s=rwe(n,e);if(s===null||s.type!==t&&!Lg(t,s.type._item))return null;let i=s.type,o=0;if(i.constructor===di)o=s.index;else if(i._item===null||!i._item.deleted){let a=i._first,l=0;for(;l<i._length&&l<s.index&&a!==null;){if(!a.deleted){const u=a.content.type;l++,u instanceof di?o+=u._length:o+=r.get(u).nodeSize}a=a.right}o+=1}for(;i!==t&&i._item!==null;){const a=i._item.parent;if(a._item===null||!a._item.deleted){o+=1;let l=a._first;for(;l!==null;){const u=l.content.type;if(u===i)break;l.deleted||(u instanceof di?o+=u._length:o+=r.get(u).nodeSize),l=l.right}}i=a}return o-1},DEe=(e,t,n)=>e!==t,LEe=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);const r=document.createTextNode("⁠"),s=document.createTextNode("⁠");return t.insertBefore(r,null),t.insertBefore(n,null),t.insertBefore(s,null),t},RV=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),jEe=/^#[0-9a-fA-F]{6}$/,W5=(e,t,n,r,s)=>{const i=tn.getState(e),o=i.doc,a=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding.mapping.size===0?bt.create(e.doc,[]):(t.getStates().forEach((l,u)=>{if(n(o.clientID,u,l)&&l.cursor!=null){const f=l.user||{};f.color==null?f.color="#ffa500":jEe.test(f.color)||console.warn("A user uses an unsupported color format",f),f.name==null&&(f.name=`User: ${u}`);let h=Vu(o,i.type,Hm(l.cursor.anchor),i.binding.mapping),g=Vu(o,i.type,Hm(l.cursor.head),i.binding.mapping);if(h!==null&&g!==null){const b=_o(e.doc.content.size-1,0);h=ol(h,b),g=ol(g,b),a.push(Xt.widget(g,()=>r(f,u),{key:u+"",side:10}));const v=ol(h,g),x=_o(h,g);a.push(Xt.inline(v,x,s(f,u),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),bt.create(e.doc,a))},PEe=(e,{awarenessStateFilter:t=DEe,cursorBuilder:n=LEe,selectionBuilder:r=RV,getSelection:s=o=>o.selection}={},i="cursor")=>new ht({key:Cm,state:{init(o,a){return W5(a,e,t,n,r)},apply(o,a,l,u){const f=tn.getState(u),h=o.getMeta(Cm);return f&&f.isChangeOrigin||h&&h.awarenessUpdated?W5(u,e,t,n,r):a.map(o.mapping,o.doc)}},props:{decorations:o=>Cm.getState(o)},view:o=>{const a=()=>{o.docView&&REe(o,Cm,{awarenessUpdated:!0})},l=()=>{const u=tn.getState(o.state),f=e.getLocalState()||{};if(o.hasFocus()){const h=s(o.state),g=Ug(h.anchor,u.type,u.binding.mapping),b=Ug(h.head,u.type,u.binding.mapping);(f.cursor==null||!L5(Hm(f.cursor.anchor),g)||!L5(Hm(f.cursor.head),b))&&e.setLocalStateField(i,{anchor:g,head:b})}else f.cursor!=null&&Vu(u.doc,u.type,Hm(f.cursor.anchor),u.binding.mapping)!==null&&e.setLocalStateField(i,null)};return e.on("change",a),o.dom.addEventListener("focusin",l),o.dom.addEventListener("focusout",l),{update:l,destroy:()=>{o.dom.removeEventListener("focusin",l),o.dom.removeEventListener("focusout",l),e.off("change",a),e.setLocalStateField(i,null)}}}}),BEe=e=>Vi.getState(e)?.undoManager?.undo()!=null,HEe=e=>Vi.getState(e)?.undoManager?.redo()!=null,FEe=(e,t)=>t==null?Vi.getState(e)?.undoManager?.canUndo():BEe(e),UEe=(e,t)=>t==null?Vi.getState(e)?.undoManager?.canRedo():HEe(e),zEe=new Set(["paragraph"]),$Ee=(e,t)=>!(e instanceof an)||!(e.content instanceof Do)||!(e.content.type instanceof Bc||e.content.type instanceof Fr&&t.has(e.content.type.nodeName))||e.content.type._length===0,VEe=({protectedNodes:e=zEe,trackedOrigins:t=[],undoManager:n=null}={})=>new ht({key:Vi,state:{init:(r,s)=>{const i=tn.getState(s),o=n||new iV(i.type,{trackedOrigins:new Set([tn].concat(t)),deleteFilter:a=>$Ee(a,e),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(r,s,i,o)=>{const a=tn.getState(o).binding,l=s.undoManager,u=l.undoStack.length>0,f=l.redoStack.length>0;return a?{undoManager:l,prevSel:dv(a,i),hasUndoOps:u,hasRedoOps:f}:u!==s.hasUndoOps||f!==s.hasRedoOps?Object.assign({},s,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):s}},view:r=>{const s=tn.getState(r.state),i=Vi.getState(r.state).undoManager;return i.on("stack-item-added",({stackItem:o})=>{const a=s.binding;a&&o.meta.set(a,Vi.getState(r.state).prevSel)}),i.on("stack-item-popped",({stackItem:o})=>{const a=s.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{i.destroy()}}}});class T0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}T0.prototype.normal={};T0.prototype.property={};T0.prototype.space=void 0;function IV(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new T0(n,r,t)}function zg(e){return e.toLowerCase()}class qs{constructor(t,n){this.attribute=n,this.property=t}}qs.prototype.attribute="";qs.prototype.booleanish=!1;qs.prototype.boolean=!1;qs.prototype.commaOrSpaceSeparated=!1;qs.prototype.commaSeparated=!1;qs.prototype.defined=!1;qs.prototype.mustUseProperty=!1;qs.prototype.number=!1;qs.prototype.overloadedBoolean=!1;qs.prototype.property="";qs.prototype.spaceSeparated=!1;qs.prototype.space=void 0;let qEe=0;const wt=Ed(),rr=Ed(),i_=Ed(),De=Ed(),En=Ed(),lh=Ed(),ri=Ed();function Ed(){return 2**++qEe}const o_=Object.freeze(Object.defineProperty({__proto__:null,boolean:wt,booleanish:rr,commaOrSpaceSeparated:ri,commaSeparated:lh,number:De,overloadedBoolean:i_,spaceSeparated:En},Symbol.toStringTag,{value:"Module"})),O2=Object.keys(o_);class N3 extends qs{constructor(t,n,r,s){let i=-1;if(super(t,n),K5(this,"space",s),typeof r=="number")for(;++i<O2.length;){const o=O2[i];K5(this,O2[i],(r&o_[o])===o_[o])}}}N3.prototype.defined=!0;function K5(e,t,n){n&&(e[t]=n)}function Jh(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new N3(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[zg(r)]=r,n[zg(i.attribute)]=r}return new T0(t,n,e.space)}const DV=Jh({properties:{ariaActiveDescendant:null,ariaAtomic:rr,ariaAutoComplete:null,ariaBusy:rr,ariaChecked:rr,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:En,ariaCurrent:null,ariaDescribedBy:En,ariaDetails:null,ariaDisabled:rr,ariaDropEffect:En,ariaErrorMessage:null,ariaExpanded:rr,ariaFlowTo:En,ariaGrabbed:rr,ariaHasPopup:null,ariaHidden:rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:En,ariaLevel:De,ariaLive:null,ariaModal:rr,ariaMultiLine:rr,ariaMultiSelectable:rr,ariaOrientation:null,ariaOwns:En,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:rr,ariaReadOnly:rr,ariaRelevant:null,ariaRequired:rr,ariaRoleDescription:En,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:rr,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function LV(e,t){return t in e?e[t]:t}function jV(e,t){return LV(e,t.toLowerCase())}const GEe=Jh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lh,acceptCharset:En,accessKey:En,action:null,allow:null,allowFullScreen:wt,allowPaymentRequest:wt,allowUserMedia:wt,alt:null,as:null,async:wt,autoCapitalize:null,autoComplete:En,autoFocus:wt,autoPlay:wt,blocking:En,capture:null,charSet:null,checked:wt,cite:null,className:En,cols:De,colSpan:null,content:null,contentEditable:rr,controls:wt,controlsList:En,coords:De|lh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:wt,defer:wt,dir:null,dirName:null,disabled:wt,download:i_,draggable:rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:wt,formTarget:null,headers:En,height:De,hidden:i_,high:De,href:null,hrefLang:null,htmlFor:En,httpEquiv:En,id:null,imageSizes:null,imageSrcSet:null,inert:wt,inputMode:null,integrity:null,is:null,isMap:wt,itemId:null,itemProp:En,itemRef:En,itemScope:wt,itemType:En,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:wt,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:wt,muted:wt,name:null,nonce:null,noModule:wt,noValidate:wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:wt,optimum:De,pattern:null,ping:En,placeholder:null,playsInline:wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:wt,referrerPolicy:null,rel:En,required:wt,reversed:wt,rows:De,rowSpan:De,sandbox:En,scope:null,scoped:wt,seamless:wt,selected:wt,shadowRootClonable:wt,shadowRootDelegatesFocus:wt,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:wt,useMap:null,value:rr,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:En,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:wt,declare:wt,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:wt,noHref:wt,noShade:wt,noWrap:wt,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:rr,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:wt,disableRemotePlayback:wt,prefix:null,property:null,results:De,security:null,unselectable:null},space:"html",transform:jV}),YEe=Jh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ri,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:En,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lh,g2:lh,glyphName:lh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:ri,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:En,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ri,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ri,rev:ri,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ri,requiredFeatures:ri,requiredFonts:ri,requiredFormats:ri,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:ri,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ri,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ri,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:LV}),PV=Jh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),BV=Jh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jV}),HV=Jh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),WEe=/[A-Z]/g,Q5=/-[a-z]/g,KEe=/^data[-\w.:]+$/i;function A3(e,t){const n=zg(t);let r=t,s=qs;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KEe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(Q5,XEe);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!Q5.test(i)){let o=i.replace(WEe,QEe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=N3}return new s(r,t)}function QEe(e){return"-"+e.toLowerCase()}function XEe(e){return e.charAt(1).toUpperCase()}const Sw=IV([DV,GEe,PV,BV,HV],"html"),k0=IV([DV,YEe,PV,BV,HV],"svg");function X5(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const o=n.slice(s,r).trim();(o||!i)&&t.push(o),s=r+1,r=n.indexOf(",",s)}return t}function ZEe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Z5=/[#.]/g;function JEe(e,t){const n=e||"",r={};let s=0,i,o;for(;s<n.length;){Z5.lastIndex=s;const a=Z5.exec(n),l=n.slice(s,a?a.index:n.length);l&&(i?i==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,s+=l.length),a&&(i=a[0],s++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function J5(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function eCe(e){return e.join(" ").trim()}function FV(e,t,n){const r=n?sCe(n):void 0;function s(i,o,...a){let l;if(i==null){l={type:"root",children:[]};const u=o;a.unshift(u)}else{l=JEe(i,t);const u=l.tagName.toLowerCase(),f=r?r.get(u):void 0;if(l.tagName=f||u,tCe(o))a.unshift(o);else for(const[h,g]of Object.entries(o))nCe(e,l.properties,h,g)}for(const u of a)a_(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return s}function tCe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const o of i)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function nCe(e,t,n,r){const s=A3(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=J5(r):s.commaSeparated?i=X5(r):s.commaOrSpaceSeparated?i=J5(X5(r).join(" ")):i=ej(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?rCe(r):String(r);if(Array.isArray(i)){const o=[];for(const a of i)o.push(ej(s,s.property,a));i=o}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function a_(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)a_(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?a_(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function ej(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||zg(n)===zg(t)))return!0}return n}function rCe(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function sCe(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const iCe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],UV=FV(Sw,"div"),zV=FV(k0,"g",iCe);function oCe(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const l=tj(t,n[o-1]);a=l===-1?t.length+1:l+1,n[o]=a}if(a>i)return{line:o+1,column:i-(o>0?n[o-1]:0)+1,offset:i};o++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const a=n[n.length-1],l=tj(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const o=(i.line>1?n[i.line-2]:0)+i.column-1;if(o<n[i.line-1])return o}}}function tj(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const uy={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},$V={}.hasOwnProperty,aCe=Object.prototype;function lCe(e,t){const n=t||{};return M3({file:n.file||void 0,location:!1,schema:n.space==="svg"?k0:Sw,verbose:n.verbose||!1},e)}function M3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},dy(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:VV(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),o=oCe(i),a=o.toPoint(0),l=o.toPoint(i.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},dy(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},dy(e,r,n),n}default:return n=cCe(e,t),n}}function VV(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=M3(e,t[n]);r.push(s)}return r}function cCe(e,t){const n=e.schema;e.schema=t.namespaceURI===uy.svg?k0:Sw;let r=-1;const s={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;$V.call(aCe,l)||(s[l]=a.value)}const o=(e.schema.space==="svg"?zV:UV)(t.tagName,s,VV(e,t.childNodes));if(dy(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Qf(l.startTag),f=l&&l.endTag&&Qf(l.endTag),h=M3(e,a.content);u&&f&&e.file&&(h.position={start:u.end,end:f.start}),o.content=h}return e.schema=n,o}function dy(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=uCe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function uCe(e,t,n){const r=Qf(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let o;if(n.attrs)for(o in n.attrs)$V.call(n.attrs,o)&&(i[A3(e.schema,o).property]=Qf(n.attrs[o]));n.startTag;const a=Qf(n.startTag),l=n.endTag?Qf(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=i,t.data={position:u}}}return r}function Qf(e){const t=nj({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=nj({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function nj(e){return e.line&&e.column?e:void 0}const dCe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),In="�";var H;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(H||(H={}));const Ns={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function qV(e){return e>=55296&&e<=57343}function fCe(e){return e>=56320&&e<=57343}function hCe(e,t){return(e-55296)*1024+9216+t}function GV(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function YV(e){return e>=64976&&e<=65007||dCe.has(e)}var ye;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ye||(ye={}));const pCe=65536;class mCe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=pCe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,o=s+n,a=i+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(fCe(n))return this.pos++,this._addGap(),hCe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,H.EOF;return this._err(ye.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,H.EOF;const r=this.html.charCodeAt(n);return r===H.CARRIAGE_RETURN?H.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,H.EOF;let t=this.html.charCodeAt(this.pos);return t===H.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,H.LINE_FEED):t===H.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,qV(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===H.LINE_FEED||t===H.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){GV(t)?this._err(ye.controlCharacterInInputStream):YV(t)&&this._err(ye.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Yt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Yt||(Yt={}));function WV(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const gCe=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),bCe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function yCe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=bCe.get(e))!==null&&t!==void 0?t:e}var kr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(kr||(kr={}));const vCe=32;var wc;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(wc||(wc={}));function l_(e){return e>=kr.ZERO&&e<=kr.NINE}function xCe(e){return e>=kr.UPPER_A&&e<=kr.UPPER_F||e>=kr.LOWER_A&&e<=kr.LOWER_F}function wCe(e){return e>=kr.UPPER_A&&e<=kr.UPPER_Z||e>=kr.LOWER_A&&e<=kr.LOWER_Z||l_(e)}function ECe(e){return e===kr.EQUALS||wCe(e)}var Sr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Sr||(Sr={}));var Za;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Za||(Za={}));class CCe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Sr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Za.Strict}startEntity(t){this.decodeMode=t,this.state=Sr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Sr.EntityStart:return t.charCodeAt(n)===kr.NUM?(this.state=Sr.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Sr.NamedEntity,this.stateNamedEntity(t,n));case Sr.NumericStart:return this.stateNumericStart(t,n);case Sr.NumericDecimal:return this.stateNumericDecimal(t,n);case Sr.NumericHex:return this.stateNumericHex(t,n);case Sr.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|vCe)===kr.LOWER_X?(this.state=Sr.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Sr.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(l_(s)||xCe(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(l_(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===kr.SEMI)this.consumed+=1;else if(this.decodeMode===Za.Strict)return 0;return this.emitCodePoint(yCe(this.result),this.consumed),this.errors&&(t!==kr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&wc.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=SCe(r,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Za.Attribute&&(i===0||ECe(o))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&wc.VALUE_LENGTH)>>14,i!==0){if(o===kr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Za.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&wc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~wc.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case Sr.NamedEntity:return this.result!==0&&(this.decodeMode!==Za.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Sr.NumericDecimal:return this.emitNumericEntity(0,2);case Sr.NumericHex:return this.emitNumericEntity(0,3);case Sr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Sr.EntityStart:return 0}}}function SCe(e,t,n,r){const s=(t&wc.BRANCH_LENGTH)>>7,i=t&wc.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const l=r-i;return l<0||l>=s?-1:e[n+l]-1}let o=n,a=o+s-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+s]}return-1}var Ne;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ne||(Ne={}));var qu;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(qu||(qu={}));var Bi;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Bi||(Bi={}));var oe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(oe||(oe={}));var k;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(k||(k={}));const TCe=new Map([[oe.A,k.A],[oe.ADDRESS,k.ADDRESS],[oe.ANNOTATION_XML,k.ANNOTATION_XML],[oe.APPLET,k.APPLET],[oe.AREA,k.AREA],[oe.ARTICLE,k.ARTICLE],[oe.ASIDE,k.ASIDE],[oe.B,k.B],[oe.BASE,k.BASE],[oe.BASEFONT,k.BASEFONT],[oe.BGSOUND,k.BGSOUND],[oe.BIG,k.BIG],[oe.BLOCKQUOTE,k.BLOCKQUOTE],[oe.BODY,k.BODY],[oe.BR,k.BR],[oe.BUTTON,k.BUTTON],[oe.CAPTION,k.CAPTION],[oe.CENTER,k.CENTER],[oe.CODE,k.CODE],[oe.COL,k.COL],[oe.COLGROUP,k.COLGROUP],[oe.DD,k.DD],[oe.DESC,k.DESC],[oe.DETAILS,k.DETAILS],[oe.DIALOG,k.DIALOG],[oe.DIR,k.DIR],[oe.DIV,k.DIV],[oe.DL,k.DL],[oe.DT,k.DT],[oe.EM,k.EM],[oe.EMBED,k.EMBED],[oe.FIELDSET,k.FIELDSET],[oe.FIGCAPTION,k.FIGCAPTION],[oe.FIGURE,k.FIGURE],[oe.FONT,k.FONT],[oe.FOOTER,k.FOOTER],[oe.FOREIGN_OBJECT,k.FOREIGN_OBJECT],[oe.FORM,k.FORM],[oe.FRAME,k.FRAME],[oe.FRAMESET,k.FRAMESET],[oe.H1,k.H1],[oe.H2,k.H2],[oe.H3,k.H3],[oe.H4,k.H4],[oe.H5,k.H5],[oe.H6,k.H6],[oe.HEAD,k.HEAD],[oe.HEADER,k.HEADER],[oe.HGROUP,k.HGROUP],[oe.HR,k.HR],[oe.HTML,k.HTML],[oe.I,k.I],[oe.IMG,k.IMG],[oe.IMAGE,k.IMAGE],[oe.INPUT,k.INPUT],[oe.IFRAME,k.IFRAME],[oe.KEYGEN,k.KEYGEN],[oe.LABEL,k.LABEL],[oe.LI,k.LI],[oe.LINK,k.LINK],[oe.LISTING,k.LISTING],[oe.MAIN,k.MAIN],[oe.MALIGNMARK,k.MALIGNMARK],[oe.MARQUEE,k.MARQUEE],[oe.MATH,k.MATH],[oe.MENU,k.MENU],[oe.META,k.META],[oe.MGLYPH,k.MGLYPH],[oe.MI,k.MI],[oe.MO,k.MO],[oe.MN,k.MN],[oe.MS,k.MS],[oe.MTEXT,k.MTEXT],[oe.NAV,k.NAV],[oe.NOBR,k.NOBR],[oe.NOFRAMES,k.NOFRAMES],[oe.NOEMBED,k.NOEMBED],[oe.NOSCRIPT,k.NOSCRIPT],[oe.OBJECT,k.OBJECT],[oe.OL,k.OL],[oe.OPTGROUP,k.OPTGROUP],[oe.OPTION,k.OPTION],[oe.P,k.P],[oe.PARAM,k.PARAM],[oe.PLAINTEXT,k.PLAINTEXT],[oe.PRE,k.PRE],[oe.RB,k.RB],[oe.RP,k.RP],[oe.RT,k.RT],[oe.RTC,k.RTC],[oe.RUBY,k.RUBY],[oe.S,k.S],[oe.SCRIPT,k.SCRIPT],[oe.SEARCH,k.SEARCH],[oe.SECTION,k.SECTION],[oe.SELECT,k.SELECT],[oe.SOURCE,k.SOURCE],[oe.SMALL,k.SMALL],[oe.SPAN,k.SPAN],[oe.STRIKE,k.STRIKE],[oe.STRONG,k.STRONG],[oe.STYLE,k.STYLE],[oe.SUB,k.SUB],[oe.SUMMARY,k.SUMMARY],[oe.SUP,k.SUP],[oe.TABLE,k.TABLE],[oe.TBODY,k.TBODY],[oe.TEMPLATE,k.TEMPLATE],[oe.TEXTAREA,k.TEXTAREA],[oe.TFOOT,k.TFOOT],[oe.TD,k.TD],[oe.TH,k.TH],[oe.THEAD,k.THEAD],[oe.TITLE,k.TITLE],[oe.TR,k.TR],[oe.TRACK,k.TRACK],[oe.TT,k.TT],[oe.U,k.U],[oe.UL,k.UL],[oe.SVG,k.SVG],[oe.VAR,k.VAR],[oe.WBR,k.WBR],[oe.XMP,k.XMP]]);function Tw(e){var t;return(t=TCe.get(e))!==null&&t!==void 0?t:k.UNKNOWN}const Re=k,kCe={[Ne.HTML]:new Set([Re.ADDRESS,Re.APPLET,Re.AREA,Re.ARTICLE,Re.ASIDE,Re.BASE,Re.BASEFONT,Re.BGSOUND,Re.BLOCKQUOTE,Re.BODY,Re.BR,Re.BUTTON,Re.CAPTION,Re.CENTER,Re.COL,Re.COLGROUP,Re.DD,Re.DETAILS,Re.DIR,Re.DIV,Re.DL,Re.DT,Re.EMBED,Re.FIELDSET,Re.FIGCAPTION,Re.FIGURE,Re.FOOTER,Re.FORM,Re.FRAME,Re.FRAMESET,Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6,Re.HEAD,Re.HEADER,Re.HGROUP,Re.HR,Re.HTML,Re.IFRAME,Re.IMG,Re.INPUT,Re.LI,Re.LINK,Re.LISTING,Re.MAIN,Re.MARQUEE,Re.MENU,Re.META,Re.NAV,Re.NOEMBED,Re.NOFRAMES,Re.NOSCRIPT,Re.OBJECT,Re.OL,Re.P,Re.PARAM,Re.PLAINTEXT,Re.PRE,Re.SCRIPT,Re.SECTION,Re.SELECT,Re.SOURCE,Re.STYLE,Re.SUMMARY,Re.TABLE,Re.TBODY,Re.TD,Re.TEMPLATE,Re.TEXTAREA,Re.TFOOT,Re.TH,Re.THEAD,Re.TITLE,Re.TR,Re.TRACK,Re.UL,Re.WBR,Re.XMP]),[Ne.MATHML]:new Set([Re.MI,Re.MO,Re.MN,Re.MS,Re.MTEXT,Re.ANNOTATION_XML]),[Ne.SVG]:new Set([Re.TITLE,Re.FOREIGN_OBJECT,Re.DESC]),[Ne.XLINK]:new Set,[Ne.XML]:new Set,[Ne.XMLNS]:new Set},c_=new Set([Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6]);oe.STYLE,oe.SCRIPT,oe.XMP,oe.IFRAME,oe.NOEMBED,oe.NOFRAMES,oe.PLAINTEXT;var $;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})($||($={}));const js={DATA:$.DATA,RCDATA:$.RCDATA,RAWTEXT:$.RAWTEXT,SCRIPT_DATA:$.SCRIPT_DATA,PLAINTEXT:$.PLAINTEXT,CDATA_SECTION:$.CDATA_SECTION};function _Ce(e){return e>=H.DIGIT_0&&e<=H.DIGIT_9}function Sm(e){return e>=H.LATIN_CAPITAL_A&&e<=H.LATIN_CAPITAL_Z}function NCe(e){return e>=H.LATIN_SMALL_A&&e<=H.LATIN_SMALL_Z}function sc(e){return NCe(e)||Sm(e)}function rj(e){return sc(e)||_Ce(e)}function T1(e){return e+32}function KV(e){return e===H.SPACE||e===H.LINE_FEED||e===H.TABULATION||e===H.FORM_FEED}function sj(e){return KV(e)||e===H.SOLIDUS||e===H.GREATER_THAN_SIGN}function ACe(e){return e===H.NULL?ye.nullCharacterReference:e>1114111?ye.characterReferenceOutsideUnicodeRange:qV(e)?ye.surrogateCharacterReference:YV(e)?ye.noncharacterCharacterReference:GV(e)||e===H.CARRIAGE_RETURN?ye.controlCharacterReference:null}class MCe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=$.DATA,this.returnState=$.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new mCe(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new CCe(gCe,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ye.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ye.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=ACe(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Yt.START_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Yt.END_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Yt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Yt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(WV(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ye.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Tw(t.tagName),t.type===Yt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ye.endTagWithAttributes),t.selfClosing&&this._err(ye.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Yt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Yt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Yt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Yt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=KV(t)?Yt.WHITESPACE_CHARACTER:t===H.NULL?Yt.NULL_CHARACTER:Yt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Yt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=$.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Za.Attribute:Za.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===$.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case $.DATA:{this._stateData(t);break}case $.RCDATA:{this._stateRcdata(t);break}case $.RAWTEXT:{this._stateRawtext(t);break}case $.SCRIPT_DATA:{this._stateScriptData(t);break}case $.PLAINTEXT:{this._statePlaintext(t);break}case $.TAG_OPEN:{this._stateTagOpen(t);break}case $.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case $.TAG_NAME:{this._stateTagName(t);break}case $.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case $.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case $.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case $.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case $.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case $.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case $.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case $.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case $.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case $.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case $.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case $.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case $.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case $.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case $.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case $.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case $.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case $.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case $.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case $.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case $.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case $.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case $.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case $.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case $.BOGUS_COMMENT:{this._stateBogusComment(t);break}case $.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case $.COMMENT_START:{this._stateCommentStart(t);break}case $.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case $.COMMENT:{this._stateComment(t);break}case $.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case $.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case $.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case $.COMMENT_END:{this._stateCommentEnd(t);break}case $.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case $.DOCTYPE:{this._stateDoctype(t);break}case $.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case $.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case $.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case $.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case $.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case $.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case $.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case $.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case $.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case $.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case $.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case $.CDATA_SECTION:{this._stateCdataSection(t);break}case $.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case $.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case $.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case $.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case H.LESS_THAN_SIGN:{this.state=$.TAG_OPEN;break}case H.AMPERSAND:{this._startCharacterReference();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitCodePoint(t);break}case H.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case H.AMPERSAND:{this._startCharacterReference();break}case H.LESS_THAN_SIGN:{this.state=$.RCDATA_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case H.LESS_THAN_SIGN:{this.state=$.RAWTEXT_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(sc(t))this._createStartTagToken(),this.state=$.TAG_NAME,this._stateTagName(t);else switch(t){case H.EXCLAMATION_MARK:{this.state=$.MARKUP_DECLARATION_OPEN;break}case H.SOLIDUS:{this.state=$.END_TAG_OPEN;break}case H.QUESTION_MARK:{this._err(ye.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=$.BOGUS_COMMENT,this._stateBogusComment(t);break}case H.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=$.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(sc(t))this._createEndTagToken(),this.state=$.TAG_NAME,this._stateTagName(t);else switch(t){case H.GREATER_THAN_SIGN:{this._err(ye.missingEndTagName),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.BEFORE_ATTRIBUTE_NAME;break}case H.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.tagName+=In;break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Sm(t)?T1(t):t)}}_stateRcdataLessThanSign(t){t===H.SOLIDUS?this.state=$.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){sc(t)?(this.state=$.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=$.BEFORE_ATTRIBUTE_NAME,!1;case H.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=$.SELF_CLOSING_START_TAG,!1;case H.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=$.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===H.SOLIDUS?this.state=$.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){sc(t)?(this.state=$.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case H.SOLIDUS:{this.state=$.SCRIPT_DATA_END_TAG_OPEN;break}case H.EXCLAMATION_MARK:{this.state=$.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=$.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){sc(t)?(this.state=$.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===H.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===H.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case H.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case H.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case H.HYPHEN_MINUS:{this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===H.SOLIDUS?this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:sc(t)?(this._emitChars("<"),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){sc(t)?(this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&sj(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case H.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case H.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case H.HYPHEN_MINUS:{this._emitChars("-");break}case H.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(In);break}case H.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===H.SOLIDUS?(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&sj(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.SOLIDUS:case H.GREATER_THAN_SIGN:case H.EOF:{this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case H.EQUALS_SIGN:{this._err(ye.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:case H.SOLIDUS:case H.GREATER_THAN_SIGN:case H.EOF:{this._leaveAttrName(),this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case H.EQUALS_SIGN:{this._leaveAttrName(),this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case H.QUOTATION_MARK:case H.APOSTROPHE:case H.LESS_THAN_SIGN:{this._err(ye.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.name+=In;break}default:this.currentAttr.name+=String.fromCodePoint(Sm(t)?T1(t):t)}}_stateAfterAttributeName(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case H.EQUALS_SIGN:{this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.QUOTATION_MARK:{this.state=$.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case H.APOSTROPHE:{this.state=$.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingAttributeValue),this.state=$.DATA,this.emitCurrentTagToken();break}default:this.state=$.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case H.QUOTATION_MARK:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case H.AMPERSAND:{this._startCharacterReference();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=In;break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case H.APOSTROPHE:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case H.AMPERSAND:{this._startCharacterReference();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=In;break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case H.AMPERSAND:{this._startCharacterReference();break}case H.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=In;break}case H.QUOTATION_MARK:case H.APOSTROPHE:case H.LESS_THAN_SIGN:case H.EQUALS_SIGN:case H.GRAVE_ACCENT:{this._err(ye.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case H.SOLIDUS:{this._leaveAttrValue(),this.state=$.SELF_CLOSING_START_TAG;break}case H.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBetweenAttributes),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case H.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=$.DATA,this.emitCurrentTagToken();break}case H.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.unexpectedSolidusInTag),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case H.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.data+=In;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ns.DASH_DASH,!0)?(this._createCommentToken(Ns.DASH_DASH.length+1),this.state=$.COMMENT_START):this._consumeSequenceIfMatch(Ns.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ns.DOCTYPE.length+1),this.state=$.DOCTYPE):this._consumeSequenceIfMatch(Ns.CDATA_START,!0)?this.inForeignNode?this.state=$.CDATA_SECTION:(this._err(ye.cdataInHtmlContent),this._createCommentToken(Ns.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=$.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ye.incorrectlyOpenedComment),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case H.HYPHEN_MINUS:{this.state=$.COMMENT_START_DASH;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=$.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=$.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case H.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=$.DATA,this.emitCurrentComment(n);break}case H.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case H.HYPHEN_MINUS:{this.state=$.COMMENT_END_DASH;break}case H.LESS_THAN_SIGN:{n.data+="<",this.state=$.COMMENT_LESS_THAN_SIGN;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.data+=In;break}case H.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case H.EXCLAMATION_MARK:{n.data+="!",this.state=$.COMMENT_LESS_THAN_SIGN_BANG;break}case H.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=$.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===H.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=$.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===H.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=$.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==H.GREATER_THAN_SIGN&&t!==H.EOF&&this._err(ye.nestedComment),this.state=$.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case H.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case H.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case H.EXCLAMATION_MARK:{this.state=$.COMMENT_END_BANG;break}case H.HYPHEN_MINUS:{n.data+="-";break}case H.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=$.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case H.HYPHEN_MINUS:{n.data+="--!",this.state=$.COMMENT_END_DASH;break}case H.GREATER_THAN_SIGN:{this._err(ye.incorrectlyClosedComment),this.state=$.DATA,this.emitCurrentComment(n);break}case H.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=$.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_NAME;break}case H.GREATER_THAN_SIGN:{this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case H.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBeforeDoctypeName),this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Sm(t))this._createDoctypeToken(String.fromCharCode(T1(t))),this.state=$.DOCTYPE_NAME;else switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.NULL:{this._err(ye.unexpectedNullCharacter),this._createDoctypeToken(In),this.state=$.DOCTYPE_NAME;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=$.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.AFTER_DOCTYPE_NAME;break}case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.name+=In;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Sm(t)?T1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ns.PUBLIC,!1)?this.state=$.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ns.SYSTEM,!1)?this.state=$.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ye.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.QUOTATION_MARK:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case H.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.publicId+=In;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case H.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.publicId+=In;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case H.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.QUOTATION_MARK:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case H.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.systemId+=In;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case H.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.NULL:{this._err(ye.unexpectedNullCharacter),n.systemId+=In;break}case H.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case H.SPACE:case H.LINE_FEED:case H.TABULATION:case H.FORM_FEED:break;case H.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case H.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case H.NULL:{this._err(ye.unexpectedNullCharacter);break}case H.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case H.RIGHT_SQUARE_BRACKET:{this.state=$.CDATA_SECTION_BRACKET;break}case H.EOF:{this._err(ye.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===H.RIGHT_SQUARE_BRACKET?this.state=$.CDATA_SECTION_END:(this._emitChars("]"),this.state=$.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case H.GREATER_THAN_SIGN:{this.state=$.DATA;break}case H.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=$.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(H.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&rj(this.preprocessor.peek(1))?$.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){rj(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===H.SEMICOLON&&this._err(ye.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const QV=new Set([k.DD,k.DT,k.LI,k.OPTGROUP,k.OPTION,k.P,k.RB,k.RP,k.RT,k.RTC]),ij=new Set([...QV,k.CAPTION,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]),hv=new Set([k.APPLET,k.CAPTION,k.HTML,k.MARQUEE,k.OBJECT,k.TABLE,k.TD,k.TEMPLATE,k.TH]),OCe=new Set([...hv,k.OL,k.UL]),RCe=new Set([...hv,k.BUTTON]),oj=new Set([k.ANNOTATION_XML,k.MI,k.MN,k.MO,k.MS,k.MTEXT]),aj=new Set([k.DESC,k.FOREIGN_OBJECT,k.TITLE]),ICe=new Set([k.TR,k.TEMPLATE,k.HTML]),DCe=new Set([k.TBODY,k.TFOOT,k.THEAD,k.TEMPLATE,k.HTML]),LCe=new Set([k.TABLE,k.TEMPLATE,k.HTML]),jCe=new Set([k.TD,k.TH]);class PCe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=k.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===k.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ne.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ne.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(c_,Ne.HTML)}popUntilTableCellPopped(){this.popUntilPopped(jCe,Ne.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(LCe,Ne.HTML)}clearBackToTableBodyContext(){this.clearBackTo(DCe,Ne.HTML)}clearBackToTableRowContext(){this.clearBackTo(ICe,Ne.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===k.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===k.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ne.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case Ne.SVG:{if(aj.has(s))return!1;break}case Ne.MATHML:{if(oj.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,hv)}hasInListItemScope(t){return this.hasInDynamicScope(t,OCe)}hasInButtonScope(t){return this.hasInDynamicScope(t,RCe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Ne.HTML:{if(c_.has(n))return!0;if(hv.has(n))return!1;break}case Ne.SVG:{if(aj.has(n))return!1;break}case Ne.MATHML:{if(oj.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ne.HTML)switch(this.tagIDs[n]){case t:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Ne.HTML)switch(this.tagIDs[t]){case k.TBODY:case k.THEAD:case k.TFOOT:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ne.HTML)switch(this.tagIDs[n]){case t:return!0;case k.OPTION:case k.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&QV.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&ij.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&ij.has(this.currentTagId);)this.pop()}}const R2=3;var ta;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ta||(ta={}));const lj={type:ta.Marker};class BCe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===ta.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===o){const f=this.treeAdapter.getAttrList(u);f.length===s&&r.push({idx:a,attrs:f})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<R2)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<R2)return;const s=new Map(n.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>s.get(l.name)===l.value)&&(i+=1,i>=R2&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(lj)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ta.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ta.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(lj);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ta.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ta.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ta.Element&&n.element===t)}}const ic={createDocument(){return{nodeName:"#document",mode:Bi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ic.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ic.isTextNode(n)){n.value+=t;return}}ic.appendChild(e,ic.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ic.isTextNode(r)?r.value+=t:ic.insertBefore(e,ic.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},XV="html",HCe="about:legacy-compat",FCe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ZV=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],UCe=[...ZV,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],zCe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),JV=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],$Ce=[...JV,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function cj(e,t){return t.some(n=>e.startsWith(n))}function VCe(e){return e.name===XV&&e.publicId===null&&(e.systemId===null||e.systemId===HCe)}function qCe(e){if(e.name!==XV)return Bi.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===FCe)return Bi.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),zCe.has(n))return Bi.QUIRKS;let r=t===null?UCe:ZV;if(cj(n,r))return Bi.QUIRKS;if(r=t===null?JV:$Ce,cj(n,r))return Bi.LIMITED_QUIRKS}return Bi.NO_QUIRKS}const uj={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},GCe="definitionurl",YCe="definitionURL",WCe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),KCe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ne.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ne.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ne.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ne.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ne.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ne.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ne.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ne.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ne.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ne.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ne.XMLNS}]]),QCe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),XCe=new Set([k.B,k.BIG,k.BLOCKQUOTE,k.BODY,k.BR,k.CENTER,k.CODE,k.DD,k.DIV,k.DL,k.DT,k.EM,k.EMBED,k.H1,k.H2,k.H3,k.H4,k.H5,k.H6,k.HEAD,k.HR,k.I,k.IMG,k.LI,k.LISTING,k.MENU,k.META,k.NOBR,k.OL,k.P,k.PRE,k.RUBY,k.S,k.SMALL,k.SPAN,k.STRONG,k.STRIKE,k.SUB,k.SUP,k.TABLE,k.TT,k.U,k.UL,k.VAR]);function ZCe(e){const t=e.tagID;return t===k.FONT&&e.attrs.some(({name:r})=>r===qu.COLOR||r===qu.SIZE||r===qu.FACE)||XCe.has(t)}function eq(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===GCe){e.attrs[t].name=YCe;break}}function tq(e){for(let t=0;t<e.attrs.length;t++){const n=WCe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function O3(e){for(let t=0;t<e.attrs.length;t++){const n=KCe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function JCe(e){const t=QCe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Tw(e.tagName))}function eSe(e,t){return t===Ne.MATHML&&(e===k.MI||e===k.MO||e===k.MN||e===k.MS||e===k.MTEXT)}function tSe(e,t,n){if(t===Ne.MATHML&&e===k.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===qu.ENCODING){const s=n[r].value.toLowerCase();return s===uj.TEXT_HTML||s===uj.APPLICATION_XML}}return t===Ne.SVG&&(e===k.FOREIGN_OBJECT||e===k.DESC||e===k.TITLE)}function nSe(e,t,n,r){return(!r||r===Ne.HTML)&&tSe(e,t,n)||(!r||r===Ne.MATHML)&&eSe(e,t)}const rSe="hidden",sSe=8,iSe=3;var q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(q||(q={}));const oSe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},nq=new Set([k.TABLE,k.TBODY,k.TFOOT,k.THEAD,k.TR]),dj={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ic,onParseError:null};class rq{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=q.INITIAL,this.originalInsertionMode=q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...dj,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new MCe(this.options,this),this.activeFormattingElements=new BCe(this.treeAdapter),this.fragmentContextID=r?Tw(this.treeAdapter.getTagName(r)):k.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new PCe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...dj,...n};t??(t=r.treeAdapter.createElement(oe.TEMPLATE,Ne.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Ne.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===k.TEMPLATE&&i.tmplInsertionModeStack.unshift(q.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:oSe,o={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Ne.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ne.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=q.TEXT}switchToPlaintextParsing(){this.insertionMode=q.TEXT,this.originalInsertionMode=q.IN_BODY,this.tokenizer.state=js.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===oe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ne.HTML))switch(this.fragmentContextID){case k.TITLE:case k.TEXTAREA:{this.tokenizer.state=js.RCDATA;break}case k.STYLE:case k.XMP:case k.IFRAME:case k.NOEMBED:case k.NOFRAMES:case k.NOSCRIPT:{this.tokenizer.state=js.RAWTEXT;break}case k.SCRIPT:{this.tokenizer.state=js.SCRIPT_DATA;break}case k.PLAINTEXT:{this.tokenizer.state=js.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ne.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ne.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(oe.HTML,Ne.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,k.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,o=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:f}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===Yt.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===k.SVG&&this.treeAdapter.getTagName(n)===oe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ne.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===k.MGLYPH||t.tagID===k.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ne.HTML)}_processToken(t){switch(t.type){case Yt.CHARACTER:{this.onCharacter(t);break}case Yt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Yt.COMMENT:{this.onComment(t);break}case Yt.DOCTYPE:{this.onDoctype(t);break}case Yt.START_TAG:{this._processStartTag(t);break}case Yt.END_TAG:{this.onEndTag(t);break}case Yt.EOF:{this.onEof(t);break}case Yt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return nSe(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===ta.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(k.P),this.openElements.popUntilTagNamePopped(k.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case k.TR:{this.insertionMode=q.IN_ROW;return}case k.TBODY:case k.THEAD:case k.TFOOT:{this.insertionMode=q.IN_TABLE_BODY;return}case k.CAPTION:{this.insertionMode=q.IN_CAPTION;return}case k.COLGROUP:{this.insertionMode=q.IN_COLUMN_GROUP;return}case k.TABLE:{this.insertionMode=q.IN_TABLE;return}case k.BODY:{this.insertionMode=q.IN_BODY;return}case k.FRAMESET:{this.insertionMode=q.IN_FRAMESET;return}case k.SELECT:{this._resetInsertionModeForSelect(t);return}case k.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case k.HTML:{this.insertionMode=this.headElement?q.AFTER_HEAD:q.BEFORE_HEAD;return}case k.TD:case k.TH:{if(t>0){this.insertionMode=q.IN_CELL;return}break}case k.HEAD:{if(t>0){this.insertionMode=q.IN_HEAD;return}break}}this.insertionMode=q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===k.TEMPLATE)break;if(r===k.TABLE){this.insertionMode=q.IN_SELECT_IN_TABLE;return}}this.insertionMode=q.IN_SELECT}_isElementCausesFosterParenting(t){return nq.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case k.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ne.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case k.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return kCe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){j2e(this,t);return}switch(this.insertionMode){case q.INITIAL:{am(this,t);break}case q.BEFORE_HTML:{Um(this,t);break}case q.BEFORE_HEAD:{zm(this,t);break}case q.IN_HEAD:{$m(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Vm(this,t);break}case q.AFTER_HEAD:{qm(this,t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:{iq(this,t);break}case q.TEXT:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{I2(this,t);break}case q.IN_TABLE_TEXT:{dq(this,t);break}case q.IN_COLUMN_GROUP:{pv(this,t);break}case q.AFTER_BODY:{mv(this,t);break}case q.AFTER_AFTER_BODY:{fy(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){L2e(this,t);return}switch(this.insertionMode){case q.INITIAL:{am(this,t);break}case q.BEFORE_HTML:{Um(this,t);break}case q.BEFORE_HEAD:{zm(this,t);break}case q.IN_HEAD:{$m(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Vm(this,t);break}case q.AFTER_HEAD:{qm(this,t);break}case q.TEXT:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{I2(this,t);break}case q.IN_COLUMN_GROUP:{pv(this,t);break}case q.AFTER_BODY:{mv(this,t);break}case q.AFTER_AFTER_BODY:{fy(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){u_(this,t);return}switch(this.insertionMode){case q.INITIAL:case q.BEFORE_HTML:case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_TEMPLATE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{u_(this,t);break}case q.IN_TABLE_TEXT:{lm(this,t);break}case q.AFTER_BODY:{hSe(this,t);break}case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{pSe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case q.INITIAL:{mSe(this,t);break}case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:{this._err(t,ye.misplacedDoctype);break}case q.IN_TABLE_TEXT:{lm(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ye.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?P2e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{am(this,t);break}case q.BEFORE_HTML:{gSe(this,t);break}case q.BEFORE_HEAD:{ySe(this,t);break}case q.IN_HEAD:{Lo(this,t);break}case q.IN_HEAD_NO_SCRIPT:{wSe(this,t);break}case q.AFTER_HEAD:{CSe(this,t);break}case q.IN_BODY:{es(this,t);break}case q.IN_TABLE:{Nh(this,t);break}case q.IN_TABLE_TEXT:{lm(this,t);break}case q.IN_CAPTION:{v2e(this,t);break}case q.IN_COLUMN_GROUP:{D3(this,t);break}case q.IN_TABLE_BODY:{Nw(this,t);break}case q.IN_ROW:{Aw(this,t);break}case q.IN_CELL:{E2e(this,t);break}case q.IN_SELECT:{pq(this,t);break}case q.IN_SELECT_IN_TABLE:{S2e(this,t);break}case q.IN_TEMPLATE:{k2e(this,t);break}case q.AFTER_BODY:{N2e(this,t);break}case q.IN_FRAMESET:{A2e(this,t);break}case q.AFTER_FRAMESET:{O2e(this,t);break}case q.AFTER_AFTER_BODY:{I2e(this,t);break}case q.AFTER_AFTER_FRAMESET:{D2e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?B2e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{am(this,t);break}case q.BEFORE_HTML:{bSe(this,t);break}case q.BEFORE_HEAD:{vSe(this,t);break}case q.IN_HEAD:{xSe(this,t);break}case q.IN_HEAD_NO_SCRIPT:{ESe(this,t);break}case q.AFTER_HEAD:{SSe(this,t);break}case q.IN_BODY:{_w(this,t);break}case q.TEXT:{c2e(this,t);break}case q.IN_TABLE:{$g(this,t);break}case q.IN_TABLE_TEXT:{lm(this,t);break}case q.IN_CAPTION:{x2e(this,t);break}case q.IN_COLUMN_GROUP:{w2e(this,t);break}case q.IN_TABLE_BODY:{d_(this,t);break}case q.IN_ROW:{hq(this,t);break}case q.IN_CELL:{C2e(this,t);break}case q.IN_SELECT:{mq(this,t);break}case q.IN_SELECT_IN_TABLE:{T2e(this,t);break}case q.IN_TEMPLATE:{_2e(this,t);break}case q.AFTER_BODY:{bq(this,t);break}case q.IN_FRAMESET:{M2e(this,t);break}case q.AFTER_FRAMESET:{R2e(this,t);break}case q.AFTER_AFTER_BODY:{fy(this,t);break}}}onEof(t){switch(this.insertionMode){case q.INITIAL:{am(this,t);break}case q.BEFORE_HTML:{Um(this,t);break}case q.BEFORE_HEAD:{zm(this,t);break}case q.IN_HEAD:{$m(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Vm(this,t);break}case q.AFTER_HEAD:{qm(this,t);break}case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{cq(this,t);break}case q.TEXT:{u2e(this,t);break}case q.IN_TABLE_TEXT:{lm(this,t);break}case q.IN_TEMPLATE:{gq(this,t);break}case q.AFTER_BODY:case q.IN_FRAMESET:case q.AFTER_FRAMESET:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{I3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===H.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.TEXT:case q.IN_COLUMN_GROUP:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{this._insertCharacters(t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:case q.AFTER_BODY:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{sq(this,t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{I2(this,t);break}case q.IN_TABLE_TEXT:{uq(this,t);break}}}}function aSe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):lq(e,t),n}function lSe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function cSe(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,o=s;o!==n;i++,o=s){s=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&i>=iSe;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=uSe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function uSe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function dSe(e,t,n){const r=e.treeAdapter.getTagName(t),s=Tw(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===k.TEMPLATE&&i===Ne.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function fSe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function R3(e,t){for(let n=0;n<sSe;n++){const r=aSe(e,t);if(!r)break;const s=lSe(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=cSe(e,s,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),o&&dSe(e,o,i),fSe(e,s,r)}}function u_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function hSe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function pSe(e,t){e._appendCommentNode(t,e.document)}function I3(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function mSe(e,t){e._setDocumentType(t);const n=t.forceQuirks?Bi.QUIRKS:qCe(t);VCe(t)||e._err(t,ye.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=q.BEFORE_HTML}function am(e,t){e._err(t,ye.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Bi.QUIRKS),e.insertionMode=q.BEFORE_HTML,e._processToken(t)}function gSe(e,t){t.tagID===k.HTML?(e._insertElement(t,Ne.HTML),e.insertionMode=q.BEFORE_HEAD):Um(e,t)}function bSe(e,t){const n=t.tagID;(n===k.HTML||n===k.HEAD||n===k.BODY||n===k.BR)&&Um(e,t)}function Um(e,t){e._insertFakeRootElement(),e.insertionMode=q.BEFORE_HEAD,e._processToken(t)}function ySe(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.HEAD:{e._insertElement(t,Ne.HTML),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD;break}default:zm(e,t)}}function vSe(e,t){const n=t.tagID;n===k.HEAD||n===k.BODY||n===k.HTML||n===k.BR?zm(e,t):e._err(t,ye.endTagWithoutMatchingOpenElement)}function zm(e,t){e._insertFakeElement(oe.HEAD,k.HEAD),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD,e._processToken(t)}function Lo(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:{e._appendElement(t,Ne.HTML),t.ackSelfClosing=!0;break}case k.TITLE:{e._switchToTextParsing(t,js.RCDATA);break}case k.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,js.RAWTEXT):(e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_HEAD_NO_SCRIPT);break}case k.NOFRAMES:case k.STYLE:{e._switchToTextParsing(t,js.RAWTEXT);break}case k.SCRIPT:{e._switchToTextParsing(t,js.SCRIPT_DATA);break}case k.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(q.IN_TEMPLATE);break}case k.HEAD:{e._err(t,ye.misplacedStartTagForHeadElement);break}default:$m(e,t)}}function xSe(e,t){switch(t.tagID){case k.HEAD:{e.openElements.pop(),e.insertionMode=q.AFTER_HEAD;break}case k.BODY:case k.BR:case k.HTML:{$m(e,t);break}case k.TEMPLATE:{Cd(e,t);break}default:e._err(t,ye.endTagWithoutMatchingOpenElement)}}function Cd(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==k.TEMPLATE&&e._err(t,ye.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ye.endTagWithoutMatchingOpenElement)}function $m(e,t){e.openElements.pop(),e.insertionMode=q.AFTER_HEAD,e._processToken(t)}function wSe(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.BASEFONT:case k.BGSOUND:case k.HEAD:case k.LINK:case k.META:case k.NOFRAMES:case k.STYLE:{Lo(e,t);break}case k.NOSCRIPT:{e._err(t,ye.nestedNoscriptInHead);break}default:Vm(e,t)}}function ESe(e,t){switch(t.tagID){case k.NOSCRIPT:{e.openElements.pop(),e.insertionMode=q.IN_HEAD;break}case k.BR:{Vm(e,t);break}default:e._err(t,ye.endTagWithoutMatchingOpenElement)}}function Vm(e,t){const n=t.type===Yt.EOF?ye.openElementsLeftAfterEof:ye.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=q.IN_HEAD,e._processToken(t)}function CSe(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.BODY:{e._insertElement(t,Ne.HTML),e.framesetOk=!1,e.insertionMode=q.IN_BODY;break}case k.FRAMESET:{e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_FRAMESET;break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{e._err(t,ye.abandonedHeadElementChild),e.openElements.push(e.headElement,k.HEAD),Lo(e,t),e.openElements.remove(e.headElement);break}case k.HEAD:{e._err(t,ye.misplacedStartTagForHeadElement);break}default:qm(e,t)}}function SSe(e,t){switch(t.tagID){case k.BODY:case k.HTML:case k.BR:{qm(e,t);break}case k.TEMPLATE:{Cd(e,t);break}default:e._err(t,ye.endTagWithoutMatchingOpenElement)}}function qm(e,t){e._insertFakeElement(oe.BODY,k.BODY),e.insertionMode=q.IN_BODY,kw(e,t)}function kw(e,t){switch(t.type){case Yt.CHARACTER:{iq(e,t);break}case Yt.WHITESPACE_CHARACTER:{sq(e,t);break}case Yt.COMMENT:{u_(e,t);break}case Yt.START_TAG:{es(e,t);break}case Yt.END_TAG:{_w(e,t);break}case Yt.EOF:{cq(e,t);break}}}function sq(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function iq(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function TSe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function kSe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function _Se(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_FRAMESET)}function NSe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML)}function ASe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&c_.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ne.HTML)}function MSe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function OSe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML),n||(e.formElement=e.openElements.current))}function RSe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===k.LI&&s===k.LI||(n===k.DD||n===k.DT)&&(s===k.DD||s===k.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==k.ADDRESS&&s!==k.DIV&&s!==k.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML)}function ISe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML),e.tokenizer.state=js.PLAINTEXT}function DSe(e,t){e.openElements.hasInScope(k.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML),e.framesetOk=!1}function LSe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(oe.A);n&&(R3(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function jSe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function PSe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(k.NOBR)&&(R3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function BSe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function HSe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Bi.QUIRKS&&e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Ne.HTML),e.framesetOk=!1,e.insertionMode=q.IN_TABLE}function oq(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function aq(e){const t=WV(e,qu.TYPE);return t!=null&&t.toLowerCase()===rSe}function FSe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ne.HTML),aq(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function USe(e,t){e._appendElement(t,Ne.HTML),t.ackSelfClosing=!0}function zSe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._appendElement(t,Ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function $Se(e,t){t.tagName=oe.IMG,t.tagID=k.IMG,oq(e,t)}function VSe(e,t){e._insertElement(t,Ne.HTML),e.skipNextNewLine=!0,e.tokenizer.state=js.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=q.TEXT}function qSe(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,js.RAWTEXT)}function GSe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,js.RAWTEXT)}function fj(e,t){e._switchToTextParsing(t,js.RAWTEXT)}function YSe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===q.IN_TABLE||e.insertionMode===q.IN_CAPTION||e.insertionMode===q.IN_TABLE_BODY||e.insertionMode===q.IN_ROW||e.insertionMode===q.IN_CELL?q.IN_SELECT_IN_TABLE:q.IN_SELECT}function WSe(e,t){e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML)}function KSe(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ne.HTML)}function QSe(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(k.RTC),e._insertElement(t,Ne.HTML)}function XSe(e,t){e._reconstructActiveFormattingElements(),eq(t),O3(t),t.selfClosing?e._appendElement(t,Ne.MATHML):e._insertElement(t,Ne.MATHML),t.ackSelfClosing=!0}function ZSe(e,t){e._reconstructActiveFormattingElements(),tq(t),O3(t),t.selfClosing?e._appendElement(t,Ne.SVG):e._insertElement(t,Ne.SVG),t.ackSelfClosing=!0}function hj(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ne.HTML)}function es(e,t){switch(t.tagID){case k.I:case k.S:case k.B:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.SMALL:case k.STRIKE:case k.STRONG:{jSe(e,t);break}case k.A:{LSe(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{ASe(e,t);break}case k.P:case k.DL:case k.OL:case k.UL:case k.DIV:case k.DIR:case k.NAV:case k.MAIN:case k.MENU:case k.ASIDE:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.DETAILS:case k.ADDRESS:case k.ARTICLE:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{NSe(e,t);break}case k.LI:case k.DD:case k.DT:{RSe(e,t);break}case k.BR:case k.IMG:case k.WBR:case k.AREA:case k.EMBED:case k.KEYGEN:{oq(e,t);break}case k.HR:{zSe(e,t);break}case k.RB:case k.RTC:{KSe(e,t);break}case k.RT:case k.RP:{QSe(e,t);break}case k.PRE:case k.LISTING:{MSe(e,t);break}case k.XMP:{qSe(e,t);break}case k.SVG:{ZSe(e,t);break}case k.HTML:{TSe(e,t);break}case k.BASE:case k.LINK:case k.META:case k.STYLE:case k.TITLE:case k.SCRIPT:case k.BGSOUND:case k.BASEFONT:case k.TEMPLATE:{Lo(e,t);break}case k.BODY:{kSe(e,t);break}case k.FORM:{OSe(e,t);break}case k.NOBR:{PSe(e,t);break}case k.MATH:{XSe(e,t);break}case k.TABLE:{HSe(e,t);break}case k.INPUT:{FSe(e,t);break}case k.PARAM:case k.TRACK:case k.SOURCE:{USe(e,t);break}case k.IMAGE:{$Se(e,t);break}case k.BUTTON:{DSe(e,t);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{BSe(e,t);break}case k.IFRAME:{GSe(e,t);break}case k.SELECT:{YSe(e,t);break}case k.OPTION:case k.OPTGROUP:{WSe(e,t);break}case k.NOEMBED:case k.NOFRAMES:{fj(e,t);break}case k.FRAMESET:{_Se(e,t);break}case k.TEXTAREA:{VSe(e,t);break}case k.NOSCRIPT:{e.options.scriptingEnabled?fj(e,t):hj(e,t);break}case k.PLAINTEXT:{ISe(e,t);break}case k.COL:case k.TH:case k.TD:case k.TR:case k.HEAD:case k.FRAME:case k.TBODY:case k.TFOOT:case k.THEAD:case k.CAPTION:case k.COLGROUP:break;default:hj(e,t)}}function JSe(e,t){if(e.openElements.hasInScope(k.BODY)&&(e.insertionMode=q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function e2e(e,t){e.openElements.hasInScope(k.BODY)&&(e.insertionMode=q.AFTER_BODY,bq(e,t))}function t2e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function n2e(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(k.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(k.FORM):n&&e.openElements.remove(n))}function r2e(e){e.openElements.hasInButtonScope(k.P)||e._insertFakeElement(oe.P,k.P),e._closePElement()}function s2e(e){e.openElements.hasInListItemScope(k.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(k.LI),e.openElements.popUntilTagNamePopped(k.LI))}function i2e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function o2e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function a2e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function l2e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(oe.BR,k.BR),e.openElements.pop(),e.framesetOk=!1}function lq(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],o=e.openElements.tagIDs[s];if(r===o&&(r!==k.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,o))break}}function _w(e,t){switch(t.tagID){case k.A:case k.B:case k.I:case k.S:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.NOBR:case k.SMALL:case k.STRIKE:case k.STRONG:{R3(e,t);break}case k.P:{r2e(e);break}case k.DL:case k.UL:case k.OL:case k.DIR:case k.DIV:case k.NAV:case k.PRE:case k.MAIN:case k.MENU:case k.ASIDE:case k.BUTTON:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.ADDRESS:case k.ARTICLE:case k.DETAILS:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.LISTING:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{t2e(e,t);break}case k.LI:{s2e(e);break}case k.DD:case k.DT:{i2e(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{o2e(e);break}case k.BR:{l2e(e);break}case k.BODY:{JSe(e,t);break}case k.HTML:{e2e(e,t);break}case k.FORM:{n2e(e);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{a2e(e,t);break}case k.TEMPLATE:{Cd(e,t);break}default:lq(e,t)}}function cq(e,t){e.tmplInsertionModeStack.length>0?gq(e,t):I3(e,t)}function c2e(e,t){var n;t.tagID===k.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function u2e(e,t){e._err(t,ye.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function I2(e,t){if(e.openElements.currentTagId!==void 0&&nq.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=q.IN_TABLE_TEXT,t.type){case Yt.CHARACTER:{dq(e,t);break}case Yt.WHITESPACE_CHARACTER:{uq(e,t);break}}else _0(e,t)}function d2e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_CAPTION}function f2e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_COLUMN_GROUP}function h2e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(oe.COLGROUP,k.COLGROUP),e.insertionMode=q.IN_COLUMN_GROUP,D3(e,t)}function p2e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_TABLE_BODY}function m2e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(oe.TBODY,k.TBODY),e.insertionMode=q.IN_TABLE_BODY,Nw(e,t)}function g2e(e,t){e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function b2e(e,t){aq(t)?e._appendElement(t,Ne.HTML):_0(e,t),t.ackSelfClosing=!0}function y2e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ne.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Nh(e,t){switch(t.tagID){case k.TD:case k.TH:case k.TR:{m2e(e,t);break}case k.STYLE:case k.SCRIPT:case k.TEMPLATE:{Lo(e,t);break}case k.COL:{h2e(e,t);break}case k.FORM:{y2e(e,t);break}case k.TABLE:{g2e(e,t);break}case k.TBODY:case k.TFOOT:case k.THEAD:{p2e(e,t);break}case k.INPUT:{b2e(e,t);break}case k.CAPTION:{d2e(e,t);break}case k.COLGROUP:{f2e(e,t);break}default:_0(e,t)}}function $g(e,t){switch(t.tagID){case k.TABLE:{e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode());break}case k.TEMPLATE:{Cd(e,t);break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:_0(e,t)}}function _0(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,kw(e,t),e.fosterParentingEnabled=n}function uq(e,t){e.pendingCharacterTokens.push(t)}function dq(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function lm(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)_0(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const fq=new Set([k.CAPTION,k.COL,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]);function v2e(e,t){const n=t.tagID;fq.has(n)?e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,Nh(e,t)):es(e,t)}function x2e(e,t){const n=t.tagID;switch(n){case k.CAPTION:case k.TABLE:{e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,n===k.TABLE&&$g(e,t));break}case k.BODY:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:_w(e,t)}}function D3(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.COL:{e._appendElement(t,Ne.HTML),t.ackSelfClosing=!0;break}case k.TEMPLATE:{Lo(e,t);break}default:pv(e,t)}}function w2e(e,t){switch(t.tagID){case k.COLGROUP:{e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case k.TEMPLATE:{Cd(e,t);break}case k.COL:break;default:pv(e,t)}}function pv(e,t){e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE,e._processToken(t))}function Nw(e,t){switch(t.tagID){case k.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_ROW;break}case k.TH:case k.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(oe.TR,k.TR),e.insertionMode=q.IN_ROW,Aw(e,t);break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Nh(e,t));break}default:Nh(e,t)}}function d_(e,t){const n=t.tagID;switch(t.tagID){case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case k.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,$g(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:case k.TR:break;default:$g(e,t)}}function Aw(e,t){switch(t.tagID){case k.TH:case k.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ne.HTML),e.insertionMode=q.IN_CELL,e.activeFormattingElements.insertMarker();break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,Nw(e,t));break}default:Nh(e,t)}}function hq(e,t){switch(t.tagID){case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY);break}case k.TABLE:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,d_(e,t));break}case k.TBODY:case k.TFOOT:case k.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(k.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,d_(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:break;default:$g(e,t)}}function E2e(e,t){const n=t.tagID;fq.has(n)?(e.openElements.hasInTableScope(k.TD)||e.openElements.hasInTableScope(k.TH))&&(e._closeTableCell(),Aw(e,t)):es(e,t)}function C2e(e,t){const n=t.tagID;switch(n){case k.TD:case k.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_ROW);break}case k.TABLE:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),hq(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:break;default:_w(e,t)}}function pq(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._insertElement(t,Ne.HTML);break}case k.OPTGROUP:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ne.HTML);break}case k.HR:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Ne.HTML),t.ackSelfClosing=!0;break}case k.INPUT:case k.KEYGEN:case k.TEXTAREA:case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),t.tagID!==k.SELECT&&e._processStartTag(t));break}case k.SCRIPT:case k.TEMPLATE:{Lo(e,t);break}}}function mq(e,t){switch(t.tagID){case k.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===k.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===k.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop();break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop();break}case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode());break}case k.TEMPLATE:{Cd(e,t);break}}}function S2e(e,t){const n=t.tagID;n===k.CAPTION||n===k.TABLE||n===k.TBODY||n===k.TFOOT||n===k.THEAD||n===k.TR||n===k.TD||n===k.TH?(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e._processStartTag(t)):pq(e,t)}function T2e(e,t){const n=t.tagID;n===k.CAPTION||n===k.TABLE||n===k.TBODY||n===k.TFOOT||n===k.THEAD||n===k.TR||n===k.TD||n===k.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e.onEndTag(t)):mq(e,t)}function k2e(e,t){switch(t.tagID){case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{Lo(e,t);break}case k.CAPTION:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.tmplInsertionModeStack[0]=q.IN_TABLE,e.insertionMode=q.IN_TABLE,Nh(e,t);break}case k.COL:{e.tmplInsertionModeStack[0]=q.IN_COLUMN_GROUP,e.insertionMode=q.IN_COLUMN_GROUP,D3(e,t);break}case k.TR:{e.tmplInsertionModeStack[0]=q.IN_TABLE_BODY,e.insertionMode=q.IN_TABLE_BODY,Nw(e,t);break}case k.TD:case k.TH:{e.tmplInsertionModeStack[0]=q.IN_ROW,e.insertionMode=q.IN_ROW,Aw(e,t);break}default:e.tmplInsertionModeStack[0]=q.IN_BODY,e.insertionMode=q.IN_BODY,es(e,t)}}function _2e(e,t){t.tagID===k.TEMPLATE&&Cd(e,t)}function gq(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):I3(e,t)}function N2e(e,t){t.tagID===k.HTML?es(e,t):mv(e,t)}function bq(e,t){var n;if(t.tagID===k.HTML){if(e.fragmentContext||(e.insertionMode=q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===k.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else mv(e,t)}function mv(e,t){e.insertionMode=q.IN_BODY,kw(e,t)}function A2e(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.FRAMESET:{e._insertElement(t,Ne.HTML);break}case k.FRAME:{e._appendElement(t,Ne.HTML),t.ackSelfClosing=!0;break}case k.NOFRAMES:{Lo(e,t);break}}}function M2e(e,t){t.tagID===k.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==k.FRAMESET&&(e.insertionMode=q.AFTER_FRAMESET))}function O2e(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.NOFRAMES:{Lo(e,t);break}}}function R2e(e,t){t.tagID===k.HTML&&(e.insertionMode=q.AFTER_AFTER_FRAMESET)}function I2e(e,t){t.tagID===k.HTML?es(e,t):fy(e,t)}function fy(e,t){e.insertionMode=q.IN_BODY,kw(e,t)}function D2e(e,t){switch(t.tagID){case k.HTML:{es(e,t);break}case k.NOFRAMES:{Lo(e,t);break}}}function L2e(e,t){t.chars=In,e._insertCharacters(t)}function j2e(e,t){e._insertCharacters(t),e.framesetOk=!1}function yq(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ne.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function P2e(e,t){if(ZCe(t))yq(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ne.MATHML?eq(t):r===Ne.SVG&&(JCe(t),tq(t)),O3(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function B2e(e,t){if(t.tagID===k.P||t.tagID===k.BR){yq(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ne.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}oe.AREA,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BR,oe.COL,oe.EMBED,oe.FRAME,oe.HR,oe.IMG,oe.INPUT,oe.KEYGEN,oe.LINK,oe.META,oe.PARAM,oe.SOURCE,oe.TRACK,oe.WBR;function H2e(e,t){return rq.parse(e,t)}function F2e(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=rq.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function Gm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?pj(e.position):"start"in e||"end"in e?pj(e):"line"in e||"column"in e?f_(e):""}function f_(e){return mj(e&&e.line)+":"+mj(e&&e.column)}function pj(e){return f_(e&&e.start)+"-"+f_(e&&e.end)}function mj(e){return e&&typeof e=="number"?e:1}class ms extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(o=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=Gm(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ms.prototype.file="";ms.prototype.name="";ms.prototype.reason="";ms.prototype.message="";ms.prototype.stack="";ms.prototype.column=void 0;ms.prototype.line=void 0;ms.prototype.ancestors=void 0;ms.prototype.cause=void 0;ms.prototype.fatal=void 0;ms.prototype.place=void 0;ms.prototype.ruleId=void 0;ms.prototype.source=void 0;const Qo={basename:U2e,dirname:z2e,extname:$2e,join:V2e,sep:"/"};function U2e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');N0(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function z2e(e){if(N0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $2e(e){N0(e);let t=e.length,n=-1,r=0,s=-1,i=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function V2e(...e){let t=-1,n;for(;++t<e.length;)N0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":q2e(n)}function q2e(e){N0(e);const t=e.codePointAt(0)===47;let n=G2e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function G2e(e,t){let n="",r=0,s=-1,i=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(s===o-1||i===1))if(s!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=o,i=0;continue}}else if(n.length>0){n="",r=0,s=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,i=0}else a===46&&i>-1?i++:i=-1}return n}function N0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Y2e={cwd:W2e};function W2e(){return"/"}function h_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function K2e(e){if(typeof e=="string")e=new URL(e);else if(!h_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Q2e(e)}function Q2e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const D2=["history","path","basename","stem","extname","dirname"];class p_{constructor(t){let n;t?h_(t)?n={path:t}:typeof t=="string"||X2e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Y2e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<D2.length;){const i=D2[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)D2.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Qo.basename(this.path):void 0}set basename(t){j2(t,"basename"),L2(t,"basename"),this.path=Qo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qo.dirname(this.path):void 0}set dirname(t){gj(this.basename,"dirname"),this.path=Qo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qo.extname(this.path):void 0}set extname(t){if(L2(t,"extname"),gj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){h_(t)&&(t=K2e(t)),j2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qo.basename(this.path,this.extname):void 0}set stem(t){j2(t,"stem"),L2(t,"stem"),this.path=Qo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new ms(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function L2(e,t){if(e&&e.includes(Qo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qo.sep+"`")}function j2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function gj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function X2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Z2e={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},J2e="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",eTe=/-[a-z]/g,tTe=/%c(?:([-+])(\d+))?/g,nTe=/%x/g,rTe={2:!0,1:!1,0:null},sTe={};function iTe(e,t){const n=t||sTe,r=n.onerror,s=e instanceof p_?e:new p_(e),i=n.fragment?F2e:H2e,o=String(s),a=i(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return lCe(a,{file:s,space:n.space,verbose:n.verbose});function l(u){const f=u.code,h=oTe(f),g=n[h],b=g??!0,v=typeof b=="number"?b:b?1:0;if(v){const w=Z2e[h],S=new ms(x(w.reason),{place:{start:{line:u.startLine,column:u.startCol,offset:u.startOffset},end:{line:u.endLine,column:u.endCol,offset:u.endOffset}},ruleId:f,source:"hast-util-from-html"});s.path&&(S.file=s.path,S.name=s.path+":"+S.name),S.fatal=rTe[v],S.note=x(w.description),S.url=w.url===!1?void 0:J2e+f,r(S)}function x(w){return w.replace(tTe,S).replace(nTe,_);function S(N,M,O){const R=(O?Number.parseInt(O,10):0)*(M==="-"?-1:1),I=o.charAt(u.startOffset+R);return lTe(I)}function _(){return cTe(o.charCodeAt(u.startOffset))}}}}function oTe(e){return e.replace(eTe,aTe)}function aTe(e){return e.charAt(1).toUpperCase()}function lTe(e){return e==="`"?"` ` `":e}function cTe(e){return"0x"+e.toString(16).toUpperCase()}function uTe(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=s;function s(i,o){return iTe(i,{...r,onerror:n?function(a){o.path&&(a.name=o.path+":"+a.name,a.file=o.path),o.messages.push(a)}:void 0})}}const vq=-1,Mw=0,Ym=1,gv=2,L3=3,j3=4,P3=5,B3=6,xq=7,wq=8,bj=typeof self=="object"?self:globalThis,dTe=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,o]=t[s];switch(i){case Mw:case vq:return n(o,s);case Ym:{const a=n([],s);for(const l of o)a.push(r(l));return a}case gv:{const a=n({},s);for(const[l,u]of o)a[r(l)]=r(u);return a}case L3:return n(new Date(o),s);case j3:{const{source:a,flags:l}=o;return n(new RegExp(a,l),s)}case P3:{const a=n(new Map,s);for(const[l,u]of o)a.set(r(l),r(u));return a}case B3:{const a=n(new Set,s);for(const l of o)a.add(r(l));return a}case xq:{const{name:a,message:l}=o;return n(new bj[a](l),s)}case wq:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new bj[i](o),s)};return r},yj=e=>dTe(new Map,e)(0),Of="",{toString:fTe}={},{keys:hTe}=Object,cm=e=>{const t=typeof e;if(t!=="object"||!e)return[Mw,t];const n=fTe.call(e).slice(8,-1);switch(n){case"Array":return[Ym,Of];case"Object":return[gv,Of];case"Date":return[L3,Of];case"RegExp":return[j3,Of];case"Map":return[P3,Of];case"Set":return[B3,Of];case"DataView":return[Ym,n]}return n.includes("Array")?[Ym,n]:n.includes("Error")?[xq,n]:[gv,n]},k1=([e,t])=>e===Mw&&(t==="function"||t==="symbol"),pTe=(e,t,n,r)=>{const s=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},i=o=>{if(n.has(o))return n.get(o);let[a,l]=cm(o);switch(a){case Mw:{let f=o;switch(l){case"bigint":a=wq,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return s([vq],o)}return s([a,f],o)}case Ym:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),s([l,[...g]],o)}const f=[],h=s([a,f],o);for(const g of o)f.push(i(g));return h}case gv:{if(l)switch(l){case"BigInt":return s([l,o.toString()],o);case"Boolean":case"Number":case"String":return s([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const f=[],h=s([a,f],o);for(const g of hTe(o))(e||!k1(cm(o[g])))&&f.push([i(g),i(o[g])]);return h}case L3:return s([a,o.toISOString()],o);case j3:{const{source:f,flags:h}=o;return s([a,{source:f,flags:h}],o)}case P3:{const f=[],h=s([a,f],o);for(const[g,b]of o)(e||!(k1(cm(g))||k1(cm(b))))&&f.push([i(g),i(b)]);return h}case B3:{const f=[],h=s([a,f],o);for(const g of o)(e||!k1(cm(g)))&&f.push(i(g));return h}}const{message:u}=o;return s([a,{name:l,message:u}],o)};return i},vj=(e,{json:t,lossy:n}={})=>{const r=[];return pTe(!(t||n),!!t,new Map,r)(e),r},Ah=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?yj(vj(e,t)):structuredClone(e):(e,t)=>yj(vj(e,t)),H3=(function(e,t,n,r,s){const i=jo(t);return Eq(e)?i.call(s,e,n,r):!1}),jo=(function(e){if(e==null)return bTe;if(typeof e=="string")return gTe(e);if(typeof e=="object")return mTe(e);if(typeof e=="function")return F3(e);throw new Error("Expected function, string, or array as `test`")});function mTe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jo(e[n]);return F3(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function gTe(e){return F3(t);function t(n){return n.tagName===e}}function F3(e){return t;function t(n,r,s){return!!(Eq(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function bTe(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Eq(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Cq=jo(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),yTe=/[ \t\n\f\r]/g;function A0(e){return typeof e=="object"?e.type==="text"?xj(e.value):!1:xj(e)}function xj(e){return e.replace(yTe,"")===""}const ep=(function(e){if(e==null)return ETe;if(typeof e=="function")return Ow(e);if(typeof e=="object")return Array.isArray(e)?vTe(e):xTe(e);if(typeof e=="string")return wTe(e);throw new Error("Expected function, string, or object as test")});function vTe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ep(e[n]);return Ow(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function xTe(e){const t=e;return Ow(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function wTe(e){return Ow(t);function t(n){return n&&n.type===e}}function Ow(e){return t;function t(n,r,s){return!!(CTe(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function ETe(){return!0}function CTe(e){return e!==null&&typeof e=="object"&&"type"in e}const STe=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],TTe=["button","input","select","textarea"],kTe=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],_Te={},U3=ep(["comment","doctype"]);function NTe(e,t){Sq(e,{collapse:LTe((t||_Te).newlines?ITe:DTe),whitespace:"normal"})}function Sq(e,t){if("children"in e){const n={...t};return(e.type==="root"||_q(e))&&(n.before=!0,n.after=!0),n.whitespace=jTe(e,t),MTe(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return ATe(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:U3(e),stripAtStart:!1,remove:!1}}function ATe(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let s=0,i=n.length;return t.before&&wj(n.charAt(0))&&s++,s!==i&&wj(n.charAt(i-1))&&(t.after?i--:r.stripAtStart=!0),s===i?r.remove=!0:e.value=n.slice(s,i),r}function MTe(e,t){let n=t.before;const r=t.after,s=e.children;let i=s.length,o=-1;for(;++o<i;){const a=Sq(s[o],{...t,after:Tq(s,o,r),before:n});a.remove?(s.splice(o,1),o--,i--):a.ignore||(n=a.stripAtStart),kq(s[o])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function Tq(e,t,n){for(;++t<e.length;){const r=e[t];let s=OTe(r);if(s===void 0&&"children"in r&&!RTe(r)&&(s=Tq(r.children,-1)),typeof s=="boolean")return s}return n}function OTe(e){if(e.type==="element"){if(kq(e))return!1;if(_q(e))return!0}else if(e.type==="text"){if(!A0(e))return!1}else if(!U3(e))return!1}function kq(e){return Cq(e)||H3(e,TTe)}function _q(e){return H3(e,STe)}function RTe(e){return!!(e.type==="element"&&e.properties.hidden)||U3(e)||H3(e,kTe)}function wj(e){return e===" "||e===`
`}function ITe(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function DTe(){return" "}function LTe(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function jTe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function PTe(e){return function(t){NTe(t,e)}}const Nq=[],BTe=!0,bv=!1,Aq="skip";function Mq(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=ep(s),o=r?-1:1;a(e,void 0,[])();function a(l,u,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=Nq,v,x,w;if((!t||i(l,u,f[f.length-1]||void 0))&&(b=HTe(n(l,f)),b[0]===bv))return b;if("children"in l&&l.children){const S=l;if(S.children&&b[0]!==Aq)for(x=(r?S.children.length:-1)+o,w=f.concat(S);x>-1&&x<S.children.length;){const _=S.children[x];if(v=a(_,x,w)(),v[0]===bv)return v;x=typeof v[1]=="number"?v[1]:x+o}}return b}}}function HTe(e){return Array.isArray(e)?e:typeof e=="number"?[BTe,e]:e==null?Nq:[e]}function Mh(e,t,n,r){let s,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,s=n):(i=t,o=n,s=r),Mq(e,i,a,s);function a(l,u){const f=u[u.length-1],h=f?f.children.indexOf(l):void 0;return o(l,h,f)}}const Oq=Iq("end"),Rq=Iq("start");function Iq(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Dq(e){const t=Rq(e),n=Oq(e);if(t&&n)return{start:t,end:n}}function FTe(e,t){const n=t.properties||{},r=e.all(t),s={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,s),s}function UTe(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function zTe(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function $Te(e,t){const n={type:"break"};return e.patch(t,n),n}const Ej=(function(e,t,n){const r=ep(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),Cj=/\n/g,Sj=/[\t ]+/g,m_=jo("br"),Tj=jo(QTe),VTe=jo("p"),kj=jo("tr"),qTe=jo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",KTe,XTe]),Lq=jo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function M0(e,t){const n={},r="children"in e?e.children:[],s=Lq(e),i=Bq(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...Pq(e,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...jq(r[a],e,{whitespace:i,breakBefore:a?void 0:s,breakAfter:a<r.length-1?m_(r[a+1]):s}));const l=[];let u;for(a=-1;++a<o.length;){const f=o[a];typeof f=="number"?u!==void 0&&f>u&&(u=f):f&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(f))}return l.join("")}function jq(e,t,n){return e.type==="element"?GTe(e,t,n):e.type==="text"?n.whitespace==="normal"?Pq(e,n):YTe(e):[]}function GTe(e,t,n){const r=Bq(e,n),s=e.children||[];let i=-1,o=[];if(qTe(e))return o;let a,l;for(m_(e)||kj(e)&&Ej(t,e,kj)?l=`
`:VTe(e)?(a=2,l=2):Lq(e)&&(a=1,l=1);++i<s.length;)o=o.concat(jq(s[i],e,{whitespace:r,breakBefore:i?void 0:a,breakAfter:i<s.length-1?m_(s[i+1]):l}));return Tj(e)&&Ej(t,e,Tj)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function Pq(e,t){const n=String(e.value),r=[],s=[];let i=0;for(;i<=n.length;){Cj.lastIndex=i;const l=Cj.exec(n),u=l&&"index"in l?l.index:n.length;r.push(WTe(n.slice(i,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),i===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),i=u+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(s.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&s.push(a),s.push(r[o]),a=0):(o===0||o===r.length-1)&&s.push(0);return s}function YTe(e){return[String(e.value)]}function WTe(e,t,n){const r=[];let s=0,i;for(;s<e.length;){Sj.lastIndex=s;const o=Sj.exec(e);i=o?o.index:e.length,!s&&!i&&o&&!t&&r.push(""),s!==i&&r.push(e.slice(s,i)),s=o?i+o[0].length:i}return s!==i&&!n&&r.push(""),r.join(" ")}function Bq(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function KTe(e){return!!(e.properties||{}).hidden}function QTe(e){return e.tagName==="td"||e.tagName==="th"}function XTe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function ZTe(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const P2="language-";function _1(e,t){const n=t.children;let r=-1,s,i;if(t.tagName==="pre")for(;++r<n.length;){const a=n[r];if(a.type==="element"&&a.tagName==="code"&&a.properties&&a.properties.className&&Array.isArray(a.properties.className)){s=a.properties.className;break}}if(s){for(r=-1;++r<s.length;)if(String(s[r]).slice(0,P2.length)===P2){i=String(s[r]).slice(P2.length);break}}const o={type:"code",lang:i||null,meta:null,value:ZTe(M0(t))};return e.patch(t,o),o}function JTe(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function B2(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function z3(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function eke(e,t){const n=[],r=[];let s=-1;for(;++s<t.children.length;){const a=t.children[s];a.type==="element"&&a.tagName==="div"?n.push(...a.children):n.push(a)}let i={definitions:[],titles:[]};for(s=-1;++s<n.length;){const a=n[s];if(a.type==="element"&&a.tagName==="dt"){const l=n[s-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(i),i={definitions:[],titles:[]}),i.titles.push(a)}else i.definitions.push(a)}r.push(i),s=-1;const o=[];for(;++s<r.length;){const a=[..._j(e,r[s].titles),..._j(e,r[s].definitions)];a.length>0&&o.push({type:"listItem",spread:a.length>1,checked:null,children:a})}if(o.length>0){const a={type:"list",ordered:!1,start:null,spread:z3(o),children:o};return e.patch(t,a),a}}function _j(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,tke);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:z3(r),children:r}]}function tke(){return{type:"listItem",spread:!1,checked:null,children:[]}}function N1(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function $3(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function Rf(e,t){const n=Number(t.tagName.charAt(1))||1,r=$3(e.all(t)),s={type:"heading",depth:n,children:r};return e.patch(t,s),s}function nke(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function rke(e,t){const n=t.properties||{},r=String(n.src||""),s=String(n.title||"");if(r&&s){const i={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:s}]};return e.patch(t,i),i}}function Nj(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function um(e,t){const n={type:"inlineCode",value:M0(t)};return e.patch(t,n),n}function Hq(e,t){const n=[],r=[],s=t||e.properties||{},i=Fq(e),o=Math.min(Number.parseInt(String(s.size),10),0)||(s.multiple?4:1);let a=-1;for(;++a<i.length;){const f=i[a];f&&f.properties&&f.properties.selected&&n.push(f)}const l=n.length>0?n:i,u=Math.min(l.length,o);for(a=-1;++a<u;){const f=l[a],h=f.properties||{},g=M0(f),b=g||String(h.label||""),v=String(h.value||"")||g;r.push([v,b===v?void 0:b])}return r}function Fq(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...Fq(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const ske="[x]",ike="[ ]";function oke(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||ske:e.options.unchecked||ike};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const u={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,u),u}return}let s=[];if(r)s=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),u=e.elementById.get(l);u&&u.tagName==="datalist"&&(s=Hq(u,n))}if(s.length===0)return;if(n.type==="password"&&(s[0]=["•".repeat(s[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let u=-1;for(;++u<s.length;){const f=e.resolve(s[u][0]),h={type:"link",title:null,url:n.type==="email"?"mailto:"+f:f,children:[{type:"text",value:s[u][1]||f}]};l.push(h),u!==s.length-1&&l.push({type:"text",value:", "})}return l}const i=[];let o=-1;for(;++o<s.length;)i.push(s[o][1]?s[o][1]+" ("+s[o][0]+")":s[o][0]);const a={type:"text",value:i.join(", ")};return e.patch(t,a),a}const ake={}.hasOwnProperty;function lke(e,t){const n=e.type==="element"&&ake.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const cke=new Set(["pingback","prefetch","stylesheet"]);function uke(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!cke.has(String(t[n])))return!1;return!0}const dke=jo(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),fke=jo("meta");function Uq(e){return!!(e.type==="text"||dke(e)||Cq(e)||uke(e)||fke(e)&&lke(e,"itemProp"))}function H2(e,t){const{rest:n,checkbox:r}=$q(t),s=r?!!r.properties.checked:null,i=zq(n),o=e.toFlow(e.all(n)),a={type:"listItem",spread:i,checked:s,children:o};return e.patch(t,a),a}function zq(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(Uq(r))continue;if(r.tagName==="p"||n||zq(r))return!0;n=!0}}return!1}function $q(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=$q(t);if(n){const s={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:s}}}return{checkbox:void 0,rest:e}}function F2(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),hke);let s=null;n&&(s=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const i={type:"list",ordered:n,start:s,spread:z3(r),children:r};return e.patch(t,i),i}function hke(){return{type:"listItem",spread:!1,checked:null,children:[]}}const pke={};function Rw(e,t){const n=pke,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Vq(e,r,s)}function Vq(e,t,n){if(mke(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Aj(e.children,t,n)}return Array.isArray(e)?Aj(e,t,n):""}function Aj(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Vq(e[s],t,n);return r.join("")}function mke(e){return!!(e&&typeof e=="object")}const qq=ep(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Iw(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!Wq(n)||"children"in n&&Iw(n.children))return!0}return!1}function Gq(e){return Yq(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?A0(r.value):!1})?[]:[{type:"paragraph",children:$3(n)}]}}function gke(e){return Yq(e.children,t,n);function t(r){const s=U2(e);return s.children=r,[s]}function n(r){if("children"in r&&"children"in e){const s=U2(e),i=U2(r);return s.children=r.children,i.children.push(s),i}return{...r}}}function Yq(e,t,n){const r=bke(e),s=[];let i=[],o=-1;for(;++o<r.length;){const a=r[o];Wq(a)?i.push(a):(i.length>0&&(s.push(...t(i)),i=[]),s.push(n(a)))}return i.length>0&&(s.push(...t(i)),i=[]),s}function bke(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&Iw(r.children)?t.push(...gke(r)):t.push(r)}return t}function Wq(e){const t=e.data&&e.data.hName;return t?Uq({type:"element",tagName:t,properties:{},children:[]}):qq(e)}function U2(e){return Ah({...e,children:[]})}function Mj(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let s=String(n.src||""),i=-1,o=!1,a=e.all(t);if(Mh({type:"root",children:a},function(h){if(h.type==="link")return o=!0,bv}),o||Iw(a))return a;for(;!s&&++i<t.children.length;){const h=t.children[i];h.type==="element"&&h.tagName==="source"&&h.properties&&(s=String(h.properties.src||""))}if(r){const h={type:"image",title:null,url:e.resolve(r),alt:Rw(a)};e.patch(t,h),a=[h]}const u=a,f={type:"link",title:n.title?String(n.title):null,url:e.resolve(s),children:u};return e.patch(t,f),f}function Oj(e,t){const n=$3(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const yke=['"'];function vke(e,t){const n=e.options.quotes||yke;e.qNesting++;const r=e.all(t);e.qNesting--;const s=n[e.qNesting%n.length],i=r[0],o=r[r.length-1],a=s.charAt(0),l=s.length>1?s.charAt(1):s;return i&&i.type==="text"?i.value=a+i.value:r.unshift({type:"text",value:a}),o&&o.type==="text"?o.value+=l:r.push({type:"text",value:l}),r}function xke(e,t){let n=e.all(t);(e.options.document||Iw(n))&&(n=Gq(n));const r={type:"root",children:n};return e.patch(t,r),r}function wke(e,t){const n=Hq(t);let r=-1;const s=[];for(;++r<n.length;){const i=n[r];s.push(i[1]?i[1]+" ("+i[0]+")":i[0])}if(s.length>0){const i={type:"text",value:s.join(", ")};return e.patch(t,i),i}}function Rj(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function Ij(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const s=t.properties.rowSpan,i=t.properties.colSpan;if(s||i){const o=r.data||(r.data={});s&&(o.hastUtilToMdastTemporaryRowSpan=s),i&&(o.hastUtilToMdastTemporaryColSpan=i)}}return r}function Eke(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),Cke)};return e.patch(t,r),r}function Cke(){return{type:"tableCell",children:[]}}function Ske(e,t){if(e.inTable){const u={type:"text",value:M0(t)};return e.patch(t,u),u}e.inTable=!0;const{align:n,headless:r}=Tke(t),s=e.toSpecificContent(e.all(t),Dj);r&&s.unshift(Dj());let i=-1;for(;++i<s.length;){const u=s[i],f=e.toSpecificContent(u.children,kke);u.children=f}let o=1;for(i=-1;++i<s.length;){const u=s[i].children;let f=-1;for(;++f<u.length;){const h=u[f];if(h.data){const g=h.data,b=Number.parseInt(String(g.hastUtilToMdastTemporaryColSpan),10)||1,v=Number.parseInt(String(g.hastUtilToMdastTemporaryRowSpan),10)||1;if(b>1||v>1){let x=i-1;for(;++x<i+v;){let w=f-1;for(;++w<f+b&&s[x];){const S=[];(x!==i||w!==f)&&S.push({type:"tableCell",children:[]}),s[x].children.splice(w,0,...S)}}}"hastUtilToMdastTemporaryColSpan"in h.data&&delete h.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in h.data&&delete h.data.hastUtilToMdastTemporaryRowSpan,Object.keys(h.data).length===0&&delete h.data}}u.length>o&&(o=u.length)}for(i=-1;++i<s.length;){const u=s[i].children;let f=u.length-1;for(;++f<o;)u.push({type:"tableCell",children:[]})}let a=n.length-1;for(;++a<o;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:s};return e.patch(t,l),l}function Tke(e){const t={align:[null],headless:!0};let n=0,r=0;return Mh(e,function(s){if(s.type==="element"){if(s.tagName==="table"&&e!==s)return Aq;if((s.tagName==="th"||s.tagName==="td")&&s.properties){if(!t.align[r]){const i=String(s.properties.align||"")||null;(i==="center"||i==="left"||i==="right"||i===null)&&(t.align[r]=i)}t.headless&&n<2&&s.tagName==="th"&&(t.headless=!1),r++}else s.tagName==="thead"?t.headless=!1:s.tagName==="tr"&&(n++,r=0)}}),t}function kke(){return{type:"tableCell",children:[]}}function Dj(){return{type:"tableRow",children:[]}}function _ke(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function Nke(e,t){const n={type:"text",value:M0(t)};return e.patch(t,n),n}function Ake(e,t){const n={type:"text",value:"​"};return e.patch(t,n),n}const Mke={comment:JTe,doctype:At,root:xke,text:_ke},Oke={applet:At,area:At,basefont:At,bgsound:At,caption:At,col:At,colgroup:At,command:At,content:At,datalist:At,dialog:At,element:At,embed:At,frame:At,frameset:At,isindex:At,keygen:At,link:At,math:At,menu:At,menuitem:At,meta:At,nextid:At,noembed:At,noframes:At,optgroup:At,option:At,param:At,script:At,shadow:At,source:At,spacer:At,style:At,svg:At,template:At,title:At,track:At,abbr:Nt,acronym:Nt,bdi:Nt,bdo:Nt,big:Nt,blink:Nt,button:Nt,canvas:Nt,cite:Nt,data:Nt,details:Nt,dfn:Nt,font:Nt,ins:Nt,label:Nt,map:Nt,marquee:Nt,meter:Nt,nobr:Nt,noscript:Nt,object:Nt,output:Nt,progress:Nt,rb:Nt,rbc:Nt,rp:Nt,rt:Nt,rtc:Nt,ruby:Nt,slot:Nt,small:Nt,span:Nt,sup:Nt,sub:Nt,tbody:Nt,tfoot:Nt,thead:Nt,time:Nt,address:tr,article:tr,aside:tr,body:tr,center:tr,div:tr,fieldset:tr,figcaption:tr,figure:tr,form:tr,footer:tr,header:tr,hgroup:tr,html:tr,legend:tr,main:tr,multicol:tr,nav:tr,picture:tr,section:tr,a:FTe,audio:Mj,b:Rj,base:UTe,blockquote:zTe,br:$Te,code:um,dir:F2,dl:eke,dt:H2,dd:H2,del:B2,em:N1,h1:Rf,h2:Rf,h3:Rf,h4:Rf,h5:Rf,h6:Rf,hr:nke,i:N1,iframe:rke,img:Nj,image:Nj,input:oke,kbd:um,li:H2,listing:_1,mark:N1,ol:F2,p:Oj,plaintext:_1,pre:_1,q:vke,s:B2,samp:um,select:wke,strike:B2,strong:Rj,summary:Oj,table:Ske,td:Ij,textarea:Nke,th:Ij,tr:Eke,tt:um,u:N1,ul:F2,var:um,video:Mj,wbr:Ake,xmp:_1};function Nt(e,t){return e.all(t)}function tr(e,t){return e.toFlow(e.all(t))}function At(){}const Lj={}.hasOwnProperty;function Rke(e){return{all:Ike,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...Oke,...e.handlers},inTable:!1,nodeHandlers:{...Mke,...e.nodeHandlers},one:Dke,options:e,patch:Lke,qNesting:0,resolve:jke,toFlow:Pke,toSpecificContent:Bke}}function Ike(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const s=t[r],i=this.one(s,e);Array.isArray(i)?n.push(...i):i&&n.push(i)}return n}function Dke(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(Lj.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(Lj.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function Lke(e,t){e.position&&(t.position=Dq(e))}function jke(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function Pke(e){return Gq(e)}function Bke(e,t){const n=t(),r=[];let s=[],i=-1;for(;++i<e.length;){const a=e[i];if(o(a))s.length>0&&(a.children.unshift(...s),s=[]),r.push(a);else{const l=a;s.push(l)}}if(s.length>0){let a=r[r.length-1];a||(a=t(),r.push(a)),a.children.push(...s),s=[]}return r;function o(a){return a.type===n.type}}const Hke={};function jj(e,t){const n=Ah(e),r=t||Hke,s=PTe({newlines:r.newlines===!0}),i=Rke(r);let o;s(n),Mh(n,function(l){if(l&&l.type==="element"&&l.properties){const u=String(l.properties.id||"")||void 0;u&&!i.elementById.has(u)&&i.elementById.set(u,l)}});const a=i.one(n,void 0);return a?Array.isArray(a)?o={type:"root",children:a}:o=a:o={type:"root",children:[]},Mh(o,function(l,u,f){if(l.type==="text"&&u!==void 0&&f){const h=f.children[u-1];if(h&&h.type===l.type)return h.value+=l.value,f.children.splice(u,1),h.position&&l.position&&(h.position.end=l.position.end),u-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),f&&(f.type==="heading"||f.type==="paragraph"||f.type==="root")&&(u||(l.value=l.value.replace(/^[\t ]+/,"")),u===f.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return f.children.splice(u,1),u}}),o}const Pj={document:!0};function Fke(e,t){return e&&"run"in e?async function(n,r){const s=jj(n,{...Pj,...t});await e.run(s,r)}:function(n){return jj(n,{...Pj,...e})}}function yv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}const ls=Qc(/[A-Za-z]/),Yr=Qc(/[\dA-Za-z]/),Uke=Qc(/[#-'*+\--9=?A-Z^-~]/);function vv(e){return e!==null&&(e<32||e===127)}const g_=Qc(/\d/),zke=Qc(/[\dA-Fa-f]/),$ke=Qc(/[!-/:-@[-`{-~]/);function it(e){return e!==null&&e<-2}function vn(e){return e!==null&&(e<0||e===32)}function Dt(e){return e===-2||e===-1||e===32}const Dw=Qc(/\p{P}|\p{S}/u),dd=Qc(/\s/);function Qc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vke(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function qke(e,t,n){const s=ep((n||{}).ignore||[]),i=Gke(t);let o=-1;for(;++o<i.length;)Mq(e,"text",a);function a(u,f){let h=-1,g;for(;++h<f.length;){const b=f[h],v=g?g.children:void 0;if(s(b,v?v.indexOf(b):void 0,g))return;g=b}if(g)return l(u,f)}function l(u,f){const h=f[f.length-1],g=i[o][0],b=i[o][1];let v=0;const w=h.children.indexOf(u);let S=!1,_=[];g.lastIndex=0;let N=g.exec(u.value);for(;N;){const M=N.index,O={index:N.index,input:N.input,stack:[...f,u]};let R=b(...N,O);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?g.lastIndex=M+1:(v!==M&&_.push({type:"text",value:u.value.slice(v,M)}),Array.isArray(R)?_.push(...R):R&&_.push(R),v=M+N[0].length,S=!0),!g.global)break;N=g.exec(u.value)}return S?(v<u.value.length&&_.push({type:"text",value:u.value.slice(v)}),h.children.splice(w,1,..._)):_=[u],w+_.length}}function Gke(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([Yke(s[0]),Wke(s[1])])}return t}function Yke(e){return typeof e=="string"?new RegExp(Vke(e),"g"):e}function Wke(e){return typeof e=="function"?e:function(){return e}}const z2="phrasing",$2=["autolink","link","image","label"];function Kke(){return{transforms:[n_e],enter:{literalAutolink:Xke,literalAutolinkEmail:V2,literalAutolinkHttp:V2,literalAutolinkWww:V2},exit:{literalAutolink:t_e,literalAutolinkEmail:e_e,literalAutolinkHttp:Zke,literalAutolinkWww:Jke}}}function Qke(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:z2,notInConstruct:$2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:z2,notInConstruct:$2},{character:":",before:"[ps]",after:"\\/",inConstruct:z2,notInConstruct:$2}]}}function Xke(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function V2(e){this.config.enter.autolinkProtocol.call(this,e)}function Zke(e){this.config.exit.autolinkProtocol.call(this,e)}function Jke(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function e_e(e){this.config.exit.autolinkEmail.call(this,e)}function t_e(e){this.exit(e)}function n_e(e){qke(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,r_e],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,s_e]],{ignore:["link","linkReference"]})}function r_e(e,t,n,r,s){let i="";if(!Kq(s)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!i_e(n)))return!1;const o=o_e(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function s_e(e,t,n,r){return!Kq(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function i_e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function o_e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=yv(e,"(");let i=yv(e,")");for(;r!==-1&&s>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function Kq(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||dd(n)||Dw(n))&&(!t||n!==47)}function xo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Qq.peek=m_e;function a_e(){this.buffer()}function l_e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function c_e(){this.buffer()}function u_e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function d_e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function f_e(e){this.exit(e)}function h_e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function p_e(e){this.exit(e)}function m_e(){return"["}function Qq(e,t,n,r){const s=n.createTracker(r);let i=s.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return i+=s.move(n.safe(n.associationId(e),{after:"]",before:i})),a(),o(),i+=s.move("]"),i}function g_e(){return{enter:{gfmFootnoteCallString:a_e,gfmFootnoteCall:l_e,gfmFootnoteDefinitionLabelString:c_e,gfmFootnoteDefinition:u_e},exit:{gfmFootnoteCallString:d_e,gfmFootnoteCall:f_e,gfmFootnoteDefinitionLabelString:h_e,gfmFootnoteDefinition:p_e}}}function b_e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Qq},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,i,o){const a=i.createTracker(o);let l=a.move("[^");const u=i.enter("footnoteDefinition"),f=i.enter("label");return l+=a.move(i.safe(i.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),t?Xq:y_e))),u(),l}}function y_e(e,t,n){return t===0?e:Xq(e,t,n)}function Xq(e,t,n){return(n?"":"    ")+e}const v_e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Zq.peek=S_e;function x_e(){return{canContainEols:["delete"],enter:{strikethrough:E_e},exit:{strikethrough:C_e}}}function w_e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:v_e}],handlers:{delete:Zq}}}function E_e(e){this.enter({type:"delete",children:[]},e)}function C_e(e){this.exit(e)}function Zq(e,t,n,r){const s=n.createTracker(r),i=n.enter("strikethrough");let o=s.move("~~");return o+=n.containerPhrasing(e,{...s.current(),before:o,after:"~"}),o+=s.move("~~"),i(),o}function S_e(){return"~"}function T_e(e){return e.length}function k_e(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||T_e,i=[],o=[],a=[],l=[];let u=0,f=-1;for(;++f<e.length;){const x=[],w=[];let S=-1;for(e[f].length>u&&(u=e[f].length);++S<e[f].length;){const _=__e(e[f][S]);if(n.alignDelimiters!==!1){const N=s(_);w[S]=N,(l[S]===void 0||N>l[S])&&(l[S]=N)}x.push(_)}o[f]=x,a[f]=w}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)i[h]=Bj(r[h]);else{const x=Bj(r);for(;++h<u;)i[h]=x}h=-1;const g=[],b=[];for(;++h<u;){const x=i[h];let w="",S="";x===99?(w=":",S=":"):x===108?w=":":x===114&&(S=":");let _=n.alignDelimiters===!1?1:Math.max(1,l[h]-w.length-S.length);const N=w+"-".repeat(_)+S;n.alignDelimiters!==!1&&(_=w.length+_+S.length,_>l[h]&&(l[h]=_),b[h]=_),g[h]=N}o.splice(1,0,g),a.splice(1,0,b),f=-1;const v=[];for(;++f<o.length;){const x=o[f],w=a[f];h=-1;const S=[];for(;++h<u;){const _=x[h]||"";let N="",M="";if(n.alignDelimiters!==!1){const O=l[h]-(w[h]||0),R=i[h];R===114?N=" ".repeat(O):R===99?O%2?(N=" ".repeat(O/2+.5),M=" ".repeat(O/2-.5)):(N=" ".repeat(O/2),M=N):M=" ".repeat(O)}n.delimiterStart!==!1&&!h&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||h)&&S.push(" "),n.alignDelimiters!==!1&&S.push(N),S.push(_),n.alignDelimiters!==!1&&S.push(M),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&S.push("|")}v.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return v.join(`
`)}function __e(e){return e==null?"":String(e)}function Bj(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Hj={}.hasOwnProperty;function Jq(e,t){const n=t||{};function r(s,...i){let o=r.invalid;const a=r.handlers;if(s&&Hj.call(s,e)){const l=String(s[e]);o=Hj.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const N_e={}.hasOwnProperty;function eG(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)eG(e,t.extensions[n]);for(r in t)if(N_e.call(t,r))switch(r){case"extensions":break;case"unsafe":{Fj(e[r],t[r]);break}case"join":{Fj(e[r],t[r]);break}case"handlers":{A_e(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function Fj(e,t){t&&e.push(...t)}function A_e(e,t){t&&Object.assign(e,t)}function M_e(e,t,n,r){const s=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),O_e);return s(),o}function O_e(e,t,n){return">"+(n?"":" ")+e}function tG(e,t){return Uj(e,t.inConstruct,!0)&&!Uj(e,t.notInConstruct,!1)}function Uj(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function zj(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&tG(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function R_e(e,t){const n=String(e);let r=n.indexOf(t),s=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++i>o&&(o=i):i=1,s=r+t.length,r=n.indexOf(t,s);return o}function b_(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function I_e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function D_e(e,t,n,r){const s=I_e(n),i=e.value||"",o=s==="`"?"GraveAccent":"Tilde";if(b_(e,n)){const h=n.enter("codeIndented"),g=n.indentLines(i,L_e);return h(),g}const a=n.createTracker(r),l=s.repeat(Math.max(R_e(i,s)+1,3)),u=n.enter("codeFenced");let f=a.move(l);if(e.lang){const h=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),h()}return f+=a.move(`
`),i&&(f+=a.move(i+`
`)),f+=a.move(l),u(),f}function L_e(e,t,n){return(n?"":"    ")+e}function V3(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function j_e(e,t,n,r){const s=V3(n),i=s==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(n.safe(e.title,{before:u,after:s,...l.current()})),u+=l.move(s),a()),o(),u}function P_e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Hc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Oh(e){if(e===null||vn(e)||dd(e))return 1;if(Dw(e))return 2}function xv(e,t,n){const r=Oh(e),s=Oh(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}nG.peek=B_e;function nG(e,t,n,r){const s=P_e(n),i=n.enter("emphasis"),o=n.createTracker(r),a=o.move(s);let l=o.move(n.containerPhrasing(e,{after:s,before:a,...o.current()}));const u=l.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,s);f.inside&&(l=Hc(u)+l.slice(1));const h=l.charCodeAt(l.length-1),g=xv(r.after.charCodeAt(0),h,s);g.inside&&(l=l.slice(0,-1)+Hc(h));const b=o.move(s);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+b}function B_e(e,t,n){return n.options.emphasis||"*"}function rG(e,t){let n=!1;return Mh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,bv}),!!((!e.depth||e.depth<3)&&Rw(e)&&(t.options.setext||n))}function H_e(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(rG(e,n)){const f=n.enter("headingSetext"),h=n.enter("phrasing"),g=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return h(),f(),g+`
`+(s===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(s),a=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Hc(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}sG.peek=F_e;function sG(e){return e.value||""}function F_e(){return"<"}iG.peek=U_e;function iG(e,t,n,r){const s=V3(n),i=s==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(n.safe(e.title,{before:u,after:s,...l.current()})),u+=l.move(s),a()),u+=l.move(")"),o(),u}function U_e(){return"!"}oG.peek=z_e;function oG(e,t,n,r){const s=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,i(),s==="full"||!u||u!==h?l+=a.move(h+"]"):s==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function z_e(){return"!"}aG.peek=$_e;function aG(e,t,n){let r=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return s+r+s}function $_e(){return"`"}function lG(e,t){const n=Rw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}cG.peek=V_e;function cG(e,t,n,r){const s=V3(n),i=s==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(lG(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=f,h}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+s),u+=o.move(n.safe(e.title,{before:u,after:s,...o.current()})),u+=o.move(s),l()),u+=o.move(")"),a(),u}function V_e(e,t,n){return lG(e,n)?"<":"["}uG.peek=q_e;function uG(e,t,n,r){const s=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,i(),s==="full"||!u||u!==h?l+=a.move(h+"]"):s==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function q_e(){return"["}function q3(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function G_e(e){const t=q3(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Y_e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function dG(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function W_e(e,t,n,r){const s=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Y_e(n):q3(n);const a=e.ordered?o==="."?")":".":G_e(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),dG(n)===o&&f){let h=-1;for(;++h<e.children.length;){const g=e.children[h];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,s(),u}function K_e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Q_e(e,t,n,r){const s=K_e(n);let i=n.bulletCurrent||q3(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(i+" ".repeat(o-i.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),f);return l(),u;function f(h,g,b){return g?(b?"":" ".repeat(o))+h:(b?i:i+" ".repeat(o-i.length))+h}}function X_e(e,t,n,r){const s=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),s(),o}function Z_e(e,t,n,r){return(e.children.some(function(o){return qq(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function J_e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}fG.peek=eNe;function fG(e,t,n,r){const s=J_e(n),i=n.enter("strong"),o=n.createTracker(r),a=o.move(s+s);let l=o.move(n.containerPhrasing(e,{after:s,before:a,...o.current()}));const u=l.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,s);f.inside&&(l=Hc(u)+l.slice(1));const h=l.charCodeAt(l.length-1),g=xv(r.after.charCodeAt(0),h,s);g.inside&&(l=l.slice(0,-1)+Hc(h));const b=o.move(s+s);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+b}function eNe(e,t,n){return n.options.strong||"*"}function tNe(e,t,n,r){return n.safe(e.value,r)}function nNe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function rNe(e,t,n){const r=(dG(n)+(n.options.ruleSpaces?" ":"")).repeat(nNe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const G3={blockquote:M_e,break:zj,code:D_e,definition:j_e,emphasis:nG,hardBreak:zj,heading:H_e,html:sG,image:iG,imageReference:oG,inlineCode:aG,link:cG,linkReference:uG,list:W_e,listItem:Q_e,paragraph:X_e,root:Z_e,strong:fG,text:tNe,thematicBreak:rNe},sNe=[iNe];function iNe(e,t,n,r){if(t.type==="code"&&b_(t,r)&&(e.type==="list"||e.type===t.type&&b_(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&rG(t,r))?void 0:n.spread?1:0}const ku=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],oNe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:ku},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:ku},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:ku},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:ku},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:ku},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:ku},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:ku},{atBreak:!0,character:"~"}],$j=document.createElement("i");function Y3(e){const t="&"+e+";";$j.innerHTML=t;const n=$j.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function hG(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const aNe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pG(e){return e.replace(aNe,lNe)}function lNe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return hG(n.slice(i?2:1),i?16:10)}return Y3(n)||e}function cNe(e){return e.label||!e.identifier?e.label||"":pG(e.identifier)}function uNe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function dNe(e,t,n){const r=t.indexStack,s=e.children||[],i=[];let o=-1,a=n.before,l;r.push(-1);let u=t.createTracker(n);for(;++o<s.length;){const f=s[o];let h;if(r[r.length-1]=o,o+1<s.length){let v=t.handle.handlers[s[o+1].type];v&&v.peek&&(v=v.peek),h=v?v(s[o+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else h=n.after;i.length>0&&(a==="\r"||a===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=t.createTracker(n),u.move(i.join("")));let g=t.handle(f,e,t,{...u.current(),after:h,before:a});l&&l===g.slice(0,1)&&(g=Hc(l.charCodeAt(0))+g.slice(1));const b=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,b&&(i.length>0&&b.before&&a===i[i.length-1].slice(-1)&&(i[i.length-1]=i[i.length-1].slice(0,-1)+Hc(a.charCodeAt(0))),b.after&&(l=h)),u.move(g),i.push(g),a=g.slice(-1)}return r.pop(),i.join("")}function fNe(e,t,n){const r=t.indexStack,s=e.children||[],i=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<s.length;){const l=s[a];r[r.length-1]=a,o.push(i.move(t.handle(l,e,t,{before:`
`,after:`
`,...i.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),a<s.length-1&&o.push(i.move(hNe(l,s[a+1],e,t)))}return r.pop(),o.join("")}function hNe(e,t,n,r){let s=r.join.length;for(;s--;){const i=r.join[s](e,t,n,r);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}const pNe=/\r?\n|\r/g;function mNe(e,t){const n=[];let r=0,s=0,i;for(;i=pNe.exec(e);)o(e.slice(r,i.index)),n.push(i[0]),r=i.index+i[0].length,s++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,s,!a))}}function gNe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),s=[],i=[],o={};let a=-1;for(;++a<e.unsafe.length;){const f=e.unsafe[a];if(!tG(e.stack,f))continue;const h=e.compilePattern(f);let g;for(;g=h.exec(r);){const b="before"in f||!!f.atBreak,v="after"in f,x=g.index+(b?g[1].length:0);s.includes(x)?(o[x].before&&!b&&(o[x].before=!1),o[x].after&&!v&&(o[x].after=!1)):(s.push(x),o[x]={before:b,after:v})}}s.sort(bNe);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<s.length;){const f=s[a];f<l||f>=u||f+1<u&&s[a+1]===f+1&&o[f].after&&!o[f+1].before&&!o[f+1].after||s[a-1]===f-1&&o[f].before&&!o[f-1].before&&!o[f-1].after||(l!==f&&i.push(Vj(r.slice(l,f),"\\")),l=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?i.push("\\"):(i.push(Hc(r.charCodeAt(f))),l++))}return i.push(Vj(r.slice(l,u),n.after)),i.join("")}function bNe(e,t){return e-t}function Vj(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],s=[],i=e+t;let o=-1,a=0,l;for(;l=n.exec(i);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&s.push(e.slice(a,r[o])),s.push("\\"),a=r[o];return s.push(e.slice(a)),s.join("")}function yNe(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,s=n.line||1,i=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:s,column:i},lineShift:r}}function a(u){r+=u}function l(u){const f=u||"",h=f.split(/\r?\n|\r/g),g=h[h.length-1];return s+=h.length-1,i=h.length===1?i+g.length:1+g.length+r,f}}function vNe(e,t){const n=t||{},r={associationId:cNe,containerPhrasing:CNe,containerFlow:SNe,createTracker:yNe,compilePattern:uNe,enter:i,handlers:{...G3},handle:void 0,indentLines:mNe,indexStack:[],join:[...sNe],options:{},safe:TNe,stack:[],unsafe:[...oNe]};eG(r,n),r.options.tightDefinitions&&r.join.push(ENe),r.handle=Jq("type",{invalid:xNe,unknown:wNe,handlers:r.handlers});let s=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function i(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function xNe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function wNe(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function ENe(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function CNe(e,t){return dNe(e,this,t)}function SNe(e,t){return fNe(e,this,t)}function TNe(e,t){return gNe(this,e,t)}function kNe(){return{enter:{table:_Ne,tableData:qj,tableHeader:qj,tableRow:ANe},exit:{codeText:MNe,table:NNe,tableData:q2,tableHeader:q2,tableRow:q2}}}function _Ne(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function NNe(e){this.exit(e),this.data.inTable=void 0}function ANe(e){this.enter({type:"tableRow",children:[]},e)}function q2(e){this.exit(e)}function qj(e){this.enter({type:"tableCell",children:[]},e)}function MNe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ONe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ONe(e,t){return t==="|"?t:e}function RNe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(b,v,x,w){return u(f(b,x,w),b.align)}function a(b,v,x,w){const S=h(b,x,w),_=u([S]);return _.slice(0,_.indexOf(`
`))}function l(b,v,x,w){const S=x.enter("tableCell"),_=x.enter("phrasing"),N=x.containerPhrasing(b,{...w,before:i,after:i});return _(),S(),N}function u(b,v){return k_e(b,{align:v,alignDelimiters:r,padding:n,stringLength:s})}function f(b,v,x){const w=b.children;let S=-1;const _=[],N=v.enter("table");for(;++S<w.length;)_[S]=h(w[S],v,x);return N(),_}function h(b,v,x){const w=b.children;let S=-1;const _=[],N=v.enter("tableRow");for(;++S<w.length;)_[S]=l(w[S],b,v,x);return N(),_}function g(b,v,x){let w=G3.inlineCode(b,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function INe(){return{exit:{taskListCheckValueChecked:Gj,taskListCheckValueUnchecked:Gj,paragraph:LNe}}}function DNe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jNe}}}function Gj(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function LNe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let i=-1,o;for(;++i<s.length;){const a=s[i];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function jNe(e,t,n,r){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);i&&a.move(o);let l=G3.listItem(e,t,n,{...r,...a.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(f){return f+o}}function PNe(){return[Kke(),g_e(),x_e(),kNe(),INe()]}function BNe(e){return{extensions:[Qke(),b_e(e),w_e(),RNe(e),DNe()]}}function fi(e,t,n,r){const s=e.length;let i=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Hi(e,t){return e.length>0?(fi(e,e.length,0,t),e):t}const Yj={}.hasOwnProperty;function mG(e){const t={};let n=-1;for(;++n<e.length;)HNe(t,e[n]);return t}function HNe(e,t){let n;for(n in t){const s=(Yj.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){Yj.call(s,o)||(s[o]=[]);const a=i[o];FNe(s[o],Array.isArray(a)?a:a?[a]:[])}}}function FNe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);fi(e,0,0,r)}const UNe={tokenize:YNe,partial:!0},gG={tokenize:WNe,partial:!0},bG={tokenize:KNe,partial:!0},yG={tokenize:QNe,partial:!0},zNe={tokenize:XNe,partial:!0},vG={name:"wwwAutolink",tokenize:qNe,previous:wG},xG={name:"protocolAutolink",tokenize:GNe,previous:EG},El={name:"emailAutolink",tokenize:VNe,previous:CG},Ea={};function $Ne(){return{text:Ea}}let _u=48;for(;_u<123;)Ea[_u]=El,_u++,_u===58?_u=65:_u===91&&(_u=97);Ea[43]=El;Ea[45]=El;Ea[46]=El;Ea[95]=El;Ea[72]=[El,xG];Ea[104]=[El,xG];Ea[87]=[El,vG];Ea[119]=[El,vG];function VNe(e,t,n){const r=this;let s,i;return o;function o(h){return!y_(h)||!CG.call(r,r.previous)||W3(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(h))}function a(h){return y_(h)?(e.consume(h),a):h===64?(e.consume(h),l):n(h)}function l(h){return h===46?e.check(zNe,f,u)(h):h===45||h===95||Yr(h)?(i=!0,e.consume(h),l):f(h)}function u(h){return e.consume(h),s=!0,l}function f(h){return i&&s&&ls(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function qNe(e,t,n){const r=this;return s;function s(o){return o!==87&&o!==119||!wG.call(r,r.previous)||W3(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(UNe,e.attempt(gG,e.attempt(bG,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function GNe(e,t,n){const r=this;let s="",i=!1;return o;function o(h){return(h===72||h===104)&&EG.call(r,r.previous)&&!W3(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(h),e.consume(h),a):n(h)}function a(h){if(ls(h)&&s.length<5)return s+=String.fromCodePoint(h),e.consume(h),a;if(h===58){const g=s.toLowerCase();if(g==="http"||g==="https")return e.consume(h),l}return n(h)}function l(h){return h===47?(e.consume(h),i?u:(i=!0,l)):n(h)}function u(h){return h===null||vv(h)||vn(h)||dd(h)||Dw(h)?n(h):e.attempt(gG,e.attempt(bG,f),n)(h)}function f(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function YNe(e,t,n){let r=0;return s;function s(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),s):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function WNe(e,t,n){let r,s,i;return o;function o(u){return u===46||u===95?e.check(yG,l,a)(u):u===null||vn(u)||dd(u)||u!==45&&Dw(u)?l(u):(i=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(s=r,r=void 0),e.consume(u),o}function l(u){return s||r||!i?n(u):t(u)}}function KNe(e,t){let n=0,r=0;return s;function s(o){return o===40?(n++,e.consume(o),s):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(yG,t,i)(o):o===null||vn(o)||dd(o)?t(o):(e.consume(o),s)}function i(o){return o===41&&r++,e.consume(o),s}}function QNe(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),i):a===93?(e.consume(a),s):a===60||a===null||vn(a)||dd(a)?t(a):n(a)}function s(a){return a===null||a===40||a===91||vn(a)||dd(a)?t(a):r(a)}function i(a){return ls(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):ls(a)?(e.consume(a),o):n(a)}}function XNe(e,t,n){return r;function r(i){return e.consume(i),s}function s(i){return Yr(i)?n(i):t(i)}}function wG(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||vn(e)}function EG(e){return!ls(e)}function CG(e){return!(e===47||y_(e))}function y_(e){return e===43||e===45||e===46||e===95||Yr(e)}function W3(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function tp(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Yr(e.charCodeAt(n+1))&&Yr(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const a=e.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),s=1):o="�"}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Lw(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const v_={name:"attention",resolveAll:ZNe,tokenize:JNe};function ZNe(e,t){let n=-1,r,s,i,o,a,l,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};Wj(h,-l),Wj(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Hi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Hi(u,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Hi(u,Lw(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Hi(u,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=Hi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,fi(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function JNe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Oh(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===i)return e.consume(l),a;const u=e.exit("attentionSequence"),f=Oh(l),h=!f||f===2&&s||n.includes(l),g=!s||s===2&&f||n.includes(r);return u._open=!!(i===42?h:h&&(s||!g)),u._close=!!(i===42?g:g&&(f||!h)),t(l)}}function Wj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const eAe={name:"autolink",tokenize:tAe};function tAe(e,t,n){let r=0;return s;function s(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(b){return ls(b)?(e.consume(b),o):b===64?n(b):u(b)}function o(b){return b===43||b===45||b===46||Yr(b)?(r=1,a(b)):u(b)}function a(b){return b===58?(e.consume(b),r=0,l):(b===43||b===45||b===46||Yr(b))&&r++<32?(e.consume(b),a):(r=0,u(b))}function l(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||vv(b)?n(b):(e.consume(b),l)}function u(b){return b===64?(e.consume(b),f):Uke(b)?(e.consume(b),u):n(b)}function f(b){return Yr(b)?h(b):n(b)}function h(b){return b===46?(e.consume(b),r=0,f):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):g(b)}function g(b){if((b===45||Yr(b))&&r++<63){const v=b===45?g:h;return e.consume(b),v}return n(b)}}function $t(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return Dt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Dt(l)&&i++<s?(e.consume(l),a):(e.exit(n),t(l))}}const O0={partial:!0,tokenize:nAe};function nAe(e,t,n){return r;function r(i){return Dt(i)?$t(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||it(i)?t(i):n(i)}}const SG={continuation:{tokenize:sAe},exit:iAe,name:"blockQuote",tokenize:rAe};function rAe(e,t,n){const r=this;return s;function s(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Dt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function sAe(e,t,n){const r=this;return s;function s(o){return Dt(o)?$t(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(SG,t,n)(o)}}function iAe(e){e.exit("blockQuote")}const TG={name:"characterEscape",tokenize:oAe};function oAe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return $ke(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const kG={name:"characterReference",tokenize:aAe};function aAe(e,t,n){const r=this;let s=0,i,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Yr,f(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=zke,f):(e.enter("characterReferenceValue"),i=7,o=g_,f(h))}function f(h){if(h===59&&s){const g=e.exit("characterReferenceValue");return o===Yr&&!Y3(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&s++<i?(e.consume(h),f):n(h)}}const Kj={partial:!0,tokenize:cAe},Qj={concrete:!0,name:"codeFenced",tokenize:lAe};function lAe(e,t,n){const r=this,s={partial:!0,tokenize:O};let i=0,o=0,a;return l;function l(R){return u(R)}function u(R){const I=r.events[r.events.length-1];return i=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(R)}function f(R){return R===a?(o++,e.consume(R),f):o<3?n(R):(e.exit("codeFencedFenceSequence"),Dt(R)?$t(e,h,"whitespace")(R):h(R))}function h(R){return R===null||it(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(Kj,x,M)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||it(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(R)):Dt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$t(e,b,"whitespace")(R)):R===96&&R===a?n(R):(e.consume(R),g)}function b(R){return R===null||it(R)?h(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||it(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(R)):R===96&&R===a?n(R):(e.consume(R),v)}function x(R){return e.attempt(s,M,w)(R)}function w(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),S}function S(R){return i>0&&Dt(R)?$t(e,_,"linePrefix",i+1)(R):_(R)}function _(R){return R===null||it(R)?e.check(Kj,x,M)(R):(e.enter("codeFlowValue"),N(R))}function N(R){return R===null||it(R)?(e.exit("codeFlowValue"),_(R)):(e.consume(R),N)}function M(R){return e.exit("codeFenced"),t(R)}function O(R,I,j){let U=0;return P;function P(te){return R.enter("lineEnding"),R.consume(te),R.exit("lineEnding"),K}function K(te){return R.enter("codeFencedFence"),Dt(te)?$t(R,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):W(te)}function W(te){return te===a?(R.enter("codeFencedFenceSequence"),ne(te)):j(te)}function ne(te){return te===a?(U++,R.consume(te),ne):U>=o?(R.exit("codeFencedFenceSequence"),Dt(te)?$t(R,Q,"whitespace")(te):Q(te)):j(te)}function Q(te){return te===null||it(te)?(R.exit("codeFencedFence"),I(te)):j(te)}}}function cAe(e,t,n){const r=this;return s;function s(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const G2={name:"codeIndented",tokenize:dAe},uAe={partial:!0,tokenize:fAe};function dAe(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),$t(e,i,"linePrefix",5)(u)}function i(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):it(u)?e.attempt(uAe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||it(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function fAe(e,t,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):$t(e,i,"linePrefix",5)(o)}function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):it(o)?s(o):n(o)}}const hAe={name:"codeText",previous:mAe,resolve:pAe,tokenize:gAe};function pAe(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function mAe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gAe(e,t,n){let r=0,s,i;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(i=e.enter("codeTextSequence"),s=0,f(h)):it(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||it(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function f(h){return h===96?(e.consume(h),s++,f):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class bAe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&dm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),dm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),dm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);dm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);dm(this.left,n.reverse())}}}function dm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _G(e){const t={};let n=-1,r,s,i,o,a,l,u;const f=new bAe(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,yAe(f,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(o=f.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(f.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...f.get(s)[1].start},a=f.slice(s,n),a.unshift(r),f.splice(s,n-s+1,a))}}return fi(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function yAe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let f,h,g=-1,b=n,v=0,x=0;const w=[x];for(;b;){for(;e.get(++s)[1]!==b;);i.push(s),b._tokenizer||(f=r.sliceStream(b),b.next||f.push(null),h&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=b,b=b.next}for(b=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(x=g+1,w.push(x),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):w.pop(),g=w.length;g--;){const S=a.slice(w[g],w[g+1]),_=i.pop();l.push([_,_+S.length-1]),e.splice(_,2,S)}for(l.reverse(),g=-1;++g<l.length;)u[v+l[g][0]]=v+l[g][1],v+=l[g][1]-l[g][0]-1;return u}const vAe={resolve:wAe,tokenize:EAe},xAe={partial:!0,tokenize:CAe};function wAe(e){return _G(e),e}function EAe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?i(a):it(a)?e.check(xAe,o,i)(a):(e.consume(a),s)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function CAe(e,t,n){const r=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),$t(e,i,"linePrefix")}function i(o){if(o===null||it(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function NG(e,t,n,r,s,i,o,a,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return h;function h(S){return S===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(S),e.exit(i),g):S===null||S===32||S===41||vv(S)?n(S):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),x(S))}function g(S){return S===62?(e.enter(i),e.consume(S),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(e.exit("chunkString"),e.exit(a),g(S)):S===null||S===60||it(S)?n(S):(e.consume(S),S===92?v:b)}function v(S){return S===60||S===62||S===92?(e.consume(S),b):b(S)}function x(S){return!f&&(S===null||S===41||vn(S))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(S)):f<u&&S===40?(e.consume(S),f++,x):S===41?(e.consume(S),f--,x):S===null||S===32||S===40||vv(S)?n(S):(e.consume(S),S===92?w:x)}function w(S){return S===40||S===41||S===92?(e.consume(S),x):x(S)}}function AG(e,t,n,r,s,i){const o=this;let a=0,l;return u;function u(b){return e.enter(r),e.enter(s),e.consume(b),e.exit(s),e.enter(i),f}function f(b){return a>999||b===null||b===91||b===93&&!l||b===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(b):b===93?(e.exit(i),e.enter(s),e.consume(b),e.exit(s),e.exit(r),t):it(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||b===91||b===93||it(b)||a++>999?(e.exit("chunkString"),f(b)):(e.consume(b),l||(l=!Dt(b)),b===92?g:h)}function g(b){return b===91||b===92||b===93?(e.consume(b),a++,h):h(b)}}function MG(e,t,n,r,s,i){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(s),e.consume(g),e.exit(s),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(s),e.consume(g),e.exit(s),e.exit(r),t):(e.enter(i),u(g))}function u(g){return g===o?(e.exit(i),l(o)):g===null?n(g):it(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),$t(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||it(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?h:f)}function h(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Wm(e,t){let n;return r;function r(s){return it(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Dt(s)?$t(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const SAe={name:"definition",tokenize:kAe},TAe={partial:!0,tokenize:_Ae};function kAe(e,t,n){const r=this;let s;return i;function i(b){return e.enter("definition"),o(b)}function o(b){return AG.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function a(b){return s=xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),l):n(b)}function l(b){return vn(b)?Wm(e,u)(b):u(b)}function u(b){return NG(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function f(b){return e.attempt(TAe,h,h)(b)}function h(b){return Dt(b)?$t(e,g,"whitespace")(b):g(b)}function g(b){return b===null||it(b)?(e.exit("definition"),r.parser.defined.push(s),t(b)):n(b)}}function _Ae(e,t,n){return r;function r(a){return vn(a)?Wm(e,s)(a):n(a)}function s(a){return MG(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return Dt(a)?$t(e,o,"whitespace")(a):o(a)}function o(a){return a===null||it(a)?t(a):n(a)}}const NAe={name:"hardBreakEscape",tokenize:AAe};function AAe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return it(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const MAe={name:"headingAtx",resolve:OAe,tokenize:RAe};function OAe(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},fi(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function RAe(e,t,n){let r=0;return s;function s(f){return e.enter("atxHeading"),i(f)}function i(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||vn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||it(f)?(e.exit("atxHeading"),t(f)):Dt(f)?$t(e,a,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function u(f){return f===null||f===35||vn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),u)}}const IAe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xj=["pre","script","style","textarea"],DAe={concrete:!0,name:"htmlFlow",resolveTo:PAe,tokenize:BAe},LAe={partial:!0,tokenize:FAe},jAe={partial:!0,tokenize:HAe};function PAe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function BAe(e,t,n){const r=this;let s,i,o,a,l;return u;function u(D){return f(D)}function f(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),h}function h(D){return D===33?(e.consume(D),g):D===47?(e.consume(D),i=!0,x):D===63?(e.consume(D),s=3,r.interrupt?t:B):ls(D)?(e.consume(D),o=String.fromCharCode(D),w):n(D)}function g(D){return D===45?(e.consume(D),s=2,b):D===91?(e.consume(D),s=5,a=0,v):ls(D)?(e.consume(D),s=4,r.interrupt?t:B):n(D)}function b(D){return D===45?(e.consume(D),r.interrupt?t:B):n(D)}function v(D){const he="CDATA[";return D===he.charCodeAt(a++)?(e.consume(D),a===he.length?r.interrupt?t:W:v):n(D)}function x(D){return ls(D)?(e.consume(D),o=String.fromCharCode(D),w):n(D)}function w(D){if(D===null||D===47||D===62||vn(D)){const he=D===47,ue=o.toLowerCase();return!he&&!i&&Xj.includes(ue)?(s=1,r.interrupt?t(D):W(D)):IAe.includes(o.toLowerCase())?(s=6,he?(e.consume(D),S):r.interrupt?t(D):W(D)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):i?_(D):N(D))}return D===45||Yr(D)?(e.consume(D),o+=String.fromCharCode(D),w):n(D)}function S(D){return D===62?(e.consume(D),r.interrupt?t:W):n(D)}function _(D){return Dt(D)?(e.consume(D),_):P(D)}function N(D){return D===47?(e.consume(D),P):D===58||D===95||ls(D)?(e.consume(D),M):Dt(D)?(e.consume(D),N):P(D)}function M(D){return D===45||D===46||D===58||D===95||Yr(D)?(e.consume(D),M):O(D)}function O(D){return D===61?(e.consume(D),R):Dt(D)?(e.consume(D),O):N(D)}function R(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),l=D,I):Dt(D)?(e.consume(D),R):j(D)}function I(D){return D===l?(e.consume(D),l=null,U):D===null||it(D)?n(D):(e.consume(D),I)}function j(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||vn(D)?O(D):(e.consume(D),j)}function U(D){return D===47||D===62||Dt(D)?N(D):n(D)}function P(D){return D===62?(e.consume(D),K):n(D)}function K(D){return D===null||it(D)?W(D):Dt(D)?(e.consume(D),K):n(D)}function W(D){return D===45&&s===2?(e.consume(D),F):D===60&&s===1?(e.consume(D),V):D===62&&s===4?(e.consume(D),Se):D===63&&s===3?(e.consume(D),B):D===93&&s===5?(e.consume(D),J):it(D)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(LAe,X,ne)(D)):D===null||it(D)?(e.exit("htmlFlowData"),ne(D)):(e.consume(D),W)}function ne(D){return e.check(jAe,Q,X)(D)}function Q(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),te}function te(D){return D===null||it(D)?ne(D):(e.enter("htmlFlowData"),W(D))}function F(D){return D===45?(e.consume(D),B):W(D)}function V(D){return D===47?(e.consume(D),o="",z):W(D)}function z(D){if(D===62){const he=o.toLowerCase();return Xj.includes(he)?(e.consume(D),Se):W(D)}return ls(D)&&o.length<8?(e.consume(D),o+=String.fromCharCode(D),z):W(D)}function J(D){return D===93?(e.consume(D),B):W(D)}function B(D){return D===62?(e.consume(D),Se):D===45&&s===2?(e.consume(D),B):W(D)}function Se(D){return D===null||it(D)?(e.exit("htmlFlowData"),X(D)):(e.consume(D),Se)}function X(D){return e.exit("htmlFlow"),t(D)}}function HAe(e,t,n){const r=this;return s;function s(o){return it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function FAe(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(O0,t,n)}}const UAe={name:"htmlText",tokenize:zAe};function zAe(e,t,n){const r=this;let s,i,o;return a;function a(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),l}function l(B){return B===33?(e.consume(B),u):B===47?(e.consume(B),O):B===63?(e.consume(B),N):ls(B)?(e.consume(B),j):n(B)}function u(B){return B===45?(e.consume(B),f):B===91?(e.consume(B),i=0,v):ls(B)?(e.consume(B),_):n(B)}function f(B){return B===45?(e.consume(B),b):n(B)}function h(B){return B===null?n(B):B===45?(e.consume(B),g):it(B)?(o=h,V(B)):(e.consume(B),h)}function g(B){return B===45?(e.consume(B),b):h(B)}function b(B){return B===62?F(B):B===45?g(B):h(B)}function v(B){const Se="CDATA[";return B===Se.charCodeAt(i++)?(e.consume(B),i===Se.length?x:v):n(B)}function x(B){return B===null?n(B):B===93?(e.consume(B),w):it(B)?(o=x,V(B)):(e.consume(B),x)}function w(B){return B===93?(e.consume(B),S):x(B)}function S(B){return B===62?F(B):B===93?(e.consume(B),S):x(B)}function _(B){return B===null||B===62?F(B):it(B)?(o=_,V(B)):(e.consume(B),_)}function N(B){return B===null?n(B):B===63?(e.consume(B),M):it(B)?(o=N,V(B)):(e.consume(B),N)}function M(B){return B===62?F(B):N(B)}function O(B){return ls(B)?(e.consume(B),R):n(B)}function R(B){return B===45||Yr(B)?(e.consume(B),R):I(B)}function I(B){return it(B)?(o=I,V(B)):Dt(B)?(e.consume(B),I):F(B)}function j(B){return B===45||Yr(B)?(e.consume(B),j):B===47||B===62||vn(B)?U(B):n(B)}function U(B){return B===47?(e.consume(B),F):B===58||B===95||ls(B)?(e.consume(B),P):it(B)?(o=U,V(B)):Dt(B)?(e.consume(B),U):F(B)}function P(B){return B===45||B===46||B===58||B===95||Yr(B)?(e.consume(B),P):K(B)}function K(B){return B===61?(e.consume(B),W):it(B)?(o=K,V(B)):Dt(B)?(e.consume(B),K):U(B)}function W(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),s=B,ne):it(B)?(o=W,V(B)):Dt(B)?(e.consume(B),W):(e.consume(B),Q)}function ne(B){return B===s?(e.consume(B),s=void 0,te):B===null?n(B):it(B)?(o=ne,V(B)):(e.consume(B),ne)}function Q(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||vn(B)?U(B):(e.consume(B),Q)}function te(B){return B===47||B===62||vn(B)?U(B):n(B)}function F(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function V(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),z}function z(B){return Dt(B)?$t(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):J(B)}function J(B){return e.enter("htmlTextData"),o(B)}}const K3={name:"labelEnd",resolveAll:GAe,resolveTo:YAe,tokenize:WAe},$Ae={tokenize:KAe},VAe={tokenize:QAe},qAe={tokenize:XAe};function GAe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&fi(e,0,e.length,n),e}function YAe(e,t){let n=e.length,r=0,s,i,o,a;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Hi(a,e.slice(i+1,i+r+3)),a=Hi(a,[["enter",f,t]]),a=Hi(a,Lw(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),a=Hi(a,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),a=Hi(a,e.slice(o+1)),a=Hi(a,[["exit",l,t]]),fi(e,i,e.length,a),e}function WAe(e,t,n){const r=this;let s=r.events.length,i,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return a;function a(g){return i?i._inactive?h(g):(o=r.parser.defined.includes(xo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt($Ae,f,o?f:h)(g):g===91?e.attempt(VAe,f,o?u:h)(g):o?f(g):h(g)}function u(g){return e.attempt(qAe,f,h)(g)}function f(g){return t(g)}function h(g){return i._balanced=!0,n(g)}}function KAe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return vn(h)?Wm(e,i)(h):i(h)}function i(h){return h===41?f(h):NG(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return vn(h)?Wm(e,l)(h):f(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?MG(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function u(h){return vn(h)?Wm(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function QAe(e,t,n){const r=this;return s;function s(a){return AG.call(r,e,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function XAe(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const ZAe={name:"labelStartImage",resolveAll:K3.resolveAll,tokenize:JAe};function JAe(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i}function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const e3e={name:"labelStartLink",resolveAll:K3.resolveAll,tokenize:t3e};function t3e(e,t,n){const r=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Y2={name:"lineEnding",tokenize:n3e};function n3e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),$t(e,t,"linePrefix")}}const hy={name:"thematicBreak",tokenize:r3e};function r3e(e,t,n){let r=0,s;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return s=u,a(u)}function a(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||it(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Dt(u)?$t(e,a,"whitespace")(u):a(u))}}const As={continuation:{tokenize:a3e},exit:c3e,name:"list",tokenize:o3e},s3e={partial:!0,tokenize:u3e},i3e={partial:!0,tokenize:l3e};function o3e(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return a;function a(b){const v=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:g_(b)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(hy,n,u)(b):u(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(b)}return n(b)}function l(b){return g_(b)&&++o<10?(e.consume(b),l):(!r.interrupt||o<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),u(b)):n(b)}function u(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(O0,r.interrupt?n:f,e.attempt(s3e,g,h))}function f(b){return r.containerState.initialBlankLine=!0,i++,g(b)}function h(b){return Dt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),g):n(b)}function g(b){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function a3e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(O0,s,i);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$t(e,t,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!Dt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(i3e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,$t(e,e.attempt(As,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function l3e(e,t,n){const r=this;return $t(e,s,"listItemIndent",r.containerState.size+1);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function c3e(e){e.exit(this.containerState.type)}function u3e(e,t,n){const r=this;return $t(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const o=r.events[r.events.length-1];return!Dt(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const Zj={name:"setextUnderline",resolveTo:d3e,tokenize:f3e};function d3e(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function f3e(e,t,n){const r=this;let s;return i;function i(u){let f=r.events.length,h;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){h=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Dt(u)?$t(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||it(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const h3e={tokenize:w3e,partial:!0};function p3e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:y3e,continuation:{tokenize:v3e},exit:x3e}},text:{91:{name:"gfmFootnoteCall",tokenize:b3e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:m3e,resolveTo:g3e}}}}function m3e(e,t,n){const r=this;let s=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;s--;){const l=r.events[s][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=xo(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function g3e(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function b3e(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return a;function a(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!o||h===null||h===91||vn(h))return n(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return s.includes(xo(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return vn(h)||(o=!0),i++,e.consume(h),h===92?f:u}function f(h){return h===91||h===92||h===93?(e.consume(h),i++,u):u(h)}}function y3e(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,a;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(v)}function f(v){if(o>999||v===93&&!a||v===null||v===91||vn(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return i=xo(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return vn(v)||(a=!0),o++,e.consume(v),v===92?h:f}function h(v){return v===91||v===92||v===93?(e.consume(v),o++,f):f(v)}function g(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),s.includes(i)||s.push(i),$t(e,b,"gfmFootnoteDefinitionWhitespace")):n(v)}function b(v){return t(v)}}function v3e(e,t,n){return e.check(O0,t,e.attempt(h3e,t,n))}function x3e(e){e.exit("gfmFootnoteDefinition")}function w3e(e,t,n){const r=this;return $t(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function E3e(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",h,a]],b=a.parser.constructs.insideSpan.null;b&&fi(g,g.length,0,Lw(b,o.slice(u+1,l),a)),fi(g,g.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),fi(o,u-1,l-u+3,g),l=u+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function i(o,a,l){const u=this.previous,f=this.events;let h=0;return g;function g(v){return u===126&&f[f.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),b(v))}function b(v){const x=Oh(u);if(v===126)return h>1?l(v):(o.consume(v),h++,b);if(h<2&&!n)return l(v);const w=o.exit("strikethroughSequenceTemporary"),S=Oh(v);return w._open=!S||S===2&&!!x,w._close=!x||x===2&&!!S,a(v)}}}class C3e{constructor(){this.map=[]}add(t,n,r){S3e(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const i of s)t.push(i);s=r.pop()}this.map.length=0}}function S3e(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function T3e(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function k3e(){return{flow:{null:{name:"table",tokenize:_3e,resolveAll:N3e}}}}function _3e(e,t,n){const r=this;let s=0,i=0,o;return a;function a(P){let K=r.events.length-1;for(;K>-1;){const Q=r.events[K][1].type;if(Q==="lineEnding"||Q==="linePrefix")K--;else break}const W=K>-1?r.events[K][1].type:null,ne=W==="tableHead"||W==="tableRow"?R:l;return ne===R&&r.parser.lazy[r.now().line]?n(P):ne(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),u(P)}function u(P){return P===124||(o=!0,i+=1),f(P)}function f(P){return P===null?n(P):it(P)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),b):n(P):Dt(P)?$t(e,f,"whitespace")(P):(i+=1,o&&(o=!1,s+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),h(P)))}function h(P){return P===null||P===124||vn(P)?(e.exit("data"),f(P)):(e.consume(P),P===92?g:h)}function g(P){return P===92||P===124?(e.consume(P),h):h(P)}function b(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,Dt(P)?$t(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):v(P))}function v(P){return P===45||P===58?w(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),x):O(P)}function x(P){return Dt(P)?$t(e,w,"whitespace")(P):w(P)}function w(P){return P===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),S):P===45?(i+=1,S(P)):P===null||it(P)?M(P):O(P)}function S(P){return P===45?(e.enter("tableDelimiterFiller"),_(P)):O(P)}function _(P){return P===45?(e.consume(P),_):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(P))}function N(P){return Dt(P)?$t(e,M,"whitespace")(P):M(P)}function M(P){return P===124?v(P):P===null||it(P)?!o||s!==i?O(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):O(P)}function O(P){return n(P)}function R(P){return e.enter("tableRow"),I(P)}function I(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),I):P===null||it(P)?(e.exit("tableRow"),t(P)):Dt(P)?$t(e,I,"whitespace")(P):(e.enter("data"),j(P))}function j(P){return P===null||P===124||vn(P)?(e.exit("data"),I(P)):(e.consume(P),P===92?U:j)}function U(P){return P===92||P===124?(e.consume(P),j):j(P)}}function N3e(e,t){let n=-1,r=!0,s=0,i=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,f,h;const g=new C3e;for(;++n<e.length;){const b=e[n],v=b[1];b[0]==="enter"?v.type==="tableHead"?(a=!1,l!==0&&(Jj(g,t,l,u,f),f=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(n,0,[["enter",u,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,h=void 0,i=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(n,0,[["enter",f,t]])),s=v.type==="tableDelimiterRow"?2:f?3:1):s&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],h=A1(g,t,i,s,void 0,h),i=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],h=A1(g,t,i,s,void 0,h)),i=o,o=[i[1],n,0,0])):v.type==="tableHead"?(a=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],h=A1(g,t,i,s,n,h)):o[1]!==0&&(h=A1(g,t,o,s,n,h)),s=0):s&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Jj(g,t,l,u,f),g.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=T3e(t.events,n))}return e}function A1(e,t,n,r,s,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(i.end=Object.assign({},Gf(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Gf(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Gf(t.events,n[2]),f=Gf(t.events,n[3]),h={type:a,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const g=t.events[n[2]],b=t.events[n[3]];if(g[1].end=Object.assign({},b[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return s!==void 0&&(i.end=Object.assign({},Gf(t.events,s)),e.add(s,0,[["exit",i,t]]),i=void 0),i}function Jj(e,t,n,r,s){const i=[],o=Gf(t.events,n);s&&(s.end=Object.assign({},o),i.push(["exit",s,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Gf(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const A3e={name:"tasklistCheck",tokenize:O3e};function M3e(){return{text:{91:A3e}}}function O3e(e,t,n){const r=this;return s;function s(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return vn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return it(l)?t(l):Dt(l)?e.check({tokenize:R3e},t,n)(l):n(l)}}function R3e(e,t,n){return $t(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function I3e(e){return mG([$Ne(),p3e(),E3e(e),k3e(),M3e()])}const D3e={};function OG(e){const t=this,n=e||D3e,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(I3e(n)),i.push(PNe()),o.push(BNe(n))}function L3e(e){const t=this;t.compiler=n;function n(r){return vNe(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function eP(e){if(e)throw e}var W2,tP;function j3e(){if(tP)return W2;tP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},i=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!h)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},o=function(u,f){n&&f.name==="__proto__"?n(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},a=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return W2=function l(){var u,f,h,g,b,v,x=arguments[0],w=1,S=arguments.length,_=!1;for(typeof x=="boolean"&&(_=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<S;++w)if(u=arguments[w],u!=null)for(f in u)h=a(x,f),g=a(u,f),x!==g&&(_&&g&&(i(g)||(b=s(g)))?(b?(b=!1,v=h&&s(h)?h:[]):v=h&&i(h)?h:{},o(x,{name:f,newValue:l(_,v,g)})):typeof g<"u"&&o(x,{name:f,newValue:g}));return x},W2}var P3e=j3e();const K2=lx(P3e);function x_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function B3e(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...s);function a(l,...u){const f=e[++i];let h=-1;if(l){o(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,f?H3e(f,a)(...u):o(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function H3e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(s);try{l=e.apply(this,o)}catch(u){const f=u;if(a&&n)throw f;return s(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(i,s):l instanceof Error?s(l):i(l))}function s(o,...a){n||(n=!0,t(o,...a))}function i(o){s(null,o)}}const F3e=(function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),U3e={}.hasOwnProperty;class Q3 extends F3e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=B3e()}copy(){const t=new Q3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(K2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Z2("data",this.frozen),this.namespace[t]=n,this):U3e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Z2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=M1(t),r=this.parser||this.Parser;return Q2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Q2("process",this.parser||this.Parser),X2("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,o){const a=M1(t),l=r.parse(a);r.run(l,a,function(f,h,g){if(f||!h||!g)return u(f);const b=h,v=r.stringify(b,g);$3e(v)?g.value=v:g.result=v,u(f,g)});function u(f,h){f||!h?o(f):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Q2("processSync",this.parser||this.Parser),X2("processSync",this.compiler||this.Compiler),this.process(t,s),rP("processSync","process",n),r;function s(i,o){n=!0,eP(i),r=o}}run(t,n,r){nP(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,a){const l=M1(n);s.run(t,l,u);function u(f,h,g){const b=h||t;f?a(f):o?o(b):r(void 0,b,g)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),rP("runSync","run",r),s;function i(o,a){eP(o),s=a,r=!0}}stringify(t,n){this.freeze();const r=M1(n),s=this.compiler||this.Compiler;return X2("stringify",s),nP(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Z2("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...h]=u;l(f,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=K2(!0,s.settings,u.settings))}function a(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const h=u[f];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===u){g=h;break}if(g===-1)r.push([u,...f]);else if(f.length>0){let[b,...v]=f;const x=r[g][1];x_(x)&&x_(b)&&(b=K2(!0,x,b)),r[g]=[u,b,...v]}}}}const RG=new Q3().freeze();function Q2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function X2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Z2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nP(e){if(!x_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function rP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function M1(e){return z3e(e)?e:new p_(e)}function z3e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $3e(e){return typeof e=="string"||V3e(e)}function V3e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function q3e(e,t){return IG(e,{})||{type:"root",children:[]}}function IG(e,t){const n=G3e(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function G3e(e,t){switch(e.nodeType){case 1:return Q3e(e,t);case 3:return W3e(e);case 8:return K3e(e);case 9:return sP(e,t);case 10:return Y3e();case 11:return sP(e,t);default:return}}function sP(e,t){return{type:"root",children:DG(e,t)}}function Y3e(){return{type:"doctype"}}function W3e(e){return{type:"text",value:e.nodeValue||""}}function K3e(e){return{type:"comment",value:e.nodeValue||""}}function Q3e(e,t){const n=e.namespaceURI,r=n===uy.svg?zV:UV,s=n===uy.html?e.tagName.toLowerCase():e.tagName,i=n===uy.html&&s==="template"?e.content:e,o=e.getAttributeNames(),a={};let l=-1;for(;++l<o.length;)a[o[l]]=e.getAttribute(o[l])||"";return r(s,a,DG(i,t))}function DG(e,t){const n=e.childNodes,r=[];let s=-1;for(;++s<n.length;){const i=IG(n[s],t);i!==void 0&&r.push(i)}return r}const X3e={tokenize:Z3e};function Z3e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),$t(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),i(a)}function i(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return it(a)?(e.consume(a),e.exit("chunkText"),i):(e.consume(a),o)}}const J3e={tokenize:eMe},iP={tokenize:tMe};function eMe(e){const t=this,n=[];let r=0,s,i,o;return a;function a(N){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,l,u)(N)}return u(N)}function l(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&_();const M=t.events.length;let O=M,R;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){R=t.events[O][1].end;break}S(r);let I=M;for(;I<t.events.length;)t.events[I][1].end={...R},I++;return fi(t.events,O+1,0,t.events.slice(M)),t.events.length=I,u(N)}return a(N)}function u(N){if(r===n.length){if(!s)return g(N);if(s.currentConstruct&&s.currentConstruct.concrete)return v(N);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iP,f,h)(N)}function f(N){return s&&_(),S(r),g(N)}function h(N){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(N)}function g(N){return t.containerState={},e.attempt(iP,b,v)(N)}function b(N){return r++,n.push([t.currentConstruct,t.containerState]),g(N)}function v(N){if(N===null){s&&_(),S(0),e.consume(N);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),x(N)}function x(N){if(N===null){w(e.exit("chunkFlow"),!0),S(0),e.consume(N);return}return it(N)?(e.consume(N),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(N),x)}function w(N,M){const O=t.sliceStream(N);if(M&&O.push(null),N.previous=i,i&&(i.next=N),i=N,s.defineSkip(N.start),s.write(O),t.parser.lazy[N.start.line]){let R=s.events.length;for(;R--;)if(s.events[R][1].start.offset<o&&(!s.events[R][1].end||s.events[R][1].end.offset>o))return;const I=t.events.length;let j=I,U,P;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(U){P=t.events[j][1].end;break}U=!0}for(S(r),R=I;R<t.events.length;)t.events[R][1].end={...P},R++;fi(t.events,j+1,0,t.events.slice(I)),t.events.length=R}}function S(N){let M=n.length;for(;M-- >N;){const O=n[M];t.containerState=O[1],O[0].exit.call(t,e)}n.length=N}function _(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function tMe(e,t,n){return $t(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const nMe={tokenize:rMe};function rMe(e){const t=this,n=e.attempt(O0,r,e.attempt(this.parser.constructs.flowInitial,s,$t(e,e.attempt(this.parser.constructs.flow,s,e.attempt(vAe,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const sMe={resolveAll:jG()},iMe=LG("string"),oMe=LG("text");function LG(e){return{resolveAll:jG(e==="text"?aMe:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,o,a);return o;function o(f){return u(f)?i(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return u(f)?(n.exit("data"),i(f)):(n.consume(f),l)}function u(f){if(f===null)return!0;const h=s[f];let g=-1;if(h)for(;++g<h.length;){const b=h[g];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function jG(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function aMe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,o=-1,a=0,l;for(;i--;){const u=s[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const lMe={42:As,43:As,45:As,48:As,49:As,50:As,51:As,52:As,53:As,54:As,55:As,56:As,57:As,62:SG},cMe={91:SAe},uMe={[-2]:G2,[-1]:G2,32:G2},dMe={35:MAe,42:hy,45:[Zj,hy],60:DAe,61:Zj,95:hy,96:Qj,126:Qj},fMe={38:kG,92:TG},hMe={[-5]:Y2,[-4]:Y2,[-3]:Y2,33:ZAe,38:kG,42:v_,60:[eAe,UAe],91:e3e,92:[NAe,TG],93:K3,95:v_,96:hAe},pMe={null:[v_,sMe]},mMe={null:[42,95]},gMe={null:[]},bMe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mMe,contentInitial:cMe,disable:gMe,document:lMe,flow:dMe,flowInitial:uMe,insideSpan:pMe,string:fMe,text:hMe},Symbol.toStringTag,{value:"Module"}));function yMe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let o=[],a=[];const l={attempt:I(O),check:I(R),consume:_,enter:N,exit:M,interrupt:I(R,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:g,sliceStream:b,write:h};let f=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function h(K){return o=Hi(o,K),w(),o[o.length-1]!==null?[]:(j(t,0),u.events=Lw(i,u.events,u),u.events)}function g(K,W){return xMe(b(K),W)}function b(K){return vMe(o,K)}function v(){const{_bufferIndex:K,_index:W,line:ne,column:Q,offset:te}=r;return{_bufferIndex:K,_index:W,line:ne,column:Q,offset:te}}function x(K){s[K.line]=K.column,P()}function w(){let K;for(;r._index<o.length;){const W=o[r._index];if(typeof W=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<W.length;)S(W.charCodeAt(r._bufferIndex));else S(W)}}function S(K){f=f(K)}function _(K){it(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,P()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=K}function N(K,W){const ne=W||{};return ne.type=K,ne.start=v(),u.events.push(["enter",ne,u]),a.push(ne),ne}function M(K){const W=a.pop();return W.end=v(),u.events.push(["exit",W,u]),W}function O(K,W){j(K,W.from)}function R(K,W){W.restore()}function I(K,W){return ne;function ne(Q,te,F){let V,z,J,B;return Array.isArray(Q)?X(Q):"tokenize"in Q?X([Q]):Se(Q);function Se(de){return ie;function ie(we){const Me=we!==null&&de[we],Be=we!==null&&de.null,He=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(Be)?Be:Be?[Be]:[]];return X(He)(we)}}function X(de){return V=de,z=0,de.length===0?F:D(de[z])}function D(de){return ie;function ie(we){return B=U(),J=de,de.partial||(u.currentConstruct=de),de.name&&u.parser.constructs.disable.null.includes(de.name)?ue():de.tokenize.call(W?Object.assign(Object.create(u),W):u,l,he,ue)(we)}}function he(de){return K(J,B),te}function ue(de){return B.restore(),++z<V.length?D(V[z]):F}}}function j(K,W){K.resolveAll&&!i.includes(K)&&i.push(K),K.resolve&&fi(u.events,W,u.events.length-W,K.resolve(u.events.slice(W),u)),K.resolveTo&&(u.events=K.resolveTo(u.events,u))}function U(){const K=v(),W=u.previous,ne=u.currentConstruct,Q=u.events.length,te=Array.from(a);return{from:Q,restore:F};function F(){r=K,u.previous=W,u.currentConstruct=ne,u.events.length=Q,a=te,P()}}function P(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function vMe(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let o;if(n===s)o=[e[n].slice(r,i)];else{if(o=e.slice(n,s),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}i>0&&o.push(e[s].slice(0,i))}return o}function xMe(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(i)}s=i===-2,r.push(o)}return r.join("")}function wMe(e){const r={constructs:mG([bMe,...(e||{}).extensions||[]]),content:s(X3e),defined:[],document:s(J3e),flow:s(nMe),lazy:{},string:s(iMe),text:s(oMe)};return r;function s(i){return o;function o(a){return yMe(r,i,a)}}}function EMe(e){for(;!_G(e););return e}const oP=/[\0\t\n\r]/g;function CMe(){let e=1,t="",n=!0,r;return s;function s(i,o,a){const l=[];let u,f,h,g,b;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(oP.lastIndex=h,u=oP.exec(i),g=u&&u.index!==void 0?u.index:i.length,b=i.charCodeAt(g),!u){t=i.slice(h);break}if(b===10&&h===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<g&&(l.push(i.slice(h,g)),e+=g-h),b){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const PG={}.hasOwnProperty;function SMe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),TMe(n)(EMe(wMe(n).document().write(CMe()(e,t,!0))))}function TMe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(vt),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(kt),blockQuote:i(Be),characterEscape:U,characterReference:U,codeFenced:i(He),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(He,o),codeText:i(Te,o),codeTextData:U,data:U,codeFlowValue:U,definition:i(Fe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Je),hardBreakEscape:i(qt),hardBreakTrailing:i(qt),htmlFlow:i(Gt,o),htmlFlowData:U,htmlText:i(Gt,o),htmlTextData:U,image:i(Mn),label:o,link:i(vt),listItem:i(se),listItemValue:g,listOrdered:i(G,h),listUnordered:i(G),paragraph:i(pe),reference:D,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(kt),strong:i(je),thematicBreak:i(Oe)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Me,autolinkProtocol:we,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:de,characterReference:ie,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:b,codeFencedFenceMeta:v,codeFlowValue:P,codeIndented:l(S),codeText:l(te),codeTextData:P,data:P,definition:l(),definitionDestinationString:M,definitionLabelString:_,definitionTitleString:N,emphasis:l(),hardBreakEscape:l(W),hardBreakTrailing:l(W),htmlFlow:l(ne),htmlFlowData:P,htmlText:l(Q),htmlTextData:P,image:l(V),label:J,labelText:z,lineEnding:K,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:he,resourceDestinationString:B,resourceTitleString:Se,resource:X,setextHeading:l(j),setextHeadingLineSequence:I,setextHeadingText:R,strong:l(),thematicBreak:l()}};BG(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let be={type:"root",children:[]};const Pe={stack:[be],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:f,data:n},Xe=[];let lt=-1;for(;++lt<ee.length;)if(ee[lt][1].type==="listOrdered"||ee[lt][1].type==="listUnordered")if(ee[lt][0]==="enter")Xe.push(lt);else{const Jt=Xe.pop();lt=s(ee,Jt,lt)}for(lt=-1;++lt<ee.length;){const Jt=t[ee[lt][0]];PG.call(Jt,ee[lt][1].type)&&Jt[ee[lt][1].type].call(Object.assign({sliceSerialize:ee[lt][2].sliceSerialize},Pe),ee[lt][1])}if(Pe.tokenStack.length>0){const Jt=Pe.tokenStack[Pe.tokenStack.length-1];(Jt[1]||aP).call(Pe,void 0,Jt[0])}for(be.position={start:Jl(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Jl(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)be=t.transforms[lt](be)||be;return be}function s(ee,be,Pe){let Xe=be-1,lt=-1,Jt=!1,rn,xn,hn,Vn;for(;++Xe<=Pe;){const Ht=ee[Xe];switch(Ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ht[0]==="enter"?lt++:lt--,Vn=void 0;break}case"lineEndingBlank":{Ht[0]==="enter"&&(rn&&!Vn&&!lt&&!hn&&(hn=Xe),Vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vn=void 0}if(!lt&&Ht[0]==="enter"&&Ht[1].type==="listItemPrefix"||lt===-1&&Ht[0]==="exit"&&(Ht[1].type==="listUnordered"||Ht[1].type==="listOrdered")){if(rn){let gs=Xe;for(xn=void 0;gs--;){const Qn=ee[gs];if(Qn[1].type==="lineEnding"||Qn[1].type==="lineEndingBlank"){if(Qn[0]==="exit")continue;xn&&(ee[xn][1].type="lineEndingBlank",Jt=!0),Qn[1].type="lineEnding",xn=gs}else if(!(Qn[1].type==="linePrefix"||Qn[1].type==="blockQuotePrefix"||Qn[1].type==="blockQuotePrefixWhitespace"||Qn[1].type==="blockQuoteMarker"||Qn[1].type==="listItemIndent"))break}hn&&(!xn||hn<xn)&&(rn._spread=!0),rn.end=Object.assign({},xn?ee[xn][1].start:Ht[1].end),ee.splice(xn||Xe,0,["exit",rn,Ht[2]]),Xe++,Pe++}if(Ht[1].type==="listItemPrefix"){const gs={type:"listItem",_spread:!1,start:Object.assign({},Ht[1].start),end:void 0};rn=gs,ee.splice(Xe,0,["enter",gs,Ht[2]]),Xe++,Pe++,hn=void 0,Vn=!0}}}return ee[be][1]._spread=Jt,Pe}function i(ee,be){return Pe;function Pe(Xe){a.call(this,ee(Xe),Xe),be&&be.call(this,Xe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ee,be,Pe){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([be,Pe||void 0]),ee.position={start:Jl(be.start),end:void 0}}function l(ee){return be;function be(Pe){ee&&ee.call(this,Pe),u.call(this,Pe)}}function u(ee,be){const Pe=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==ee.type&&(be?be.call(this,ee,Xe[0]):(Xe[1]||aP).call(this,ee,Xe[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Gm({start:ee.start,end:ee.end})+"): it’s not open");Pe.position.end=Jl(ee.end)}function f(){return Rw(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(ee){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.lang=ee}function v(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.meta=ee}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.value=ee.replace(/(\r?\n|\r)$/g,"")}function _(ee){const be=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=be,Pe.identifier=xo(this.sliceSerialize(ee)).toLowerCase()}function N(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.title=ee}function M(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.url=ee}function O(ee){const be=this.stack[this.stack.length-1];if(!be.depth){const Pe=this.sliceSerialize(ee).length;be.depth=Pe}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function I(ee){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ee){const Pe=this.stack[this.stack.length-1].children;let Xe=Pe[Pe.length-1];(!Xe||Xe.type!=="text")&&(Xe=Ae(),Xe.position={start:Jl(ee.start),end:void 0},Pe.push(Xe)),this.stack.push(Xe)}function P(ee){const be=this.stack.pop();be.value+=this.sliceSerialize(ee),be.position.end=Jl(ee.end)}function K(ee){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=be.children[be.children.length-1];Pe.position.end=Jl(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(U.call(this,ee),P.call(this,ee))}function W(){this.data.atHardBreak=!0}function ne(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.value=ee}function Q(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.value=ee}function te(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.value=ee}function F(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=be,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function V(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=be,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function z(ee){const be=this.sliceSerialize(ee),Pe=this.stack[this.stack.length-2];Pe.label=pG(be),Pe.identifier=xo(be).toLowerCase()}function J(){const ee=this.stack[this.stack.length-1],be=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const Xe=ee.children;Pe.children=Xe}else Pe.alt=be}function B(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.url=ee}function Se(){const ee=this.resume(),be=this.stack[this.stack.length-1];be.title=ee}function X(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function he(ee){const be=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=be,Pe.identifier=xo(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ue(ee){this.data.characterReferenceType=ee.type}function de(ee){const be=this.sliceSerialize(ee),Pe=this.data.characterReferenceType;let Xe;Pe?(Xe=hG(be,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Xe=Y3(be);const lt=this.stack[this.stack.length-1];lt.value+=Xe}function ie(ee){const be=this.stack.pop();be.position.end=Jl(ee.end)}function we(ee){P.call(this,ee);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(ee)}function Me(ee){P.call(this,ee);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(ee)}function Be(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function Fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function kt(){return{type:"heading",depth:0,children:[]}}function qt(){return{type:"break"}}function Gt(){return{type:"html",value:""}}function Mn(){return{type:"image",title:null,url:"",alt:null}}function vt(){return{type:"link",title:null,url:"",children:[]}}function G(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function se(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function pe(){return{type:"paragraph",children:[]}}function je(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function Oe(){return{type:"thematicBreak"}}}function Jl(e){return{line:e.line,column:e.column,offset:e.offset}}function BG(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?BG(e,r):kMe(e,r)}}function kMe(e,t){let n;for(n in t)if(PG.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function aP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Gm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Gm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Gm({start:t.start,end:t.end})+") is still open")}function _Me(e){const t=this;t.parser=n;function n(r){return SMe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function NMe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function AMe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function MMe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function OMe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RMe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IMe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=tp(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function DMe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LMe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function HG(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function jMe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HG(e,t);const s={src:tp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function PMe(e,t){const n={src:tp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function BMe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function HMe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HG(e,t);const s={href:tp(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function FMe(e,t){const n={href:tp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UMe(e,t,n){const r=e.all(t),s=n?zMe(n):FG(t),i={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(s||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!s?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function zMe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=FG(n[r])}return t}function FG(e){const t=e.spread;return t??e.children.length>1}function $Me(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function VMe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qMe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GMe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YMe(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Rq(t.children[1]),l=Oq(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),s.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function WMe(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],g={},b=o?o[l]:void 0;b&&(g.align=b);let v={type:"element",tagName:i,properties:g,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),u.push(v)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function KMe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const lP=9,cP=32;function QMe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(uP(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(uP(t.slice(s),s>0,!1)),i.join("")}function uP(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===lP||i===cP;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===lP||i===cP;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function XMe(e,t){const n={type:"text",value:QMe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ZMe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const UG={blockquote:NMe,break:AMe,code:MMe,delete:OMe,emphasis:RMe,footnoteReference:IMe,heading:DMe,html:LMe,imageReference:jMe,image:PMe,inlineCode:BMe,linkReference:HMe,link:FMe,listItem:UMe,list:$Me,paragraph:VMe,root:qMe,strong:GMe,table:YMe,tableCell:KMe,tableRow:WMe,text:XMe,thematicBreak:ZMe,toml:O1,yaml:O1,definition:O1,footnoteDefinition:O1};function O1(){}function JMe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function eOe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function tOe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||JMe,r=e.options.footnoteBackLabel||eOe,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const f=e.all(u),h=String(u.identifier).toUpperCase(),g=tp(h.toLowerCase());let b=0;const v=[],x=e.footnoteCounts.get(h);for(;x!==void 0&&++b<=x;){v.length>0&&v.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,b);typeof _=="string"&&(_={type:"text",value:_}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,b),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const _=w.children[w.children.length-1];_&&_.type==="text"?_.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else f.push(...v);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(u,S),a.push(S)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ah(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const w_={}.hasOwnProperty,nOe={};function rOe(e,t){const n=t||nOe,r=new Map,s=new Map,i=new Map,o={...UG,...n.handlers},a={all:u,applyData:iOe,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:sOe,wrap:aOe};return Mh(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?r:s,g=String(f.identifier).toUpperCase();h.has(g)||h.set(g,f)}}),a;function l(f,h){const g=f.type,b=a.handlers[g];if(w_.call(a.handlers,g)&&b)return b(a,f,h);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:x,...w}=f,S=Ah(w);return S.children=a.all(f),S}return Ah(f)}return(a.options.unknownHandler||oOe)(a,f,h)}function u(f){const h=[];if("children"in f){const g=f.children;let b=-1;for(;++b<g.length;){const v=a.one(g[b],f);if(v){if(b&&g[b-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=dP(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=dP(x.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function sOe(e,t){e.position&&(t.position=Dq(e))}function iOe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Ah(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function oOe(e,t){const n=t.data||{},r="value"in t&&!(w_.call(n,"hProperties")||w_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aOe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dP(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function fP(e,t){const n=rOe(e,t),r=n.one(e,void 0),s=tOe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function lOe(e,t){return e&&"run"in e?async function(n,r){const s=fP(n,{file:r,...t});await e.run(s,r)}:function(n,r){return fP(n,{file:r,...e||t})}}const cOe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],uOe=/["&'<>`]/g,dOe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fOe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,hOe=/[|\\{}()[\]^$+*?.]/g,hP=new WeakMap;function pOe(e,t){if(e=e.replace(t.subset?mOe(t.subset):uOe,r),t.subset||t.escapeOnly)return e;return e.replace(dOe,n).replace(fOe,r);function n(s,i,o){return t.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,o.charCodeAt(i+2),t)}function r(s,i,o){return t.format(s.charCodeAt(0),o.charCodeAt(i+1),t)}}function mOe(e){let t=hP.get(e);return t||(t=gOe(e),hP.set(e,t)),t}function gOe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(hOe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const bOe=/[\dA-Fa-f]/;function yOe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!bOe.test(String.fromCharCode(t))?r:r+";"}const vOe=/\d/;function xOe(e,t,n){const r="&#"+String(e);return n&&t&&!vOe.test(String.fromCharCode(t))?r:r+";"}const wOe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],J2={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},EOe=["cent","copy","divide","gt","lt","not","para","times"],zG={}.hasOwnProperty,E_={};let R1;for(R1 in J2)zG.call(J2,R1)&&(E_[J2[R1]]=R1);const COe=/[^\dA-Za-z]/;function SOe(e,t,n,r){const s=String.fromCharCode(e);if(zG.call(E_,s)){const i=E_[s],o="&"+i;return n&&wOe.includes(i)&&!EOe.includes(i)&&(!r||t&&t!==61&&COe.test(String.fromCharCode(t)))?o:o+";"}return""}function TOe(e,t,n){let r=yOe(e,t,n.omitOptionalSemicolons),s;if((n.useNamedReferences||n.useShortestReferences)&&(s=SOe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!s)&&n.useShortestReferences){const i=xOe(e,t,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return s&&(!n.useShortestReferences||s.length<r.length)?s:r}function ch(e,t){return pOe(e,Object.assign({format:TOe},t))}const kOe=/^>|^->|<!--|-->|--!>|<!-$/g,_Oe=[">"],NOe=["<",">"];function AOe(e,t,n,r){return r.settings.bogusComments?"<?"+ch(e.value,Object.assign({},r.settings.characterReferences,{subset:_Oe}))+">":"<!--"+e.value.replace(kOe,s)+"-->";function s(i){return ch(i,Object.assign({},r.settings.characterReferences,{subset:NOe}))}}function MOe(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const yr=VG(1),$G=VG(-1),OOe=[];function VG(e){return t;function t(n,r,s){const i=n?n.children:OOe;let o=(r||0)+e,a=i[o];if(!s)for(;a&&A0(a);)o+=e,a=i[o];return a}}const ROe={}.hasOwnProperty;function qG(e){return t;function t(n,r,s){return ROe.call(e,n.tagName)&&e[n.tagName](n,r,s)}}const X3=qG({body:DOe,caption:eT,colgroup:eT,dd:BOe,dt:POe,head:eT,html:IOe,li:jOe,optgroup:HOe,option:FOe,p:LOe,rp:pP,rt:pP,tbody:zOe,td:mP,tfoot:$Oe,th:mP,thead:UOe,tr:VOe});function eT(e,t,n){const r=yr(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&A0(r.value.charAt(0)))}function IOe(e,t,n){const r=yr(n,t);return!r||r.type!=="comment"}function DOe(e,t,n){const r=yr(n,t);return!r||r.type!=="comment"}function LOe(e,t,n){const r=yr(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function jOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&r.tagName==="li"}function POe(e,t,n){const r=yr(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function BOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function pP(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function HOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function FOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function UOe(e,t,n){const r=yr(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function zOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function $Oe(e,t,n){return!yr(n,t)}function VOe(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function mP(e,t,n){const r=yr(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const qOe=qG({body:WOe,colgroup:KOe,head:YOe,html:GOe,tbody:QOe});function GOe(e){const t=yr(e,-1);return!t||t.type!=="comment"}function YOe(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function WOe(e){const t=yr(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&A0(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function KOe(e,t,n){const r=$G(n,t),s=yr(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&X3(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function QOe(e,t,n){const r=$G(n,t),s=yr(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&X3(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const I1={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function XOe(e,t,n,r){const s=r.schema,i=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const a=[];let l;s.space==="html"&&e.tagName==="svg"&&(r.schema=k0);const u=ZOe(r,e.properties),f=r.all(s.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=s,f&&(o=!1),(u||!i||!qOe(e,t,n))&&(a.push("<",e.tagName,u?" "+u:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(f),!o&&(!i||!X3(e,t,n))&&a.push("</"+e.tagName+">"),a.join("")}function ZOe(e,t){const n=[];let r=-1,s;if(t){for(s in t)if(t[s]!==null&&t[s]!==void 0){const i=JOe(e,s,t[s]);i&&n.push(i)}}for(;++r<n.length;){const i=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function JOe(e,t,n){const r=A3(e.schema,t),s=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,i=e.settings.allowDangerousCharacters?0:1;let o=e.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=ch(r.attribute,Object.assign({},e.settings.characterReferences,{subset:I1.name[s][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?ZEe:eCe)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(a=ch(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:I1.unquoted[s][i]}))),a!==n&&(e.settings.quoteSmart&&yv(n,o)>yv(n,e.alternative)&&(o=e.alternative),a=o+ch(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?I1.single:I1.double)[s][i],attribute:!0}))+o),l+(a&&"="+a))}const eRe=["<","&"];function GG(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:ch(e.value,Object.assign({},r.settings.characterReferences,{subset:eRe}))}function tRe(e,t,n,r){return r.settings.allowDangerousHtml?e.value:GG(e,t,n,r)}function nRe(e,t,n,r){return r.all(e)}const rRe=Jq("type",{invalid:sRe,unknown:iRe,handlers:{comment:AOe,doctype:MOe,element:XOe,raw:tRe,root:nRe,text:GG}});function sRe(e){throw new Error("Expected node, not `"+e+"`")}function iRe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const oRe={},aRe={},lRe=[];function cRe(e,t){const n=t||oRe,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:uRe,all:dRe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||cOe,characterReferences:n.characterReferences||aRe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?k0:Sw,quote:r,alternative:s}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function uRe(e,t,n){return rRe(e,t,n,this)}function dRe(e){const t=[],n=e&&e.children||lRe;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function fRe(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(s){return cRe(s,n)}}class zn extends ot{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return zn.valid(r)?new zn(r):ot.near(r)}content(){return Le.empty}eq(t){return t instanceof zn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new zn(t.resolve(n.pos))}getBookmark(){return new Z3(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!hRe(t)||!pRe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&zn.valid(t))return t;let s=t.pos,i=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){i=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;s+=n;let l=t.doc.resolve(s);if(zn.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Ze.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=t.doc.resolve(s);if(zn.valid(a))return a}return null}}}zn.prototype.visible=!1;zn.findFrom=zn.findGapCursorFrom;ot.jsonID("gapcursor",zn);class Z3{constructor(t){this.pos=t}map(t){return new Z3(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return zn.valid(n)?new zn(n):ot.near(n)}}function hRe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function pRe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function mRe(){return new ht({props:{decorations:vRe,createSelectionBetween(e,t,n){return t.pos==n.pos&&zn.valid(n)?new zn(n):null},handleClick:bRe,handleKeyDown:gRe,handleDOMEvents:{beforeinput:yRe}}})}const gRe=_A({ArrowLeft:D1("horiz",-1),ArrowRight:D1("horiz",1),ArrowUp:D1("vert",-1),ArrowDown:D1("vert",1)});function D1(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,i){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof $e){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=zn.findGapCursorFrom(a,t,l);return u?(s&&s(r.tr.setSelection(new zn(u))),!0):!1}}function bRe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!zn.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ze.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new zn(r))),!0)}function yRe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof zn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=ve.empty;for(let o=r.length-1;o>=0;o--)s=ve.from(r[o].createAndFill(null,s));let i=e.state.tr.replace(n.pos,n.pos,new Le(s,0,0));return i.setSelection($e.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function vRe(e){if(!(e.selection instanceof zn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",bt.create(e.doc,[Xt.widget(e.selection.head,t,{key:"gapcursor"})])}nn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new ht({key:new St("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const s=this.options.limit;if(s==null||s===0){e=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const o=i-s,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(a,l);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:t.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!t.getMeta("paste"))return!1;const a=t.selection.$head.pos,l=i-r,u=a-l,f=a;return t.deleteRange(u,f),!(this.storage.characters({node:t.doc})>r)}})]}});nn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[C$(this.options)]}});nn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ht({key:new St("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=t,i=[];if(!n||!r)return bt.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((l,u)=>{if(l.isText)return;if(!(s>=u&&s<=u+l.nodeSize-1))return!1;o+=1});let a=0;return e.descendants((l,u)=>{if(l.isText||!(s>=u&&s<=u+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";i.push(Xt.node(u,u+l.nodeSize,{class:this.options.className}))}),bt.create(e,i)}}})]}});var xRe=nn.create({name:"gapCursor",addProseMirrorPlugins(){return[mRe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=gn(et(e,"allowGapCursor",n)))!=null?t:null}}});nn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ht({key:new St("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,s=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,u=!o.isLeaf&&lw(o);if((l||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];i&&f.push(this.options.emptyEditorClass);const h=Xt.node(a,a+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),bt.create(e,s)}}})]}});nn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new ht({key:new St("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||Jy(n.selection)||e.view.dragging?null:bt.create(n.doc,[Xt.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function gP({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}nn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const e=new St(this.name),t=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new ht({key:e,appendTransaction:(n,r,s)=>{const{doc:i,tr:o,schema:a}=s,l=e.getState(s),u=i.content.size,f=a.nodes[this.options.node];if(l)return o.insert(u,f.create())},state:{init:(n,r)=>{const s=r.tr.doc.lastChild;return!gP({node:s,types:t})},apply:(n,r)=>{if(!n.docChanged)return r;const s=n.doc.lastChild;return!gP({node:s,types:t})}}})]}});var wRe=nn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>i3(e,t),redo:()=>({state:e,dispatch:t})=>o3(e,t)}},addProseMirrorPlugins(){return[gve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}});const ERe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",CRe="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",C_="numeric",S_="ascii",T_="alpha",Km="asciinumeric",Tm="alphanumeric",k_="domain",YG="emoji",SRe="scheme",TRe="slashscheme",tT="whitespace";function kRe(e,t){return e in t||(t[e]=[]),t[e]}function ju(e,t,n){t[C_]&&(t[Km]=!0,t[Tm]=!0),t[S_]&&(t[Km]=!0,t[T_]=!0),t[Km]&&(t[Tm]=!0),t[T_]&&(t[Tm]=!0),t[Tm]&&(t[k_]=!0),t[YG]&&(t[k_]=!0);for(const r in t){const s=kRe(r,n);s.indexOf(e)<0&&s.push(e)}}function _Re(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Ds(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ds.groups={};Ds.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],i=t.jr[r][1];if(i&&s.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){r=r||Ds.groups;let s;return t&&t.j?s=t:(s=new Ds(t),n&&r&&ju(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const i=e.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(e[o]);return s.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||Ds.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const i=t;let o,a=s.go(e);if(a?(o=new Ds,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Ds,i){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(_Re(o.t,r),n);ju(i,l,r)}else n&&ju(i,n,r);o.t=i}return s.j[e]=o,o}};const Ct=(e,t,n,r,s)=>e.ta(t,n,r,s),Un=(e,t,n,r,s)=>e.tr(t,n,r,s),bP=(e,t,n,r,s)=>e.ts(t,n,r,s),Ie=(e,t,n,r,s)=>e.tt(t,n,r,s),Ka="WORD",__="UWORD",WG="ASCIINUMERICAL",KG="ALPHANUMERICAL",Vg="LOCALHOST",N_="TLD",A_="UTLD",py="SCHEME",Yf="SLASH_SCHEME",J3="NUM",M_="WS",eM="NL",Qm="OPENBRACE",Xm="CLOSEBRACE",wv="OPENBRACKET",Ev="CLOSEBRACKET",Cv="OPENPAREN",Sv="CLOSEPAREN",Tv="OPENANGLEBRACKET",kv="CLOSEANGLEBRACKET",_v="FULLWIDTHLEFTPAREN",Nv="FULLWIDTHRIGHTPAREN",Av="LEFTCORNERBRACKET",Mv="RIGHTCORNERBRACKET",Ov="LEFTWHITECORNERBRACKET",Rv="RIGHTWHITECORNERBRACKET",Iv="FULLWIDTHLESSTHAN",Dv="FULLWIDTHGREATERTHAN",Lv="AMPERSAND",jv="APOSTROPHE",Pv="ASTERISK",lc="AT",Bv="BACKSLASH",Hv="BACKTICK",Fv="CARET",pc="COLON",tM="COMMA",Uv="DOLLAR",Xo="DOT",zv="EQUALS",nM="EXCLAMATION",ji="HYPHEN",Zm="PERCENT",$v="PIPE",Vv="PLUS",qv="POUND",Jm="QUERY",rM="QUOTE",QG="FULLWIDTHMIDDLEDOT",sM="SEMI",Zo="SLASH",eg="TILDE",Gv="UNDERSCORE",XG="EMOJI",Yv="SYM";var ZG=Object.freeze({__proto__:null,ALPHANUMERICAL:KG,AMPERSAND:Lv,APOSTROPHE:jv,ASCIINUMERICAL:WG,ASTERISK:Pv,AT:lc,BACKSLASH:Bv,BACKTICK:Hv,CARET:Fv,CLOSEANGLEBRACKET:kv,CLOSEBRACE:Xm,CLOSEBRACKET:Ev,CLOSEPAREN:Sv,COLON:pc,COMMA:tM,DOLLAR:Uv,DOT:Xo,EMOJI:XG,EQUALS:zv,EXCLAMATION:nM,FULLWIDTHGREATERTHAN:Dv,FULLWIDTHLEFTPAREN:_v,FULLWIDTHLESSTHAN:Iv,FULLWIDTHMIDDLEDOT:QG,FULLWIDTHRIGHTPAREN:Nv,HYPHEN:ji,LEFTCORNERBRACKET:Av,LEFTWHITECORNERBRACKET:Ov,LOCALHOST:Vg,NL:eM,NUM:J3,OPENANGLEBRACKET:Tv,OPENBRACE:Qm,OPENBRACKET:wv,OPENPAREN:Cv,PERCENT:Zm,PIPE:$v,PLUS:Vv,POUND:qv,QUERY:Jm,QUOTE:rM,RIGHTCORNERBRACKET:Mv,RIGHTWHITECORNERBRACKET:Rv,SCHEME:py,SEMI:sM,SLASH:Zo,SLASH_SCHEME:Yf,SYM:Yv,TILDE:eg,TLD:N_,UNDERSCORE:Gv,UTLD:A_,UWORD:__,WORD:Ka,WS:M_});const Ga=/[a-z]/,fm=/\p{L}/u,nT=/\p{Emoji}/u,Ya=/\d/,rT=/\s/,yP="\r",sT=`
`,NRe="️",ARe="‍",iT="￼";let L1=null,j1=null;function MRe(e=[]){const t={};Ds.groups=t;const n=new Ds;L1==null&&(L1=vP(ERe)),j1==null&&(j1=vP(CRe)),Ie(n,"'",jv),Ie(n,"{",Qm),Ie(n,"}",Xm),Ie(n,"[",wv),Ie(n,"]",Ev),Ie(n,"(",Cv),Ie(n,")",Sv),Ie(n,"<",Tv),Ie(n,">",kv),Ie(n,"（",_v),Ie(n,"）",Nv),Ie(n,"「",Av),Ie(n,"」",Mv),Ie(n,"『",Ov),Ie(n,"』",Rv),Ie(n,"＜",Iv),Ie(n,"＞",Dv),Ie(n,"&",Lv),Ie(n,"*",Pv),Ie(n,"@",lc),Ie(n,"`",Hv),Ie(n,"^",Fv),Ie(n,":",pc),Ie(n,",",tM),Ie(n,"$",Uv),Ie(n,".",Xo),Ie(n,"=",zv),Ie(n,"!",nM),Ie(n,"-",ji),Ie(n,"%",Zm),Ie(n,"|",$v),Ie(n,"+",Vv),Ie(n,"#",qv),Ie(n,"?",Jm),Ie(n,'"',rM),Ie(n,"/",Zo),Ie(n,";",sM),Ie(n,"~",eg),Ie(n,"_",Gv),Ie(n,"\\",Bv),Ie(n,"・",QG);const r=Un(n,Ya,J3,{[C_]:!0});Un(r,Ya,r);const s=Un(r,Ga,WG,{[Km]:!0}),i=Un(r,fm,KG,{[Tm]:!0}),o=Un(n,Ga,Ka,{[S_]:!0});Un(o,Ya,s),Un(o,Ga,o),Un(s,Ya,s),Un(s,Ga,s);const a=Un(n,fm,__,{[T_]:!0});Un(a,Ga),Un(a,Ya,i),Un(a,fm,a),Un(i,Ya,i),Un(i,Ga),Un(i,fm,i);const l=Ie(n,sT,eM,{[tT]:!0}),u=Ie(n,yP,M_,{[tT]:!0}),f=Un(n,rT,M_,{[tT]:!0});Ie(n,iT,f),Ie(u,sT,l),Ie(u,iT,f),Un(u,rT,f),Ie(f,yP),Ie(f,sT),Un(f,rT,f),Ie(f,iT,f);const h=Un(n,nT,XG,{[YG]:!0});Ie(h,"#"),Un(h,nT,h),Ie(h,NRe,h);const g=Ie(h,ARe);Ie(g,"#"),Un(g,nT,h);const b=[[Ga,o],[Ya,s]],v=[[Ga,null],[fm,a],[Ya,i]];for(let x=0;x<L1.length;x++)ec(n,L1[x],N_,Ka,b);for(let x=0;x<j1.length;x++)ec(n,j1[x],A_,__,v);ju(N_,{tld:!0,ascii:!0},t),ju(A_,{utld:!0,alpha:!0},t),ec(n,"file",py,Ka,b),ec(n,"mailto",py,Ka,b),ec(n,"http",Yf,Ka,b),ec(n,"https",Yf,Ka,b),ec(n,"ftp",Yf,Ka,b),ec(n,"ftps",Yf,Ka,b),ju(py,{scheme:!0,ascii:!0},t),ju(Yf,{slashscheme:!0,ascii:!0},t),e=e.sort((x,w)=>x[0]>w[0]?1:-1);for(let x=0;x<e.length;x++){const w=e[x][0],_=e[x][1]?{[SRe]:!0}:{[TRe]:!0};w.indexOf("-")>=0?_[k_]=!0:Ga.test(w)?Ya.test(w)?_[Km]=!0:_[S_]=!0:_[C_]=!0,bP(n,w,w,_)}return bP(n,"localhost",Vg,{ascii:!0}),n.jd=new Ds(Yv),{start:n,tokens:Object.assign({groups:t},ZG)}}function JG(e,t){const n=ORe(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=e,l=null,u=0,f=null,h=-1,g=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(h=0,g=0,f=a):h>=0&&(h+=n[o].length,g++),u+=n[o].length,i+=n[o].length,o++;i-=h,o-=g,u-=h,s.push({t:f.t,v:t.slice(i-u,i),s:i-u,e:i})}return s}function ORe(e){const t=[],n=e.length;let r=0;for(;r<n;){let s=e.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function ec(e,t,n,r,s){let i;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?i=e.j[l]:(i=new Ds(r),i.jr=s.slice(),e.j[l]=i),e=i}return i=new Ds(n),i.jr=s.slice(),e.j[t[o-1]]=i,i}function vP(e){const t=[],n=[];let r=0,s="0123456789";for(;r<e.length;){let i=0;for(;s.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const qg={defaultProtocol:"http",events:null,format:xP,formatHref:xP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function iM(e,t=null){let n=Object.assign({},qg);e&&(n=Object.assign(n,e instanceof iM?e.o:e));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}iM.prototype={o:qg,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:qg[e],typeof s=="function"&&r&&(s=s(t,n))):typeof s=="function"&&r&&(s=s(t,n.t,n)),s)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function xP(e){return e}function eY(e,t){this.t="token",this.v=e,this.tk=t}eY.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=qg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),s=e.get("tagName",n,t),i=this.toFormattedString(e),o={},a=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),f=e.getObj("attributes",n,t),h=e.getObj("events",n,t);return o.href=r,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:s,attributes:o,content:i,eventListeners:h}}};function jw(e,t){class n extends eY{constructor(s,i){super(s,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const wP=jw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),EP=jw("text"),RRe=jw("nl"),P1=jw("url",{isLink:!0,toHref(e=qg.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Vg&&e[1].t===pc}}),Ri=e=>new Ds(e);function IRe({groups:e}){const t=e.domain.concat([Lv,Pv,lc,Bv,Hv,Fv,Uv,zv,ji,J3,Zm,$v,Vv,qv,Zo,Yv,eg,Gv]),n=[jv,pc,tM,Xo,nM,Zm,Jm,rM,sM,Tv,kv,Qm,Xm,Ev,wv,Cv,Sv,_v,Nv,Av,Mv,Ov,Rv,Iv,Dv],r=[Lv,jv,Pv,Bv,Hv,Fv,Uv,zv,ji,Qm,Xm,Zm,$v,Vv,qv,Jm,Zo,Yv,eg,Gv],s=Ri(),i=Ie(s,eg);Ct(i,r,i),Ct(i,e.domain,i);const o=Ri(),a=Ri(),l=Ri();Ct(s,e.domain,o),Ct(s,e.scheme,a),Ct(s,e.slashscheme,l),Ct(o,r,i),Ct(o,e.domain,o);const u=Ie(o,lc);Ie(i,lc,u),Ie(a,lc,u),Ie(l,lc,u);const f=Ie(i,Xo);Ct(f,r,i),Ct(f,e.domain,i);const h=Ri();Ct(u,e.domain,h),Ct(h,e.domain,h);const g=Ie(h,Xo);Ct(g,e.domain,h);const b=Ri(wP);Ct(g,e.tld,b),Ct(g,e.utld,b),Ie(u,Vg,b);const v=Ie(h,ji);Ie(v,ji,v),Ct(v,e.domain,h),Ct(b,e.domain,h),Ie(b,Xo,g),Ie(b,ji,v);const x=Ie(b,pc);Ct(x,e.numeric,wP);const w=Ie(o,ji),S=Ie(o,Xo);Ie(w,ji,w),Ct(w,e.domain,o),Ct(S,r,i),Ct(S,e.domain,o);const _=Ri(P1);Ct(S,e.tld,_),Ct(S,e.utld,_),Ct(_,e.domain,o),Ct(_,r,i),Ie(_,Xo,S),Ie(_,ji,w),Ie(_,lc,u);const N=Ie(_,pc),M=Ri(P1);Ct(N,e.numeric,M);const O=Ri(P1),R=Ri();Ct(O,t,O),Ct(O,n,R),Ct(R,t,O),Ct(R,n,R),Ie(_,Zo,O),Ie(M,Zo,O);const I=Ie(a,pc),j=Ie(l,pc),U=Ie(j,Zo),P=Ie(U,Zo);Ct(a,e.domain,o),Ie(a,Xo,S),Ie(a,ji,w),Ct(l,e.domain,o),Ie(l,Xo,S),Ie(l,ji,w),Ct(I,e.domain,O),Ie(I,Zo,O),Ie(I,Jm,O),Ct(P,e.domain,O),Ct(P,t,O),Ie(P,Zo,O);const K=[[Qm,Xm],[wv,Ev],[Cv,Sv],[Tv,kv],[_v,Nv],[Av,Mv],[Ov,Rv],[Iv,Dv]];for(let W=0;W<K.length;W++){const[ne,Q]=K[W],te=Ie(O,ne);Ie(R,ne,te),Ie(te,Q,O);const F=Ri(P1);Ct(te,t,F);const V=Ri();Ct(te,n),Ct(F,t,F),Ct(F,n,V),Ct(V,t,F),Ct(V,n,V),Ie(F,Q,O),Ie(V,Q,O)}return Ie(s,Vg,_),Ie(s,eM,RRe),{start:s,tokens:ZG}}function DRe(e,t,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=e,l=null,u=null,f=0,h=null,g=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(u=l||a.go(n[s].t));)l=null,a=u,a.accepts()?(g=0,h=a):g>=0&&g++,s++,f++;if(g<0)s-=f,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(oT(EP,t,o)),o=[]),s-=g,f-=g;const b=h.t,v=n.slice(s-f,s);i.push(oT(b,t,v))}}return o.length>0&&i.push(oT(EP,t,o)),i}function oT(e,t,n){const r=n[0].s,s=n[n.length-1].e,i=t.slice(r,s);return new e(i,n)}const LRe=typeof console<"u"&&console&&console.warn||(()=>{}),jRe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_n={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function PRe(){return Ds.groups={},_n.scanner=null,_n.parser=null,_n.tokenQueue=[],_n.pluginQueue=[],_n.customSchemes=[],_n.initialized=!1,_n}function CP(e,t=!1){if(_n.initialized&&LRe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${jRe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_n.customSchemes.push([e,t])}function BRe(){_n.scanner=MRe(_n.customSchemes);for(let e=0;e<_n.tokenQueue.length;e++)_n.tokenQueue[e][1]({scanner:_n.scanner});_n.parser=IRe(_n.scanner.tokens);for(let e=0;e<_n.pluginQueue.length;e++)_n.pluginQueue[e][1]({scanner:_n.scanner,parser:_n.parser});return _n.initialized=!0,_n}function oM(e){return _n.initialized||BRe(),DRe(_n.parser.start,e,JG(_n.scanner.start,e))}oM.scan=JG;function tY(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new iM(n),s=oM(e),i=[];for(let o=0;o<s.length;o++){const a=s[o];a.isLink&&(!t||a.t===t)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}var aM="[\0-   ᠎ -\u2029 　]",HRe=new RegExp(aM),FRe=new RegExp(`${aM}$`),URe=new RegExp(aM,"g");function zRe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function $Re(e){return new ht({key:new St("autolink"),appendTransaction:(t,n,r)=>{const s=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=t.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,a=iw(n.doc,[...t]);if(FA(a).forEach(({newRange:u})=>{const f=Ez(r.doc,u,b=>b.isTextblock);let h,g;if(f.length>1)h=f[0],g=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(f.length){const b=r.doc.textBetween(u.from,u.to," "," ");if(!FRe.test(b))return;h=f[0],g=r.doc.textBetween(h.pos,u.to,void 0," ")}if(h&&g){const b=g.split(HRe).filter(Boolean);if(b.length<=0)return!1;const v=b[b.length-1],x=h.pos+g.lastIndexOf(v);if(!v)return!1;const w=oM(v).map(S=>S.toObject(e.defaultProtocol));if(!zRe(w))return!1;w.filter(S=>S.isLink).map(S=>({...S,from:x+S.start+1,to:x+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>e.validate(S.value)).filter(S=>e.shouldAutoLink(S.value)).forEach(S=>{zA(S.from,S.to,r.doc).some(_=>_.mark.type===e.type)||o.addMark(S.from,S.to,e.type.create({href:S.href}))})}}),!!o.steps.length)return o}})}function VRe(e){return new ht({key:new St("handleClickLink"),props:{handleClick:(t,n,r)=>{var s,i;if(r.button!==0||!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let f=r.target;const h=[];for(;f.nodeName!=="DIV";)h.push(f),f=f.parentNode;o=h.find(g=>g.nodeName==="A")}if(!o)return!1;const a=Az(t.state,e.type.name),l=(s=o?.href)!=null?s:a.href,u=(i=o?.target)!=null?i:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),o&&l?(window.open(l,u),!0):!1}}})}function qRe(e){return new ht({key:new St("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:s}=t,{selection:i}=s,{empty:o}=i;if(o)return!1;let a="";r.content.forEach(u=>{a+=u.textContent});const l=tY(a,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===a);return!a||!l?!1:e.editor.commands.setMark(e.type,{href:l.href})}}})}function Nu(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!e||e.replace(URe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var GRe=wi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){CP(e);return}CP(e.scheme,e.optionalSlashes)})},onDestroy(){PRe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Nu(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Nu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Nu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gi(this.options.HTMLAttributes,e),0]:["a",gi(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Nu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Nu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[rd({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,s=tY(e).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Nu(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>t.push({text:i.value,data:{href:i.href},index:i.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push($Re({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Nu(s,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(VRe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(qRe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),YRe=Ji.create({name:"text",group:"inline"});const WRe={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{add_button_text:{image:"Add image",video:"Add video",audio:"Add audio",file:"Add file"}},toggle_blocks:{add_block_button:"Empty toggle. Click to add a block."},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:e=>`${e} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var KRe=Object.defineProperty,QRe=(e,t,n)=>t in e?KRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t,n)=>QRe(e,typeof t!="symbol"?t+"":t,n);function XRe(e,t,n,r="before"){const s=typeof n=="string"?n:n.id,i=br(e),o=t.map(u=>vd(u,i)),a=bi(s,e.doc);if(!a)throw new Error(`Block with ID ${s} not found`);let l=a.posBeforeNode;return r==="after"&&(l+=a.node.nodeSize),e.step(new or(l,l,new Le(ve.from(o),0,0))),o.map(u=>Bn(u,i))}function SP(e,t,n){const r=br(e),s=n.map(u=>vd(u,r)),i=new Set(t.map(u=>typeof u=="string"?u:u.id)),o=[],a=typeof t[0]=="string"?t[0]:t[0].id;let l=0;if(e.doc.descendants((u,f)=>{if(i.size===0)return!1;if(!u.type.isInGroup("bnBlock")||!i.has(u.attrs.id))return!0;if(o.push(Bn(u,r)),i.delete(u.attrs.id),n.length>0&&u.attrs.id===a){const v=e.doc.nodeSize;e.insert(f,s);const x=e.doc.nodeSize;l+=v-x}const h=e.doc.nodeSize,g=e.doc.resolve(f-l);g.node().type.name==="blockGroup"&&g.node(g.depth-1).type.name!=="doc"&&g.node().childCount===1?e.delete(g.before(),g.after()):e.delete(f-l,f-l+u.nodeSize);const b=e.doc.nodeSize;return l+=h-b,!1}),i.size>0){const u=[...i].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+u)}return{insertedBlocks:s.map(u=>Bn(u,r)),removedBlocks:o}}function nY(e){const t=Array.from(e.classList).filter(n=>!n.startsWith("bn-"))||[];t.length>0?e.className=t.join(" "):e.removeAttribute("class")}function rY(e,t,n,r){var s;let i;if(t)if(typeof t=="string")i=ko([t],e.pmSchema);else if(Array.isArray(t))i=ko(t,e.pmSchema);else if(t.type==="tableContent")i=fw(t,e.pmSchema);else throw new pa(t.type);else throw new Error("blockContent is required");const o=(r?.document??document).createDocumentFragment();for(const a of i)if(a.type.name!=="text"&&e.schema.inlineContentSchema[a.type.name]){const l=e.schema.inlineContentSpecs[a.type.name].implementation;if(l){const u=QA(a,e.schema.inlineContentSchema,e.schema.styleSchema),f=l.toExternalHTML?l.toExternalHTML(u,e):l.render.call({renderType:"dom",props:void 0},u,()=>{},e);if(f){if(o.appendChild(f.dom),f.contentDOM){const h=n.serializeFragment(a.content,r);f.contentDOM.dataset.editable="",f.contentDOM.appendChild(h)}continue}}}else if(a.type.name==="text"){let l=document.createTextNode(a.textContent);for(const u of a.marks.toReversed())if(u.type.name in e.schema.styleSpecs){const f=(e.schema.styleSpecs[u.type.name].implementation.toExternalHTML??e.schema.styleSpecs[u.type.name].implementation.render)(u.attrs.stringValue,e);f.contentDOM.appendChild(l),l=f.dom}else{const f=u.type.spec.toDOM(u,!0),h=mi.renderSpec(document,f);h.contentDOM.appendChild(l),l=h.dom}o.appendChild(l)}else{const l=n.serializeFragment(ve.from([a]),r);o.appendChild(l)}return o.childNodes.length===1&&((s=o.firstChild)==null?void 0:s.nodeType)===1&&nY(o.firstChild),o}function ZRe(e,t,n,r,s,i,o){var a,l,u,f,h,g,b,v,x;const w=o?.document??document,S=t.pmSchema.nodes.blockContainer,_=n.props||{};for(const[U,P]of Object.entries(t.schema.blockSchema[n.type].propSchema))!(U in _)&&P.default!==void 0&&(_[U]=P.default);const N=(l=(a=S.spec)==null?void 0:a.toDOM)==null?void 0:l.call(a,S.create({id:n.id,..._})),M=Array.from(N.dom.attributes),O=t.blockImplementations[n.type].implementation,R=((u=O.toExternalHTML)==null?void 0:u.call({},{...n,props:_},t))||O.render.call({},{...n,props:_},t),I=w.createDocumentFragment();if(R.dom.classList.contains("bn-block-content")){const U=[...M,...Array.from(R.dom.attributes)].filter(P=>P.name.startsWith("data")&&P.name!=="data-content-type"&&P.name!=="data-file-block"&&P.name!=="data-node-view-wrapper"&&P.name!=="data-node-type"&&P.name!=="data-id"&&P.name!=="data-editable");for(const P of U)R.dom.firstChild.setAttribute(P.name,P.value);nY(R.dom.firstChild),I.append(...Array.from(R.dom.childNodes))}else I.append(R.dom);if(R.contentDOM&&n.content){const U=rY(t,n.content,r,o);R.contentDOM.appendChild(U)}let j;if(s.has(n.type)?j="OL":i.has(n.type)&&(j="UL"),j){if(((f=e.lastChild)==null?void 0:f.nodeName)!==j){const U=w.createElement(j);j==="OL"&&"start"in _&&_.start&&_?.start!==1&&U.setAttribute("start",_.start+""),e.append(U)}e.lastChild.appendChild(I)}else e.append(I);if(n.children&&n.children.length>0){const U=w.createDocumentFragment();if(sY(U,t,n.children,r,s,i,o),((h=e.lastChild)==null?void 0:h.nodeName)==="UL"||((g=e.lastChild)==null?void 0:g.nodeName)==="OL")for(;((b=U.firstChild)==null?void 0:b.nodeName)==="UL"||((v=U.firstChild)==null?void 0:v.nodeName)==="OL";)e.lastChild.lastChild.appendChild(U.firstChild);t.pmSchema.nodes[n.type].isInGroup("blockContent")?e.append(U):(x=R.contentDOM)==null||x.append(U)}}const sY=(e,t,n,r,s,i,o)=>{for(const a of n)ZRe(e,t,a,r,s,i,o)},JRe=(e,t,n,r,s,i)=>{const o=(i?.document??document).createDocumentFragment();return sY(o,e,t,n,r,s,i),o},Pw=(e,t)=>{const n=mi.fromSchema(e);return{exportBlocks:(r,s)=>{const i=JRe(t,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),s),o=document.createElement("div");return o.append(i),o.innerHTML},exportInlineContent:(r,s)=>{const i=rY(t,r,n,s),o=document.createElement("div");return o.append(i.cloneNode(!0)),o.innerHTML}}};function eIe(e,t,n,r,s){let i;if(t)if(typeof t=="string")i=ko([t],e.pmSchema,r);else if(Array.isArray(t))i=ko(t,e.pmSchema,r);else if(t.type==="tableContent")i=fw(t,e.pmSchema);else throw new pa(t.type);else throw new Error("blockContent is required");const o=(s?.document??document).createDocumentFragment();for(const a of i)if(a.type.name!=="text"&&e.schema.inlineContentSchema[a.type.name]){const l=e.schema.inlineContentSpecs[a.type.name].implementation;if(l){const u=QA(a,e.schema.inlineContentSchema,e.schema.styleSchema),f=l.render.call({renderType:"dom",props:void 0},u,()=>{},e);if(f){if(o.appendChild(f.dom),f.contentDOM){const h=n.serializeFragment(a.content,s);f.contentDOM.dataset.editable="",f.contentDOM.appendChild(h)}continue}}}else if(a.type.name==="text"){let l=document.createTextNode(a.textContent);for(const u of a.marks.toReversed())if(u.type.name in e.schema.styleSpecs){const f=e.schema.styleSpecs[u.type.name].implementation.render(u.attrs.stringValue,e);f.contentDOM.appendChild(l),l=f.dom}else{const f=u.type.spec.toDOM(u,!0),h=mi.renderSpec(document,f);h.contentDOM.appendChild(l),l=h.dom}o.appendChild(l)}else{const l=n.serializeFragment(ve.from([a]),s);o.appendChild(l)}return o}function tIe(e,t,n,r){var s,i,o,a,l;const u=e.pmSchema.nodes.blockContainer,f=t.props||{};for(const[b,v]of Object.entries(e.schema.blockSchema[t.type].propSchema))!(b in f)&&v.default!==void 0&&(f[b]=v.default);const h=e.blockImplementations[t.type].implementation.render.call({renderType:"dom",props:void 0},{...t,props:f},e);if(h.contentDOM&&t.content){const b=eIe(e,t.content,n,t.type,r);h.contentDOM.appendChild(b)}if(e.pmSchema.nodes[t.type].isInGroup("bnBlock")){if(t.children&&t.children.length>0){const b=iY(e,t.children,n,r);(s=h.contentDOM)==null||s.append(b)}return h.dom}const g=(o=(i=u.spec)==null?void 0:i.toDOM)==null?void 0:o.call(i,u.create({id:t.id,...f}));return(a=g.contentDOM)==null||a.appendChild(h.dom),t.children&&t.children.length>0&&((l=g.contentDOM)==null||l.appendChild(oY(e,t.children,n,r))),g.dom}function iY(e,t,n,r){const s=(r?.document??document).createDocumentFragment();for(const i of t){const o=tIe(e,i,n,r);s.appendChild(o)}return s}const oY=(e,t,n,r)=>{var s;const i=e.pmSchema.nodes.blockGroup,o=i.spec.toDOM(i.create({})),a=iY(e,t,n,r);return(s=o.contentDOM)==null||s.appendChild(a),o.dom},nIe=(e,t)=>{const n=mi.fromSchema(e);return{serializeBlocks:(r,s)=>oY(t,r,n,s).outerHTML}};function rIe(e,t){if(t===0)return;const n=e.resolve(t);for(let r=n.depth;r>0;r--){const s=n.node(r);if(ZA(s))return s.attrs.id}}function sIe(e){return e.getMeta("paste")?{type:"paste"}:e.getMeta("uiEvent")==="drop"?{type:"drop"}:e.getMeta("history$")?{type:e.getMeta("history$").redo?"redo":"undo"}:e.getMeta("y-sync$")?e.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function TP(e){const t="__root__",n={},r={},s=br(e);return e.descendants((i,o)=>{if(!ZA(i))return!0;const a=rIe(e,o),l=a??t;r[l]||(r[l]=[]);const u=Bn(i,s);return n[i.attrs.id]={block:u,parentId:a},r[l].push(i.attrs.id),!0}),{byId:n,childrenByParent:r}}function iIe(e,t){const n=new Set;if(!e||!t)return n;const r=new Set(e),s=t.filter(x=>r.has(x)),i=e.filter(x=>s.includes(x));if(i.length<=1||s.length<=1)return n;const o={};for(let x=0;x<i.length;x++)o[i[x]]=x;const a=s.map(x=>o[x]),l=a.length,u=[],f=[],h=new Array(l).fill(-1),g=(x,w)=>{let S=0,_=x.length;for(;S<_;){const N=S+_>>>1;x[N]<w?S=N+1:_=N}return S};for(let x=0;x<l;x++){const w=a[x],S=g(u,w);S>0&&(h[x]=f[S-1]),S===u.length?(u.push(w),f.push(x)):(u[S]=w,f[S]=x)}const b=new Set;let v=f[f.length-1]??-1;for(;v!==-1;)b.add(v),v=h[v];for(let x=0;x<s.length;x++)b.has(x)||n.add(s[x]);return n}function aY(e,t=[]){const n=sIe(e),r=iw(e.before,[e,...t]),s=TP(r.before),i=TP(r.doc),o=[],a=new Set;Object.keys(i.byId).filter(b=>!(b in s.byId)).forEach(b=>{o.push({type:"insert",block:i.byId[b].block,source:n,prevBlock:void 0}),a.add(b)}),Object.keys(s.byId).filter(b=>!(b in i.byId)).forEach(b=>{o.push({type:"delete",block:s.byId[b].block,source:n,prevBlock:void 0}),a.add(b)}),Object.keys(i.byId).filter(b=>b in s.byId).forEach(b=>{var v,x;const w=s.byId[b],S=i.byId[b];w.parentId!==S.parentId?(o.push({type:"move",block:S.block,prevBlock:w.block,source:n,prevParent:w.parentId?(v=s.byId[w.parentId])==null?void 0:v.block:void 0,currentParent:S.parentId?(x=i.byId[S.parentId])==null?void 0:x.block:void 0}),a.add(b)):ave({...w.block,children:void 0},{...S.block,children:void 0})||(o.push({type:"update",block:S.block,prevBlock:w.block,source:n}),a.add(b))});const l=s.childrenByParent,u=i.childrenByParent,f="__root__",h=new Set([...Object.keys(l),...Object.keys(u)]),g=new Set;return h.forEach(b=>{const v=iIe(l[b],u[b]);v.size!==0&&v.forEach(x=>{var w,S;const _=s.byId[x],N=i.byId[x];!_||!N||_.parentId!==N.parentId||a.has(x)||(_.parentId??f)!==b||g.has(x)||(g.add(x),o.push({type:"move",block:N.block,prevBlock:_.block,source:n,prevParent:_.parentId?(w=s.byId[_.parentId])==null?void 0:w.block:void 0,currentParent:N.parentId?(S=i.byId[N.parentId])==null?void 0:S.block:void 0}),a.add(x))})}),o}function oIe(e){return e.transact(t=>{const n=Ic(t.doc,t.selection.anchor);if(t.selection instanceof fn)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:t.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:t.selection.$headCell.pos-n.posBeforeNode};if(t.selection instanceof Ze)return{type:"node",anchorBlockId:n.node.attrs.id};{const r=Ic(t.doc,t.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:r.node.attrs.id,anchorOffset:t.selection.anchor-n.posBeforeNode,headOffset:t.selection.head-r.posBeforeNode}}})}function aIe(e,t){var n,r;const s=(n=bi(t.anchorBlockId,e.doc))==null?void 0:n.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${t.anchorBlockId} to update selection`);let i;if(t.type==="cell")i=fn.create(e.doc,s+t.anchorCellOffset,s+t.headCellOffset);else if(t.type==="node")i=Ze.create(e.doc,s+1);else{const o=(r=bi(t.headBlockId,e.doc))==null?void 0:r.posBeforeNode;if(o===void 0)throw new Error(`Could not find block with ID ${t.headBlockId} to update selection`);i=$e.create(e.doc,s+t.anchorOffset,o+t.headOffset)}e.setSelection(i)}function O_(e){return e.map(t=>t.type==="columnList"?t.children.map(n=>O_(n.children)).flat():{...t,children:O_(t.children)}).flat()}function lY(e,t,n){e.transact(r=>{var s;const i=((s=e.getSelection())==null?void 0:s.blocks)||[e.getTextCursorPosition().block],o=oIe(e);e.removeBlocks(i),e.insertBlocks(O_(i),t,n),aIe(r,o)})}function cY(e){return!e||e.type!=="columnList"}function uY(e,t,n){let r,s;if(t?t.children.length>0?(r=t.children[t.children.length-1],s="after"):(r=t,s="before"):n&&(r=n,s="before"),!r||!s)return;const i=e.getParentBlock(r);return cY(i)?{referenceBlock:r,placement:s}:uY(e,s==="after"?r:e.getPrevBlock(r),i)}function dY(e,t,n){let r,s;if(t?t.children.length>0?(r=t.children[0],s="before"):(r=t,s="after"):n&&(r=n,s="after"),!r||!s)return;const i=e.getParentBlock(r);return cY(i)?{referenceBlock:r,placement:s}:dY(e,s==="before"?r:e.getNextBlock(r),i)}function lIe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[0]||e.getTextCursorPosition().block,r=uY(e,e.getPrevBlock(n),e.getParentBlock(n));r&&lY(e,r.referenceBlock,r.placement)})}function cIe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[t?.blocks.length-1]||e.getTextCursorPosition().block,r=dY(e,e.getNextBlock(n),e.getParentBlock(n));r&&lY(e,r.referenceBlock,r.placement)})}function uIe(e,t,n){const{$from:r,$to:s}=e.selection,i=r.blockRange(s,b=>b.childCount>0&&(b.type.name==="blockGroup"||b.type.name==="column"));if(!i)return!1;const o=i.startIndex;if(o===0)return!1;const a=i.parent.child(o-1);if(a.type!==t)return!1;const l=a.lastChild&&a.lastChild.type===n,u=ve.from(l?t.create():null),f=new Le(ve.from(t.create(null,ve.from(n.create(null,u)))),l?3:1,0),h=i.start,g=i.end;return e.step(new Kn(h-(l?3:1),g,h,g,f,1,!0)).scrollIntoView(),!0}function fY(e){return e.transact(t=>uIe(t,e.pmSchema.nodes.blockContainer,e.pmSchema.nodes.blockGroup))}function dIe(e){e._tiptapEditor.commands.liftListItem("blockContainer")}function fIe(e){return e.transact(t=>{const{bnBlock:n}=b0(t);return t.doc.resolve(n.beforePos).nodeBefore!==null})}function hIe(e){return e.transact(t=>{const{bnBlock:n}=b0(t);return t.doc.resolve(n.beforePos).depth>1})}function pIe(e,t){const n=typeof t=="string"?t:t.id,r=br(e),s=bi(n,e);if(s)return Bn(s.node,r)}function mIe(e,t){const n=typeof t=="string"?t:t.id,r=bi(n,e),s=br(e);if(!r)return;const i=e.resolve(r.posBeforeNode).nodeBefore;if(i)return Bn(i,s)}function gIe(e,t){const n=typeof t=="string"?t:t.id,r=bi(n,e),s=br(e);if(!r)return;const i=e.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(i)return Bn(i,s)}function bIe(e,t){const n=typeof t=="string"?t:t.id,r=br(e),s=bi(n,e);if(!s)return;const i=e.resolve(s.posBeforeNode),o=i.node(),a=i.node(-1),l=a.type.name!=="doc"?o.type.name==="blockGroup"?a:o:void 0;if(l)return Bn(l,r)}function yIe(e,t,n,r={updateSelection:!0}){let{from:s,to:i}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},o=!0,a=!0,l="";if(n.forEach(u=>{u.check(),o&&u.isText&&u.marks.length===0?l+=u.text:o=!1,a=a?u.isBlock:!1}),s===i&&a){const{parent:u}=e.doc.resolve(s);u.isTextblock&&!u.type.spec.code&&!u.childCount&&(s-=1,i+=1)}return o?e.insertText(l,s,i):e.replaceWith(s,i,n),r.updateSelection&&Rz(e,e.steps.length-1,-1),!0}function vIe(e){const t=br(e);if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(Ic(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(Ic(e.doc,e.selection.to).posBeforeNode),s=(u,f)=>{const h=n.posAtIndex(u,f),g=e.doc.resolve(h).nodeAfter;if(!g)throw new Error(`Error getting selection - node not found at position ${h}`);return Bn(g,t)},i=[],o=n.sharedDepth(r.pos),a=n.index(o),l=r.index(o);if(n.depth>o){i.push(Bn(n.nodeAfter,t));for(let u=n.depth;u>o;u--)if(n.node(u).type.isInGroup("childContainer")){const f=n.index(u)+1,h=n.node(u).childCount;for(let g=f;g<h;g++)i.push(s(g,u))}}else i.push(s(a,o));for(let u=a+1;u<=l;u++)i.push(s(u,o));if(i.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:i}}function xIe(e,t,n){const r=typeof t=="string"?t:t.id,s=typeof n=="string"?n:n.id,i=br(e),o=y0(i);if(r===s)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const a=bi(r,e.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const l=bi(s,e.doc);if(!l)throw new Error(`Block with ID ${s} not found`);const u=Dc(a),f=Dc(l),h=o.blockSchema[u.blockNoteType],g=o.blockSchema[f.blockNoteType];if(!u.isBlockContainer||h.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!f.isBlockContainer||g.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${s})`);let b,v;if(h.content==="table"){const x=Cn.get(u.blockContent.node);b=u.blockContent.beforePos+x.positionAt(0,0,u.blockContent.node)+1+2}else b=u.blockContent.beforePos+1;if(g.content==="table"){const x=Cn.get(f.blockContent.node),w=f.blockContent.beforePos+x.positionAt(x.height-1,x.width-1,f.blockContent.node)+1,S=e.doc.resolve(w).nodeAfter.nodeSize;v=w+S-2}else v=f.blockContent.afterPos-1;e.setSelection($e.create(e.doc,b,v))}function wIe(e){const t=br(e);let n=e.selection.$from,r=e.selection.$to;for(;r.parentOffset>=r.parent.nodeSize-2&&r.depth>0;)r=e.doc.resolve(r.pos+1);for(;r.parentOffset===0&&r.depth>0;)r=e.doc.resolve(r.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=e.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=e.doc.resolve(n.pos+1);const s=I1e(e.doc.slice(n.pos,r.pos,!0),t);return{_meta:{startPos:n.pos,endPos:r.pos},...s}}function EIe(e){const{bnBlock:t}=b0(e),n=br(e.doc),r=e.doc.resolve(t.beforePos),s=r.nodeBefore,i=e.doc.resolve(t.afterPos).nodeAfter;let o;return r.depth>1&&(o=r.node(),o.type.isInGroup("bnBlock")||(o=r.node(r.depth-1))),{block:Bn(t.node,n),prevBlock:s===null?void 0:Bn(s,n),nextBlock:i===null?void 0:Bn(i,n),parentBlock:o===void 0?void 0:Bn(o,n)}}function hY(e,t,n="start"){const r=typeof t=="string"?t:t.id,s=br(e.doc),i=y0(s),o=bi(r,e.doc);if(!o)throw new Error(`Block with ID ${r} not found`);const a=Dc(o),l=i.blockSchema[a.blockNoteType].content;if(a.isBlockContainer){const u=a.blockContent;if(l==="none"){e.setSelection(Ze.create(e.doc,u.beforePos));return}if(l==="inline")n==="start"?e.setSelection($e.create(e.doc,u.beforePos+1)):e.setSelection($e.create(e.doc,u.afterPos-1));else if(l==="table")n==="start"?e.setSelection($e.create(e.doc,u.beforePos+4)):e.setSelection($e.create(e.doc,u.afterPos-4));else throw new pa(l)}else{const u=n==="start"?a.childContainer.node.firstChild:a.childContainer.node.lastChild;hY(e,u.attrs.id,n)}}function CIe(){const e=t=>{let n=t.children.length;for(let r=0;r<n;r++){const s=t.children[r];if(s.type==="element"&&(e(s),s.tagName==="u"))if(s.children.length>0){t.children.splice(r,1,...s.children);const i=s.children.length-1;n+=i,r+=i}else t.children.splice(r,1),n--,r--}};return e}function SIe(){const e=t=>{var n;if(t.children&&"length"in t.children&&t.children.length)for(let r=t.children.length-1;r>=0;r--){const s=t.children[r],i=r+1<t.children.length?t.children[r+1]:void 0;s.type==="element"&&s.tagName==="input"&&((n=s.properties)==null?void 0:n.type)==="checkbox"&&i?.type==="element"&&i.tagName==="p"?(i.tagName="span",i.children.splice(0,0,q3e(document.createTextNode(" ")))):e(s)}};return e}function lM(e){return RG().use(uTe,{fragment:!0}).use(CIe).use(SIe).use(Fke).use(OG).use(L3e,{handlers:{text:t=>t.value}}).processSync(e).value}function TIe(e,t,n,r){const s=Pw(t,n).exportBlocks(e,r);return lM(s)}function kIe(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function _Ie(e){return e.nodeType===3&&!/\S/.test(e.nodeValue||"")}function NIe(e){e.querySelectorAll("li > ul, li > ol").forEach(t=>{const n=kIe(t),r=t.parentElement,s=Array.from(r.childNodes).slice(n+1);t.remove(),s.forEach(i=>{i.remove()}),r.insertAdjacentElement("afterend",t),s.reverse().forEach(i=>{if(_Ie(i))return;const o=document.createElement("li");o.append(i),t.insertAdjacentElement("afterend",o)}),r.childNodes.length===0&&r.remove()})}function AIe(e){e.querySelectorAll("li + ul, li + ol").forEach(t=>{var n,r;const s=t.previousElementSibling,i=document.createElement("div");s.insertAdjacentElement("afterend",i),i.append(s);const o=document.createElement("div");for(o.setAttribute("data-node-type","blockGroup"),i.append(o);((n=i.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=i.nextElementSibling)==null?void 0:r.nodeName)==="OL";)o.append(i.nextElementSibling)})}let kP=null;function MIe(){return kP||(kP=document.implementation.createHTMLDocument("title"))}function OIe(e){if(typeof e=="string"){const t=MIe().createElement("div");t.innerHTML=e,e=t}return NIe(e),AIe(e),e}function pY(e,t){const n=OIe(e),r=yo.fromSchema(t).parse(n,{topNode:t.nodes.blockGroup.create()}),s=[];for(let i=0;i<r.childCount;i++)s.push(Bn(r.child(i),t));return s}function RIe(e,t){const n=t.value?t.value:"",r={};t.lang&&(r["data-language"]=t.lang);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function mY(e){return RG().use(_Me).use(OG).use(lOe,{handlers:{...UG,code:RIe}}).use(fRe).processSync(e).value}function IIe(e,t){const n=mY(e);return pY(n,t)}const cM=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function DIe(e,t){if(!e.startsWith(".")||!t.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return e===t}function LIe(e,t){const n=e.split("/"),r=t.split("/");if(n.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function _P(e,t,n,r="after"){let s;return Array.isArray(t.content)&&t.content.length===0?s=e.updateBlock(t,n).id:s=e.insertBlocks([n],t,r)[0].id,s}async function gY(e,t){var n;if(!t.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in e?e.dataTransfer:e.clipboardData;if(r===null)return;let s=null;for(const o of cM)if(r.types.includes(o)){s=o;break}if(s!=="Files")return;const i=r.items;if(i){e.preventDefault();for(let o=0;o<i.length;o++){let a="file";for(const u of Object.values(t.schema.blockSpecs))for(const f of((n=u.implementation.meta)==null?void 0:n.fileBlockAccept)||[]){const h=f.startsWith("."),g=i[o].getAsFile();if(g&&(!h&&g.type&&LIe(i[o].type,f)||h&&DIe("."+g.name.split(".").pop(),f))){a=u.config.type;break}}const l=i[o].getAsFile();if(l){const u={type:a,props:{name:l.name}};let f;if(e.type==="paste"){const b=t.getTextCursorPosition().block;f=_P(t,b,u)}else if(e.type==="drop"){const b={left:e.clientX,top:e.clientY},v=t.prosemirrorView.posAtCoords(b);if(!v)return;f=t.transact(x=>{const w=Ic(x.doc,v.pos),S=t.prosemirrorView.dom.querySelector(`[data-id="${w.node.attrs.id}"]`),_=S?.getBoundingClientRect();return _P(t,t.getBlock(w.node.attrs.id),u,_&&(_.top+_.bottom)/2>b.top?"before":"after")})}else return;const h=await t.uploadFile(l,f),g=typeof h=="string"?{props:{url:h}}:{...h};t.updateBlock(f,g)}}}}const jIe=e=>nn.create({name:"dropFile",addProseMirrorPlugins(){return[new ht({props:{handleDOMEvents:{drop(t,n){if(!e.isEditable)return;let r=null;for(const s of cM)if(n.dataTransfer.types.includes(s)){r=s;break}return r===null?!0:r==="Files"?(gY(n,e),!0):!1}}}})]}}),PIe=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,BIe=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,HIe=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,FIe=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,UIe=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,zIe=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,$Ie=/\n{2} {0,3}-{2,48}\n{2}/,VIe=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,qIe=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,GIe=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,YIe=/^\s*\|(.+\|)+\s*$/m,WIe=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,KIe=/^\s*\|(.+\|)+\s*$/m,QIe=e=>PIe.test(e)||BIe.test(e)||HIe.test(e)||FIe.test(e)||UIe.test(e)||zIe.test(e)||$Ie.test(e)||VIe.test(e)||qIe.test(e)||GIe.test(e)||YIe.test(e)||WIe.test(e)||KIe.test(e);async function XIe(e,t){const{schema:n}=t.state;if(!e.clipboardData)return!1;const r=e.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return t.pasteText(r),!0;const s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=i?.mode;return o?(t.pasteHTML(`<pre><code class="language-${o}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function ZIe({event:e,editor:t,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:r}){var s;if(t.transact(a=>a.selection.$from.parent.type.spec.code&&a.selection.$to.parent.type.spec.code)){const a=(s=e.clipboardData)==null?void 0:s.getData("text/plain");if(a)return t.pasteText(a),!0}let i;for(const a of cM)if(e.clipboardData.types.includes(a)){i=a;break}if(!i)return!0;if(i==="vscode-editor-data")return XIe(e,t.prosemirrorView),!0;if(i==="Files")return gY(e,t),!0;const o=e.clipboardData.getData(i);if(i==="blocknote/html")return t.pasteHTML(o,!0),!0;if(i==="text/markdown")return t.pasteMarkdown(o),!0;if(n){const a=e.clipboardData.getData("text/plain");if(QIe(a))return t.pasteMarkdown(a),!0}return i==="text/html"?(t.pasteHTML(o),!0):r?(t.pasteMarkdown(o),!0):(t.pasteText(o),!0)}const JIe=(e,t)=>nn.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new ht({props:{handleDOMEvents:{paste(n,r){if(r.preventDefault(),!!e.isEditable)return t({event:r,editor:e,defaultPasteHandler:({prioritizeMarkdownOverHTML:s=!0,plainTextAsMarkdown:i=!0}={})=>ZIe({event:r,editor:e,prioritizeMarkdownOverHTML:s,plainTextAsMarkdown:i})})}}}})]}});function bY(e){const t=[];return e.descendants(n=>{var r,s;const i=br(n);return n.type.name==="blockContainer"&&((r=n.firstChild)==null?void 0:r.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((s=n.firstChild)==null||s.forEach(o=>{t.push(Bn(o,i))}),!1):n.type.isInGroup("bnBlock")?(t.push(Bn(n,i)),!1):!0}),t}function e4e(e,t,n){var r;let s=!1;const i=e.state.selection instanceof fn;if(!i){const l=e.state.doc.slice(e.state.selection.from,e.state.selection.to,!1).content,u=[];for(let f=0;f<l.childCount;f++)u.push(l.child(f));s=u.find(f=>f.type.isInGroup("bnBlock")||f.type.name==="blockGroup"||f.type.spec.group==="blockContent")===void 0,s&&(t=l)}let o;const a=Pw(e.state.schema,n);if(i){((r=t.firstChild)==null?void 0:r.type.name)==="table"&&(t=t.firstChild.content);const l=e$(t,n.schema.inlineContentSchema,n.schema.styleSchema);o=`<table>${a.exportInlineContent(l,{})}</table>`}else if(s){const l=dw(t,n.schema.inlineContentSchema,n.schema.styleSchema);o=a.exportInlineContent(l,{})}else{const l=bY(t);o=a.exportBlocks(l,{})}return o}function yY(e,t){"node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent"&&t.transact(o=>o.setSelection(new Ze(o.doc.resolve(e.state.selection.from-1))));const n=e.serializeForClipboard(e.state.selection.content()).dom.innerHTML,r=e.state.selection.content().content,s=e4e(e,r,t),i=lM(s);return{clipboardHTML:n,externalHTML:s,markdown:i}}const NP=()=>{const e=window.getSelection();if(!e||e.isCollapsed)return!0;let t=e.focusNode;for(;t;){if(t instanceof HTMLElement&&t.getAttribute("contenteditable")==="false")return!0;t=t.parentElement}return!1},AP=(e,t,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:s,markdown:i}=yY(t,e);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",s),n.clipboardData.setData("text/plain",i)},t4e=e=>nn.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new ht({props:{handleDOMEvents:{copy(t,n){return NP()||AP(e,t,n),!0},cut(t,n){return NP()||(AP(e,t,n),t.editable&&t.dispatch(t.state.tr.deleteSelection())),!0},dragstart(t,n){if(!("node"in t.state.selection)||t.state.selection.node.type.spec.group!=="blockContent")return;e.transact(o=>o.setSelection(new Ze(o.doc.resolve(t.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:s,markdown:i}=yY(t,e);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",s),n.dataTransfer.setData("text/plain",i),!0}}}})]}}),n4e=nn.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{backgroundColor:J1e()}}]}});class r4e extends ur{constructor(){super(),ce(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new ht({key:new St("blockChange"),filterTransaction:t=>{let n;return this.beforeChangeCallbacks.reduce((r,s)=>r===!1?r:s({getChanges(){return n||(n=aY(t),n)},tr:t})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(t){return this.beforeChangeCallbacks.push(t),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==t)}}}const my=class vY extends ur{constructor(t){super(),ce(this,"provider"),ce(this,"recentlyUpdatedCursors"),ce(this,"renderCursor",(n,r)=>{let s=this.recentlyUpdatedCursors.get(r);if(!s){const i=(this.collaboration.renderCursor??vY.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(i.addEventListener("mouseenter",()=>{const o=this.recentlyUpdatedCursors.get(r);o.element.setAttribute("data-active",""),o.hideTimeout&&(clearTimeout(o.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:o.element,hideTimeout:void 0}))}),i.addEventListener("mouseleave",()=>{const o=this.recentlyUpdatedCursors.get(r);this.recentlyUpdatedCursors.set(r,{element:o.element,hideTimeout:setTimeout(()=>{o.element.removeAttribute("data-active")},2e3)})})),s={element:i,hideTimeout:void 0},this.recentlyUpdatedCursors.set(r,s)}return s.element}),ce(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=t,this.provider=t.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",t.user),t.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const r of n){const s=this.recentlyUpdatedCursors.get(r);s&&(s.element.setAttribute("data-active",""),s.hideTimeout&&clearTimeout(s.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:s.element,hideTimeout:setTimeout(()=>{s.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(PEe(this.provider.awareness,{selectionBuilder:RV,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(t){const n=t.charAt(0)==="#"?t.substring(1,7):t,r=parseInt(n.substring(0,2),16),s=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16),o=[r/255,s/255,i/255].map(a=>a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4));return .2126*o[0]+.7152*o[1]+.0722*o[2]<=.179}};ce(my,"defaultCursorRender",e=>{const t=document.createElement("span");t.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${e.color}; color: ${my.isDarkColor(e.color)?"white":"black"}`);const r=document.createElement("span");return r.classList.add("bn-collaboration-cursor__label"),r.setAttribute("style",`background-color: ${e.color}; color: ${my.isDarkColor(e.color)?"white":"black"}`),r.insertBefore(document.createTextNode(e.name),null),n.insertBefore(r,null),t.insertBefore(document.createTextNode("⁠"),null),t.insertBefore(n,null),t.insertBefore(document.createTextNode("⁠"),null),t});let xY=my;class R_ extends ur{static key(){return"ySyncPlugin"}constructor(t){super(),this.addProsemirrorPlugin(wEe(t))}get priority(){return 1001}}let I_=class extends ur{static key(){return"yUndoPlugin"}constructor({editor:t}){super(),this.addProsemirrorPlugin(VEe({trackedOrigins:[t]}))}get priority(){return 1e3}};class s4e extends ur{constructor({editor:t,collaboration:n}){super(t),ce(this,"editor"),ce(this,"collaboration"),ce(this,"forkedState"),this.editor=t,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(t,n){const r=t.doc;if(t._item===null){const s=Array.from(r.share.keys()).find(i=>r.share.get(i)===t);if(s==null)throw new Error("type does not exist in other ydoc");return n.get(s,t.constructor)}else{const s=t._item,i=n.store.clients.get(s.id.client)??[],o=Zi(i,s.id.clock);return i[o].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){var t;if(this.isForkedFromRemote)return;const n=(t=this.collaboration)==null?void 0:t.fragment;if(!n)throw new Error("No fragment to fork from");const r=new Kc;M5(r,O5(n.doc));const s=this.findTypeInOtherYdoc(n,r);this.forkedState={undoStack:Vi.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:n,forkedFragment:s},this.editor._tiptapEditor.unregisterPlugin([Cm,Vi,tn]),this.editor._tiptapEditor.registerPlugin(new R_(s).plugins[0]),this.editor._tiptapEditor.registerPlugin(new I_({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:t}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(tn),this.editor._tiptapEditor.unregisterPlugin(Vi);const{originalFragment:n,forkedFragment:r,undoStack:s}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new R_(n),this.editor.extensions.yCursorPlugin=new xY(this.collaboration),this.editor.extensions.yUndoPlugin=new I_({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),Vi.getState(this.editor.prosemirrorState).undoManager.undoStack=s,t){const i=O5(r.doc,Zxe(n.doc));M5(n.doc,i,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}}const wY=(e,t)=>{t(e),e.forEach(n=>{n instanceof Fr&&wY(n,t)})},i4e=(e,t)=>{const n={};e.forEach(r=>{r instanceof Fr&&wY(r,s=>{if(s.nodeName==="blockContainer"&&s.hasAttribute("id")){const i={textColor:s.getAttribute("textColor"),backgroundColor:s.getAttribute("backgroundColor")};i.textColor===Wt.textColor.default&&(i.textColor=void 0),i.backgroundColor===Wt.backgroundColor.default&&(i.backgroundColor=void 0),(i.textColor||i.backgroundColor)&&(n[s.getAttribute("id")]=i)}})}),t.doc.descendants((r,s)=>{r.type.name==="blockContainer"&&n[r.attrs.id]&&(t=t.setNodeMarkup(s+1,void 0,n[r.attrs.id]))})},o4e=[i4e];let a4e=class EY extends ur{constructor(t){const n=new St(EY.key());super(),ce(this,"migrationDone",!1),this.addProsemirrorPlugin(new ht({key:n,appendTransaction:(r,s,i)=>{if(this.migrationDone||r.length!==1||!r[0].getMeta(tn))return;const o=i.tr;for(const a of o4e)a(t,o);return this.migrationDone=!0,o}}))}static key(){return"schemaMigrationPlugin"}};const CY=wi.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:e=>!!e.getAttribute("data-orphan"),renderHTML:e=>e.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:e=>e.getAttribute("data-bn-thread-id"),renderHTML:e=>({"data-bn-thread-id":e.threadId}),default:""}}},renderHTML({HTMLAttributes:e}){return["span",gi(e,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(e){return e.name==="comment"?{blocknoteIgnore:!0}:{}}});class l4e extends t3{constructor(t){super(),ce(this,"userCache",new Map),ce(this,"loadingUsers",new Set),this.resolveUsers=t}async loadUsers(t){const n=t.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const s of r)this.userCache.set(s.id,s);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(t){return this.userCache.get(t)}subscribe(t){return this.on("update",t)}}const B1=new St("blocknote-comments"),c4e="SET_SELECTED_THREAD_ID";function u4e(e,t){const n=new Map;return e.descendants((r,s)=>{r.marks.forEach(i=>{if(i.type.name===t){const o=i.attrs.threadId;if(!o)return;const a=s,l=a+r.nodeSize,u=n.get(o)??{from:1/0,to:0};n.set(o,{from:Math.min(a,u.from),to:Math.max(l,u.to)})}})}),n}class d4e extends ur{constructor(t,n,r,s){if(super(),ce(this,"userStore"),ce(this,"pendingComment",!1),ce(this,"selectedThreadId"),ce(this,"threadPositions",new Map),ce(this,"updateMarksFromThreads",o=>{this.editor.transact(a=>{a.doc.descendants((l,u)=>{l.marks.forEach(f=>{if(f.type.name===this.markType){const h=f.type,g=f.attrs.threadId,b=o.get(g),v=!!(!b||b.resolved||b.deletedAt);if(v!==f.attrs.orphan){const x=Math.max(u,0),w=Math.min(u+l.nodeSize,a.doc.content.size-1,a.doc.content.size-1);a.removeMark(x,w,f),a.addMark(x,w,h.create({...f.attrs,orphan:v})),v&&this.selectedThreadId===g&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=t,this.threadStore=n,this.markType=r,this.commentEditorSchema=s,!t.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new l4e(t.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),t.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),t.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const i=this;this.addProsemirrorPlugin(new ht({key:B1,state:{init(){return{decorations:bt.empty}},apply(o,a){const l=o.getMeta(B1);if(!o.docChanged&&!l)return a;const u=o.docChanged?u4e(o.doc,i.markType):i.threadPositions;(u.size>0||i.threadPositions.size>0)&&(i.threadPositions=u,i.emitStateUpdate());const f=[];if(i.selectedThreadId){const h=u.get(i.selectedThreadId);h&&f.push(Xt.inline(h.from,h.to,{class:"bn-thread-mark-selected"}))}return{decorations:bt.create(o.doc,f)}}},props:{decorations(o){var a;return((a=B1.getState(o))==null?void 0:a.decorations)??bt.empty},handleClick:(o,a,l)=>{if(l.button!==0)return;const u=o.state.doc.nodeAt(a);if(!u){i.selectThread(void 0);return}const f=u.marks.find(g=>g.type.name===r&&g.attrs.orphan!==!0),h=f?.attrs.threadId;i.selectThread(h,!1)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(t){return this.on("update",t)}selectThread(t,n=!0){var r,s;if(this.selectedThreadId!==t&&(this.selectedThreadId=t,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(B1,{name:c4e})),t&&n)){const i=this.threadPositions.get(t);if(!i)return;(s=(r=this.editor.prosemirrorView)==null?void 0:r.domAtPos(i.from).node)==null||s.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(t){const n=await this.threadStore.createThread(t);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,s=r.state.selection,i=tn.getState(r.state),o={prosemirror:{head:s.head,anchor:s.anchor},yjs:i?dv(i.binding,r.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:o})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class f4e{constructor(t,n,r,s){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"mouseDownHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),ce(this,"dragstartHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),ce(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const o=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!o)return;this.state.referencePos=o.getBoundingClientRect(),this.emitUpdate()}}),ce(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");s(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,s;const i=this.pluginKey.getState(t.state),o=this.pluginKey.getState(n);if(!((r=this.state)!=null&&r.show)&&i!=null&&i.block&&this.editor.isEditable){const u=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${i.block.id}"]`);if(!u)return;this.state={show:!0,referencePos:u.getBoundingClientRect(),block:i.block},this.emitUpdate();return}const a=i?.block&&!(o!=null&&o.block),l=!(i!=null&&i.block)&&o?.block;a&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),l&&(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const aT=new St("FilePanelPlugin");class h4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new ht({key:aT,view:n=>(this.view=new f4e(t,aT,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var s;return r.key==="Escape"&&this.shown?((s=this.view)==null||s.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,r)=>n.getMeta(aT)||(!n.getMeta(tn)&&(n.selectionSet||n.docChanged)?{block:void 0}:r)}}))}static key(){return"filePanel"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}}class p4e{constructor(t,n,r){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"preventHide",!1),ce(this,"preventShow",!1),ce(this,"shouldShow",({view:s,state:i,from:o,to:a})=>{const{doc:l,selection:u}=i,{empty:f}=u,h=!l.textBetween(o,a).length&&$A(i.selection);if(u.$from.parent.type.spec.code||Jy(u)&&u.node.type.spec.code||f||h)return!1;const g=document.activeElement;return!(!this.isElementWithinEditorWrapper(g)&&s.editable)}),ce(this,"blurHandler",s=>{var i;if(this.preventHide){this.preventHide=!1;return}const o=this.pmView.dom.parentElement;s&&s.relatedTarget&&(o===s.relatedTarget||o.contains(s.relatedTarget)||s.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),ce(this,"isElementWithinEditorWrapper",s=>{if(!s)return!1;const i=this.pmView.dom.parentElement;return i?i.contains(s):!1}),ce(this,"viewMousedownHandler",s=>{(!this.isElementWithinEditorWrapper(s.target)||s.button===0)&&(this.preventShow=!0)}),ce(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),ce(this,"dragHandler",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),ce(this,"scrollHandler",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),ce(this,"closeMenu",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,s,i;const{state:o,composing:a}=t,{doc:l,selection:u}=o,f=n&&n.doc.eq(l)&&n.selection.eq(u);if(a||f)return;const{ranges:h}=u,g=Math.min(...h.map(w=>w.$from.pos)),b=Math.max(...h.map(w=>w.$to.pos)),v=this.shouldShow({view:t,state:o,from:g,to:b}),x=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(v||this.preventHide)&&!x){const w=this.getSelectionBoundingBox();if(w.height===0&&w.width===0){queueMicrotask(()=>{const _={show:!0,referencePos:this.getSelectionBoundingBox()};this.state=_,this.emitUpdate(),t.dispatch(t.state.tr.setSelection($e.create(t.state.doc,t.state.selection.from+1,t.state.selection.to))),t.dispatch(t.state.tr.setSelection($e.create(t.state.doc,t.state.selection.from-1,t.state.selection.to)))});return}const S={show:!0,referencePos:this.getSelectionBoundingBox()};(S.show!==((r=this.state)==null?void 0:r.show)||S.referencePos.toJSON()!==((s=this.state)==null?void 0:s.referencePos.toJSON()))&&(this.state=S,this.emitUpdate());return}if((i=this.state)!=null&&i.show&&!this.preventHide&&(!v||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:t}=this.pmView,{selection:n}=t,{ranges:r}=n,s=Math.min(...r.map(o=>o.$from.pos)),i=Math.max(...r.map(o=>o.$to.pos));if(Jy(n)){const o=this.pmView.nodeDOM(s);if(o)return o.getBoundingClientRect()}return ev(this.pmView,s,i)}}const m4e=new St("FormattingToolbarPlugin");class g4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new ht({key:m4e,view:n=>(this.view=new p4e(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}}const b4e=Ji.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",gi(this.options.HTMLAttributes,e)]},renderText(){return`
`}}),MP=(e,t)=>{const n=e.resolve(t);if(n.depth<=1)return;const r=n.posAtIndex(n.index(n.depth-1),n.depth-1);return g0(e.resolve(r))},gy=(e,t)=>{const n=e.resolve(t),r=n.index();if(r===0)return;const s=n.posAtIndex(r-1);return g0(e.resolve(s))},SY=(e,t)=>{for(;t.childContainer;){const n=t.childContainer.node,r=e.resolve(t.childContainer.beforePos+1).posAtIndex(n.childCount-1);t=g0(e.resolve(r))}return t},y4e=(e,t)=>e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*"&&e.blockContent.node.childCount>0&&t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*",v4e=(e,t,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const s=e.doc.resolve(r.childContainer.beforePos+1),i=e.doc.resolve(r.childContainer.afterPos-1),o=s.blockRange(i);if(t){const a=e.doc.resolve(r.bnBlock.beforePos);e.tr.lift(o,a.depth)}}if(t){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);t(e.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},OP=e=>({state:t,dispatch:n})=>{const r=t.doc.resolve(e),s=g0(r),i=gy(t.doc,s.bnBlock.beforePos);if(!i)return!1;const o=SY(t.doc,i);return y4e(o,s)?v4e(t,n,o,s):!1},x4e=nn.create({priority:50,addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({chain:r,commands:s})=>[()=>s.deleteSelection(),()=>s.undoInputRule(),()=>s.command(({state:i})=>{const o=Li(i);if(!o.isBlockContainer)return!1;const a=i.selection.from===o.blockContent.beforePos+1,l=o.blockContent.node.type.name==="paragraph";return a&&!l?s.command(W1e(o.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>s.command(({state:i})=>{const o=Li(i);if(!o.isBlockContainer)return!1;const{blockContent:a}=o;return i.selection.from===a.beforePos+1?s.liftListItem("blockContainer"):!1}),()=>s.command(({state:i})=>{const o=Li(i);if(!o.isBlockContainer)return!1;const{bnBlock:a,blockContent:l}=o,u=i.selection.from===l.beforePos+1,f=i.selection.empty,h=a.beforePos;return u&&f?r().command(OP(h)).scrollIntoView().run():!1}),()=>s.command(({state:i,dispatch:o})=>{const a=Li(i);if(!a.isBlockContainer||i.selection.from!==a.blockContent.beforePos+1||gy(i.doc,a.bnBlock.beforePos))return!1;const l=MP(i.doc,a.bnBlock.beforePos);if(l?.blockNoteType!=="column")return!1;const u=l,f=MP(i.doc,u.bnBlock.beforePos);if(f?.blockNoteType!=="columnList")throw new Error("parent of column is not a column list");const h=u.childContainer.node.childCount===1,g=h&&f.childContainer.node.childCount===2,b=f.childContainer.node.firstChild===u.bnBlock.node;if(o){const v=i.doc.slice(a.bnBlock.beforePos,a.bnBlock.afterPos,!1);if(g)if(b){i.tr.step(new Kn(f.bnBlock.beforePos,f.bnBlock.afterPos,u.bnBlock.afterPos+1,f.bnBlock.afterPos-2,v,v.size,!1));const x=i.tr.doc.resolve(u.bnBlock.beforePos);i.tr.setSelection($e.between(x,x))}else{i.tr.step(new Kn(f.bnBlock.beforePos,f.bnBlock.afterPos,f.bnBlock.beforePos+2,u.bnBlock.beforePos-1,v,0,!1));const x=i.tr.doc.resolve(i.tr.mapping.map(u.bnBlock.beforePos-1));i.tr.setSelection($e.between(x,x))}else if(h)if(b){i.tr.delete(u.bnBlock.beforePos,u.bnBlock.afterPos),i.tr.insert(f.bnBlock.beforePos,v.content);const x=i.tr.doc.resolve(f.bnBlock.beforePos);i.tr.setSelection($e.between(x,x))}else i.tr.delete(u.bnBlock.beforePos-1,u.bnBlock.beforePos+1);else{i.tr.delete(a.bnBlock.beforePos,a.bnBlock.afterPos),b?i.tr.insert(f.bnBlock.beforePos-1,v.content):i.tr.insert(u.bnBlock.beforePos-1,v.content);const x=i.tr.doc.resolve(u.bnBlock.beforePos-1);i.tr.setSelection($e.between(x,x))}}return!0}),()=>s.command(({state:i})=>{const o=Li(i);if(!o.isBlockContainer)return!1;if(o.blockContent.node.childCount===0&&o.blockContent.node.type.spec.content==="inline*"){const a=gy(i.doc,o.bnBlock.beforePos);if(!a||!a.isBlockContainer)return!1;let l=r();if(a.blockContent.node.type.spec.content==="tableRow+"){const u=o.bnBlock.beforePos-1-1-1-1-1;l=l.setTextSelection(u)}else if(a.blockContent.node.type.spec.content===""){const u=a.blockContent.afterPos-a.blockContent.node.nodeSize;l=l.setNodeSelection(u)}else{const u=a.blockContent.afterPos-a.blockContent.node.nodeSize;l=l.setTextSelection(u)}return l.deleteRange({from:o.bnBlock.beforePos,to:o.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>s.command(({state:i})=>{const o=Li(i);if(!o.isBlockContainer)throw new Error("todo");const a=i.selection.from===o.blockContent.beforePos+1,l=i.selection.empty,u=gy(i.doc,o.bnBlock.beforePos);if(u&&a&&l){const f=SY(i.doc,u);if(!f.isBlockContainer)throw new Error("todo");if(f.blockContent.node.type.spec.content===""||f.blockContent.node.type.spec.content==="inline*"&&f.blockContent.node.childCount===0)return r().cut({from:o.bnBlock.beforePos,to:o.bnBlock.afterPos},f.bnBlock.afterPos).deleteRange({from:f.bnBlock.beforePos,to:f.bnBlock.afterPos}).run()}return!1})]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.command(({state:s})=>{const i=Li(s);if(!i.isBlockContainer)return!1;const{bnBlock:o,blockContent:a,childContainer:l}=i,{depth:u}=s.doc.resolve(o.beforePos),f=o.afterPos===s.doc.nodeSize-3,h=s.selection.from===a.afterPos-1,g=s.selection.empty;if(!f&&h&&g&&l===void 0){let b=u,v=o.afterPos+1,x=s.doc.resolve(v).depth;for(;x<b;)b=x,v+=2,x=s.doc.resolve(v).depth;return r.command(OP(v-1))}return!1})]),n=(r=!1)=>this.editor.commands.first(({commands:s,tr:i})=>[()=>s.command(({state:o})=>{const a=Li(o);if(!a.isBlockContainer)return!1;const{bnBlock:l,blockContent:u}=a,{depth:f}=o.doc.resolve(l.beforePos),h=o.selection.$anchor.parentOffset===0,g=o.selection.anchor===o.selection.head,b=u.node.childCount===0,v=f>1;return h&&g&&b&&v?s.liftListItem("blockContainer"):!1}),()=>s.command(({state:o})=>{var a;const l=Li(o),u=((a=this.options.editor.schema.blockSchema[l.blockNoteType].meta)==null?void 0:a.hardBreakShortcut)??"shift+enter";if(u==="none")return!1;if(u==="shift+enter"&&r||u==="enter"){const f=i.storedMarks||i.selection.$head.marks().filter(h=>this.editor.extensionManager.splittableMarks.includes(h.type.name));return i.insert(i.selection.head,i.doc.type.schema.nodes.hardBreak.create()).ensureMarks(f),!0}return!1}),()=>s.command(({state:o,dispatch:a})=>{const l=Li(o);if(!l.isBlockContainer)return!1;const{bnBlock:u,blockContent:f}=l,h=o.selection.$anchor.parentOffset===0,g=o.selection.anchor===o.selection.head,b=f.node.childCount===0;if(h&&g&&b){const v=u.afterPos,x=v+2;if(a){const w=o.schema.nodes.blockContainer.createAndFill();o.tr.insert(v,w).scrollIntoView(),o.tr.setSelection(new $e(o.doc.resolve(x)))}return!0}return!1}),()=>s.command(({state:o,chain:a})=>{const l=Li(o);if(!l.isBlockContainer)return!1;const{blockContent:u}=l,f=o.selection.$anchor.parentOffset===0;return u.node.childCount===0?!1:(a().deleteSelection().command(Tye(o.selection.from,f,f)).run(),!0)})]);return{Backspace:e,Delete:t,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var r,s,i;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(s=this.options.editor.linkToolbar)!=null&&s.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:fY(this.options.editor)},"Shift-Tab":()=>{var r,s,i;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(s=this.options.editor.linkToolbar)!=null&&s.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});class w4e{constructor(t,n,r){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"menuUpdateTimer"),ce(this,"startMenuUpdateTimer"),ce(this,"stopMenuUpdateTimer"),ce(this,"mouseHoveredLinkMark"),ce(this,"mouseHoveredLinkMarkRange"),ce(this,"keyboardHoveredLinkMark"),ce(this,"keyboardHoveredLinkMarkRange"),ce(this,"linkMark"),ce(this,"linkMarkRange"),ce(this,"mouseOverHandler",s=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),s.target instanceof HTMLAnchorElement&&s.target.nodeName==="A"){const i=s.target,o=this.pmView.posAtDOM(i,0)+1,a=this.pmView.state.doc.resolve(o),l=a.marks();for(const u of l)if(u.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=u,this.mouseHoveredLinkMarkRange=Tg(a,u.type,u.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),ce(this,"clickHandler",s=>{var i;const o=this.pmView.dom.parentElement;this.linkMark&&s&&s.target&&!(o===s.target||o.contains(s.target))&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),ce(this,"scrollHandler",()=>{var s;this.linkMark!==void 0&&(s=this.state)!=null&&s.show&&(this.state.referencePos=ev(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),ce(this,"closeMenu",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(t,n){var r;this.editor.transact(s=>{const i=br(s);s.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),s.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,i.mark("link",{href:t}))}),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var t;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())}update(t,n,r=!1){var s;const{state:i}=t;if(n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to||!this.pmView.hasFocus())return;const o=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const a=this.pmView.state.selection.$from.marks();for(const l of a)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=l,this.keyboardHoveredLinkMarkRange=Tg(this.pmView.state.selection.$from,l.type,l.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:ev(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((s=this.state)!=null&&s.show&&o&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const E4e=new St("LinkToolbarPlugin");class C4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),ce(this,"deleteLink",()=>{this.view.deleteLink()}),ce(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),ce(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),ce(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new ht({key:E4e,view:n=>(this.view=new w4e(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(t){return this.on("update",t)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}}const TY=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],kY="https",S4e=new St("node-selection-keyboard");class T4e extends ur{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new ht({key:S4e,props:{handleKeyDown:(t,n)=>{if("node"in t.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=t.state.tr;return t.dispatch(r.insert(t.state.tr.selection.$to.after(),t.state.schema.nodes.paragraph.createChecked()).setSelection(new $e(r.doc.resolve(t.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}}const k4e=new St("blocknote-placeholder");class _4e extends ur{static key(){return"placeholder"}constructor(t,n){super(),this.addProsemirrorPlugin(new ht({key:k4e,view:r=>{const s=`placeholder-selector-${Qz()}`;r.dom.classList.add(s);const i=document.createElement("style"),o=t._tiptapEditor.options.injectNonce;o&&i.setAttribute("nonce",o),r.root instanceof window.ShadowRoot?r.root.append(i):r.root.head.appendChild(i);const a=i.sheet,l=(u="")=>`.${s} .bn-block-content${u} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:u,emptyDocument:f,...h}=n;for(const[v,x]of Object.entries(h)){const w=`[data-content-type="${v}"]`;a.insertRule(`${l(w)} { content: ${JSON.stringify(x)}; }`)}a.insertRule(`${l("[data-is-only-empty-block]")} { content: ${JSON.stringify(f)}; }`),a.insertRule(`${l("[data-is-empty-and-focused]")} { content: ${JSON.stringify(u)}; }`)}catch(u){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",u)}return{destroy:()=>{r.root instanceof window.ShadowRoot?r.root.removeChild(i):r.root.head.removeChild(i)}}},props:{decorations:r=>{const{doc:s,selection:i}=r;if(!t.isEditable||!i.empty||i.$from.parent.type.spec.code)return;const o=[];r.doc.content.size===6&&o.push(Xt.node(2,4,{"data-is-only-empty-block":"true"}));const a=i.$anchor,l=a.parent;if(l.content.size===0){const u=a.before();o.push(Xt.node(u,u+l.nodeSize,{"data-is-empty-and-focused":"true"}))}return bt.create(s,o)}}}))}}const RP=new St("previous-blocks"),N4e={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class A4e extends ur{static key(){return"previousBlockType"}constructor(){super();let t;this.addProsemirrorPlugin(new ht({key:RP,view(n){return{update:async(r,s)=>{var i;((i=this.key)==null?void 0:i.getState(r.state).updatedBlocks.size)>0&&(t=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(RP,{clearUpdate:!0}))},0))},destroy:()=>{t&&clearTimeout(t)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,s,i){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||s.doc.eq(i.doc))return r;const o={},a=GL(s.doc,f=>f.attrs.id),l=new Map(a.map(f=>[f.node.attrs.id,f])),u=GL(i.doc,f=>f.attrs.id);for(const f of u){const h=l.get(f.node.attrs.id),g=h?.node.firstChild,b=f.node.firstChild;if(h&&g&&b){const v={index:b.attrs.index,level:b.attrs.level,type:b.type.name,depth:i.doc.resolve(f.pos).depth},x={index:g.attrs.index,level:g.attrs.level,type:g.type.name,depth:s.doc.resolve(h.pos).depth};o[f.node.attrs.id]=x,r.currentTransactionOldBlockAttrs[f.node.attrs.id]=x,JSON.stringify(x)!==JSON.stringify(v)&&(x["depth-change"]=x.depth-v.depth,r.updatedBlocks.add(f.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=o,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const s=[];return n.doc.descendants((i,o)=>{if(!i.attrs.id||!r.updatedBlocks.has(i.attrs.id))return;const a=r.currentTransactionOldBlockAttrs[i.attrs.id],l={};for(const[f,h]of Object.entries(a))l["data-prev-"+N4e[f]]=h||"none";const u=Xt.node(o,o+i.nodeSize,{...l});s.push(u)}),bt.create(n.doc,s)}}}))}}const IP=new St("blocknote-show-selection");class M4e extends ur{constructor(t){super(),ce(this,"enabled",!1),this.editor=t,this.addProsemirrorPlugin(new ht({key:IP,props:{decorations:n=>{const{doc:r,selection:s}=n;if(!this.enabled)return bt.empty;const i=Xt.inline(s.from,s.to,{"data-show-selection":"true"});return bt.create(r,[i])}}}))}static key(){return"showSelection"}setEnabled(t){this.enabled!==t&&(this.enabled=t,this.editor.transact(n=>n.setMeta(IP,{})))}getEnabled(){return this.enabled}}function _Y(e,t){for(var n,r;e&&e.parentElement&&e.parentElement!==t.dom&&((n=e.getAttribute)==null?void 0:n.call(e,"data-node-type"))!=="blockContainer";)e=e.parentElement;if(((r=e.getAttribute)==null?void 0:r.call(e,"data-node-type"))==="blockContainer")return{node:e,id:e.getAttribute("data-id")}}let D_=class by extends ot{constructor(t,n){super(t,n),ce(this,"nodes");const r=t.node();this.nodes=[],t.doc.nodesBetween(t.pos,n.pos,(s,i,o)=>{if(o!==null&&o.eq(r))return this.nodes.push(s),!1})}static create(t,n,r=n){return new by(t.resolve(n),t.resolve(r))}content(){return new Le(ve.from(this.nodes),0,0)}eq(t){if(!(t instanceof by)||this.nodes.length!==t.nodes.length||this.from!==t.from||this.to!==t.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(t.nodes[n]))return!1;return!0}map(t,n){const r=n.mapResult(this.from),s=n.mapResult(this.to);return s.deleted?ot.near(t.resolve(r.pos)):r.deleted?ot.near(t.resolve(s.pos)):new by(t.resolve(r.pos),t.resolve(s.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};ot.jsonID("multiple-node",D_);let lo;function O4e(e,t){let n,r;const s=t.resolve(e.from).node().type.spec.group==="blockContent",i=t.resolve(e.to).node().type.spec.group==="blockContent",o=Math.min(e.$anchor.depth,e.$head.depth);if(s&&i){const a=e.$from.start(o-1),l=e.$to.end(o-1);n=t.resolve(a-1).pos,r=t.resolve(l+1).pos}else n=e.from,r=e.to;return{from:n,to:r}}function DP(e,t,n=t){t===n&&(n+=e.state.doc.resolve(t+1).node().nodeSize);const r=e.domAtPos(t).node.cloneNode(!0),s=e.domAtPos(t).node,i=(f,h)=>Array.prototype.indexOf.call(f.children,h),o=i(s,e.domAtPos(t+1).node.parentElement),a=i(s,e.domAtPos(n-1).node.parentElement);for(let f=s.childElementCount-1;f>=0;f--)(f>a||f<o)&&r.removeChild(r.children[f]);NY(e.root),lo=r;const l=lo.getElementsByTagName("iframe");for(let f=0;f<l.length;f++){const h=l[f],g=h.parentElement;g&&g.removeChild(h)}const u=e.dom.className.split(" ").filter(f=>f!=="ProseMirror"&&f!=="bn-root"&&f!=="bn-editor").join(" ");lo.className=lo.className+" bn-drag-preview "+u,e.root instanceof ShadowRoot?e.root.appendChild(lo):e.root.body.appendChild(lo)}function NY(e){lo!==void 0&&(e instanceof ShadowRoot?e.removeChild(lo):e.body.removeChild(lo),lo=void 0)}function R4e(e,t,n){if(!e.dataTransfer||n.headless)return;const r=n.prosemirrorView,s=bi(t.id,r.state.doc);if(!s)throw new Error(`Block with ID ${t.id} not found`);const i=s.posBeforeNode;if(i!=null){const o=r.state.selection,a=r.state.doc,{from:l,to:u}=O4e(o,a),f=l<=i&&i<u,h=o.$anchor.node()!==o.$head.node()||o instanceof D_;f&&h?(r.dispatch(r.state.tr.setSelection(D_.create(a,l,u))),DP(r,l,u)):(r.dispatch(r.state.tr.setSelection(Ze.create(r.state.doc,i))),DP(r,i));const g=r.state.selection.content(),b=n.pmSchema,v=r.serializeForClipboard(g).dom.innerHTML,x=Pw(b,n),w=bY(g.content),S=x.exportBlocks(w,{}),_=lM(S);e.dataTransfer.clearData(),e.dataTransfer.setData("blocknote/html",v),e.dataTransfer.setData("text/html",S),e.dataTransfer.setData("text/plain",_),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(lo,0,0)}}const LP=250;function L_(e,t,n=!0){const r=e.root.elementsFromPoint(t.left,t.top);for(const s of r)if(e.dom.contains(s))return n&&s.closest("[data-node-type=columnList]")?L_(e,{left:t.left+50,top:t.top},!1):_Y(s,e)}function I4e(e,t){if(!t.dom.firstChild)return;const n=t.dom.firstChild.getBoundingClientRect(),r={left:Math.min(Math.max(n.left+10,e.x),n.right-10),top:e.y},s=L_(t,r);if(!s)return;const i=s.node.getBoundingClientRect();return L_(t,{left:i.right-10,top:e.y},!1)}class D4e{constructor(t,n,r){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"mousePos"),ce(this,"hoveredBlock"),ce(this,"menuFrozen",!1),ce(this,"isDragOrigin",!1),ce(this,"updateState",s=>{this.state=s,this.emitUpdate(this.state)}),ce(this,"updateStateFromMousePos",()=>{var s,i,o,a,l;if(this.menuFrozen||!this.mousePos)return;const u=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if(u?.element!==this.pmView.dom||u.distance>LP){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.updateState(this.state));return}const f=I4e(this.mousePos,this.pmView);if(!f||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}if(!((o=this.state)!=null&&o.show&&(a=this.hoveredBlock)!=null&&a.hasAttribute("data-id")&&((l=this.hoveredBlock)==null?void 0:l.getAttribute("data-id"))===f.id)&&(this.hoveredBlock=f.node,this.editor.isEditable)){const h=f.node.getBoundingClientRect(),g=f.node.closest("[data-node-type=column]");this.state={show:!0,referencePos:new DOMRect(g?g.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,h.y,h.width,h.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.updateState(this.state)}}),ce(this,"onDragStart",s=>{var i;const o=(i=s.dataTransfer)==null?void 0:i.getData("blocknote/html");if(!o||this.pmView.dragging)return;const a=document.createElement("div");a.innerHTML=o;const l=yo.fromSchema(this.pmView.state.schema).parse(a,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new Le(l.content,0,0),move:!0}}),ce(this,"findClosestEditorElement",s=>{const i=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(i.length===0)return null;let o=i[0],a=Number.MAX_VALUE;return i.forEach(l=>{const u=l.querySelector(".bn-block-group").getBoundingClientRect(),f=s.clientX<u.left?u.left-s.clientX:s.clientX>u.right?s.clientX-u.right:0,h=s.clientY<u.top?u.top-s.clientY:s.clientY>u.bottom?s.clientY-u.bottom:0,g=Math.sqrt(Math.pow(f,2)+Math.pow(h,2));g<a&&(a=g,o=l)}),{element:o,distance:a}}),ce(this,"onDragOver",s=>{if(s.synthetic)return;const i=this.getDragEventContext(s);if(!i||!i.isDropPoint){this.closeDropCursor();return}i.isDropPoint&&!i.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(s)}),ce(this,"closeDropCursor",()=>{const s=new Event("dragleave",{bubbles:!1});s.synthetic=!0,this.pmView.dom.dispatchEvent(s)}),ce(this,"getDragEventContext",s=>{var i;const o=!((i=s.dataTransfer)!=null&&i.types.includes("blocknote/html"))&&!!this.pmView.dragging,a=!!this.isDragOrigin,l=o||a,u=this.findClosestEditorElement(s);if(!u||u.distance>LP)return;const f=u.element===this.pmView.dom,h=f&&u.distance===0;if(!(!f&&!l))return{isDropPoint:f,isDropWithinEditorBounds:h,isDragOrigin:l}}),ce(this,"onDrop",s=>{if(s.synthetic)return;const i=this.getDragEventContext(s);if(!i){this.closeDropCursor();return}const{isDropPoint:o,isDropWithinEditorBounds:a,isDragOrigin:l}=i;if(!a&&o&&this.dispatchSyntheticEvent(s),o){if(this.pmView.dragging)return;this.pmView.dispatch(this.pmView.state.tr.setSelection($e.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(l){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}),ce(this,"onDragEnd",s=>{s.synthetic||(this.pmView.dragging=null)}),ce(this,"onKeyDown",s=>{var i;(i=this.state)!=null&&i.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),ce(this,"onMouseMove",s=>{var i;if(this.menuFrozen)return;this.mousePos={x:s.clientX,y:s.clientY};const o=this.pmView.dom.getBoundingClientRect(),a=this.mousePos.x>o.left&&this.mousePos.x<o.right&&this.mousePos.y>o.top&&this.mousePos.y<o.bottom,l=this.pmView.dom.parentElement;if(a&&s&&s.target&&!(l===s.target||l.contains(s.target))){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),ce(this,"onScroll",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");r(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(t){const n=new Event(t.type,t),r=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=t.clientX,n.clientY=t.clientY,n.clientX=Math.min(Math.max(t.clientX,r.left),r.left+r.width),n.clientY=Math.min(Math.max(t.clientY,r.top),r.top+r.height),n.dataTransfer=t.dataTransfer,n.preventDefault=()=>t.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(t,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}}const L4e=new St("SideMenuPlugin");class j4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"blockDragStart",(n,r)=>{this.view&&(this.view.isDragOrigin=!0),R4e(n,r,this.editor)}),ce(this,"blockDragEnd",()=>{NY(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),ce(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),ce(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=t,this.addProsemirrorPlugin(new ht({key:L4e,view:n=>(this.view=new D4e(t,n,r=>{this.emit("update",r)}),this.view)}))}static key(){return"sideMenu"}onUpdate(t){return this.on("update",t)}}const H1=new Map;function P4e(e){if(H1.has(e))return H1.get(e);const t=new bh;return e._tiptapEditor.on("transaction",({transaction:n})=>{t.appendMapping(n.mapping)}),e._tiptapEditor.on("destroy",()=>{H1.delete(e)}),H1.set(e,t),t}function B4e(e,t,n="left"){const r=tn.getState(e.prosemirrorState);if(!r){const i=P4e(e),o=i.maps.length;return()=>i.slice(o).map(t,n==="left"?-1:1)}const s=Ug(t+(n==="right"?1:-1),r.binding.type,r.binding.mapping);return()=>{const i=tn.getState(e.prosemirrorState),o=Vu(i.doc,i.binding.type,s,i.binding.mapping);if(o===null)throw new Error("Position not found, cannot track positions");return o+(n==="right"?-1:1)}}const H4e=ow(e=>e.type.name==="blockContainer");class F4e{constructor(t,n,r){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"rootEl"),ce(this,"pluginState"),ce(this,"handleScroll",()=>{var i,o;if((i=this.state)!=null&&i.show){const a=(o=this.rootEl)==null?void 0:o.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),ce(this,"closeMenu",()=>{this.editor.transact(i=>i.setMeta(uh,null))}),ce(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(i=>i.selection.from)}).run()});var s;this.editor=t,this.pluginState=void 0,this.emitUpdate=i=>{var o;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(i,{...this.state,ignoreQueryLength:(o=this.pluginState)==null?void 0:o.ignoreQueryLength})},this.rootEl=r.root,(s=this.rootEl)==null||s.addEventListener("scroll",this.handleScroll,!0)}update(t,n){var r;const s=uh.getState(n),i=uh.getState(t.state),o=s===void 0&&i!==void 0,a=s!==void 0&&i===void 0;if(!o&&!(s!==void 0&&i!==void 0)&&!a)return;if(this.pluginState=a?s:i,a||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&l&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var t;(t=this.rootEl)==null||t.removeEventListener("scroll",this.handleScroll,!0)}}const uh=new St("SuggestionMenuPlugin");class U4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"triggerCharacters",[]),ce(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),ce(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(s=>s!==r)}),ce(this,"closeMenu",()=>this.view.closeMenu()),ce(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new ht({key:uh,view:r=>(this.view=new F4e(t,(s,i)=>{this.emit(`update ${s}`,i)},r),this.view),state:{init(){},apply:(r,s,i,o)=>{if(r.selection.$from.parent.type.spec.code)return s;const a=r.getMeta(uh);if(typeof a=="object"&&a!==null){s&&this.closeMenu();const u=B4e(t,o.selection.from-a.triggerCharacter.length);return{triggerCharacter:a.triggerCharacter,deleteTriggerCharacter:a.deleteTriggerCharacter!==!1,queryStartPos:()=>u()+a.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:a?.ignoreQueryLength}}if(s===void 0)return s;if(o.selection.from!==o.selection.to||a===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||s.triggerCharacter!==void 0&&o.selection.from<s.queryStartPos()||!o.selection.$from.sameParent(o.doc.resolve(s.queryStartPos())))return;const l={...s};return l.query=o.doc.textBetween(s.queryStartPos(),o.selection.from),l}},props:{handleTextInput(r,s,i,o){if(s===i){const a=r.state.doc;for(const l of n){const u=l.length>1?a.textBetween(s-l.length,s)+o:o;if(l===u)return r.dispatch(r.state.tr.insertText(o)),r.dispatch(r.state.tr.setMeta(uh,{triggerCharacter:u}).scrollIntoView()),!0}}return!1},decorations(r){const s=this.getState(r);if(s===void 0)return null;if(!s.deleteTriggerCharacter){const i=H4e(r.selection);if(i)return bt.create(r.doc,[Xt.node(i.pos,i.pos+i.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":s.decorationId})])}return bt.create(r.doc,[Xt.inline(s.queryStartPos()-s.triggerCharacter.length,s.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":s.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(t,n){return this.triggerCharacters.includes(t)||this.addTriggerCharacter(t),this.on(`update ${t}`,n)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}}const z4e=wi.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["ins",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),$4e=wi.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["del",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),V4e=wi.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(e){return e.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return[n?"span":"div",{"data-type":"modification","data-id":String(t.attrs.id),"data-mod-type":t.attrs.type,"data-mod-prev-val":JSON.stringify(t.attrs.previousValue),"data-mod-new-val":JSON.stringify(t.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal,newValue:t.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal}:!1}}]}}});let Is;function jP(e){Is||(Is=document.createElement("div"),Is.innerHTML="_",Is.style.opacity="0",Is.style.height="1px",Is.style.width="1px",e instanceof Document?e.body.appendChild(Is):e.appendChild(Is))}function q4e(e){Is&&(e instanceof Document?e.body.removeChild(Is):e.removeChild(Is),Is=void 0)}function F1(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function G4e(e){let t=e;for(;t&&t.nodeName!=="TD"&&t.nodeName!=="TH"&&!t.classList.contains("tableWrapper");){if(t.classList.contains("ProseMirror"))return;const n=t.parentNode;if(!n||!(n instanceof Element))return;t=n}return t.nodeName==="TD"||t.nodeName==="TH"?{type:"cell",domNode:t,tbodyNode:t.closest("tbody")}:{type:"wrapper",domNode:t,tbodyNode:t.querySelector("tbody")}}function Y4e(e,t){const n=t.querySelectorAll(e);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}class W4e{constructor(t,n,r){ce(this,"state"),ce(this,"emitUpdate"),ce(this,"tableId"),ce(this,"tablePos"),ce(this,"tableElement"),ce(this,"menuFrozen",!1),ce(this,"mouseState","up"),ce(this,"prevWasEditable",null),ce(this,"viewMousedownHandler",()=>{this.mouseState="down"}),ce(this,"mouseUpHandler",s=>{this.mouseState="up",this.mouseMoveHandler(s)}),ce(this,"mouseMoveHandler",s=>{var i,o,a,l,u,f,h;if(this.menuFrozen||this.mouseState==="selecting"||!(s.target instanceof Element)||!this.pmView.dom.contains(s.target))return;const g=G4e(s.target);if(g?.type==="cell"&&this.mouseState==="down"&&!((i=this.state)!=null&&i.draggingState)){this.mouseState="selecting",(o=this.state)!=null&&o.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!g||!this.editor.isEditable){(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!g.tbodyNode)return;const b=g.tbodyNode.getBoundingClientRect(),v=_Y(g.domNode,this.pmView);if(!v)return;this.tableElement=v.node;let x;const w=this.editor.transact(N=>bi(v.id,N.doc));if(!w)throw new Error(`Block with ID ${v.id} not found`);const S=Bn(w.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(Ln(this.editor,"table")&&(this.tablePos=w.posBeforeNode+1,x=S),!x)return;this.tableId=v.id;const _=(l=g.domNode.closest(".tableWrapper"))==null?void 0:l.querySelector(".table-widgets-container");if(g?.type==="wrapper"){const N=s.clientY>=b.bottom-1&&s.clientY<b.bottom+20,M=s.clientX>=b.right-1&&s.clientX<b.right+20,O=s.clientX>b.right||s.clientY>b.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:N,showAddOrRemoveColumnsButton:M,referencePosTable:b,block:x,widgetContainer:_,colIndex:O||(u=this.state)==null?void 0:u.colIndex,rowIndex:O||(f=this.state)==null?void 0:f.rowIndex,referencePosCell:O||(h=this.state)==null?void 0:h.referencePosCell}}else{const N=F1(g.domNode),M=F1(g.domNode.parentElement),O=g.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===v.id&&this.state.rowIndex===M&&this.state.colIndex===N)return;this.state={show:!0,showAddOrRemoveColumnsButton:N===x.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:M===x.content.rows.length-1,referencePosTable:b,block:x,draggingState:void 0,referencePosCell:O,colIndex:N,rowIndex:M,widgetContainer:_}}return this.emitUpdate(),!1}),ce(this,"dragOverHandler",s=>{var i;if(((i=this.state)==null?void 0:i.draggingState)===void 0)return;s.preventDefault(),s.dataTransfer.dropEffect="move",Y4e(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const o={left:Math.min(Math.max(s.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(s.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},a=this.pmView.root.elementsFromPoint(o.left,o.top).filter(x=>x.tagName==="TD"||x.tagName==="TH");if(a.length===0)return;const l=a[0];let u=!1;const f=F1(l.parentElement),h=F1(l),g=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,b=(this.state.draggingState.draggedCellOrientation==="row"?f:h)!==g;(this.state.rowIndex!==f||this.state.colIndex!==h)&&(this.state.rowIndex=f,this.state.colIndex=h,this.state.referencePosCell=l.getBoundingClientRect(),u=!0);const v=this.state.draggingState.draggedCellOrientation==="row"?o.top:o.left;this.state.draggingState.mousePos!==v&&(this.state.draggingState.mousePos=v,u=!0),u&&this.emitUpdate(),b&&this.editor.transact(x=>x.setMeta(km,!0))}),ce(this,"dropHandler",s=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");s.preventDefault();const{draggingState:i,colIndex:o,rowIndex:a}=this.state,l=this.state.block.content.columnWidths;if(i.draggedCellOrientation==="row"){if(!o$(this.state.block,i.originalIndex,a))return!1;const u=$1e(this.state.block,i.originalIndex,a);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:u}})}else{if(!a$(this.state.block,i.originalIndex,o))return!1;const u=z1e(this.state.block,i.originalIndex,o),[f]=l.splice(i.originalIndex,1);l.splice(o,0,f),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:l,rows:u}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var t;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((t=this.tableElement)!=null&&t.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:r}=XA(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=r&&(this.state.colIndex=r-1));const s=this.tableElement.querySelector("tbody");if(!s)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const i=s.children[this.state.rowIndex].children[this.state.colIndex];i?this.state.referencePosCell=i.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=s.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const km=new St("TableHandlesPlugin");class K4e extends ur{constructor(t){super(),ce(this,"view"),ce(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(km,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(jP(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Is,0,0),n.dataTransfer.effectAllowed="move")}),ce(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(km,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(jP(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Is,0,0),n.dataTransfer.effectAllowed="copyMove")}),ce(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(km,null)),!this.editor.headless&&q4e(this.editor.prosemirrorView.root)}),ce(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),ce(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),ce(this,"getCellsAtRowHandle",(n,r)=>Fk(n,r)),ce(this,"getCellsAtColumnHandle",(n,r)=>Uk(n,r)),ce(this,"setCellSelection",(n,r,s=r)=>{const i=this.view;if(!i)throw new Error("Table handles view not initialized");const o=n.doc.resolve(i.tablePos+1),a=n.doc.resolve(o.posAtIndex(r.row)+1),l=n.doc.resolve(a.posAtIndex(r.col)),u=n.doc.resolve(o.posAtIndex(s.row)+1),f=n.doc.resolve(u.posAtIndex(s.col)),h=n.tr;return h.setSelection(new fn(l,f)),n.apply(h)}),ce(this,"addRowOrColumn",(n,r)=>{this.editor.exec((s,i)=>{const o=this.setCellSelection(s,r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?dge(o,i):fge(o,i):r.side==="left"?oge(o,i):age(o,i)})}),ce(this,"removeRowOrColumn",(n,r)=>r==="row"?this.editor.exec((s,i)=>{const o=this.setCellSelection(s,{row:n,col:0});return pge(o,i)}):this.editor.exec((s,i)=>{const o=this.setCellSelection(s,{row:0,col:n});return cge(o,i)})),ce(this,"mergeCells",n=>this.editor.exec((r,s)=>{const i=n?this.setCellSelection(r,n.relativeStartCell,n.relativeEndCell):r;return gge(i,s)})),ce(this,"splitCell",n=>this.editor.exec((r,s)=>{const i=n?this.setCellSelection(r,n):r;return bge(i,s)})),ce(this,"getCellSelection",()=>this.editor.transact(n=>{const r=n.selection;let s=r.$from,i=r.$to;if(Vk(r)){const{ranges:v}=r;v.forEach(x=>{s=x.$from.min(s??x.$from),i=x.$to.max(i??x.$to)})}else if(s=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),i=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),s.pos===0||i.pos===0)return;const o=n.doc.resolve(s.pos-s.parentOffset-1),a=n.doc.resolve(i.pos-i.parentOffset-1),l=n.doc.resolve(o.pos-o.parentOffset-1),u=s.index(o.depth),f=o.index(l.depth),h=i.index(a.depth),g=a.index(l.depth),b=[];for(let v=f;v<=g;v++)for(let x=u;x<=h;x++)b.push({row:v,col:x});return{from:{row:f,col:u},to:{row:g,col:h},cells:b}})),ce(this,"getMergeDirection",n=>this.editor.transact(r=>{const s=Vk(r.selection)?r.selection:void 0;if(!s||!n||s.ranges.length<=1)return;const i=this.getCellSelection();if(i)return G1e(i.from,i.to,n)?"vertical":"horizontal"})),ce(this,"cropEmptyRowsOrColumns",(n,r)=>V1e(n,r)),ce(this,"addRowsOrColumns",(n,r,s)=>q1e(n,r,s)),this.editor=t,this.addProsemirrorPlugin(new ht({key:km,view:n=>(this.view=new W4e(t,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const s=[],{block:i,draggingState:o}=this.view.state,{originalIndex:a,draggedCellOrientation:l}=o;if(r===a||!i||l==="row"&&!o$(i,a,r)||l==="col"&&!a$(i,a,r))return bt.create(n.doc,s);const u=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?Fk(this.view.state.block,r).forEach(({row:f,col:h})=>{const g=n.doc.resolve(u.posAtIndex(f)+1),b=n.doc.resolve(g.posAtIndex(h)+1),v=b.node(),x=b.pos+(r>a?v.nodeSize-2:0);s.push(Xt.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.left="0",w.style.right="0",r>a?w.style.bottom="-2px":w.style.top="-3px",w.style.height="4px",w}))}):Uk(this.view.state.block,r).forEach(({row:f,col:h})=>{const g=n.doc.resolve(u.posAtIndex(f)+1),b=n.doc.resolve(g.posAtIndex(h)+1),v=b.node(),x=b.pos+(r>a?v.nodeSize-2:0);s.push(Xt.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.top="0",w.style.bottom="0",r>a?w.style.right="-2px":w.style.left="-3px",w.style.width="4px",w}))}),bt.create(n.doc,s)}}}))}static key(){return"tableHandles"}onUpdate(t){return this.on("update",t)}}const Q4e=nn.create({name:"textAlignment",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:e=>e.getAttribute("data-text-alignment"),renderHTML:e=>e.textAlignment==="left"?{}:{"data-text-alignment":e.textAlignment}}}}]}}),X4e=nn.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["table","tableCell","tableHeader"],attributes:{textColor:eye()}}]}}),Z4e=nn.create({name:"trailingNode",addProseMirrorPlugins(){const e=new St(this.name);return[new ht({key:e,appendTransaction:(t,n,r)=>{const{doc:s,tr:i,schema:o}=r,a=e.getState(r),l=s.content.size-2,u=o.nodes.blockContainer,f=o.nodes.paragraph;if(a)return i.insert(l,u.create(void 0,f.create()))},state:{init:(t,n)=>{},apply:(t,n)=>{if(!t.docChanged)return n;let r=t.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const s=r.firstChild;if(!s)throw new Error("Expected blockContent");return r.nodeSize>4||s.type.spec.content!=="inline*"}}})]}}),J4e={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},eDe=Ji.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:e=>{if(typeof e=="string")return!1;const t={};for(const[n,r]of Object.entries(J4e))e.getAttribute(r)&&(t[n]=e.getAttribute(r));return t}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:e}){var t;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[i,o]of Object.entries(e))i!=="class"&&n.setAttribute(i,o);const r={...((t=this.options.domAttributes)==null?void 0:t.block)||{},...e},s=document.createElement("div");s.className=$n("bn-block",r.class),s.setAttribute("data-node-type",this.name);for(const[i,o]of Object.entries(r))i!=="class"&&s.setAttribute(i,o);return n.appendChild(s),{dom:n,contentDOM:s}}}),tDe=Ji.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:e}){var t;const n={...((t=this.options.domAttributes)==null?void 0:t.blockGroup)||{},...e},r=document.createElement("div");r.className=$n("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[s,i]of Object.entries(n))s!=="class"&&r.setAttribute(s,i);return{dom:r,contentDOM:r}}}),nDe=Ji.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"}),rDe=e=>{var t;const n={},r=sDe(e);for(const i of r)n[i.name]=i;e.collaboration&&(n.ySyncPlugin=new R_(e.collaboration.fragment),n.yUndoPlugin=new I_({editor:e.editor}),(t=e.collaboration.provider)!=null&&t.awareness&&(n.yCursorPlugin=new xY(e.collaboration)),n.forkYDocPlugin=new s4e({editor:e.editor,collaboration:e.collaboration}),n.schemaMigrationPlugin=new a4e(e.collaboration.fragment)),n.formattingToolbar=new g4e(e.editor),n.linkToolbar=new C4e(e.editor),n.sideMenu=new j4e(e.editor),n.suggestionMenus=new U4e(e.editor),n.filePanel=new h4e(e.editor),n.placeholder=new _4e(e.editor,e.placeholders),(e.animations??!0)&&(n.animations=new A4e),e.tableHandles&&(n.tableHandles=new K4e(e.editor)),n.nodeSelectionKeyboard=new T4e,n.blockChange=new r4e,n.showSelection=new M4e(e.editor),e.comments&&(n.comments=new d4e(e.editor,e.comments.threadStore,CY.name,e.comments.schema));const s=e.disableExtensions||[];for(const i of s)delete n[i];return n};let PP=!1;const sDe=e=>{const t=[Vf.ClipboardTextSerializer,Vf.Commands,Vf.Editable,Vf.FocusEvents,Vf.Tabindex,xRe,nn.create({name:"dropCursor",addProseMirrorPlugins:()=>[e.dropCursor({width:5,color:"#ddeeff",editor:e.editor})]}),uw.configure({types:["blockContainer","columnList","column"],setIdAttribute:e.setIdAttribute}),b4e,YRe,z4e,$4e,V4e,GRe.extend({inclusive:!1}).configure({defaultProtocol:kY,protocols:PP?[]:TY}),...Object.values(e.styleSpecs).map(n=>n.implementation.mark.configure({editor:e.editor})),X4e,n4e,Q4e,nn.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>e.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),nDe,eDe.configure({editor:e.editor,domAttributes:e.domAttributes}),x4e.configure({editor:e.editor,tabBehavior:e.tabBehavior}),tDe.configure({domAttributes:e.domAttributes}),...Object.values(e.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:e.editor})),...Object.values(e.blockSpecs).flatMap(n=>[..."node"in n.implementation?[n.implementation.node.configure({editor:e.editor,domAttributes:e.domAttributes})]:[]]),t4e(e.editor),JIe(e.editor,e.pasteHandler||(n=>n.defaultPasteHandler())),jIe(e.editor),...e.trailingBlock===void 0||e.trailingBlock?[Z4e]:[],...e.comments?[CY]:[]];return PP=!0,e.collaboration||t.push(wRe),t};function iDe(e,t){const n=[];return e.forEach((r,s,i)=>{i!==t&&n.push(r)}),ve.from(n)}function oDe(e,t){const n=[];for(let r=0;r<e.childCount;r++)if(e.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const s=n[n.length-1],i=s.copy(s.content.addToEnd(e.child(r)));n[n.length-1]=i}else{const s=t.nodes.table.createChecked(void 0,e.child(r));n.push(s)}else n.push(e.child(r));return e=ve.from(n),e}function aDe(e,t){let n=ve.from(e.content);if(n=oDe(n,t.state.schema),!lDe(n,t))return new Le(n,e.openStart,e.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const s=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const o=n.child(r+1).child(0).child(0);(o.type.name==="bulletListItem"||o.type.name==="numberedListItem"||o.type.name==="checkListItem")&&(s.push(n.child(r+1)),n=iDe(n,r+1))}const i=t.state.schema.nodes.blockContainer.createChecked(void 0,s);n=n.replaceChild(r,i)}return new Le(n,e.openStart,e.openEnd)}function lDe(e,t){var n,r;const s=e.childCount===1,i=((n=e.firstChild)==null?void 0:n.type.spec.content)==="inline*",o=((r=e.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(s){if(i)return!1;if(o){const a=Li(t.state);if(a.isBlockContainer)return a.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const cDe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};class uM extends t3{constructor(t){var n,r,s,i,o,a,l,u,f,h,g;super(),ce(this,"pmSchema"),ce(this,"extensions",{}),ce(this,"_tiptapEditor"),ce(this,"elementRenderer",null),ce(this,"blockCache",new WeakMap),ce(this,"dictionary"),ce(this,"schema"),ce(this,"blockImplementations"),ce(this,"inlineContentImplementations"),ce(this,"styleImplementations"),ce(this,"formattingToolbar"),ce(this,"linkToolbar"),ce(this,"sideMenu"),ce(this,"suggestionMenus"),ce(this,"filePanel"),ce(this,"tableHandles"),ce(this,"comments"),ce(this,"showSelectionPlugin"),ce(this,"forkYDocPlugin"),ce(this,"uploadFile"),ce(this,"onUploadStartCallbacks",[]),ce(this,"onUploadEndCallbacks",[]),ce(this,"resolveFileUrl"),ce(this,"resolveUsers"),ce(this,"settings"),ce(this,"activeTransaction",null),ce(this,"mount",N=>{this._tiptapEditor.mount({mount:N})}),ce(this,"unmount",()=>{this._tiptapEditor.unmount()}),this.options=t;const b=t;if(b.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(b.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(b.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(b.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=t.dictionary||WRe,this.settings={tables:{splitCells:((n=t?.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=t?.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((s=t?.tables)==null?void 0:s.cellTextColor)??!1,headers:((i=t?.tables)==null?void 0:i.headers)??!1}};const v={defaultStyles:!0,schema:t.schema||y$.create(),...t,placeholders:{...this.dictionary.placeholders,...t.placeholders}};if(v.comments&&!v.resolveUsers)throw new Error("resolveUsers is required when using comments");this.resolveUsers=v.resolveUsers,this.schema=v.schema,this.blockImplementations=v.schema.blockSpecs,this.inlineContentImplementations=v.schema.inlineContentSpecs,this.styleImplementations=v.schema.styleSpecs,this.extensions=rDe({editor:this,domAttributes:v.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:v.collaboration,trailingBlock:v.trailingBlock,disableExtensions:v.disableExtensions,setIdAttribute:v.setIdAttribute,animations:v.animations??!0,tableHandles:Ln(this,"table"),dropCursor:this.options.dropCursor??C$,placeholders:v.placeholders,tabBehavior:v.tabBehavior,comments:v.comments,pasteHandler:v.pasteHandler}),(((o=v._tiptapOptions)==null?void 0:o.extensions)||[]).forEach(N=>{this.extensions[N.name]=N});for(let N of v.extensions||[]){typeof N=="function"&&(N=N(this));const M=N.key??N.constructor.key();if(!M)throw new Error(`Extension ${N.constructor.name} does not have a key method`);if(this.extensions[M])throw new Error(`Extension ${N.constructor.name} already exists with key ${M}`);this.extensions[M]=N}if(Object.entries(v._extensions||{}).forEach(([N,M])=>{const O=typeof M=="function"?M(this):M;if(!("plugin"in O)){this.extensions[N]=O;return}this.extensions[N]=new class extends ur{static key(){return N}constructor(){super(),this.addProsemirrorPlugin(O.plugin)}get priority(){return O.priority}}}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,this.forkYDocPlugin=this.extensions.forkYDocPlugin,v.uploadFile){const N=v.uploadFile;this.uploadFile=async(M,O)=>{this.onUploadStartCallbacks.forEach(R=>R.apply(this,[O]));try{return await N(M,O)}finally{this.onUploadEndCallbacks.forEach(R=>R.apply(this,[O]))}}}this.resolveFileUrl=v.resolveFileUrl;const x="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;x&&v.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const w=Object.fromEntries(Object.values(this.schema.blockSpecs).map(N=>N.extensions).filter(N=>N!==void 0).flat().map(N=>[N.key??N.constructor.key(),N])),S=[...Object.entries({...this.extensions,...w}).map(([N,M])=>{if(M instanceof nn||M instanceof Ji||M instanceof wi)return M;if(M instanceof ur)return!M.plugins.length&&!M.keyboardShortcuts&&!M.inputRules&&!M.tiptapExtensions?void 0:nn.create({name:N,priority:M.priority,addProseMirrorPlugins:()=>M.plugins,addExtensions:()=>M.tiptapExtensions||[],addInputRules:M.inputRules?()=>M.inputRules.map(O=>new Iz({find:O.find,handler:({range:R,match:I,state:j})=>{const U=O.replace({match:I,range:R,editor:this});if(U){const P=this.getTextCursorPosition();if(this.schema.blockSchema[P.block.type].content!=="inline")return;const K=b0(j.tr),W=j.tr.deleteRange(R.from,R.to);hw(W,K.bnBlock.beforePos,U);return}return null}})):void 0,addKeyboardShortcuts:M.keyboardShortcuts?()=>Object.fromEntries(Object.entries(M.keyboardShortcuts).map(([O,R])=>[O,()=>R({editor:this})])):void 0})})].filter(N=>N!==void 0),_={...cDe,...v._tiptapOptions,element:null,autofocus:v.autofocus??!1,extensions:S,editorProps:{...(a=v._tiptapOptions)==null?void 0:a.editorProps,attributes:{tabIndex:"0",...(u=(l=v._tiptapOptions)==null?void 0:l.editorProps)==null?void 0:u.attributes,...(f=v.domAttributes)==null?void 0:f.editor,class:$n("bn-editor",v.defaultStyles?"bn-default-styles":"",((g=(h=v.domAttributes)==null?void 0:h.editor)==null?void 0:g.class)||"")},transformPasted:aDe}};try{const N=v.initialContent||(x?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:uw.options.generateID()}]);if(!Array.isArray(N)||N.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+N);const M=h0e(_.extensions),O=N.map(I=>vd(I,M,this.schema.styleSchema).toJSON()),R=Qy({type:"doc",content:[{type:"blockGroup",content:O}]},M,_.parseOptions);this._tiptapEditor=new Fbe({..._,content:R.toJSON()}),this.pmSchema=this._tiptapEditor.schema}catch(N){throw new Error("Error creating document from blocks passed as `initialContent`",{cause:N})}this.pmSchema.cached.blockNoteEditor=this,this.emit("create")}static create(t){return new uM(t??{})}exec(t){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");const n=this._tiptapEditor.state,r=this._tiptapEditor.view;return t(n,s=>r.dispatch(s),r)}canExec(t){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this._tiptapEditor.state,r=this._tiptapEditor.view;return t(n,void 0,r)}transact(t){if(this.activeTransaction)return t(this.activeTransaction);try{this.activeTransaction=this._tiptapEditor.state.tr;const n=t(this.activeTransaction),r=this.activeTransaction;return this.activeTransaction=null,r&&(r.docChanged||r.selectionSet||r.scrolledIntoView||r.storedMarksSet||!r.isGeneric)&&this._tiptapEditor.view.dispatch(r),n}finally{this.activeTransaction=null}}extension(t,n=t.key()){const r=this.extensions[n];if(!r)throw new Error(`Extension ${n} not found`);return r}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this._tiptapEditor.state}get prosemirrorView(){return this._tiptapEditor.view}get domElement(){var t;return(t=this.prosemirrorView)==null?void 0:t.dom}isFocused(){var t;return((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}get headless(){return!this._tiptapEditor.isInitialized}focus(){this.headless||this.prosemirrorView.focus()}onUploadStart(t){return this.onUploadStartCallbacks.push(t),()=>{const n=this.onUploadStartCallbacks.indexOf(t);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(t){return this.onUploadEndCallbacks.push(t),()=>{const n=this.onUploadEndCallbacks.indexOf(t);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this.transact(t=>R1e(t.doc,this.pmSchema))}getBlock(t){return this.transact(n=>pIe(n.doc,t))}getPrevBlock(t){return this.transact(n=>mIe(n.doc,t))}getNextBlock(t){return this.transact(n=>gIe(n.doc,t))}getParentBlock(t){return this.transact(n=>bIe(n.doc,t))}forEachBlock(t,n=!1){const r=this.document.slice();n&&r.reverse();function s(i){for(const o of i){if(t(o)===!1)return!1;const a=n?o.children.slice().reverse():o.children;if(!s(a))return!1}return!0}s(r)}onEditorContentChange(t){this._tiptapEditor.on("update",t)}onEditorSelectionChange(t){this._tiptapEditor.on("selectionUpdate",t)}getTextCursorPosition(){return this.transact(t=>EIe(t))}setTextCursorPosition(t,n="start"){return this.transact(r=>hY(r,t,n))}getSelection(){return this.transact(t=>vIe(t))}getSelectionCutBlocks(){return this.transact(t=>wIe(t))}setSelection(t,n){return this.transact(r=>xIe(r,t,n))}get isEditable(){return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(t){this._tiptapEditor.options.editable!==t&&this._tiptapEditor.setEditable(t)}insertBlocks(t,n,r="before"){return this.transact(s=>XRe(s,t,n,r))}updateBlock(t,n){return this.transact(r=>Q1e(r,t,n))}removeBlocks(t){return this.transact(n=>SP(n,t,[]).removedBlocks)}replaceBlocks(t,n){return this.transact(r=>SP(r,t,n))}undo(){return this.options.collaboration?this.exec(FEe):this.exec(i3)}redo(){return this.options.collaboration?this.exec(UEe):this.exec(o3)}insertInlineContent(t,{updateSelection:n=!1}={}){const r=ko(t,this.pmSchema);this.transact(s=>{yIe(s,{from:s.selection.from,to:s.selection.to},r,{updateSelection:n})})}getActiveStyles(){return this.transact(t=>{const n={},r=t.selection.$to.marks();for(const s of r){const i=this.schema.styleSchema[s.type.name];if(!i){s.type.name!=="link"&&!s.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",s.type.name);continue}i.propSchema==="boolean"?n[i.type]=!0:n[i.type]=s.attrs.stringValue}return n})}addStyles(t){for(const[n,r]of Object.entries(t)){const s=this.schema.styleSchema[n];if(!s)throw new Error(`style ${n} not found in styleSchema`);if(s.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(s.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new pa(s.propSchema)}}removeStyles(t){for(const n of Object.keys(t))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(t){for(const[n,r]of Object.entries(t)){const s=this.schema.styleSchema[n];if(!s)throw new Error(`style ${n} not found in styleSchema`);if(s.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(s.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new pa(s.propSchema)}}getSelectedText(){return this.transact(t=>t.doc.textBetween(t.selection.from,t.selection.to))}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(t,n){if(t==="")return;const r=this.pmSchema.mark("link",{href:t});this.transact(s=>{const{from:i,to:o}=s.selection;n?s.insertText(n,i,o).addMark(i,i+n.length,r):s.setSelection($e.create(s.doc,o)).addMark(i,o,r)})}canNestBlock(){return fIe(this)}nestBlock(){fY(this)}canUnnestBlock(){return hIe(this)}unnestBlock(){dIe(this)}moveBlocksUp(){return lIe(this)}moveBlocksDown(){return cIe(this)}blocksToHTMLLossy(t=this.document){return Pw(this.pmSchema,this).exportBlocks(t,{})}blocksToFullHTML(t){return nIe(this.pmSchema,this).serializeBlocks(t,{})}tryParseHTMLToBlocks(t){return pY(t,this.pmSchema)}blocksToMarkdownLossy(t=this.document){return TIe(t,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(t){return IIe(t,this.pmSchema)}updateCollaborationUserInfo(t){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this.extensions.yCursorPlugin.updateUser(t)}onBeforeChange(t){return this.extensions.blockChange.subscribe(n=>t(this,n))}onChange(t){const n=({transaction:r,appendedTransactions:s})=>{t(this,{getChanges:()=>aY(r,s)})};return this._tiptapEditor.on("update",n),()=>{this._tiptapEditor.off("update",n)}}onSelectionChange(t,n){const r=s=>{s.transaction.getMeta(tn)&&!n||t(this)};return this._tiptapEditor.on("selectionUpdate",r),()=>{this._tiptapEditor.off("selectionUpdate",r)}}onCreate(t){return this.on("create",t),()=>{this.off("create",t)}}getSelectionBoundingBox(){if(!this.prosemirrorView)return;const{selection:t}=this.prosemirrorState,{ranges:n}=t,r=Math.min(...n.map(i=>i.$from.pos)),s=Math.max(...n.map(i=>i.$to.pos));if(Jy(t)){const i=this.prosemirrorView.nodeDOM(r);if(i)return i.getBoundingClientRect()}return ev(this.prosemirrorView,r,s)}get isEmpty(){const t=this.document;return t.length===0||t.length===1&&t[0].type==="paragraph"&&t[0].content.length===0}openSuggestionMenu(t,n){this.prosemirrorView&&(this.focus(),this.transact(r=>{n!=null&&n.deleteTriggerCharacter&&r.insertText(t),r.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:t,deleteTriggerCharacter:n?.deleteTriggerCharacter||!1,ignoreQueryLength:n?.ignoreQueryLength||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(t){this.showSelectionPlugin.setEnabled(t)}pasteHTML(t,n=!1){var r;let s=t;if(!n){const i=this.tryParseHTMLToBlocks(t);s=this.blocksToFullHTML(i)}s&&((r=this.prosemirrorView)==null||r.pasteHTML(s))}pasteText(t){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(t)}pasteMarkdown(t){const n=mY(t);return this.pasteHTML(n)}}let lT;async function uDe(){return lT||(lT=(async()=>{const[e,t]=await Promise.all([ll(()=>import("./module-RjUF93sV.js"),[]),ll(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),lT)}async function dDe(e,t){if(!("text"in e.schema.inlineContentSchema)||e.schema.inlineContentSchema.text!==sve.text)return[];const{emojiData:n,emojiMart:r}=await uDe();return(t.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(t)).map(s=>({id:s.skins[0].native,onItemClick:()=>e.insertInlineContent(s.skins[0].native+" ")}))}const AY=C.createContext(void 0);function Po(e){return C.useContext(AY)}function ut(e){const t=Po();if(!(t!=null&&t.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return t.editor}function dM(e,t,n){const r=Po();t||(t=r?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onSelectionChange(e,n)},[e,t,n])}function fDe(e,t){const n=ut();t=t||n;const[r,s]=C.useState(()=>{if(e)return t.getSelectionBoundingBox()}),i=C.useCallback(()=>{if(!e)return;const o=t.getSelectionBoundingBox();s(o)},[t,e]);return dM(i,t,!0),C.useEffect(()=>{s(e?t.getSelectionBoundingBox():void 0)},[e,t]),r}function hDe(e){return e.getBoundingClientRect!==void 0}function Xc(e,t,n,r){const{refs:s,update:i,context:o,floatingStyles:a,isPositioned:l}=Vh({open:e,...r}),{isMounted:u,styles:f}=hA(o),h=typeof r?.canDismiss=="object"?r.canDismiss:{enabled:r?.canDismiss},g=jF(o,h),{getReferenceProps:b,getFloatingProps:v}=PF([g]);return C.useEffect(()=>{t!==null&&(t instanceof HTMLElement||hDe(t)?s.setReference(t):s.setReference({getBoundingClientRect:()=>t}),i())},[t,s,i]),C.useMemo(()=>({isMounted:u,ref:s.setFloating,setReference:s.setReference,style:{display:"flex",...f,...a,zIndex:n},getFloatingProps:v,getReferenceProps:b,isPositioned:l}),[l,a,u,s.setFloating,s.setReference,f,n,v,b])}function Cl(e){const[t,n]=C.useState();return C.useEffect(()=>e(r=>{n({...r})}),[e]),t}const MY=C.createContext(void 0);function nt(){return C.useContext(MY)}const R0=(e={},t=[])=>C.useMemo(()=>{const n=uM.create(e);return window&&(window.ProseMirror=n._tiptapEditor),n},t);function yt(){return Po().editor.dictionary}function fM(e,t){const n=Po();t||(t=n?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onChange(e)},[e,t])}const hM=e=>{const[t,n]=C.useState(!1),[r,s]=C.useState(e.editor.isEmpty),i=nt();fM(()=>{s(e.editor.isEmpty)},e.editor);const o=C.useCallback(()=>{n(!0)},[]),a=C.useCallback(()=>{n(!1)},[]);return C.useEffect(()=>{e.editable&&e.autoFocus&&e.editor.focus()},[e.autoFocus,e.editable,e.editor]),p.jsxs(p.Fragment,{children:[p.jsx(i.Comments.Editor,{autoFocus:e.autoFocus,className:"bn-comment-editor",editor:e.editor,onFocus:o,onBlur:a,editable:e.editable}),e.actions&&p.jsx("div",{className:"bn-comment-actions-wrapper",children:p.jsx(e.actions,{isFocused:t,isEmpty:r})})]})},{textColor:dBe,backgroundColor:fBe,...pDe}=s3,pM=y$.create({blockSpecs:{paragraph:m$()},styleSpecs:pDe});function mDe(){const e=ut();if(!e.comments)throw new Error("Comments plugin not found");const t=e.comments,n=nt(),r=yt(),s=R0({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:e.comments.commentEditorSchema||pM});return p.jsx(n.Comments.Card,{className:"bn-thread",children:p.jsx(hM,{autoFocus:!0,editable:!0,editor:s,actions:({isEmpty:i})=>p.jsx(n.Generic.Toolbar.Root,{className:$n("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:p.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:i,onClick:async()=>{await t.createThread({initialComment:{body:s.document}}),t.stopPendingComment()},children:"Save"})})})})}const gDe=e=>{const t=ut();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=t.comments;C.useEffect(()=>{const f=n.onUpdate(h=>t.setForceSelectionVisible(h.pendingComment));return()=>f()},[n,t]);const r=Cl(n.onUpdate.bind(n)),s=fDe(r?.pendingComment),{isMounted:i,ref:o,style:a,getFloatingProps:l}=Xc(r?.pendingComment||!1,s||null,5e3,{placement:"bottom",middleware:[Io(10),Uc(),Xi()],onOpenChange:f=>{f||(n.stopPendingComment(),t.focus())},...e.floatingOptions});if(!i||!r)return null;const u=e.floatingComposer||mDe;return p.jsx("div",{ref:o,style:a,...l(),children:p.jsx(u,{})})};var OY={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BP=ge.createContext&&ge.createContext(OY),bDe=["attr","size","title"];function yDe(e,t){if(e==null)return{};var n=vDe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(this,arguments)}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){xDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xDe(e,t,n){return t=wDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wDe(e){var t=EDe(e,"string");return typeof t=="symbol"?t:t+""}function EDe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RY(e){return e&&e.map((t,n)=>ge.createElement(t.tag,Kv({key:n},t.attr),RY(t.child)))}function at(e){return t=>ge.createElement(CDe,Wv({attr:Kv({},e.attr)},t),RY(e.child))}function CDe(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=yDe(e,bDe),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ge.createElement("svg",Wv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Kv(Kv({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ge.createElement("title",null,i),e.children)};return BP!==void 0?ge.createElement(BP.Consumer,null,n=>t(n)):t(OY)}function SDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function IY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(e)}function TDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(e)}function kDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(e)}function _De(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(e)}function NDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(e)}function ADe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(e)}function MDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(e)}function ODe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(e)}function RDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(e)}function IDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(e)}function FP(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(e)}function Qv(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(e)}function Xv(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(e)}function Zv(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function DY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(e)}function LY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function jY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(e)}function DDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(e)}function LDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(e)}function UP(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(e)}function jDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(e)}function PDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(e)}function PY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(e)}function BY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function HY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function FY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function BDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(e)}function HDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(e)}function UY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(e)}function FDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(e)}function UDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function mM(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function zDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(e)}function $De(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(e)}function VDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(e)}function qDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function GDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function zY(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(e)}function YDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(e)}function WDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function KDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function QDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function XDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function ZDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(e)}function JDe(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(e)}function e6e(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(e)}function t6e(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(e)}function zP(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(e)}let cT;async function n6e(){return cT||(cT=(async()=>{const[e,t]=await Promise.all([ll(()=>import("./module-RjUF93sV.js"),[]),ll(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),cT)}function r6e(e){const t=C.useRef(null),n=C.useRef(null);return n.current&&n.current.update(e),C.useEffect(()=>((async()=>{const{emojiMart:r}=await n6e();n.current=new r.Picker({...e,ref:t})})(),()=>{n.current=null}),[]),ge.createElement("div",{ref:t})}const $P=e=>{const[t,n]=C.useState(!1),r=nt(),s=Po();return p.jsxs(r.Generic.Popover.Root,{opened:t,children:[p.jsx(r.Generic.Popover.Trigger,{children:p.jsx("div",{onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!t)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.children})}),p.jsx(r.Generic.Popover.Content,{variant:"panel-popover",children:p.jsx(r6e,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:i=>{e.onEmojiSelect(i),n(!1)},theme:s?.colorSchemePreference})})]})};function s6e(e,t){return gM(e,[t]).get(t)}function gM(e,t){const n=e.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,s=C.useCallback(()=>{const a=new Map;for(const l of t){const u=r.getUser(l);u&&a.set(l,u)}return a},[r,t]),i=C.useMemo(()=>({current:s()}),[s]),o=C.useCallback(a=>{const l=r.subscribe(u=>{i.current=s(),a()});return r.loadUsers(t),l},[r,s,t,i]);return C.useSyncExternalStore(o,()=>i.current)}const i6e=e=>{const t=nt(),n=yt(),r=ut();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const s=e.comment.reactions.find(l=>l.emoji===e.emoji);if(!s)throw new Error("Trying to render reaction badge for non-existing reaction");const[i,o]=C.useState([]),a=gM(r,i);return p.jsx(t.Generic.Badge.Root,{className:$n("bn-badge","bn-comment-reaction"),text:s.userIds.length.toString(),icon:s.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(e.comment,s.emoji),onClick:()=>e.onReactionSelect(s.emoji),onMouseEnter:()=>o(s.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(a.values()).map(l=>l.username).join(`
`)}`},s.emoji)},o6e=({comment:e,thread:t,showResolveButton:n})=>{const r=ut();if(!r.comments)throw new Error("Comments plugin not found");const s=yt(),i=R0({initialContent:e.body,trailingBlock:!1,dictionary:{...s,placeholders:{emptyDocument:s.placeholders.edit_comment}},schema:r.comments.commentEditorSchema||pM},[e.body]),o=nt(),[a,l]=C.useState(!1);if(!r.comments)throw new Error("Comments plugin not found");const u=r.comments.threadStore,f=C.useCallback(()=>{l(!0)},[]),h=C.useCallback(()=>{i.replaceBlocks(i.document,e.body),l(!1)},[i,e.body]),g=C.useCallback(async j=>{await u.updateComment({commentId:e.id,comment:{body:i.document},threadId:t.id}),l(!1)},[e,t.id,i,u]),b=C.useCallback(async()=>{await u.deleteComment({commentId:e.id,threadId:t.id})},[e,t.id,u]),v=C.useCallback(async j=>{u.auth.canAddReaction(e,j)?await u.addReaction({threadId:t.id,commentId:e.id,emoji:j}):u.auth.canDeleteReaction(e,j)&&await u.deleteReaction({threadId:t.id,commentId:e.id,emoji:j})},[u,e,t.id]),x=C.useCallback(async()=>{await u.resolveThread({threadId:t.id})},[t.id,u]),w=C.useCallback(async()=>{await u.unresolveThread({threadId:t.id})},[t.id,u]),S=s6e(r,e.userId);if(!e.body)return null;let _;const N=u.auth.canAddReaction(e),M=u.auth.canDeleteComment(e),O=u.auth.canUpdateComment(e),R=n&&(t.resolved?u.auth.canUnresolveThread(t):u.auth.canResolveThread(t));a||(_=p.jsxs(o.Generic.Toolbar.Root,{className:$n("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[N&&p.jsx($P,{onEmojiSelect:j=>v(j.native),children:p.jsx(o.Generic.Toolbar.Button,{mainTooltip:s.comments.actions.add_reaction,variant:"compact",children:p.jsx(zP,{size:16})},"add-reaction")}),R&&(t.resolved?p.jsx(o.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:w,children:p.jsx(SDe,{size:16})},"reopen"):p.jsx(o.Generic.Toolbar.Button,{mainTooltip:s.comments.actions.resolve,variant:"compact",onClick:x,children:p.jsx(KDe,{size:16})},"resolve")),(M||O)&&p.jsxs(o.Generic.Menu.Root,{position:"bottom-start",children:[p.jsx(o.Generic.Menu.Trigger,{children:p.jsx(o.Generic.Toolbar.Button,{mainTooltip:s.comments.actions.more_actions,variant:"compact",children:p.jsx(e6e,{size:16})},"more-actions")}),p.jsxs(o.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[O&&p.jsx(o.Generic.Menu.Item,{icon:p.jsx(TDe,{}),onClick:f,children:s.comments.actions.edit_comment},"edit-comment"),M&&p.jsx(o.Generic.Menu.Item,{icon:p.jsx(XDe,{}),onClick:b,children:s.comments.actions.delete_comment},"delete-comment")]})]})]}));const I=e.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!e.body)throw new Error("soft deletes are not yet supported");return p.jsx(o.Comments.Comment,{authorInfo:S??"loading",timeString:I,edited:e.updatedAt.getTime()!==e.createdAt.getTime(),showActions:"hover",actions:_,className:"bn-thread-comment",children:p.jsx(hM,{autoFocus:a,editor:i,editable:a,actions:e.reactions.length>0||a?({isEmpty:j})=>p.jsxs(p.Fragment,{children:[e.reactions.length>0&&!a&&p.jsxs(o.Generic.Badge.Group,{className:$n("bn-badge-group","bn-comment-reactions"),children:[e.reactions.map(U=>p.jsx(i6e,{comment:e,emoji:U.emoji,onReactionSelect:v},U.emoji)),p.jsx($P,{onEmojiSelect:U=>v(U.native),children:p.jsx(o.Generic.Badge.Root,{className:$n("bn-badge","bn-comment-add-reaction"),text:"+",icon:p.jsx(zP,{size:16}),mainTooltip:s.comments.actions.add_reaction})})]}),a&&p.jsxs(o.Generic.Toolbar.Root,{variant:"action-toolbar",className:$n("bn-action-toolbar","bn-comment-actions"),children:[p.jsx(o.Generic.Toolbar.Button,{mainTooltip:s.comments.save_button_text,variant:"compact",onClick:g,isDisabled:j,children:s.comments.save_button_text}),p.jsx(o.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:s.comments.cancel_button_text,variant:"compact",onClick:h,children:s.comments.cancel_button_text})]})]}):void 0})})},a6e=({thread:e,maxCommentsBeforeCollapse:t})=>{const n=nt(),r=yt(),s=ut(),i=gM(s,e.resolvedBy?[e.resolvedBy]:[]),o=e.comments.map((a,l)=>p.jsx(o6e,{thread:e,comment:a,showResolveButton:l===0},a.id));if(e.resolved&&e.resolvedUpdatedAt&&e.resolvedBy){if(!i.get(e.resolvedBy))throw new Error(`User ${e.resolvedBy} resolved thread ${e.id}, but their data could not be found.`);const a=e.comments.findLastIndex(l=>e.resolvedUpdatedAt.getTime()>l.createdAt.getTime())+1;o.splice(a,0,p.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:e.resolvedBy&&i.get(e.resolvedBy)||"loading",timeString:e.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:p.jsx("div",{className:"bn-resolved-text",children:r.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return t&&o.length>t&&o.splice(1,o.length-2,p.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:r.comments.sidebar.more_replies(e.comments.length-2)},"expand-prompt")),o},$Y=({thread:e,selected:t,referenceText:n,maxCommentsBeforeCollapse:r,onFocus:s,onBlur:i,tabIndex:o})=>{const a=nt(),l=yt(),u=ut(),f=u.comments;if(!f)throw new Error("Comments plugin not found");const h=R0({trailingBlock:!1,dictionary:{...l,placeholders:{emptyDocument:l.placeholders.comment_reply}},schema:u.comments.commentEditorSchema||pM}),g=C.useCallback(async()=>{await f.threadStore.addComment({comment:{body:h.document},threadId:e.id}),h.removeBlocks(h.document)},[f,h,e.id]);return p.jsxs(a.Comments.Card,{className:"bn-thread",headerText:n,onFocus:s,onBlur:i,selected:t,tabIndex:o,children:[p.jsx(a.Comments.CardSection,{className:"bn-thread-comments",children:p.jsx(a6e,{thread:e,maxCommentsBeforeCollapse:t?void 0:r||5})}),t&&p.jsx(a.Comments.CardSection,{className:"bn-thread-composer",children:p.jsx(hM,{autoFocus:!1,editable:!0,editor:h,actions:({isEmpty:b})=>b?null:p.jsx(a.Generic.Toolbar.Root,{variant:"action-toolbar",className:$n("bn-action-toolbar","bn-comment-actions"),children:p.jsx(a.Generic.Toolbar.Button,{mainTooltip:l.comments.save_button_text,variant:"compact",isDisabled:b,onClick:g,children:l.comments.save_button_text})})})})]})};function l6e(e){const t=e.comments;if(!t)throw new Error("Comments plugin not found");const n=t.threadStore,r=C.useRef(void 0);r.current||(r.current=n.getThreads());const s=C.useCallback(i=>n.subscribe(o=>{r.current=o,i()}),[n]);return C.useSyncExternalStore(s,()=>r.current)}const c6e=e=>{const t=ut();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=Cl(t.comments.onUpdate.bind(t.comments)),{isMounted:r,ref:s,style:i,getFloatingProps:o,setReference:a}=Xc(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[Io(10),Uc(),Xi()],onOpenChange:h=>{var g;h||((g=t.comments)==null||g.selectThread(void 0),t.focus())},...e.floatingOptions}),l=C.useCallback(()=>{var h;if(!(n!=null&&n.selectedThreadId))return;const g=(h=t.domElement)==null?void 0:h.querySelector(`[data-bn-thread-id="${n?.selectedThreadId}"]`);g&&a(g)},[a,t,n?.selectedThreadId]);C.useEffect(()=>{if(n!=null&&n.selectedThreadId)return t.onChange(()=>{l()})},[t,l,n?.selectedThreadId]),C.useLayoutEffect(l,[l]);const u=l6e(t);if(!r||!n||!n.selectedThreadId)return null;const f=e.floatingThread||$Y;return p.jsx("div",{ref:s,style:i,...o(),children:p.jsx(f,{thread:u.get(n.selectedThreadId),selected:!0})})},u6e=e=>{const t=nt(),n=yt(),{block:r}=e,s=ut(),[i,o]=C.useState(""),a=C.useCallback(f=>{o(f.currentTarget.value)},[]),l=C.useCallback(f=>{f.key==="Enter"&&(f.preventDefault(),s.updateBlock(r,{props:{name:s5(i),url:i}}))},[s,r,i]),u=C.useCallback(()=>{s.updateBlock(r,{props:{name:s5(i),url:i}})},[s,r,i]);return p.jsxs(t.FilePanel.TabPanel,{className:"bn-tab-panel",children:[p.jsx(t.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:i,onChange:a,onKeyDown:l,"data-test":"embed-input"}),p.jsx(t.FilePanel.Button,{className:"bn-button",onClick:u,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},d6e=e=>{var t,n;const r=nt(),s=yt(),{block:i,setLoading:o}=e,a=ut(),[l,u]=C.useState(!1);C.useEffect(()=>{l&&setTimeout(()=>{u(!1)},3e3)},[l]);const f=C.useCallback(b=>{if(b===null)return;async function v(x){if(o(!0),a.uploadFile!==void 0)try{let w=await a.uploadFile(x,i.id);typeof w=="string"&&(w={props:{name:x.name,url:w}}),a.updateBlock(i,w)}catch{u(!0)}finally{o(!1)}}v(b)},[i,a,o]),h=a.schema.blockSpecs[i.type],g=(n=(t=h.implementation.meta)==null?void 0:t.fileBlockAccept)!=null&&n.length?h.implementation.meta.fileBlockAccept.join(","):"*/*";return p.jsxs(r.FilePanel.TabPanel,{className:"bn-tab-panel",children:[p.jsx(r.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:g,placeholder:s.file_panel.upload.file_placeholder[i.type]||s.file_panel.upload.file_placeholder.file,value:null,onChange:f}),l&&p.jsx("div",{className:"bn-error-text",children:s.file_panel.upload.upload_error})]})},VY=e=>{const t=nt(),n=yt(),r=ut(),[s,i]=C.useState(!1),o=e.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:p.jsx(d6e,{block:e.block,setLoading:i})}]:[],{name:n.file_panel.embed.title,tabPanel:p.jsx(u6e,{block:e.block})}],[a,l]=C.useState(e.defaultOpenTab||o[0].name);return p.jsx(t.FilePanel.Root,{className:"bn-panel",defaultOpenTab:a,openTab:a,setOpenTab:l,tabs:o,loading:s})},f6e=e=>{const t=ut();if(!t.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=Cl(t.filePanel.onUpdate.bind(t.filePanel)),{isMounted:r,ref:s,style:i,getFloatingProps:o}=Xc(n?.show||!1,n?.referencePos||null,5e3,{placement:"bottom",middleware:[Io(10),Xi()],onOpenChange:h=>{h||(t.filePanel.closeMenu(),t.focus())},...e.floatingOptions});if(!r||!n)return null;const{show:a,referencePos:l,...u}=n,f=e.filePanel||VY;return p.jsx("div",{ref:s,style:i,...o(),children:p.jsx(f,{...u})})};function h6e(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Zc(e,t){fM(e,t),dM(e,t)}function bM(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Gs(e){const t=Po();if(e||(e=t?.editor),!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=e,[r,s]=C.useState(()=>{var o;return((o=n.getSelection())==null?void 0:o.blocks)||[n.getTextCursorPosition().block]}),i=C.useCallback(()=>{var o;return s(((o=n.getSelection())==null?void 0:o.blocks)||[n.getTextCursorPosition().block])},[n]);return Zc(i,n),r}const p6e={bold:RDe,italic:jDe,underline:zDe,strike:FDe,code:kDe};function m6e(e,t){return e in t.schema.styleSchema&&t.schema.styleSchema[e].type===e&&t.schema.styleSchema[e].propSchema==="boolean"}const U1=e=>{const t=yt(),n=nt(),r=ut(),s=m6e(e.basicTextStyle,r),i=Gs(r),[o,a]=C.useState(e.basicTextStyle in r.getActiveStyles());Zc(()=>{s&&a(e.basicTextStyle in r.getActiveStyles())},r);const l=f=>{if(r.focus(),!!s){if(r.schema.styleSchema[f].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[f]:!0})}};if(!C.useMemo(()=>s?!!i.find(f=>f.content!==void 0):!1,[s,i])||!r.isEditable)return null;const u=p6e[e.basicTextStyle];return p.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":e.basicTextStyle,onClick:()=>l(e.basicTextStyle),isSelected:o,label:t.formatting_toolbar[e.basicTextStyle].tooltip,mainTooltip:t.formatting_toolbar[e.basicTextStyle].tooltip,secondaryTooltip:oi(t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,t.generic.ctrl_shortcut),icon:p.jsx(u,{})})},j_=e=>{const t=e.textColor||"default",n=e.backgroundColor||"default",r=e.size||16,s=C.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return p.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":t,style:s,children:"A"})},VP=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],Bw=e=>{const t=nt(),n=yt();return p.jsxs(p.Fragment,{children:[p.jsx(()=>e.text?p.jsxs(p.Fragment,{children:[p.jsx(t.Generic.Menu.Label,{children:n.color_picker.text_title}),VP.map(r=>p.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.text.setColor(r)},"data-test":"text-color-"+r,icon:p.jsx(j_,{textColor:r,size:e.iconSize}),checked:e.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),p.jsx(()=>e.background?p.jsxs(p.Fragment,{children:[p.jsx(t.Generic.Menu.Label,{children:n.color_picker.background_title}),VP.map(r=>p.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.background.setColor(r)},"data-test":"background-color-"+r,icon:p.jsx(j_,{backgroundColor:r,size:e.iconSize}),checked:e.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function qP(e,t){return`${e}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${e}Color`].type===`${e}Color`&&t.schema.styleSchema[`${e}Color`].propSchema==="string"}const g6e=()=>{const e=nt(),t=yt(),n=ut(),r=qP("text",n),s=qP("background",n),i=Gs(n),[o,a]=C.useState(r&&n.getActiveStyles().textColor||"default"),[l,u]=C.useState(s&&n.getActiveStyles().backgroundColor||"default");Zc(()=>{r&&a(n.getActiveStyles().textColor||"default"),s&&u(n.getActiveStyles().backgroundColor||"default")},n);const f=C.useCallback(g=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");g==="default"?n.removeStyles({textColor:g}):n.addStyles({textColor:g}),setTimeout(()=>{n.focus()})},[n,r]),h=C.useCallback(g=>{if(!s)throw Error("Tried to set background color, but style does not exist in editor schema.");g==="default"?n.removeStyles({backgroundColor:g}):n.addStyles({backgroundColor:g}),setTimeout(()=>{n.focus()})},[s,n]);return!C.useMemo(()=>{if(!r&&!s)return!1;for(const g of i)if(g.content!==void 0)return!0;return!1},[s,i,r])||!n.isEditable?null:p.jsxs(e.Generic.Menu.Root,{children:[p.jsx(e.Generic.Menu.Trigger,{children:p.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:t.formatting_toolbar.colors.tooltip,mainTooltip:t.formatting_toolbar.colors.tooltip,icon:p.jsx(j_,{textColor:o,backgroundColor:l,size:20})})}),p.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:p.jsx(Bw,{text:r?{color:o,setColor:f}:void 0,background:s?{color:l,setColor:h}:void 0})})]})},GP=e=>{for(const t of TY)if(e.startsWith(t))return e;return`${kY}://${e}`},qY=e=>{const t=nt(),n=yt(),{url:r,text:s,editLink:i,showTextField:o}=e,[a,l]=C.useState(r),[u,f]=C.useState(s);C.useEffect(()=>{l(r),f(s)},[s,r]);const h=C.useCallback(x=>{x.key==="Enter"&&(x.preventDefault(),i(GP(a),u))},[i,a,u]),g=C.useCallback(x=>l(x.currentTarget.value),[]),b=C.useCallback(x=>f(x.currentTarget.value),[]),v=C.useCallback(()=>i(GP(a),u),[i,a,u]);return p.jsxs(t.Generic.Form.Root,{children:[p.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:p.jsx(PY,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:a,onKeyDown:h,onChange:g,onSubmit:v}),o!==!1&&p.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:p.jsx(mM,{}),placeholder:n.link_toolbar.form.title_placeholder,value:u,onKeyDown:h,onChange:b,onSubmit:v})]})};function b6e(e){return"link"in e.schema.inlineContentSchema&&e.schema.inlineContentSchema.link==="link"}const y6e=()=>{const e=ut(),t=nt(),n=yt(),r=b6e(e),s=Gs(e),[i,o]=C.useState(!1),[a,l]=C.useState(e.getSelectedLinkUrl()||""),[u,f]=C.useState(e.getSelectedText());Zc(()=>{f(e.getSelectedText()||""),l(e.getSelectedLinkUrl()||"")},e),C.useEffect(()=>{const b=v=>{(v.ctrlKey||v.metaKey)&&v.key==="k"&&(o(!0),v.preventDefault())};if(!e.headless)return e.prosemirrorView.dom.addEventListener("keydown",b),()=>{e.prosemirrorView.dom.removeEventListener("keydown",b)}},[e.prosemirrorView,e.headless]);const h=C.useCallback(b=>{e.createLink(b),o(!1),e.focus()},[e]),g=e.transact(b=>Vk(b.selection));return!C.useMemo(()=>{if(!r)return!1;for(const b of s)if(b.content===void 0)return!1;return!g},[r,s,g])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:p.jsxs(t.Generic.Popover.Root,{opened:i,children:[p.jsx(t.Generic.Popover.Trigger,{children:p.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:n.formatting_toolbar.link.tooltip,mainTooltip:n.formatting_toolbar.link.tooltip,secondaryTooltip:oi(n.formatting_toolbar.link.secondary_tooltip,n.generic.ctrl_shortcut),icon:p.jsx(PY,{}),onClick:()=>o(!0)})}),p.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:p.jsx(qY,{url:a,text:u,editLink:h,showTextField:!1})})]})},v6e=()=>{const e=yt(),t=nt(),n=ut(),[r,s]=C.useState(),i=Gs(n),o=C.useMemo(()=>{if(i.length!==1)return;const u=i[0];if(ui(u,n,u.type,{url:"string",caption:"string"}))return s(u.props.caption),u},[n,i]),a=C.useCallback(u=>{o&&Ln(n,o.type,{caption:"string"})&&u.key==="Enter"&&(u.preventDefault(),n.updateBlock(o,{props:{caption:r}}))},[r,n,o]),l=C.useCallback(u=>s(u.currentTarget.value),[]);return!o||o.props.url===""||!n.isEditable?null:p.jsxs(t.Generic.Popover.Root,{children:[p.jsx(t.Generic.Popover.Trigger,{children:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_caption.tooltip,mainTooltip:e.formatting_toolbar.file_caption.tooltip,icon:p.jsx(UP,{}),isSelected:o.props.caption!==""})}),p.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:p.jsx(t.Generic.Form.Root,{children:p.jsx(t.Generic.Form.TextInput,{name:"file-caption",icon:p.jsx(UP,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_caption.input_placeholder,onKeyDown:a,onChange:l})})})]})},x6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),s=C.useMemo(()=>{if(r.length!==1)return;const o=r[0];if(ui(o,n,o.type,{url:"string"}))return o},[n,r]),i=C.useCallback(()=>{n.focus(),n.removeBlocks([s])},[n,s]);return!s||s.props.url===""||!n.isEditable?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_delete.tooltip[s.type]||e.formatting_toolbar.file_delete.tooltip.file,mainTooltip:e.formatting_toolbar.file_delete.tooltip[s.type]||e.formatting_toolbar.file_delete.tooltip.file,icon:p.jsx(QDe,{}),onClick:i})},w6e=()=>{const e=yt(),t=nt(),n=ut(),[r,s]=C.useState(),i=Gs(n),o=C.useMemo(()=>{if(i.length!==1)return;const u=i[0];if(ui(u,n,u.type,{url:"string",name:"string"}))return s(u.props.name),u},[n,i]),a=C.useCallback(u=>{o&&Ln(n,o.type,{name:"string"})&&u.key==="Enter"&&(u.preventDefault(),n.updateBlock(o,{props:{name:r}}))},[r,n,o]),l=C.useCallback(u=>s(u.currentTarget.value),[]);return!o||o.props.name===""||!n.isEditable?null:p.jsxs(t.Generic.Popover.Root,{children:[p.jsx(t.Generic.Popover.Trigger,{children:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_rename.tooltip[o.type]||e.formatting_toolbar.file_rename.tooltip.file,mainTooltip:e.formatting_toolbar.file_rename.tooltip[o.type]||e.formatting_toolbar.file_rename.tooltip.file,icon:p.jsx(FP,{})})}),p.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:p.jsx(t.Generic.Form.Root,{children:p.jsx(t.Generic.Form.TextInput,{name:"file-name",icon:p.jsx(FP,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_rename.input_placeholder[o.type]||e.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:a,onChange:l})})})]})},E6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),[s,i]=C.useState(!1);C.useEffect(()=>{i(!1)},[r]);const o=r.length===1?r[0]:void 0;return o===void 0||!ui(o,n,o.type,{url:"string"})||!n.isEditable?null:p.jsxs(t.Generic.Popover.Root,{opened:s,position:"bottom",children:[p.jsx(t.Generic.Popover.Trigger,{children:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",onClick:()=>i(!s),isSelected:s,mainTooltip:e.formatting_toolbar.file_replace.tooltip[o.type]||e.formatting_toolbar.file_replace.tooltip.file,label:e.formatting_toolbar.file_replace.tooltip[o.type]||e.formatting_toolbar.file_replace.tooltip.file,icon:p.jsx(GDe,{})})}),p.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:p.jsx(VY,{block:o})})]})},C6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),[s,i]=C.useState(()=>n.canNestBlock());Zc(()=>{i(n.canNestBlock())},n);const o=C.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!C.useMemo(()=>!r.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:o,isDisabled:!s,label:e.formatting_toolbar.nest.tooltip,mainTooltip:e.formatting_toolbar.nest.tooltip,secondaryTooltip:oi(e.formatting_toolbar.nest.secondary_tooltip,e.generic.ctrl_shortcut),icon:p.jsx(LDe,{})})},S6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),[s,i]=C.useState(()=>n.canUnnestBlock());Zc(()=>{i(n.canUnnestBlock())},n);const o=C.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!C.useMemo(()=>!r.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:o,isDisabled:!s,label:e.formatting_toolbar.unnest.tooltip,mainTooltip:e.formatting_toolbar.unnest.tooltip,secondaryTooltip:oi(e.formatting_toolbar.unnest.secondary_tooltip,e.generic.ctrl_shortcut),icon:p.jsx(DDe,{})})},T6e=e=>[{name:e.slash_menu.paragraph.title,type:"paragraph",icon:mM,isSelected:t=>t.type==="paragraph"},{name:e.slash_menu.heading.title,type:"heading",props:{level:1},icon:Qv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===1},{name:e.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:Xv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===2},{name:e.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:Zv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===3},{name:e.slash_menu.heading_4.title,type:"heading",props:{level:4},icon:DY,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===4},{name:e.slash_menu.heading_5.title,type:"heading",props:{level:5},icon:LY,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===5},{name:e.slash_menu.heading_6.title,type:"heading",props:{level:6},icon:jY,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===6},{name:e.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:Qv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===1&&"isToggleable"in t.props&&t.props.isToggleable},{name:e.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:Xv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===2&&"isToggleable"in t.props&&t.props.isToggleable},{name:e.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:Zv,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===3&&"isToggleable"in t.props&&t.props.isToggleable},{name:e.slash_menu.quote.title,type:"quote",icon:UY,isSelected:t=>t.type==="quote"},{name:e.slash_menu.toggle_list.title,type:"toggleListItem",icon:zY,isSelected:t=>t.type==="toggleListItem"},{name:e.slash_menu.bullet_list.title,type:"bulletListItem",icon:FY,isSelected:t=>t.type==="bulletListItem"},{name:e.slash_menu.numbered_list.title,type:"numberedListItem",icon:HY,isSelected:t=>t.type==="numberedListItem"},{name:e.slash_menu.check_list.title,type:"checkListItem",icon:BY,isSelected:t=>t.type==="checkListItem"}],k6e=e=>{const t=nt(),n=yt(),r=ut(),s=Gs(r),[i,o]=C.useState(r.getTextCursorPosition().block),a=C.useMemo(()=>(e.items||T6e(n)).filter(f=>f.type in r.schema.blockSchema),[r,n,e.items]),l=C.useMemo(()=>a.find(f=>f.type===i.type)!==void 0,[i.type,a]),u=C.useMemo(()=>{const f=h=>{r.focus(),r.transact(()=>{for(const g of s)r.updateBlock(g,{type:h.type,props:h.props})})};return a.map(h=>{const g=h.icon;return{text:h.name,icon:p.jsx(g,{size:16}),onClick:()=>f(h),isSelected:h.isSelected(i)}})},[i,a,r,s]);return Zc(()=>{o(r.getTextCursorPosition().block)},r),!l||!r.isEditable?null:p.jsx(t.FormattingToolbar.Select,{className:"bn-select",items:u})},_6e=()=>{const e=yt(),t=nt(),n=ut(),r=C.useCallback(()=>{var s;(s=n.comments)==null||s.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:p.jsx(IY,{}),onClick:r}):null},N6e=()=>{const e=yt(),t=nt(),n=ut(),r=C.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:p.jsx(IY,{}),onClick:r})};function P_(e,t){try{const n=new URL(e,t);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const A6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),s=C.useMemo(()=>{if(r.length!==1)return;const o=r[0];if(ui(o,n,o.type,{url:"string"}))return o},[n,r]),i=C.useCallback(()=>{s&&s.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(s.props.url).then(o=>window.open(P_(o,window.location.href))):window.open(P_(s.props.url,window.location.href)))},[n,s]);return!s||s.props.url===""?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_download.tooltip[s.type]||e.formatting_toolbar.file_download.tooltip.file,mainTooltip:e.formatting_toolbar.file_download.tooltip[s.type]||e.formatting_toolbar.file_download.tooltip.file,icon:p.jsx(ZDe,{}),onClick:i})},M6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),s=C.useMemo(()=>{if(r.length!==1)return;const o=r[0];if(ui(o,n,o.type,{url:"string",showPreview:"boolean"}))return o},[n,r]),i=C.useCallback(()=>{s&&Ln(n,s.type,{showPreview:"boolean"})&&n.updateBlock(s,{props:{showPreview:!s.props.showPreview}})},[n,s]);return!s||s.props.url===""||!n.isEditable?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:e.formatting_toolbar.file_preview_toggle.tooltip,icon:p.jsx(qDe,{}),isSelected:s.props.showPreview,onClick:i})},O6e=()=>{const e=yt(),t=nt(),n=ut(),r=Gs(n),s=C.useMemo(()=>{var o;if(r.length!==1)return;const a=r[0];if(a.type==="table")return(o=n.tableHandles)==null?void 0:o.getMergeDirection(a)},[n,r]),i=C.useCallback(()=>{var o;(o=n.tableHandles)==null||o.mergeCells()},[n]);return!n.isEditable||s===void 0||!n.settings.tables.splitCells?null:p.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:e.formatting_toolbar.table_cell_merge.tooltip,icon:s==="horizontal"?p.jsx(BDe,{}):p.jsx(HDe,{}),onClick:i})},R6e={left:MDe,center:NDe,right:ODe,justify:ADe},uT=e=>{const t=nt(),n=yt(),r=ut(),s=Gs(r),i=C.useMemo(()=>{var l;const u=s[0];if(ui(u,r,u.type,{textAlignment:Wt.textAlignment}))return u.props.textAlignment;if(u.type==="table"){const f=(l=r.tableHandles)==null?void 0:l.getCellSelection();if(!f)return;const h=f.cells.map(({row:b,col:v})=>Oc(u.content.rows[b].cells[v]).props.textAlignment),g=h[0];if(h.every(b=>b===g))return g}},[r,s]),o=C.useCallback(l=>{var u;r.focus();for(const f of s)if(ui(f,r,f.type,{textAlignment:Wt.textAlignment})&&Ln(r,f.type,{textAlignment:Wt.textAlignment}))r.updateBlock(f,{props:{textAlignment:l}});else if(f.type==="table"){const h=(u=r.tableHandles)==null?void 0:u.getCellSelection();if(!h)continue;const g=f.content.rows.map(b=>({...b,cells:b.cells.map(v=>Oc(v))}));h.cells.forEach(({row:b,col:v})=>{g[b].cells[v].props.textAlignment=l}),r.updateBlock(f,{type:"table",content:{...f.content,type:"tableContent",rows:g}}),r.setTextCursorPosition(f)}},[r,s]);if(!C.useMemo(()=>!!s.find(l=>ui(l,r,l.type,{textAlignment:Wt.textAlignment})||l.type==="table"&&l.children),[r,s])||!r.isEditable)return null;const a=R6e[e.textAlignment];return p.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${e.textAlignment.slice(0,1).toUpperCase()+e.textAlignment.slice(1)}`,onClick:()=>o(e.textAlignment),isSelected:i===e.textAlignment,label:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,icon:p.jsx(a,{})})},GY=e=>[p.jsx(k6e,{items:e},"blockTypeSelect"),p.jsx(O6e,{},"tableCellMergeButton"),p.jsx(v6e,{},"fileCaptionButton"),p.jsx(E6e,{},"replaceFileButton"),p.jsx(w6e,{},"fileRenameButton"),p.jsx(x6e,{},"fileDeleteButton"),p.jsx(A6e,{},"fileDownloadButton"),p.jsx(M6e,{},"filePreviewButton"),p.jsx(U1,{basicTextStyle:"bold"},"boldStyleButton"),p.jsx(U1,{basicTextStyle:"italic"},"italicStyleButton"),p.jsx(U1,{basicTextStyle:"underline"},"underlineStyleButton"),p.jsx(U1,{basicTextStyle:"strike"},"strikeStyleButton"),p.jsx(uT,{textAlignment:"left"},"textAlignLeftButton"),p.jsx(uT,{textAlignment:"center"},"textAlignCenterButton"),p.jsx(uT,{textAlignment:"right"},"textAlignRightButton"),p.jsx(g6e,{},"colorStyleButton"),p.jsx(C6e,{},"nestBlockButton"),p.jsx(S6e,{},"unnestBlockButton"),p.jsx(y6e,{},"createLinkButton"),p.jsx(_6e,{},"addCommentButton"),p.jsx(N6e,{},"addTiptapCommentButton")],YY=e=>{const t=nt();return p.jsx(t.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:e.children||GY(e.blockTypeSelectItems)})},YP=e=>{switch(e){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},WY=e=>{const t=C.useRef(null),n=ut(),[r,s]=C.useState(()=>{const g=n.getTextCursorPosition().block;return"textAlignment"in g.props?YP(g.props.textAlignment):"top-start"});Zc(()=>{const g=n.getTextCursorPosition().block;"textAlignment"in g.props?s(YP(g.props.textAlignment)):s("top-start")},n);const i=Cl(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:o,ref:a,style:l,getFloatingProps:u}=Xc(i?.show||!1,i?.referencePos||null,3e3,{placement:r,middleware:[Io(10),Uc(),Xi()],onOpenChange:(g,b)=>{g||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:g=>{var b;const v=(b=n._tiptapEditor)==null?void 0:b.view;return!v||!g.target?!1:!h6e(g,v.dom.parentElement)}},...e.floatingOptions}),f=C.useMemo(()=>bM([t,a]),[t,a]);if(!o||!i)return null;if(!i.show&&t.current)return p.jsx("div",{ref:f,style:l,dangerouslySetInnerHTML:{__html:t.current.innerHTML}});const h=e.formattingToolbar||YY;return p.jsx("div",{ref:f,style:l,...u(),children:p.jsx(h,{})})},I6e=e=>{const t=nt(),n=yt();return p.jsx(t.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:e.deleteLink,icon:p.jsx(PDe,{})})},D6e=e=>{const t=nt(),n=yt();return p.jsxs(t.Generic.Popover.Root,{children:[p.jsx(t.Generic.Popover.Trigger,{children:p.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),p.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:p.jsx(qY,{...e})})]})},L6e=e=>{const t=nt(),n=yt();return p.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(P_(e.url,window.location.href),"_blank")},icon:p.jsx(JDe,{})})},j6e=e=>{const t=nt();return p.jsx(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:e.stopHideTimer,onMouseLeave:e.startHideTimer,children:e.children||p.jsxs(p.Fragment,{children:[p.jsx(D6e,{url:e.url,text:e.text,editLink:e.editLink}),p.jsx(L6e,{url:e.url}),p.jsx(I6e,{deleteLink:e.deleteLink})]})})},P6e=e=>{const t=ut(),n={deleteLink:t.linkToolbar.deleteLink,editLink:t.linkToolbar.editLink,startHideTimer:t.linkToolbar.startHideTimer,stopHideTimer:t.linkToolbar.stopHideTimer},r=Cl(t.linkToolbar.onUpdate.bind(t.linkToolbar)),{isMounted:s,ref:i,style:o,getFloatingProps:a}=Xc(r?.show||!1,r?.referencePos||null,4e3,{placement:"top-start",middleware:[Io(10),Xi()],onOpenChange:g=>{g||(t.linkToolbar.closeMenu(),t.focus())},...e.floatingOptions});if(!s||!r)return null;const{show:l,referencePos:u,...f}=r,h=e.linkToolbar||j6e;return p.jsx("div",{ref:i,style:o,...a(),children:p.jsx(h,{...f,...n})})};function B6e(e){return at({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}const H6e=e=>{const t=nt(),n=yt(),r=ut(),s=C.useCallback(()=>{const i=e.block.content;if(i!==void 0&&Array.isArray(i)&&i.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const o=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(o),r.openSuggestionMenu("/")}},[r,e.block]);return p.jsx(t.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:p.jsx(B6e,{size:24,onClick:s,"data-test":"dragHandleAdd"})})};function KY(e){return at({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function F6e(e){return at({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}const U6e=e=>{const t=nt(),n=ut(),r=e.block;return!ui(r,n,r.type,{textColor:"string"})&&!ui(r,n,r.type,{backgroundColor:"string"})?null:p.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[p.jsx(t.Generic.Menu.Trigger,{sub:!0,children:p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children})}),p.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:p.jsx(Bw,{iconSize:18,text:ui(r,n,r.type,{textColor:"string"})&&Ln(n,r.type,{textColor:"string"})?{color:r.props.textColor,setColor:s=>n.updateBlock(r,{type:r.type,props:{textColor:s}})}:void 0,background:ui(r,n,r.type,{backgroundColor:"string"})&&Ln(n,r.type,{backgroundColor:"string"})?{color:r.props.backgroundColor,setColor:s=>n.updateBlock(r,{props:{backgroundColor:s}})}:void 0})})]})},z6e=e=>{const t=nt(),n=ut();return p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([e.block]),children:e.children})},$6e=e=>{const t=nt(),n=ut();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerRows;return p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const s=n.getBlock(e.block.id);s&&n.updateBlock(s,{...s,content:{...s.content,headerRows:r?void 0:1}})},children:e.children})},V6e=e=>{const t=nt(),n=ut();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerCols;return p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(e.block,{type:"table",content:{...e.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:e.children})},q6e=e=>{const t=nt(),n=yt();return p.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||p.jsxs(p.Fragment,{children:[p.jsx(z6e,{...e,children:n.drag_handle.delete_menuitem}),p.jsx(U6e,{...e,children:n.drag_handle.colors_menuitem}),p.jsx($6e,{...e,children:n.drag_handle.header_row_menuitem}),p.jsx(V6e,{...e,children:n.drag_handle.header_column_menuitem})]})})},G6e=e=>{const t=nt(),n=yt(),r=e.dragHandleMenu||q6e;return p.jsxs(t.Generic.Menu.Root,{onOpenChange:s=>{s?e.freezeMenu():e.unfreezeMenu()},position:"left",children:[p.jsx(t.Generic.Menu.Trigger,{children:p.jsx(t.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:s=>e.blockDragStart(s,e.block),onDragEnd:e.blockDragEnd,className:"bn-button",icon:p.jsx(KY,{size:24,"data-test":"dragHandle"})})}),p.jsx(r,{block:e.block,children:e.children})]})},Y6e=e=>{const t=nt(),n=C.useMemo(()=>{var r;const s={"data-block-type":e.block.type};return e.block.type==="heading"&&(s["data-level"]=e.block.props.level.toString()),(r=e.editor.schema.blockSpecs[e.block.type].implementation.meta)!=null&&r.fileBlockAccept&&(e.block.props.url?s["data-url"]="true":s["data-url"]="false"),s},[e.block.props,e.block.type,e.editor.schema.blockSpecs]);return p.jsx(t.SideMenu.Root,{className:"bn-side-menu",...n,children:e.children||p.jsxs(p.Fragment,{children:[p.jsx(H6e,{...e}),p.jsx(G6e,{...e})]})})},W6e=e=>{const t=ut(),n={blockDragStart:t.sideMenu.blockDragStart,blockDragEnd:t.sideMenu.blockDragEnd,freezeMenu:t.sideMenu.freezeMenu,unfreezeMenu:t.sideMenu.unfreezeMenu},r=Cl(t.sideMenu.onUpdate.bind(t.sideMenu)),{isMounted:s,ref:i,style:o,getFloatingProps:a}=Xc(r?.show||!1,r?.referencePos||null,1e3,{placement:"left-start",...e.floatingOptions});if(!s||!r)return null;const{show:l,referencePos:u,...f}=r,h=e.sideMenu||Y6e;return p.jsx("div",{ref:i,style:o,...a(),children:p.jsx(h,{...f,...n,editor:t})})};async function K6e(e,t){return(await dDe(e,t)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function Q6e(e){const t=nt(),n=yt(),{items:r,loadingState:s,selectedIndex:i,onItemClick:o,columns:a}=e,l=s==="loading-initial"||s==="loading"?p.jsx(t.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:a}):null,u=C.useMemo(()=>{const f=[];for(let h=0;h<r.length;h++){const g=r[h];f.push(p.jsx(t.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:g,id:`bn-grid-suggestion-menu-item-${h}`,isSelected:h===i,onClick:()=>o?.(g)},g.id))}return f},[t,r,o,i]);return p.jsxs(t.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:a,className:"bn-grid-suggestion-menu",children:[l,u,u.length===0&&e.loadingState==="loaded"&&p.jsx(t.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:a,children:n.suggestion_menu.no_items_title})]})}function QY(e,t,n,r=3){const s=C.useRef(0);C.useEffect(()=>{t!==void 0&&(e.length>0?s.current=t.length:t.length-s.current>r&&n())},[n,r,e.length,t])}function XY(e,t){const[n,r]=C.useState([]),[s,i]=C.useState(!1),o=C.useRef(void 0),a=C.useRef(void 0);return C.useEffect(()=>{const l=e;o.current=e,i(!0),t(e).then(u=>{o.current===l&&(r(u),i(!1),a.current=l)})},[e,t]),{items:n||[],usedQuery:a.current,loadingState:a.current===void 0?"loading-initial":s?"loading":"loaded"}}function X6e(e,t,n,r,s){const[i,o]=C.useState(0),a=r!==void 0&&r>1;return C.useEffect(()=>{var l;const u=f=>(f.key==="ArrowLeft"&&(f.preventDefault(),n.length&&o((i-1+n.length)%n.length)),f.key==="ArrowRight"&&(f.preventDefault(),n.length&&o((i+1+n.length)%n.length)),f.key==="ArrowUp"?(f.preventDefault(),n.length&&o((i-r+n.length)%n.length),!0):f.key==="ArrowDown"?(f.preventDefault(),n.length&&o((i+r)%n.length),!0):f.key==="Enter"&&!f.isComposing?(f.stopPropagation(),f.preventDefault(),n.length&&s?.(n[i]),!0):!1);return(l=e.domElement)==null||l.addEventListener("keydown",u,!0),()=>{var f;(f=e.domElement)==null||f.removeEventListener("keydown",u,!0)}},[e.domElement,n,i,s,r,a]),C.useEffect(()=>{o(0)},[t]),{selectedIndex:n.length===0?void 0:i}}function Z6e(e){const t=Po().setContentEditableProps,n=ut(),{getItems:r,gridSuggestionMenuComponent:s,query:i,clearQuery:o,closeMenu:a,onItemClick:l,columns:u}=e,f=C.useCallback(x=>{a(),o(),l?.(x)},[l,a,o]),{items:h,usedQuery:g,loadingState:b}=XY(i,r);QY(h,g,a);const{selectedIndex:v}=X6e(n,i,h,u,f);return C.useEffect(()=>(t(x=>({...x,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(x=>({...x,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(x=>({...x,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{t(x=>({...x,"aria-activedescendant":void 0}))}),[t,v]),p.jsx(s,{items:h,onItemClick:f,loadingState:b,selectedIndex:v,columns:u})}function J6e(e){const t=ut(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:s,minQueryLength:i,onItemClick:o,getItems:a,floatingOptions:l}=e,u=C.useMemo(()=>o||(_=>{_.onItemClick(t)}),[t,o]),f=C.useMemo(()=>a||(async _=>await K6e(t,_)),[t,a]),h={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},g=C.useCallback(_=>t.suggestionMenus.onUpdate(n,_),[t.suggestionMenus,n]),b=Cl(g),{isMounted:v,ref:x,style:w,getFloatingProps:S}=Xc(b?.show||!1,b?.referencePos||null,2e3,{placement:"bottom-start",middleware:[Io(10),Xi(),t0({apply({availableHeight:_,elements:N}){Object.assign(N.floating.style,{maxHeight:`${_-10}px`})}})],onOpenChange(_){_||t.suggestionMenus.closeMenu()},...l});return!v||!b||!(b!=null&&b.ignoreQueryLength)&&i&&(b.query.startsWith(" ")||b.query.length<i)?null:p.jsx("div",{ref:x,style:w,...S(),children:p.jsx(Z6e,{query:b.query,closeMenu:h.closeMenu,clearQuery:h.clearQuery,getItems:f,columns:s,gridSuggestionMenuComponent:r||Q6e,onItemClick:u})})}function eLe(e){const t=nt(),n=yt(),{items:r,loadingState:s,selectedIndex:i,onItemClick:o}=e,a=s==="loading-initial"||s==="loading"?p.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let u;const f=[];for(let h=0;h<r.length;h++){const g=r[h];g.group!==u&&(u=g.group,f.push(p.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:u},u))),f.push(p.jsx(t.SuggestionMenu.Item,{className:$n("bn-suggestion-menu-item",g.size==="small"?"bn-suggestion-menu-item-small":""),item:g,id:`bn-suggestion-menu-item-${h}`,isSelected:h===i,onClick:()=>o?.(g)},g.title))}return f},[t,r,o,i]);return p.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&p.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),a]})}function tLe(e,t){const[n,r]=C.useState(0);return{selectedIndex:n,setSelectedIndex:r,handler:s=>{if(s.key==="ArrowUp")return s.preventDefault(),e.length&&r((n-1+e.length)%e.length),!0;if(s.key==="ArrowDown")return s.preventDefault(),e.length&&r((n+1)%e.length),!0;const i=nLe(s)?s.nativeEvent.isComposing:s.isComposing;return s.key==="Enter"&&!i?(s.preventDefault(),s.stopPropagation(),e.length&&t?.(e[n]),!0):!1}}}function nLe(e){return e.nativeEvent!==void 0}function rLe(e,t,n,r,s){const{selectedIndex:i,setSelectedIndex:o,handler:a}=tLe(n,r);return C.useEffect(()=>{var l;return(l=e.domElement)==null||l.addEventListener("keydown",a,!0),()=>{var u;(u=e.domElement)==null||u.removeEventListener("keydown",a,!0)}},[e.domElement,n,i,r,s,a]),C.useEffect(()=>{o(0)},[t,o]),{selectedIndex:n.length===0?void 0:i}}function sLe(e){const t=Po().setContentEditableProps,n=ut(),{getItems:r,suggestionMenuComponent:s,query:i,clearQuery:o,closeMenu:a,onItemClick:l}=e,u=C.useCallback(v=>{a(),o(),l?.(v)},[l,a,o]),{items:f,usedQuery:h,loadingState:g}=XY(i,r);QY(f,h,a);const{selectedIndex:b}=rLe(n,i,f,u);return C.useEffect(()=>(t(v=>({...v,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(v=>({...v,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(v=>({...v,"aria-activedescendant":b?"bn-suggestion-menu-item-"+b:void 0})),()=>{t(v=>({...v,"aria-activedescendant":void 0}))}),[t,b]),p.jsx(s,{items:f,onItemClick:u,loadingState:g,selectedIndex:b})}const iLe={heading:Qv,heading_2:Xv,heading_3:Zv,heading_4:DY,heading_5:LY,heading_6:jY,toggle_heading:Qv,toggle_heading_2:Xv,toggle_heading_3:Zv,quote:UY,toggle_list:zY,numbered_list:HY,bullet_list:FY,check_list:BY,paragraph:mM,table:UDe,image:VDe,video:$De,audio:YDe,file:_De,emoji:t6e,code_block:IDe};function oLe(e){return Jye(e).map(t=>{const n=iLe[t.key];return{...t,icon:p.jsx(n,{size:18})}})}function aLe(e){const t=ut(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:s,onItemClick:i,getItems:o,floatingOptions:a}=e,l=C.useMemo(()=>i||(S=>{S.onItemClick(t)}),[t,i]),u=C.useMemo(()=>o||(async S=>eve(oLe(t),S)),[t,o]),f={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},h=C.useCallback(S=>t.suggestionMenus.onUpdate(n,S),[t.suggestionMenus,n]),g=Cl(h),{isMounted:b,ref:v,style:x,getFloatingProps:w}=Xc(g?.show||!1,g?.referencePos||null,2e3,{placement:"bottom-start",middleware:[Io(10),Xi({mainAxis:!0,crossAxis:!1}),Uc(),t0({apply({availableHeight:S,elements:_}){Object.assign(_.floating.style,{maxHeight:`${S-10}px`,minHeight:"300px"})}})],onOpenChange(S){S||t.suggestionMenus.closeMenu()},...a});return!b||!g||!(g!=null&&g.ignoreQueryLength)&&s&&(g.query.startsWith(" ")||g.query.length<s)?null:p.jsx("div",{ref:v,style:x,...w(),onMouseDown:S=>S.preventDefault(),children:p.jsx(sLe,{query:g.query,closeMenu:f.closeMenu,clearQuery:f.clearQuery,getItems:u,suggestionMenuComponent:r||eLe,onItemClick:l})})}const lLe=(e,t=.3)=>{const n=Math.floor(e)+t,r=Math.ceil(e)-t;return e>=n&&e<=r?Math.round(e):e<n?Math.floor(e):Math.ceil(e)},cLe=e=>{const t=nt(),n=C.useRef(!1),[r,s]=C.useState(),i=C.useCallback(a=>{e.onMouseDown(),s({originalContent:e.block.content,originalCroppedContent:{rows:e.editor.tableHandles.cropEmptyRowsOrColumns(e.block,e.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:e.orientation==="addOrRemoveColumns"?a.clientX:a.clientY}),n.current=!1,a.preventDefault()},[e]),o=C.useCallback(()=>{n.current||e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns(e.block,"columns",1):e.editor.tableHandles.addRowsOrColumns(e.block,"rows",1)}})},[e.block,e.orientation,e.editor]);return C.useEffect(()=>{const a=l=>{var u,f;if(!r)throw new Error("editingState is undefined");n.current=!0;const h=(e.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-r.startPos,g=e.orientation==="addOrRemoveColumns"?((u=r.originalCroppedContent.rows[0])==null?void 0:u.cells.length)??0:r.originalCroppedContent.rows.length,b=e.orientation==="addOrRemoveColumns"?((f=r.originalContent.rows[0])==null?void 0:f.cells.length)??0:r.originalContent.rows.length,v=e.orientation==="addOrRemoveColumns"?e.block.content.rows[0].cells.length:e.block.content.rows.length,x=b+lLe(h/(e.orientation==="addOrRemoveColumns"?r3:Hye),.3);x>=g&&x>0&&x!==v&&(e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",x-g):e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",x-g)}}),e.block.content&&e.editor.setTextCursorPosition(e.block))};return r&&window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}},[r,e.block,e.editor,e.orientation]),C.useEffect(()=>{const a=e.onMouseUp,l=()=>{s(void 0),a()};return r&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[r,e.onMouseUp]),e.editor.isEditable?p.jsx(t.TableHandle.ExtendButton,{className:$n("bn-extend-button",e.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:o,onMouseDown:i,children:e.children||p.jsx(WDe,{size:18,"data-test":"extendButton"})}):null},WP=e=>{const t=nt(),n=yt(),r=ut().tableHandles;return r?p.jsx(t.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(e.index,e.orientation==="row"?{orientation:"row",side:e.side}:{orientation:"column",side:e.side})},children:n.table_handle[`add_${e.side}_menuitem`]}):null},uLe=e=>{const t=nt(),n=yt(),r=ut().tableHandles;return r?p.jsx(t.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(e.index,e.orientation)},children:e.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},dLe=e=>{const t=nt(),n=yt(),r=ut(),s=r.tableHandles,i=C.useMemo(()=>!s||!e.block?[]:e.orientation==="row"?s.getCellsAtRowHandle(e.block,e.index):s.getCellsAtColumnHandle(e.block,e.index),[e.block,e.index,e.orientation,s]),o=(l,u)=>{const f=e.block.content.rows.map(h=>({...h,cells:h.cells.map(g=>Oc(g))}));i.forEach(({row:h,col:g})=>{u==="text"?f[h].cells[g].props.textColor=l:f[h].cells[g].props.backgroundColor=l}),r.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:f}}),r.setTextCursorPosition(e.block)};if(!i||!i[0]||!s||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const a=Oc(i[0].cell);return p.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[p.jsx(t.Generic.Menu.Trigger,{sub:!0,children:p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||n.drag_handle.colors_menuitem})}),p.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:p.jsx(Bw,{iconSize:18,text:r.settings.tables.cellTextColor?{color:i.every(({cell:l})=>Rc(l)&&l.props.textColor===a.props.textColor)?a.props.textColor:"default",setColor:l=>{o(l,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:i.every(({cell:l})=>Rc(l)&&l.props.backgroundColor===a.props.backgroundColor)?a.props.backgroundColor:"default",setColor:l=>o(l,"background")}:void 0})})]})},fLe=e=>{const t=nt(),n=yt(),r=ut();if(!r.tableHandles||e.index!==0||e.orientation!=="row"||!r.settings.tables.headers)return null;const s=!!e.block.content.headerRows;return p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:s,onClick:()=>{const i=r.getBlock(e.block.id);i&&r.updateBlock(i,{...i,content:{...i.content,headerRows:s?void 0:1}})},children:n.drag_handle.header_row_menuitem})},hLe=e=>{const t=nt(),n=yt(),r=ut();if(!r.tableHandles||e.index!==0||e.orientation!=="column"||!r.settings.tables.headers)return null;const s=!!e.block.content.headerCols;return p.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:s,onClick:()=>{const i=r.getBlock(e.block.id);i&&r.updateBlock(i,{...i,content:{...i.content,headerCols:s?void 0:1}})},children:n.drag_handle.header_column_menuitem})},pLe=e=>{const t=nt();return p.jsx(t.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:e.children||p.jsxs(p.Fragment,{children:[p.jsx(uLe,{orientation:e.orientation,block:e.block,index:e.index}),p.jsx(WP,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"above":"left"}),p.jsx(WP,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"below":"right"}),p.jsx(fLe,{orientation:e.orientation,block:e.block,index:e.index}),p.jsx(hLe,{orientation:e.orientation,block:e.block,index:e.index}),p.jsx(dLe,{orientation:e.orientation,block:e.block,index:e.index})]})})},mLe=e=>{const t=nt(),[n,r]=C.useState(!1),s=e.tableHandleMenu||pLe,i=C.useMemo(()=>{const o=e.editor.tableHandles;return!o||!e.block||e.block.type!=="table"?!1:e.orientation==="column"?o.getCellsAtColumnHandle(e.block,e.index).every(({cell:a})=>id(a)===1):o.getCellsAtRowHandle(e.block,e.index).every(({cell:a})=>Ng(a)===1)},[e.block,e.editor.tableHandles,e.index,e.orientation]);return p.jsxs(t.Generic.Menu.Root,{onOpenChange:o=>{o?(e.freezeHandles(),e.hideOtherSide()):(e.unfreezeHandles(),e.showOtherSide(),e.editor.focus())},position:"right",children:[p.jsx(t.Generic.Menu.Trigger,{children:p.jsx(t.TableHandle.Root,{className:$n("bn-table-handle",n?"bn-table-handle-dragging":"",i?"":"bn-table-handle-not-draggable"),draggable:i,onDragStart:o=>{r(!0),e.dragStart(o)},onDragEnd:()=>{e.dragEnd(),r(!1)},style:e.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:e.children||p.jsx(KY,{size:24,"data-test":"tableHandle"})})}),Ki.createPortal(p.jsx(s,{orientation:e.orientation,block:e.block,index:e.index}),e.menuContainer)]})};function KP(e,t,n){const{refs:r,update:s,context:i,floatingStyles:o}=Vh({open:t,placement:e==="addOrRemoveColumns"?"right":"bottom",middleware:[t0({apply({rects:u,elements:f}){Object.assign(f.floating.style,e==="addOrRemoveColumns"?{height:`${u.reference.height}px`}:{width:`${u.reference.width}px`})}})]}),{isMounted:a,styles:l}=hA(i);return C.useEffect(()=>{s()},[n,s]),C.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[e,n,r]),C.useMemo(()=>({isMounted:a,ref:r.setFloating,style:{display:"flex",...l,...o}}),[o,a,r.setFloating,l])}function gLe(e,t,n){const r=KP("addOrRemoveRows",t,n),s=KP("addOrRemoveColumns",e,n);return C.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:s}),[s,r])}function bLe(e,t,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(t.x,n.mousePos,t.width,0):new DOMRect(t.x,e.y,t.width,e.height)}function yLe(e,t,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,t.y,0,t.height):new DOMRect(e.x,t.y,e.width,t.height)}function vLe(e){return new DOMRect(e.x,e.y,e.width,0)}function dT(e,t,n,r,s){const{refs:i,update:o,context:a,floatingStyles:l}=Vh({open:t,placement:e==="row"?"left":e==="col"?"top":"bottom-end",middleware:[Io(e==="row"?-10:e==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:u,styles:f}=hA(a);return C.useEffect(()=>{o()},[n,r,o]),C.useEffect(()=>{n===null||r===null||s&&e==="cell"||i.setReference({getBoundingClientRect:()=>(e==="row"?bLe:e==="col"?yLe:vLe)(n,r,s)})},[s,e,n,r,i]),C.useMemo(()=>({isMounted:u,ref:i.setFloating,style:{display:"flex",...f,...l}}),[l,u,i.setFloating,f])}function xLe(e,t,n,r){const s=dT("row",e,t,n,r),i=dT("col",e,t,n,r),o=dT("cell",e,t,n,r);return C.useMemo(()=>({rowHandle:s,colHandle:i,cellHandle:o}),[i,s,o])}const wLe=e=>{var t,n;const r=nt(),s=yt(),i=ut(),o=(l,u)=>{const f=e.block.content.rows.map(h=>({...h,cells:h.cells.map(g=>Oc(g))}));u==="text"?f[e.rowIndex].cells[e.colIndex].props.textColor=l:f[e.rowIndex].cells[e.colIndex].props.backgroundColor=l,i.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:f}}),i.setTextCursorPosition(e.block)},a=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!a||i.settings.tables.cellTextColor===!1&&i.settings.tables.cellBackgroundColor===!1?null:p.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[p.jsx(r.Generic.Menu.Trigger,{sub:!0,children:p.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||s.drag_handle.colors_menuitem})}),p.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:p.jsx(Bw,{iconSize:18,text:i.settings.tables.cellTextColor?{color:Rc(a)?a.props.textColor:"default",setColor:l=>o(l,"text")}:void 0,background:i.settings.tables.cellBackgroundColor?{color:Rc(a)?a.props.backgroundColor:"default",setColor:l=>o(l,"background")}:void 0})})]})},ELe=e=>{var t,n;const r=nt(),s=yt(),i=ut(),o=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!o||!Rc(o)||Ng(o)===1&&id(o)===1||!i.settings.tables.splitCells?null:p.jsx(r.Generic.Menu.Item,{onClick:()=>{var a;(a=i.tableHandles)==null||a.splitCell({row:e.rowIndex,col:e.colIndex})},children:s.table_handle.split_cell_menuitem})},CLe=e=>{const t=nt();return p.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-table-handle-menu",children:e.children||p.jsxs(p.Fragment,{children:[p.jsx(ELe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),p.jsx(wLe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex})]})})},SLe=e=>{const t=nt(),n=e.tableCellMenu||CLe;return!e.editor.settings.tables.splitCells&&!e.editor.settings.tables.cellBackgroundColor&&!e.editor.settings.tables.cellTextColor?null:p.jsxs(t.Generic.Menu.Root,{onOpenChange:r=>{r?e.freezeHandles():(e.unfreezeHandles(),e.editor.focus())},position:"right",children:[p.jsx(t.Generic.Menu.Trigger,{children:p.jsx(t.Generic.Menu.Button,{className:"bn-table-cell-handle",children:e.children||p.jsx(F6e,{size:12,"data-test":"tableCellHandle"})})}),Ki.createPortal(p.jsx(n,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),e.menuContainer)]})},TLe=e=>{var t,n;const r=ut(),[s,i]=C.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const o={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:a,unfreezeHandles:l}=o,u=C.useCallback(()=>{a(),O(!0),N(!0)},[a]),f=C.useCallback(()=>{l(),O(!1),N(!1)},[l]),h=Cl(r.tableHandles.onUpdate.bind(r.tableHandles)),g=C.useMemo(()=>{var U,P;return h!=null&&h.draggingState?{draggedCellOrientation:(U=h?.draggingState)==null?void 0:U.draggedCellOrientation,mousePos:(P=h?.draggingState)==null?void 0:P.mousePos}:void 0},[h?.draggingState,(t=h?.draggingState)==null?void 0:t.draggedCellOrientation,(n=h?.draggingState)==null?void 0:n.mousePos]),{rowHandle:b,colHandle:v,cellHandle:x}=xLe(h?.show||!1,h?.referencePosCell||null,h?.referencePosTable||null,g),{addOrRemoveColumnsButton:w,addOrRemoveRowsButton:S}=gLe(h?.showAddOrRemoveColumnsButton||!1,h?.showAddOrRemoveRowsButton||!1,h?.referencePosTable||null),[_,N]=C.useState(!1),[M,O]=C.useState(!1);if(!h)return null;const R=e.tableHandle||mLe,I=e.extendButton||cLe,j=e.tableCellHandle||SLe;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:i}),p.jsxs(Zfe,{root:h.widgetContainer,children:[!_&&s&&b.isMounted&&h.rowIndex!==void 0&&p.jsx("div",{ref:b.ref,style:b.style,children:p.jsx(R,{editor:r,orientation:"row",showOtherSide:()=>O(!1),hideOtherSide:()=>O(!0),index:h.rowIndex,block:h.block,dragStart:o.rowDragStart,dragEnd:o.dragEnd,freezeHandles:o.freezeHandles,unfreezeHandles:o.unfreezeHandles,menuContainer:s})}),!M&&s&&v.isMounted&&h.colIndex!==void 0&&p.jsx("div",{ref:v.ref,style:v.style,children:p.jsx(R,{editor:r,orientation:"column",showOtherSide:()=>N(!1),hideOtherSide:()=>N(!0),index:h.colIndex,block:h.block,dragStart:o.colDragStart,dragEnd:o.dragEnd,freezeHandles:o.freezeHandles,unfreezeHandles:o.unfreezeHandles,menuContainer:s})}),s&&x.isMounted&&h.colIndex!==void 0&&h.rowIndex!==void 0&&p.jsx("div",{ref:x.ref,style:x.style,children:p.jsx(j,{editor:r,block:h.block,rowIndex:h.rowIndex,colIndex:h.colIndex,menuContainer:s,freezeHandles:o.freezeHandles,unfreezeHandles:o.unfreezeHandles})}),p.jsx("div",{ref:S.ref,style:S.style,children:p.jsx(I,{editor:r,orientation:"addOrRemoveRows",block:h.block,onMouseDown:u,onMouseUp:f})}),p.jsx("div",{ref:w.ref,style:w.style,children:p.jsx(I,{editor:r,orientation:"addOrRemoveColumns",block:h.block,onMouseDown:u,onMouseUp:f})})]})]})};function kLe(e){const t=ut();if(!t)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return p.jsxs(p.Fragment,{children:[e.formattingToolbar!==!1&&p.jsx(WY,{}),e.linkToolbar!==!1&&p.jsx(P6e,{}),e.slashMenu!==!1&&p.jsx(aLe,{triggerCharacter:"/"}),e.emojiPicker!==!1&&p.jsx(J6e,{triggerCharacter:":",columns:10,minQueryLength:2}),e.sideMenu!==!1&&p.jsx(W6e,{}),t.filePanel&&e.filePanel!==!1&&p.jsx(f6e,{}),t.tableHandles&&e.tableHandles!==!1&&p.jsx(TLe,{}),t.comments&&e.comments!==!1&&p.jsxs(p.Fragment,{children:[p.jsx(gDe,{}),p.jsx(c6e,{})]})]})}const ZY=()=>{const e=C.useMemo(()=>{var o;return(o=window.matchMedia)==null?void 0:o.call(window,"(prefers-color-scheme: dark)")},[]),t=C.useMemo(()=>{var o;return(o=window.matchMedia)==null?void 0:o.call(window,"(prefers-color-scheme: light)")},[]),n=e?.matches,r=t?.matches,[s,i]=C.useState(n?"dark":r?"light":"no-preference");return C.useEffect(()=>{i(n?"dark":r?"light":"no-preference")},[n,r]),C.useEffect(()=>{if(typeof e?.addEventListener=="function"){const o=({matches:l})=>l&&i("dark"),a=({matches:l})=>l&&i("light");return e?.addEventListener("change",o),t?.addEventListener("change",a),()=>{e?.removeEventListener("change",o),t?.removeEventListener("change",a)}}else{const o=()=>i(e.matches?"dark":t.matches?"light":"no-preference");return e?.addEventListener("change",o),t?.addEventListener("change",o),()=>{e?.removeEventListener("change",o),t?.removeEventListener("change",o)}}},[e,t]),s},JY=C.createContext(void 0);function _Le(){return C.useContext(JY)}function NLe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:Ki.createPortal(r.reactElement,r.element,n)},e.forEach(s=>s())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(s=>s())}}}const ALe=({contentComponent:e})=>{const t=C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(t)})},MLe=C.forwardRef((e,t)=>{const[n,r]=C.useState();return C.useImperativeHandle(t,()=>(s,i)=>{Ki.flushSync(()=>{r({node:s,container:i})}),r(void 0)},[]),p.jsx(p.Fragment,{children:n&&Ki.createPortal(n.node,n.container)})}),QP=()=>{};function OLe(e,t){const{editor:n,className:r,theme:s,children:i,editable:o,onSelectionChange:a,onChange:l,formattingToolbar:u,linkToolbar:f,slashMenu:h,emojiPicker:g,sideMenu:b,filePanel:v,tableHandles:x,comments:w,autoFocus:S,renderEditor:_=!0,...N}=e,[M,O]=C.useState(),R=Po(),I=ZY(),j=R?.colorSchemePreference||I,U=s||(j==="dark"?"dark":"light");fM(l||QP,n),dM(a||QP,n),C.useEffect(()=>{n.isEditable=o!==!1},[o,n]);const P=C.useCallback(ne=>{n.elementRenderer=ne},[n]),K=C.useMemo(()=>({...R,editor:n,setContentEditableProps:O,colorSchemePreference:U}),[R,n,U]),W=C.useMemo(()=>({editorProps:{autoFocus:S,contentEditableProps:M},defaultUIProps:{formattingToolbar:u,linkToolbar:f,slashMenu:h,emojiPicker:g,sideMenu:b,filePanel:v,tableHandles:x,comments:w}}),[S,M,u,f,h,g,b,v,x,w]);return p.jsx(AY.Provider,{value:K,children:p.jsxs(JY.Provider,{value:W,children:[p.jsx(MLe,{ref:P}),p.jsx(RLe,{className:r,renderEditor:_,editable:o,editorColorScheme:U,ref:t,...N,children:i})]})})}const RLe=ge.forwardRef(({className:e,renderEditor:t,editable:n,editorColorScheme:r,children:s,...i},o)=>p.jsx("div",{className:$n("bn-container",r,e),"data-color-scheme":r,...i,ref:o,children:t?p.jsx(DLe,{editable:n,children:s}):s})),ILe=ge.forwardRef(OLe),DLe=e=>{const t=_Le(),n=ut(),r=C.useMemo(()=>NLe(),[]),s=C.useCallback(i=>{e.editable!==void 0&&e.editable!==n.isEditable&&(n.isEditable=e.editable),n._tiptapEditor.contentComponent=r,i?n.mount(i):n.unmount()},[n,r,e.editable]);return p.jsxs(p.Fragment,{children:[p.jsx(ALe,{contentComponent:r}),p.jsx(LLe,{...t.editorProps,...e,mount:s}),p.jsx(kLe,{...t.defaultUIProps}),e.children]})},LLe=e=>{const{autoFocus:t,mount:n,contentEditableProps:r}=e;return p.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":t,ref:n,...r})};ge.memo(({thread:e,selectedThreadId:t,editor:n,maxCommentsBeforeCollapse:r,referenceText:s})=>{const i=C.useCallback(a=>{var l;a.target.closest(".bn-action-toolbar")||(l=n.comments)==null||l.selectThread(e.id)},[n.comments,e.id]),o=C.useCallback(a=>{var l;if(!a.relatedTarget||a.relatedTarget.closest(".bn-action-toolbar"))return;const u=a.target instanceof Node?a.target:null,f=a.relatedTarget instanceof Node?a.relatedTarget.closest(".bn-thread"):null;(!u||!f||!f.contains(u))&&((l=n.comments)==null||l.selectThread(void 0))},[n.comments]);return p.jsx($Y,{thread:e,selected:e.id===t,referenceText:s,maxCommentsBeforeCollapse:r,onFocus:i,onBlur:o,tabIndex:0})});function eW(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=n.top<r.top,i=n.bottom>r.bottom;return s&&i?"both":s?"top":i?"bottom":"none"}function la(e){return Object.keys(e)}function fT(e){return e&&typeof e=="object"&&!Array.isArray(e)}function yM(e,t){const n={...e},r=t;return fT(e)&&fT(t)&&Object.keys(t).forEach(s=>{fT(r[s])&&s in e?n[s]=yM(n[s],r[s]):n[s]=r[s]}),n}function jLe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function PLe(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function BLe(e){const t=PLe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function XP(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function tW(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const s=`${r/16}${e}`;return t?XP(s):s}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");const s=r.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?XP(i):i}}return r}return n}const ke=tW("rem",{shouldScale:!0}),ZP=tW("em");function Hw(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function nW(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function np(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==C.Fragment:!1}function Fw(e){const t=C.createContext(null);return[({children:s,value:i})=>p.jsx(t.Provider,{value:i,children:s}),()=>{const s=C.useContext(t);if(s===null)throw new Error(e);return s}]}function Uw(e=null){const t=C.createContext(e);return[({children:s,value:i})=>p.jsx(t.Provider,{value:i,children:s}),()=>C.useContext(t)]}function JP(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Jv(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function HLe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function FLe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function ULe(e,t,n){return Jv(e,n)===Jv(t,n)}function vM({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:s=!1,dir:i="rtl",orientation:o}){return a=>{n?.(a);const l=Array.from(Jv(a.currentTarget,e)?.querySelectorAll(t)||[]).filter(v=>ULe(a.currentTarget,v,e)),u=l.findIndex(v=>a.currentTarget===v),f=FLe(u,l,r),h=HLe(u,l,r),g=i==="rtl"?h:f,b=i==="rtl"?f:h;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[g].focus(),s&&l[g].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[b].focus(),s&&l[b].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),s&&l[h].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),s&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const v=l.length-1;!l[v].disabled&&l[v].focus();break}}}}const zLe={app:100,modal:200,popover:300,overlay:400,max:9999};function I0(e){return zLe[e]}const $Le=()=>{};function VLe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||$Le:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function Sn(e,t="size",n=!0){if(e!==void 0)return nW(e)?n?ke(e):e:`var(--${t}-${e})`}function D0(e){return Sn(e,"mantine-spacing")}function ts(e){return e===void 0?"var(--mantine-radius-default)":Sn(e,"mantine-radius")}function Us(e){return Sn(e,"mantine-font-size")}function qLe(e){return Sn(e,"mantine-line-height",!1)}function rW(e){if(e)return Sn(e,"mantine-shadow",!1)}function Ps(e,t){return n=>{e?.(n),t?.(n)}}function GLe(e,t,n){return n?Array.from(Jv(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function YLe(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}const WLe=["mousedown","touchstart"];function KLe(e,t,n){const r=C.useRef(null),s=t||WLe;return C.useEffect(()=>{const i=o=>{const{target:a}=o??{};if(Array.isArray(n)){const l=!document.body.contains(a)&&a?.tagName!=="HTML";n.every(f=>!!f&&!o.composedPath().includes(f))&&!l&&e(o)}else r.current&&!r.current.contains(a)&&e(o)};return s.forEach(o=>document.addEventListener(o,i)),()=>{s.forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function QLe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function XLe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function ZLe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,s]=C.useState(n?t:XLe(e));return C.useEffect(()=>{try{const i=window.matchMedia(e);return s(i.matches),QLe(i,o=>s(o.matches))}catch{return}},[e]),r||!1}const zw=typeof document<"u"?C.useLayoutEffect:C.useEffect;function dh(e,t){const n=C.useRef(!1);C.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function JLe({opened:e,shouldReturnFocus:t=!0}){const n=C.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return dh(()=>{let s=-1;const i=o=>{o.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(s=window.setTimeout(r,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),r}const e5e=/input|select|textarea|button|object/,sW="a, input, select, textarea, button, object, [tabindex]";function t5e(e){return e.style.display==="none"}function n5e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(t5e(n))return!1;n=n.parentNode}return!0}function iW(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function B_(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(iW(e));return(e5e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&n5e(e)}function oW(e){const t=iW(e);return(Number.isNaN(t)||t>=0)&&B_(e)}function r5e(e){return Array.from(e.querySelectorAll(sW)).filter(oW)}function s5e(e,t){const n=r5e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],s=e.getRootNode();let i=r===s.activeElement||e===s.activeElement;const o=s.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(i=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===o.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function aW(e=!0){const t=C.useRef(null),n=s=>{let i=s.querySelector("[data-autofocus]");if(!i){const o=Array.from(s.querySelectorAll(sW));i=o.find(oW)||o.find(B_)||null,!i&&B_(s)&&(i=s)}i&&i.focus({preventScroll:!0})},r=C.useCallback(s=>{e&&s!==null&&t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&n(s)}),t.current=s):t.current=null)},[e]);return C.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const s=i=>{i.key==="Tab"&&t.current&&s5e(t.current,i)};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e]),r}const i5e=ge.useId||(()=>{});function o5e(){const e=i5e();return e?`mantine-${e.replace(/:/g,"")}`:""}function rp(e){const t=o5e(),[n,r]=C.useState(t);return zw(()=>{r(YLe())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function ex(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function $w(...e){const t=new Map;return n=>{if(e.forEach(r=>{const s=ex(r,n);s&&t.set(r,s)}),t.size>0)return()=>{e.forEach(r=>{const s=t.get(r);s&&typeof s=="function"?s():ex(r,null)}),t.clear()}}}function Bo(...e){return C.useCallback($w(...e),e)}function sp({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[s,i]=C.useState(t!==void 0?t:n),o=(a,...l)=>{i(a),r?.(a,...l)};return e!==void 0?[e,r,!0]:[s,o,!1]}function a5e(e,t){return ZLe("(prefers-reduced-motion: reduce)",e,t)}function l5e(){const[e,t]=C.useState(!1),n=C.useRef(null),r=C.useCallback(()=>{t(!0)},[]),s=C.useCallback(()=>{t(!1)},[]);return{ref:C.useCallback(o=>{n.current&&(n.current.removeEventListener("mouseenter",r),n.current.removeEventListener("mouseleave",s)),o&&(o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",s)),n.current=o},[r,s]),hovered:e}}function c5e(e=!1,t={}){const[n,r]=C.useState(e),s=C.useCallback(()=>{r(a=>a||(t.onOpen?.(),!0))},[t.onOpen]),i=C.useCallback(()=>{r(a=>a&&(t.onClose?.(),!1))},[t.onClose]),o=C.useCallback(()=>{n?i():s()},[i,s,n]);return[n,{open:s,close:i,toggle:o}]}function u5e(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function lW({onBlur:e,onFocus:t}={}){const[n,r]=C.useState(!1),s=C.useRef(!1),i=C.useRef(null),o=C.useCallback(f=>{r(f),s.current=f},[]),a=C.useCallback(f=>{s.current||(o(!0),t?.(f))},[t]),l=C.useCallback(f=>{s.current&&!u5e(f)&&(o(!1),e?.(f))},[e]),u=C.useCallback(f=>{f&&(i.current&&(i.current.removeEventListener("focusin",a),i.current.removeEventListener("focusout",l)),f.addEventListener("focusin",a),f.addEventListener("focusout",l))},[a,l]);return C.useEffect(()=>()=>{i.current&&(i.current.removeEventListener("focusin",a),i.current.removeEventListener("focusout",l))},[]),{ref:u,focused:n}}function xM(e){const t=ge.version;return typeof ge.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}const d5e={};function f5e(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,s])=>{t[r]?t[r]=Ao(t[r],s):t[r]=s})}),t}function Vw({theme:e,classNames:t,props:n,stylesCtx:r}){const i=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||d5e);return f5e(i)}function tx({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((i,o)=>typeof o=="function"?{...i,...o(e,n,r)}:{...i,...o},{})}const wM=C.createContext(null);function Jc(){const e=C.useContext(wM);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function h5e(){return Jc().cssVariablesResolver}function p5e(){return Jc().classNamesPrefix}function EM(){return Jc().getStyleNonce}function m5e(){return Jc().withStaticClasses}function g5e(){return Jc().headless}function b5e(){return Jc().stylesTransform?.sx}function y5e(){return Jc().stylesTransform?.styles}function qw(){return Jc().env||"default"}function v5e(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function x5e(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,s=n>>8&255,i=n&255;return{r,g:s,b:i,a:1}}function w5e(e){const[t,n,r,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:s===void 0?1:s}}function E5e(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),s=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*i-1))*s,l=r/60,u=a*(1-Math.abs(l%2-1)),f=i-a/2;let h,g,b;return l>=0&&l<1?(h=a,g=u,b=0):l>=1&&l<2?(h=u,g=a,b=0):l>=2&&l<3?(h=0,g=a,b=u):l>=3&&l<4?(h=0,g=u,b=a):l>=4&&l<5?(h=u,g=0,b=a):(h=a,g=0,b=u),{r:Math.round((h+f)*255),g:Math.round((g+f)*255),b:Math.round((b+f)*255),a:o||1}}function CM(e){return v5e(e)?x5e(e):e.startsWith("rgb")?w5e(e):e.startsWith("hsl")?E5e(e):{r:0,g:0,b:0,a:1}}function z1(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:s,a:i}=CM(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(s)}, ${i})`}function Gg(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function hT(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function C5e(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function S5e(e){if(e.startsWith("oklch("))return(C5e(e)||0)/100;const{r:t,g:n,b:r}=CM(e),s=t/255,i=n/255,o=r/255,a=hT(s),l=hT(i),u=hT(o);return .2126*a+.7152*l+.0722*u}function hm(e,t=.179){return e.startsWith("var(")?!1:S5e(e)>t}function Sd({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:hm(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:hm(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:hm(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,s]=e.split("."),i=s?Number(s):void 0,o=r in t.colors;if(o){const a=i!==void 0?t.colors[r][i]:t.colors[r][Gg(t,n||"light")];return{color:r,value:a,shade:i,isThemeColor:o,isLight:hm(a,t.luminanceThreshold),variable:s?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:hm(e,t.luminanceThreshold),shade:i,variable:void 0}}function gl(e,t){const n=Sd({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function H_(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=gl(n.from,t),s=gl(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${s} 100%)`}function Jo(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:s}=CM(e);return`rgba(${n}, ${r}, ${s}, ${t})`}const If=Jo,T5e=({color:e,theme:t,variant:n,gradient:r,autoContrast:s})=>{const i=Sd({color:e,theme:t}),o=typeof s=="boolean"?s:t.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const a=o&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${ke(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${ke(1)} solid transparent`}:{background:e,hover:z1(e,.1),color:a,border:`${ke(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ke(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:Jo(a,.1),hover:Jo(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ke(1)} solid transparent`}}return{background:Jo(e,.1),hover:Jo(e,.12),color:e,border:`${ke(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${ke(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Jo(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ke(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Jo(e,.05),color:e,border:`${ke(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ke(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:Jo(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ke(1)} solid transparent`}}return{background:"transparent",hover:Jo(e,.12),color:e,border:`${ke(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${ke(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ke(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${ke(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:z1(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${ke(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:z1(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ke(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:z1(t.white,.01),color:e,border:`${ke(1)} solid transparent`}:n==="gradient"?{background:H_(r,t),hover:H_(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ke(1)} solid var(--mantine-color-default-border)`}:{}},k5e={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},e8="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",SM={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:k5e,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:T5e,autoContrast:!1,luminanceThreshold:.3,fontFamily:e8,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:e8,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ke(34),lineHeight:"1.3"},h2:{fontSize:ke(26),lineHeight:"1.35"},h3:{fontSize:ke(22),lineHeight:"1.4"},h4:{fontSize:ke(18),lineHeight:"1.45"},h5:{fontSize:ke(16),lineHeight:"1.5"},h6:{fontSize:ke(14),lineHeight:"1.5"}}},fontSizes:{xs:ke(12),sm:ke(14),md:ke(16),lg:ke(18),xl:ke(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ke(2),sm:ke(4),md:ke(8),lg:ke(16),xl:ke(32)},spacing:{xs:ke(10),sm:ke(12),md:ke(16),lg:ke(20),xl:ke(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ke(1)} ${ke(3)} rgba(0, 0, 0, 0.05), 0 ${ke(1)} ${ke(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ke(1)} ${ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ke(10)} ${ke(15)} ${ke(-5)}, rgba(0, 0, 0, 0.04) 0 ${ke(7)} ${ke(7)} ${ke(-5)}`,md:`0 ${ke(1)} ${ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ke(20)} ${ke(25)} ${ke(-5)}, rgba(0, 0, 0, 0.04) 0 ${ke(10)} ${ke(10)} ${ke(-5)}`,lg:`0 ${ke(1)} ${ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ke(28)} ${ke(23)} ${ke(-7)}, rgba(0, 0, 0, 0.04) 0 ${ke(12)} ${ke(12)} ${ke(-7)}`,xl:`0 ${ke(1)} ${ke(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ke(36)} ${ke(28)} ${ke(-7)}, rgba(0, 0, 0, 0.04) 0 ${ke(17)} ${ke(17)} ${ke(-7)}`},other:{},components:{}};function t8(e){return e==="auto"||e==="dark"||e==="light"}function _5e({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return t8(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&t8(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const N5e="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",n8="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function pT(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function r8(e){if(!(e.primaryColor in e.colors))throw new Error(N5e);if(typeof e.primaryShade=="object"&&(!pT(e.primaryShade.dark)||!pT(e.primaryShade.light)))throw new Error(n8);if(typeof e.primaryShade=="number"&&!pT(e.primaryShade))throw new Error(n8)}function A5e(e,t){if(!t)return r8(e),e;const n=yM(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),r8(n),n}const TM=C.createContext(null),M5e=()=>C.useContext(TM)||SM;function Ys(){const e=C.useContext(TM);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function cW({theme:e,children:t,inherit:n=!0}){const r=M5e(),s=C.useMemo(()=>A5e(n?r:SM,e),[e,r,n]);return p.jsx(TM.Provider,{value:s,children:t})}cW.displayName="@mantine/core/MantineThemeProvider";function O5e(){const e=Ys(),t=EM(),n=la(e.breakpoints).reduce((r,s)=>{const i=e.breakpoints[s].includes("px"),o=BLe(e.breakpoints[s]),a=i?`${o-.1}px`:ZP(o-.1),l=i?`${o}px`:ZP(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return p.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function mT(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function pm(e,t){return(Array.isArray(e)?e:[e]).reduce((r,s)=>`${s}{${r}}`,t)}function R5e(e,t){const n=mT(e.variables),r=n?pm(t,n):"",s=mT(e.dark),i=mT(e.light),o=s?pm(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",a=i?pm(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${r}

${o}

${a}`}function uW({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Sd({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function s8(e,t){return uW({color:e.colors[e.primaryColor][Gg(e,t)],theme:e,autoContrast:null})}function $1({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(n==="light"){const a=Gg(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:If(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:If(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:If(e.colors[t][a],.05)};return s?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const i=Gg(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:If(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:If(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:If(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function I5e(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Df(e,t,n){la(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const dW=e=>{const t=Gg(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:ke(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":s8(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":s8(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Df(r.variables,e.breakpoints,"breakpoint"),Df(r.variables,e.spacing,"spacing"),Df(r.variables,e.fontSizes,"font-size"),Df(r.variables,e.lineHeights,"line-height"),Df(r.variables,e.shadows,"shadow"),Df(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),la(e.colors).forEach(i=>{const o=e.colors[i];if(I5e(o)){Object.assign(r.light,$1({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,$1({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${i}-${l}`]=a}),Object.assign(r.light,$1({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,$1({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return la(s).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=s[i].fontSize,r.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),r};function D5e({theme:e,generator:t}){const n=dW(e),r=t?.(e);return r?yM(n,r):n}const gT=dW(SM);function L5e(e){const t={variables:{},light:{},dark:{}};return la(e.variables).forEach(n=>{gT.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),la(e.light).forEach(n=>{gT.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),la(e.dark).forEach(n=>{gT.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function j5e(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function fW({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Ys(),r=EM(),s=h5e(),i=D5e({theme:n,generator:s}),o=e===":root"&&t,a=o?L5e(i):i,l=R5e(a,e);return l?p.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${l}${o?"":j5e(e)}`}}):null}fW.displayName="@mantine/CssVariables";function Lf(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function P5e({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const s=C.useRef(null),[i,o]=C.useState(()=>e.get(t)),a=r||i,l=C.useCallback(f=>{r||(Lf(f,n),o(f),e.set(f))},[e.set,a,r]),u=C.useCallback(()=>{o(t),Lf(t,n),e.clear()},[e.clear,t]);return C.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),zw(()=>{Lf(e.get(t),n)},[]),C.useEffect(()=>{if(r)return Lf(r,n),()=>{};r===void 0&&Lf(i,n),typeof window<"u"&&"matchMedia"in window&&(s.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=h=>{i==="auto"&&Lf(h.matches?"dark":"light",n)};return s.current?.addEventListener("change",f),()=>s.current?.removeEventListener("change",f)},[i,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function B5e({respectReducedMotion:e,getRootElement:t}){zw(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function hW({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=_5e(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:b,stylesTransform:v,env:x}){const{colorScheme:w,setColorScheme:S,clearColorScheme:_}=P5e({defaultColorScheme:f,forceColorScheme:b,manager:u,getRootElement:h});return B5e({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:h}),p.jsx(wM.Provider,{value:{colorScheme:w,setColorScheme:S,clearColorScheme:_,getRootElement:h,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:v,env:x},children:p.jsxs(cW,{theme:e,children:[o&&p.jsx(fW,{cssVariablesSelector:a,deduplicateCssVariables:i}),s&&p.jsx(O5e,{}),t]})})}hW.displayName="@mantine/core/MantineProvider";function Gw({classNames:e,styles:t,props:n,stylesCtx:r}){const s=Ys();return{resolvedClassNames:Vw({theme:s,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:tx({theme:s,styles:t,props:n,stylesCtx:r||void 0})}}const H5e={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function F5e({theme:e,options:t,unstyled:n}){return Ao(t?.focusable&&!n&&(e.focusClassName||H5e[e.focusRing]),t?.active&&!n&&e.activeClassName)}function U5e({selector:e,stylesCtx:t,options:n,props:r,theme:s}){return Vw({theme:s,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function i8({selector:e,stylesCtx:t,theme:n,classNames:r,props:s}){return Vw({theme:n,classNames:r,props:s,stylesCtx:t})[e]}function z5e({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function $5e({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function V5e({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(s=>`${t}-${s}-${n}`)}function q5e({themeName:e,theme:t,selector:n,props:r,stylesCtx:s}){return e.map(i=>Vw({theme:t,classNames:t.components[i]?.classNames,props:r,stylesCtx:s})?.[n])}function G5e({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Y5e({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:s,classNames:i,classes:o,unstyled:a,className:l,rootSelector:u,props:f,stylesCtx:h,withStaticClasses:g,headless:b,transformedStyles:v}){return Ao(F5e({theme:e,options:t,unstyled:a||b}),q5e({theme:e,themeName:n,selector:r,props:f,stylesCtx:h}),G5e({options:t,classes:o,selector:r,unstyled:a}),i8({selector:r,stylesCtx:h,theme:e,classNames:i,props:f}),i8({selector:r,stylesCtx:h,theme:e,classNames:v,props:f}),U5e({selector:r,stylesCtx:h,options:t,props:f,theme:e}),z5e({rootSelector:u,selector:r,className:l}),$5e({selector:r,classes:o,unstyled:a||b}),g&&!b&&V5e({themeName:n,classNamesPrefix:s,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function W5e({theme:e,themeName:t,props:n,stylesCtx:r,selector:s}){return t.map(i=>tx({theme:e,styles:e.components[i]?.styles,props:n,stylesCtx:r})[s]).reduce((i,o)=>({...i,...o}),{})}function F_({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...F_({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function K5e(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Hw(n[r])}}),t),{})}function Q5e({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:s,selector:i,themeName:o,headless:a}){return K5e([a?{}:t?.(n,r,s),...o.map(l=>n.components?.[l]?.vars?.(n,r,s)),e?.(n,r,s)])?.[i]}function X5e({theme:e,themeName:t,selector:n,options:r,props:s,stylesCtx:i,rootSelector:o,styles:a,style:l,vars:u,varsResolver:f,headless:h,withStylesTransform:g}){return{...!g&&W5e({theme:e,themeName:t,props:s,stylesCtx:i,selector:n}),...!g&&tx({theme:e,styles:a,props:s,stylesCtx:i})[n],...!g&&tx({theme:e,styles:r?.styles,props:r?.props||s,stylesCtx:i})[n],...Q5e({theme:e,props:s,stylesCtx:i,vars:u,varsResolver:f,selector:n,themeName:t,headless:h}),...o===n?F_({style:l,theme:e}):null,...F_({style:r?.style,theme:e})}}function Z5e({props:e,stylesCtx:t,themeName:n}){const r=Ys(),s=y5e()?.();return{getTransformedStyles:o=>s?[...o.map(l=>s(l,{props:e,theme:r,ctx:t})),...n.map(l=>s(r.components[l]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!s}}function Ut({name:e,classes:t,props:n,stylesCtx:r,className:s,style:i,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:f,varsResolver:h,attributes:g}){const b=Ys(),v=p5e(),x=m5e(),w=g5e(),S=(Array.isArray(e)?e:[e]).filter(M=>M),{withStylesTransform:_,getTransformedStyles:N}=Z5e({props:n,stylesCtx:r,themeName:S});return(M,O)=>({className:Y5e({theme:b,options:O,themeName:S,selector:M,classNamesPrefix:v,classNames:l,classes:t,unstyled:a,className:s,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:x,headless:w,transformedStyles:N([O?.styles,u])}),style:X5e({theme:b,themeName:S,selector:M,options:O,props:n,stylesCtx:r,rootSelector:o,styles:u,style:i,vars:f,varsResolver:h,headless:w,withStylesTransform:_}),...g?.[M]})}function J5e(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ye(e,t,n){const r=Ys(),s=r.components[e]?.defaultProps,i=typeof s=="function"?s(r):s;return{...t,...i,...Hw(n)}}function bT(e){return la(e).reduce((t,n)=>e[n]!==void 0?`${t}${jLe(n)}:${e[n]};`:t,"").trim()}function eje({selector:e,styles:t,media:n,container:r}){const s=t?bT(t):"",i=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${bT(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${bT(a.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${o.join("")}`.trim()}function pW(e){const t=EM();return p.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:eje(e)}})}function Yw(e){const{m:t,mx:n,my:r,mt:s,mb:i,ml:o,mr:a,me:l,ms:u,p:f,px:h,py:g,pt:b,pb:v,pl:x,pr:w,pe:S,ps:_,bd:N,bdrs:M,bg:O,c:R,opacity:I,ff:j,fz:U,fw:P,lts:K,ta:W,lh:ne,fs:Q,tt:te,td:F,w:V,miw:z,maw:J,h:B,mih:Se,mah:X,bgsz:D,bgp:he,bgr:ue,bga:de,pos:ie,top:we,left:Me,bottom:Be,right:He,inset:Te,display:Fe,flex:Je,hiddenFrom:kt,visibleFrom:qt,lightHidden:Gt,darkHidden:Mn,sx:vt,...G}=e;return{styleProps:Hw({m:t,mx:n,my:r,mt:s,mb:i,ml:o,mr:a,me:l,ms:u,p:f,px:h,py:g,pt:b,pb:v,pl:x,pr:w,pe:S,ps:_,bd:N,bg:O,c:R,opacity:I,ff:j,fz:U,fw:P,lts:K,ta:W,lh:ne,fs:Q,tt:te,td:F,w:V,miw:z,maw:J,h:B,mih:Se,mah:X,bgsz:D,bgp:he,bgr:ue,bga:de,pos:ie,top:we,left:Me,bottom:Be,right:He,inset:Te,display:Fe,flex:Je,bdrs:M,hiddenFrom:kt,visibleFrom:qt,lightHidden:Gt,darkHidden:Mn,sx:vt}),rest:G}}const tje={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function kM(e,t){const n=Sd({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function nje(e,t){const n=Sd({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:kM(e,t)}function rje(e,t){if(typeof e=="number")return ke(e);if(typeof e=="string"){const[n,r,...s]=e.split(" ").filter(o=>o.trim()!=="");let i=`${ke(n)}`;return r&&(i+=` ${r}`),s.length>0&&(i+=` ${kM(s.join(" "),t)}`),i.trim()}return e}const o8={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function sje(e){return typeof e=="string"&&e in o8?o8[e]:e}const ije=["h1","h2","h3","h4","h5","h6"];function oje(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&ije.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?ke(e):e}function aje(e){return e}const lje=["h1","h2","h3","h4","h5","h6"];function cje(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&lje.includes(e)?`var(--mantine-${e}-line-height)`:e}function uje(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?ke(e):e}function dje(e){return typeof e=="number"?ke(e):e}function fje(e,t){if(typeof e=="number")return ke(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return ke(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const yT={color:kM,textColor:nje,fontSize:oje,spacing:fje,radius:uje,identity:aje,size:dje,lineHeight:cje,fontFamily:sje,border:rje};function a8(e){return e.replace("(min-width: ","").replace("em)","")}function hje({media:e,...t}){const r=Object.keys(e).sort((s,i)=>Number(a8(s))-Number(a8(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:r}}function pje(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function mje(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function gje(e){return typeof e=="object"&&e!==null?la(e).filter(t=>t!=="base"):[]}function bje(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function mW({styleProps:e,data:t,theme:n}){return hje(la(e).reduce((r,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return r;const i=t[s],o=Array.isArray(i.property)?i.property:[i.property],a=mje(e[s]);if(!pje(e[s]))return o.forEach(u=>{r.inlineStyles[u]=yT[i.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=gje(e[s]);return o.forEach(u=>{a!=null&&(r.styles[u]=yT[i.type](a,n)),l.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[u]:yT[i.type](bje(e[s],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function gW(){return`__m__-${C.useId().replace(/[:«»]/g,"")}`}function bW(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...bW(r,t)}),{}):typeof e=="function"?e(t):e??{}}function yW(e){return e.startsWith("data-")?e:`data-${e}`}function yje(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[yW(n)]=e[n]),t},{})}function vW(e){return e?typeof e=="string"?{[yW(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...vW(n)}),{}):yje(e):null}function U_(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...U_(r,t)}),{}):typeof e=="function"?e(t):e??{}}function vje({theme:e,style:t,vars:n,styleProps:r}){const s=U_(t,e),i=U_(n,e);return{...s,...i,...r}}const xW=C.forwardRef(({component:e,style:t,__vars:n,className:r,variant:s,mod:i,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:f,renderRoot:h,__size:g,...b},v)=>{const x=Ys(),w=e||"div",{styleProps:S,rest:_}=Yw(b),M=b5e()?.()?.(S.sx),O=gW(),R=mW({styleProps:S,theme:x,data:tje}),I={ref:v,style:vje({theme:x,style:t,vars:n,styleProps:R.inlineStyles}),className:Ao(r,M,{[O]:R.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":f,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":s,"data-size":nW(o)?void 0:o||void 0,size:g,...vW(i),..._};return p.jsxs(p.Fragment,{children:[R.hasResponsiveStyles&&p.jsx(pW,{selector:`.${O}`,styles:R.styles,media:R.media}),typeof h=="function"?h(I):p.jsx(w,{...I})]})});xW.displayName="@mantine/core/Box";const ft=xW;function wW(e){return e}function xje(e){const t=e;return n=>{const r=C.forwardRef((s,i)=>p.jsx(t,{...n,...s,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function zt(e){const t=C.forwardRef(e);return t.extend=wW,t.withProps=n=>{const r=C.forwardRef((s,i)=>p.jsx(t,{...n,...s,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function ns(e){const t=C.forwardRef(e);return t.withProps=n=>{const r=C.forwardRef((s,i)=>p.jsx(t,{...n,...s,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=wW,t}const wje=C.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function ip(){return C.useContext(wje)}var EW={root:"m_87cf2631"};const Eje={__staticSelector:"UnstyledButton"},eu=ns((e,t)=>{const n=Ye("UnstyledButton",Eje,e),{className:r,component:s="button",__staticSelector:i,unstyled:o,classNames:a,styles:l,style:u,attributes:f,...h}=n,g=Ut({name:i,props:n,classes:EW,className:r,style:u,classNames:a,styles:l,unstyled:o,attributes:f});return p.jsx(ft,{...g("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...h})});eu.classes=EW;eu.displayName="@mantine/core/UnstyledButton";var CW={root:"m_515a97f8"};const _M=zt((e,t)=>{const n=Ye("VisuallyHidden",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,attributes:u,...f}=n,h=Ut({name:"VisuallyHidden",classes:CW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:u});return p.jsx(ft,{component:"span",ref:t,...h("root"),...f})});_M.classes=CW;_M.displayName="@mantine/core/VisuallyHidden";var SW={root:"m_1b7284a3"};const Cje=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:ts(t),"--paper-shadow":rW(n)}}),NM=ns((e,t)=>{const n=Ye("Paper",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,withBorder:l,vars:u,radius:f,shadow:h,variant:g,mod:b,attributes:v,...x}=n,w=Ut({name:"Paper",props:n,classes:SW,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:v,vars:u,varsResolver:Cje});return p.jsx(ft,{ref:t,mod:[{"data-with-border":l},b],...w("root"),variant:g,...x})});NM.classes=SW;NM.displayName="@mantine/core/Paper";function l8(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function c8(e,t,n,r,s){return e==="center"||r==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:n}:e==="start"?{[s==="ltr"?"left":"right"]:n}:{}}const Sje={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Tje({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:s,arrowX:i,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Sje[l]]:r},h=-t/2;return l==="left"?{...f,...l8(u,o,n,s),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...f,...l8(u,o,n,s),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...f,...c8(u,i,n,s,a),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...f,...c8(u,i,n,s,a),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const nx=C.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:s,visible:i,arrowX:o,arrowY:a,style:l,...u},f)=>{const{dir:h}=ip();return i?p.jsx("div",{...u,ref:f,style:{...l,...Tje({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:s,dir:h,arrowX:o,arrowY:a})}}):null});nx.displayName="@mantine/core/FloatingArrow";function TW(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),s=n==="right"?"left":"right";return r===void 0?s:`${s}-${r}`}return t}var kW={root:"m_9814e45f"};const kje={zIndex:I0("modal")},_je=(e,{gradient:t,color:n,backgroundOpacity:r,blur:s,radius:i,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Jo(n||"#000",r??.6)||void 0,"--overlay-filter":s?`blur(${ke(s)})`:void 0,"--overlay-radius":i===void 0?void 0:ts(i),"--overlay-z-index":o?.toString()}}),Yg=ns((e,t)=>{const n=Ye("Overlay",kje,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,fixed:u,center:f,children:h,radius:g,zIndex:b,gradient:v,blur:x,color:w,backgroundOpacity:S,mod:_,attributes:N,...M}=n,O=Ut({name:"Overlay",props:n,classes:kW,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:N,vars:l,varsResolver:_je});return p.jsx(ft,{ref:t,...O("root"),mod:[{center:f,fixed:u},_],...M,children:h})});Yg.classes=kW;Yg.displayName="@mantine/core/Overlay";function vT(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function Nje({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||vT(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const s=vT(n);return s.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(s),s}return vT(n)}const Aje={reuseTargetNode:!0},_W=zt((e,t)=>{const{children:n,target:r,reuseTargetNode:s,...i}=Ye("Portal",Aje,e),[o,a]=C.useState(!1),l=C.useRef(null);return zw(()=>(a(!0),l.current=Nje({target:r,reuseTargetNode:s,...i}),ex(t,l.current),!r&&!s&&l.current&&document.body.appendChild(l.current),()=>{!r&&!s&&l.current&&document.body.removeChild(l.current)}),[r]),!o||!l.current?null:Ki.createPortal(p.jsx(p.Fragment,{children:n}),l.current)});_W.displayName="@mantine/core/Portal";const Rh=zt(({withinPortal:e=!0,children:t,...n},r)=>qw()==="test"||!e?p.jsx(p.Fragment,{children:t}):p.jsx(_W,{ref:r,...n,children:t}));Rh.displayName="@mantine/core/OptionalPortal";const mm=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),V1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...mm("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...mm("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...mm("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...mm("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...mm("top"),common:{transformOrigin:"top right"}}},u8={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Mje({transition:e,state:t,duration:n,timingFunction:r}){const s={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in V1?{transitionProperty:V1[e].transitionProperty,...s,...V1[e].common,...V1[e][u8[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[u8[t]]}}function Oje({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:s,onExit:i,onEntered:o,onExited:a,enterDelay:l,exitDelay:u}){const f=Ys(),h=a5e(),g=f.respectReducedMotion?h:!1,[b,v]=C.useState(g?0:e),[x,w]=C.useState(r?"entered":"exited"),S=C.useRef(-1),_=C.useRef(-1),N=C.useRef(-1);function M(){window.clearTimeout(S.current),window.clearTimeout(_.current),cancelAnimationFrame(N.current)}const O=I=>{M();const j=I?s:i,U=I?o:a,P=g?0:I?e:t;v(P),P===0?(typeof j=="function"&&j(),typeof U=="function"&&U(),w(I?"entered":"exited")):N.current=requestAnimationFrame(()=>{K_.flushSync(()=>{w(I?"pre-entering":"pre-exiting")}),N.current=requestAnimationFrame(()=>{typeof j=="function"&&j(),w(I?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof U=="function"&&U(),w(I?"entered":"exited")},P)})})},R=I=>{if(M(),typeof(I?l:u)!="number"){O(I);return}_.current=window.setTimeout(()=>{O(I)},I?l:u)};return dh(()=>{R(r)},[r]),C.useEffect(()=>()=>{M()},[]),{transitionDuration:b,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Fc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:s,children:i,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:f,enterDelay:h,exitDelay:g}){const b=qw(),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:w}=Oje({mounted:s,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:f,enterDelay:h,exitDelay:g});return v===0||b==="test"?s?p.jsx(p.Fragment,{children:i({})}):e?i({display:"none"}):null:x==="exited"?e?i({display:"none"}):null:p.jsx(p.Fragment,{children:i(Mje({transition:t,duration:v,state:x,timingFunction:w}))})}Fc.displayName="@mantine/core/Transition";const[Rje,NW]=Fw("Popover component was not found in the tree");function AM({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const s=aW(t),i=Bo(s,r);return np(e)?C.cloneElement(e,{[n]:i}):e}function AW(e){return p.jsx(_M,{tabIndex:-1,"data-autofocus":!0,...e})}AM.displayName="@mantine/core/FocusTrap";AW.displayName="@mantine/core/FocusTrapInitialFocus";AM.InitialFocus=AW;var MW={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const Ww=zt((e,t)=>{const n=Ye("PopoverDropdown",null,e),{className:r,style:s,vars:i,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:f,...h}=n,g=NW(),b=JLe({opened:g.opened,shouldReturnFocus:g.returnFocus}),v=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=Bo(t,g.floating);return g.disabled?null:p.jsx(Rh,{...g.portalProps,withinPortal:g.withinPortal,children:p.jsx(Fc,{mounted:g.opened,...g.transitionProps,transition:g.transitionProps?.transition||"fade",duration:g.transitionProps?.duration??150,keepMounted:g.keepMounted,exitDuration:typeof g.transitionProps?.exitDuration=="number"?g.transitionProps.exitDuration:g.transitionProps?.duration,children:w=>p.jsx(AM,{active:g.trapFocus&&g.opened,innerRef:x,children:p.jsxs(ft,{...v,...h,variant:l,onKeyDownCapture:VLe(()=>{g.onClose?.(),g.onDismiss?.()},{active:g.closeOnEscape,onTrigger:b,onKeyDown:a}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:r,props:n,classNames:u,styles:f,style:[{...w,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:ke(g.width),...g.referenceHidden?{display:"none"}:null},g.resolvedStyles.dropdown,f?.dropdown,s]}),children:[o,p.jsx(nx,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:u,styles:f})})]})})})})});Ww.classes=MW;Ww.displayName="@mantine/core/PopoverDropdown";const Ije={refProp:"ref",popupType:"dialog"},MM=zt((e,t)=>{const{children:n,refProp:r,popupType:s,...i}=Ye("PopoverTarget",Ije,e);if(!np(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,a=NW(),l=Bo(a.reference,xM(n),t),u=a.withRoles?{"aria-haspopup":s,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return C.cloneElement(n,{...o,...u,...a.targetProps,className:Ao(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:()=>{a.onToggle(),n.props.onClick?.()}}})});MM.displayName="@mantine/core/PopoverTarget";function Dje(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Lje(e,t,n){const r=Dje(e.middlewares),s=[Io(e.offset),n7()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1),r.shift&&s.push(Uc(typeof r.shift=="boolean"?{limiter:FT(),padding:5}:{limiter:FT(),padding:5,...r.shift})),r.flip&&s.push(typeof r.flip=="boolean"?Xi():Xi(r.flip)),r.inline&&s.push(typeof r.inline=="boolean"?Nm():Nm(r.inline)),s.push(LN({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&s.push(t0({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:o,availableHeight:a,...l}){const f=t().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:o,availableHeight:a,...l}):Object.assign(f,{maxWidth:`${o}px`,maxHeight:`${a}px`})),e.width==="target"&&Object.assign(f,{width:`${i.reference.width}px`})}})),s}function jje(e){const t=qw(),[n,r]=sp({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),s=C.useRef(n),i=()=>{n&&!e.disabled&&r(!1)},o=()=>{e.disabled||r(!n)},a=Vh({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:Lje(e,()=>a,t),whileElementsMounted:e.keepMounted?void 0:_y});return C.useEffect(()=>{if(!(!a.refs.reference.current||!a.refs.floating.current)&&n)return _y(a.refs.reference.current,a.refs.floating.current,a.update)},[n,a.update]),dh(()=>{e.onPositionChange?.(a.placement),e.positionRef.current=a.placement},[a.placement,e.preventPositionChangeWhenVisible]),dh(()=>{n!==s.current&&(n?e.onOpen?.():e.onClose?.()),s.current=n},[n,e.onClose,e.onOpen]),dh(()=>{let l=-1;return n&&(l=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(l)}},[n,e.position]),{floating:a,controlled:typeof e.opened=="boolean",opened:n,onClose:i,onToggle:o}}const Pje={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:I0("popover"),__staticSelector:"Popover",width:"max-content"},Bje=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:ts(t),"--popover-shadow":rW(n)}});function Ho(e){const t=Ye("Popover",Pje,e),{children:n,position:r,offset:s,onPositionChange:i,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:f,width:h,middlewares:g,withArrow:b,arrowSize:v,arrowOffset:x,arrowRadius:w,arrowPosition:S,unstyled:_,classNames:N,styles:M,closeOnClickOutside:O,withinPortal:R,portalProps:I,closeOnEscape:j,clickOutsideEvents:U,trapFocus:P,onClose:K,onDismiss:W,onOpen:ne,onChange:Q,zIndex:te,radius:F,shadow:V,id:z,defaultOpened:J,__staticSelector:B,withRoles:Se,disabled:X,returnFocus:D,variant:he,keepMounted:ue,vars:de,floatingStrategy:ie,withOverlay:we,overlayProps:Me,hideDetached:Be,attributes:He,preventPositionChangeWhenVisible:Te,...Fe}=t,Je=Ut({name:B,props:t,classes:MW,classNames:N,styles:M,unstyled:_,attributes:He,rootSelector:"dropdown",vars:de,varsResolver:Bje}),{resolvedStyles:kt}=Gw({classNames:N,styles:M,props:t}),[qt,Gt]=C.useState(a??J??!1),Mn=C.useRef(r),vt=C.useRef(null),[G,se]=C.useState(null),[pe,je]=C.useState(null),{dir:Ae}=ip(),Oe=qw(),ee=rp(z),be=jje({middlewares:g,width:h,position:TW(Ae,r),offset:typeof s=="number"?s+(b?v/2:0):s,arrowRef:vt,arrowOffset:x,onPositionChange:i,positionDependencies:o,opened:a,defaultOpened:J,onChange:Q,onOpen:ne,onClose:K,onDismiss:W,strategy:ie,dropdownVisible:qt,setDropdownVisible:Gt,positionRef:Mn,disabled:X,preventPositionChangeWhenVisible:Te,keepMounted:ue});KLe(()=>{O&&(be.onClose(),W?.())},U,[G,pe]);const Pe=C.useCallback(rn=>{se(rn),be.floating.refs.setReference(rn)},[be.floating.refs.setReference]),Xe=C.useCallback(rn=>{je(rn),be.floating.refs.setFloating(rn)},[be.floating.refs.setFloating]),lt=C.useCallback(()=>{l?.onExited?.(),u?.(),Gt(!1),Mn.current=r},[l?.onExited,u]),Jt=C.useCallback(()=>{l?.onEntered?.(),f?.()},[l?.onEntered,f]);return p.jsxs(Rje,{value:{returnFocus:D,disabled:X,controlled:be.controlled,reference:Pe,floating:Xe,x:be.floating.x,y:be.floating.y,arrowX:be.floating?.middlewareData?.arrow?.x,arrowY:be.floating?.middlewareData?.arrow?.y,opened:be.opened,arrowRef:vt,transitionProps:{...l,onExited:lt,onEntered:Jt},width:h,withArrow:b,arrowSize:v,arrowOffset:x,arrowRadius:w,arrowPosition:S,placement:be.floating.placement,trapFocus:P,withinPortal:R,portalProps:I,zIndex:te,radius:F,shadow:V,closeOnEscape:j,onDismiss:W,onClose:be.onClose,onToggle:be.onToggle,getTargetId:()=>`${ee}-target`,getDropdownId:()=>`${ee}-dropdown`,withRoles:Se,targetProps:Fe,__staticSelector:B,classNames:N,styles:M,unstyled:_,variant:he,keepMounted:ue,getStyles:Je,resolvedStyles:kt,floatingStrategy:ie,referenceHidden:Be&&Oe!=="test"?be.floating.middlewareData.hide?.referenceHidden:!1},children:[n,we&&p.jsx(Fc,{transition:"fade",mounted:be.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:rn=>p.jsx(Rh,{withinPortal:R,children:p.jsx(Yg,{...Me,...Je("overlay",{className:Me?.className,style:[rn,Me?.style]})})})})]})}Ho.Target=MM;Ho.Dropdown=Ww;Ho.displayName="@mantine/core/Popover";Ho.extend=e=>e;var go={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const OW=C.forwardRef(({className:e,...t},n)=>p.jsxs(ft,{component:"span",className:Ao(go.barsLoader,e),...t,ref:n,children:[p.jsx("span",{className:go.bar}),p.jsx("span",{className:go.bar}),p.jsx("span",{className:go.bar})]}));OW.displayName="@mantine/core/Bars";const RW=C.forwardRef(({className:e,...t},n)=>p.jsxs(ft,{component:"span",className:Ao(go.dotsLoader,e),...t,ref:n,children:[p.jsx("span",{className:go.dot}),p.jsx("span",{className:go.dot}),p.jsx("span",{className:go.dot})]}));RW.displayName="@mantine/core/Dots";const IW=C.forwardRef(({className:e,...t},n)=>p.jsx(ft,{component:"span",className:Ao(go.ovalLoader,e),...t,ref:n}));IW.displayName="@mantine/core/Oval";const DW={bars:OW,oval:IW,dots:RW},Hje={loaders:DW,type:"oval"},Fje=(e,{size:t,color:n})=>({root:{"--loader-size":Sn(t,"loader-size"),"--loader-color":n?gl(n,e):void 0}}),tu=zt((e,t)=>{const n=Ye("Loader",Hje,e),{size:r,color:s,type:i,vars:o,className:a,style:l,classNames:u,styles:f,unstyled:h,loaders:g,variant:b,children:v,attributes:x,...w}=n,S=Ut({name:"Loader",props:n,classes:go,className:a,style:l,classNames:u,styles:f,unstyled:h,attributes:x,vars:o,varsResolver:Fje});return v?p.jsx(ft,{...S("root"),ref:t,...w,children:v}):p.jsx(ft,{...S("root"),ref:t,component:g[i],variant:b,size:r,...w})});tu.defaultLoaders=DW;tu.classes=go;tu.displayName="@mantine/core/Loader";var op={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const d8={orientation:"horizontal"},Uje=(e,{borderWidth:t})=>({group:{"--ai-border-width":ke(t)}}),OM=zt((e,t)=>{const n=Ye("ActionIconGroup",d8,e),{className:r,style:s,classNames:i,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:f,variant:h,mod:g,attributes:b,...v}=Ye("ActionIconGroup",d8,e),x=Ut({name:"ActionIconGroup",props:n,classes:op,className:r,style:s,classNames:i,styles:o,unstyled:a,attributes:b,vars:u,varsResolver:Uje,rootSelector:"group"});return p.jsx(ft,{...x("group"),ref:t,variant:h,mod:[{"data-orientation":l},g],role:"group",...v})});OM.classes=op;OM.displayName="@mantine/core/ActionIconGroup";const zje=(e,{radius:t,color:n,gradient:r,variant:s,autoContrast:i,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:s||"filled",autoContrast:i});return{groupSection:{"--section-height":Sn(o,"section-height"),"--section-padding-x":Sn(o,"section-padding-x"),"--section-fz":Us(o),"--section-radius":t===void 0?void 0:ts(t),"--section-bg":n||s?a.background:void 0,"--section-color":a.color,"--section-bd":n||s?a.border:void 0}}},RM=zt((e,t)=>{const n=Ye("ActionIconGroupSection",null,e),{className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l,variant:u,gradient:f,radius:h,autoContrast:g,attributes:b,...v}=n,x=Ut({name:"ActionIconGroupSection",props:n,classes:op,className:r,style:s,classNames:i,styles:o,unstyled:a,attributes:b,vars:l,varsResolver:zje,rootSelector:"groupSection"});return p.jsx(ft,{...x("groupSection"),ref:t,variant:u,...v})});RM.classes=op;RM.displayName="@mantine/core/ActionIconGroupSection";const $je=(e,{size:t,radius:n,variant:r,gradient:s,color:i,autoContrast:o})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":Sn(t,"ai-size"),"--ai-radius":n===void 0?void 0:ts(n),"--ai-bg":i||r?a.background:void 0,"--ai-hover":i||r?a.hover:void 0,"--ai-hover-color":i||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||r?a.border:void 0}}},Td=ns((e,t)=>{const n=Ye("ActionIcon",null,e),{className:r,unstyled:s,variant:i,classNames:o,styles:a,style:l,loading:u,loaderProps:f,size:h,color:g,radius:b,__staticSelector:v,gradient:x,vars:w,children:S,disabled:_,"data-disabled":N,autoContrast:M,mod:O,attributes:R,...I}=n,j=Ut({name:["ActionIcon",v],props:n,className:r,style:l,classes:op,classNames:o,styles:a,unstyled:s,attributes:R,vars:w,varsResolver:$je});return p.jsxs(eu,{...j("root",{active:!_&&!u&&!N}),...I,unstyled:s,variant:i,size:h,disabled:_||u,ref:t,mod:[{loading:u,disabled:_||N},O],children:[typeof u=="boolean"&&p.jsx(Fc,{mounted:u,transition:"slide-down",duration:150,children:U=>p.jsx(ft,{component:"span",...j("loader",{style:U}),"aria-hidden":!0,children:p.jsx(tu,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),p.jsx(ft,{component:"span",mod:{loading:u},...j("icon"),children:S})]})});Td.classes=op;Td.displayName="@mantine/core/ActionIcon";Td.Group=OM;Td.GroupSection=RM;const LW=C.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:p.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));LW.displayName="@mantine/core/CloseIcon";var jW={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Vje={variant:"subtle"},qje=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Sn(t,"cb-size"),"--cb-radius":n===void 0?void 0:ts(n),"--cb-icon-size":ke(r)}}),Kw=ns((e,t)=>{const n=Ye("CloseButton",Vje,e),{iconSize:r,children:s,vars:i,radius:o,className:a,classNames:l,style:u,styles:f,unstyled:h,"data-disabled":g,disabled:b,variant:v,icon:x,mod:w,attributes:S,__staticSelector:_,...N}=n,M=Ut({name:_||"CloseButton",props:n,className:a,style:u,classes:jW,classNames:l,styles:f,unstyled:h,attributes:S,vars:i,varsResolver:qje});return p.jsxs(eu,{ref:t,...N,unstyled:h,variant:v,disabled:b,mod:[{disabled:b||g},w],...M("root",{variant:v,active:!b&&!g}),children:[x||p.jsx(LW,{}),s]})});Kw.classes=jW;Kw.displayName="@mantine/core/CloseButton";function Gje(e){return C.Children.toArray(e).filter(Boolean)}var PW={root:"m_4081bf90"};const Yje={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Wje=(e,{grow:t,preventGrowOverflow:n,gap:r,align:s,justify:i,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":D0(r),"--group-align":s,"--group-justify":i,"--group-wrap":o}}),Ur=zt((e,t)=>{const n=Ye("Group",Yje,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,children:l,gap:u,align:f,justify:h,wrap:g,grow:b,preventGrowOverflow:v,vars:x,variant:w,__size:S,mod:_,attributes:N,...M}=n,O=Gje(l),R=O.length,I=D0(u??"md"),U={childWidth:`calc(${100/R}% - (${I} - ${I} / ${R}))`},P=Ut({name:"Group",props:n,stylesCtx:U,className:s,style:i,classes:PW,classNames:r,styles:o,unstyled:a,attributes:N,vars:x,varsResolver:Wje});return p.jsx(ft,{...P("root"),ref:t,variant:w,mod:[{grow:b},_],size:S,...M,children:O})});Ur.classes=PW;Ur.displayName="@mantine/core/Group";const[Kje,Qje]=Uw({size:"sm"}),BW=zt((e,t)=>{const n=Ye("InputClearButton",null,e),{size:r,variant:s,vars:i,classNames:o,styles:a,...l}=n,u=Qje(),{resolvedClassNames:f,resolvedStyles:h}=Gw({classNames:o,styles:a,props:n});return p.jsx(Kw,{variant:s||"transparent",ref:t,size:r||u?.size||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...l.style},...l})});BW.displayName="@mantine/core/InputClearButton";const Xje={xs:7,sm:8,md:10,lg:12,xl:15};function Zje({__clearable:e,__clearSection:t,rightSection:n,__defaultRightSection:r,size:s="sm"}){const i=e&&t;return i&&(n||r)?p.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:Xje[s]},children:[i,n||r]}):n||i||r}const[Jje,Qw]=Uw({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var to={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const ePe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Us(t)} - ${ke(2)})`}}),Xw=zt((e,t)=>{const n=Ye("InputDescription",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,size:u,__staticSelector:f,__inheritStyles:h=!0,attributes:g,variant:b,...v}=Ye("InputDescription",null,n),x=Qw(),w=Ut({name:["InputWrapper",f],props:n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:g,rootSelector:"description",vars:l,varsResolver:ePe}),S=h&&x?.getStyles||w;return p.jsx(ft,{component:"p",ref:t,variant:b,size:u,...S("description",x?.getStyles?{className:s,style:i}:void 0),...v})});Xw.classes=to;Xw.displayName="@mantine/core/InputDescription";const tPe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Us(t)} - ${ke(2)})`}}),Zw=zt((e,t)=>{const n=Ye("InputError",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,size:u,attributes:f,__staticSelector:h,__inheritStyles:g=!0,variant:b,...v}=n,x=Ut({name:["InputWrapper",h],props:n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:f,rootSelector:"error",vars:l,varsResolver:tPe}),w=Qw(),S=g&&w?.getStyles||x;return p.jsx(ft,{component:"p",ref:t,variant:b,size:u,...S("error",w?.getStyles?{className:s,style:i}:void 0),...v})});Zw.classes=to;Zw.displayName="@mantine/core/InputError";const f8={labelElement:"label"},nPe=(e,{size:t})=>({label:{"--input-label-size":Us(t),"--input-asterisk-color":void 0}}),Jw=zt((e,t)=>{const n=Ye("InputLabel",f8,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,labelElement:u,size:f,required:h,htmlFor:g,onMouseDown:b,children:v,__staticSelector:x,variant:w,mod:S,attributes:_,...N}=Ye("InputLabel",f8,n),M=Ut({name:["InputWrapper",x],props:n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:_,rootSelector:"label",vars:l,varsResolver:nPe}),O=Qw(),R=O?.getStyles||M;return p.jsxs(ft,{...R("label",O?.getStyles?{className:s,style:i}:void 0),component:u,variant:w,size:f,ref:t,htmlFor:u==="label"?g:void 0,mod:[{required:h},S],onMouseDown:I=>{b?.(I),!I.defaultPrevented&&I.detail>1&&I.preventDefault()},...N,children:[v,h&&p.jsx("span",{...R("required"),"aria-hidden":!0,children:" *"})]})});Jw.classes=to;Jw.displayName="@mantine/core/InputLabel";const IM=zt((e,t)=>{const n=Ye("InputPlaceholder",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:f,error:h,mod:g,attributes:b,...v}=n,x=Ut({name:["InputPlaceholder",u],props:n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:b,rootSelector:"placeholder"});return p.jsx(ft,{...x("placeholder"),mod:[{error:!!h},g],component:"span",variant:f,ref:t,...v})});IM.classes=to;IM.displayName="@mantine/core/InputPlaceholder";function rPe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),s=e.slice(0,r),i=e.slice(r+1),o=t&&s.includes("description")||n&&s.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:o}}const sPe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},iPe=(e,{size:t})=>({label:{"--input-label-size":Us(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Us(t)} - ${ke(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Us(t)} - ${ke(2)})`}}),DM=zt((e,t)=>{const n=Ye("InputWrapper",sPe,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,size:u,variant:f,__staticSelector:h,inputContainer:g,inputWrapperOrder:b,label:v,error:x,description:w,labelProps:S,descriptionProps:_,errorProps:N,labelElement:M,children:O,withAsterisk:R,id:I,required:j,__stylesApiProps:U,mod:P,attributes:K,...W}=n,ne=Ut({name:["InputWrapper",h],props:U||n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:K,vars:l,varsResolver:iPe}),Q={size:u,variant:f,__staticSelector:h},te=rp(I),F=typeof R=="boolean"?R:j,V=N?.id||`${te}-error`,z=_?.id||`${te}-description`,J=te,B=!!x&&typeof x!="boolean",Se=!!w,X=`${B?V:""} ${Se?z:""}`,D=X.trim().length>0?X.trim():void 0,he=S?.id||`${te}-label`,ue=v&&p.jsx(Jw,{labelElement:M,id:he,htmlFor:J,required:F,...Q,...S,children:v},"label"),de=Se&&p.jsx(Xw,{..._,...Q,size:_?.size||Q.size,id:_?.id||z,children:w},"description"),ie=p.jsx(C.Fragment,{children:g(O)},"input"),we=B&&C.createElement(Zw,{...N,...Q,size:N?.size||Q.size,key:"error",id:N?.id||V},x),Me=b.map(Be=>{switch(Be){case"label":return ue;case"input":return ie;case"description":return de;case"error":return we;default:return null}});return p.jsx(Jje,{value:{getStyles:ne,describedBy:D,inputId:J,labelId:he,...rPe(b,{hasDescription:Se,hasError:B})},children:p.jsx(ft,{ref:t,variant:f,size:u,mod:[{error:!!x},P],...ne("root"),...W,children:Me})})});DM.classes=to;DM.displayName="@mantine/core/InputWrapper";const oPe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},aPe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Sn(t.size,"input-height"),"--input-fz":Us(t.size),"--input-radius":t.radius===void 0?void 0:ts(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?ke(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?ke(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Sn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),vi=ns((e,t)=>{const n=Ye("Input",oPe,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:f,size:h,wrapperProps:g,error:b,disabled:v,leftSection:x,leftSectionProps:w,leftSectionWidth:S,rightSection:_,rightSectionProps:N,rightSectionWidth:M,rightSectionPointerEvents:O,leftSectionPointerEvents:R,variant:I,vars:j,pointer:U,multiline:P,radius:K,id:W,withAria:ne,withErrorStyles:Q,mod:te,inputSize:F,attributes:V,__clearSection:z,__clearable:J,__defaultRightSection:B,...Se}=n,{styleProps:X,rest:D}=Yw(Se),he=Qw(),ue={offsetBottom:he?.offsetBottom,offsetTop:he?.offsetTop},de=Ut({name:["Input",u],props:f||n,classes:to,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:V,stylesCtx:ue,rootSelector:"wrapper",vars:j,varsResolver:aPe}),ie=ne?{required:l,disabled:v,"aria-invalid":!!b,"aria-describedby":he?.describedBy,id:he?.inputId||W}:{},we=Zje({__clearable:J,__clearSection:z,rightSection:_,__defaultRightSection:B,size:h});return p.jsx(Kje,{value:{size:h||"sm"},children:p.jsxs(ft,{...de("wrapper"),...X,...g,mod:[{error:!!b&&Q,pointer:U,disabled:v,multiline:P,"data-with-right-section":!!we,"data-with-left-section":!!x},te],variant:I,size:h,children:[x&&p.jsx("div",{...w,"data-position":"left",...de("section",{className:w?.className,style:w?.style}),children:x}),p.jsx(ft,{component:"input",...D,...ie,ref:t,required:l,mod:{disabled:v,error:!!b&&Q},variant:I,__size:F,...de("input")}),we&&p.jsx("div",{...N,"data-position":"right",...de("section",{className:N?.className,style:N?.style}),children:we})]})})});vi.classes=to;vi.Wrapper=DM;vi.Label=Jw;vi.Error=Zw;vi.Description=Xw;vi.Placeholder=IM;vi.ClearButton=BW;vi.displayName="@mantine/core/Input";function lPe(e,t,n){const r=Ye(e,t,n),{label:s,description:i,error:o,required:a,classNames:l,styles:u,className:f,unstyled:h,__staticSelector:g,__stylesApiProps:b,errorProps:v,labelProps:x,descriptionProps:w,wrapperProps:S,id:_,size:N,style:M,inputContainer:O,inputWrapperOrder:R,withAsterisk:I,variant:j,vars:U,mod:P,attributes:K,...W}=r,{styleProps:ne,rest:Q}=Yw(W),te={label:s,description:i,error:o,required:a,classNames:l,className:f,__staticSelector:g,__stylesApiProps:b||r,errorProps:v,labelProps:x,descriptionProps:w,unstyled:h,styles:u,size:N,style:M,inputContainer:O,inputWrapperOrder:R,withAsterisk:I,variant:j,id:_,mod:P,attributes:K,...S};return{...Q,classNames:l,styles:u,unstyled:h,wrapperProps:{...te,...ne},inputProps:{required:a,classNames:l,styles:u,unstyled:h,size:N,__staticSelector:g,__stylesApiProps:b||r,error:o,variant:j,id:_,attributes:K}}}const cPe={__staticSelector:"InputBase",withAria:!0,size:"sm"},ap=ns((e,t)=>{const{inputProps:n,wrapperProps:r,...s}=lPe("InputBase",cPe,e);return p.jsx(vi.Wrapper,{...r,children:p.jsx(vi,{...n,...s,ref:t})})});ap.classes={...vi.classes,...vi.Wrapper.classes};ap.displayName="@mantine/core/InputBase";const uPe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var HW={root:"m_8bffd616"};const LM=ns((e,t)=>{const n=Ye("Flex",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,gap:u,rowGap:f,columnGap:h,align:g,justify:b,wrap:v,direction:x,attributes:w,...S}=n,_=Ut({name:"Flex",classes:HW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:w,vars:l}),N=Ys(),M=gW(),O=mW({styleProps:{gap:u,rowGap:f,columnGap:h,align:g,justify:b,wrap:v,direction:x},theme:N,data:uPe});return p.jsxs(p.Fragment,{children:[O.hasResponsiveStyles&&p.jsx(pW,{selector:`.${M}`,styles:O.styles,media:O.media}),p.jsx(ft,{ref:t,..._("root",{className:M,style:Hw(O.inlineStyles)}),...S})]})});LM.classes=HW;LM.displayName="@mantine/core/Flex";function FW({open:e,close:t,openDelay:n,closeDelay:r}){const s=C.useRef(-1),i=C.useRef(-1),o=()=>{window.clearTimeout(s.current),window.clearTimeout(i.current)},a=()=>{o(),n===0||n===void 0?e():s.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)};return C.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}function UW({style:e,size:t=16,...n}){return p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:ke(t),height:ke(t),display:"block"},...n,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}UW.displayName="@mantine/core/AccordionChevron";var zW={root:"m_b6d8b162"};function dPe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const fPe={inherit:!1},hPe=(e,{variant:t,lineClamp:n,gradient:r,size:s,color:i})=>({root:{"--text-fz":Us(s),"--text-lh":qLe(s),"--text-gradient":t==="gradient"?H_(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?gl(i,e):void 0}}),ga=ns((e,t)=>{const n=Ye("Text",fPe,e),{lineClamp:r,truncate:s,inline:i,inherit:o,gradient:a,span:l,__staticSelector:u,vars:f,className:h,style:g,classNames:b,styles:v,unstyled:x,variant:w,mod:S,size:_,attributes:N,...M}=n,O=Ut({name:["Text",u],props:n,classes:zW,className:h,style:g,classNames:b,styles:v,unstyled:x,attributes:N,vars:f,varsResolver:hPe});return p.jsx(ft,{...O("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:w,mod:[{"data-truncate":dPe(s),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":o},S],size:_,...M})});ga.classes=zW;ga.displayName="@mantine/core/Text";function rx({size:e,style:t,...n}){const r=e!==void 0?{width:ke(e),height:ke(e),...t}:t;return p.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:p.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const $W=C.createContext(null),pPe=$W.Provider;function mPe(){return{withinGroup:!!C.useContext($W)}}var eE={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const gPe=(e,{spacing:t})=>({group:{"--ag-spacing":D0(t)}}),jM=zt((e,t)=>{const n=Ye("AvatarGroup",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,spacing:u,attributes:f,...h}=n,g=Ut({name:"AvatarGroup",classes:eE,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:f,vars:l,varsResolver:gPe,rootSelector:"group"});return p.jsx(pPe,{value:!0,children:p.jsx(ft,{ref:t,...g("group"),...h})})});jM.classes=eE;jM.displayName="@mantine/core/AvatarGroup";function bPe(e){return p.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function yPe(e){let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const vPe=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function xPe(e,t=vPe){const n=yPe(e),r=Math.abs(n)%t.length;return t[r]}function wPe(e,t=2){const n=e.split(" ");return n.length===1?e.slice(0,t).toUpperCase():n.map(r=>r[0]).slice(0,t).join("").toUpperCase()}const EPe=(e,{size:t,radius:n,variant:r,gradient:s,color:i,autoContrast:o,name:a,allowedInitialsColors:l})=>{const u=i==="initials"&&typeof a=="string"?xPe(a,l):i,f=e.variantColorResolver({color:u||"gray",theme:e,gradient:s,variant:r||"light",autoContrast:o});return{root:{"--avatar-size":Sn(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:ts(n),"--avatar-bg":u||r?f.background:void 0,"--avatar-color":u||r?f.color:void 0,"--avatar-bd":u||r?f.border:void 0}}},tE=ns((e,t)=>{const n=Ye("Avatar",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,src:u,alt:f,radius:h,color:g,gradient:b,imageProps:v,children:x,autoContrast:w,mod:S,name:_,allowedInitialsColors:N,attributes:M,...O}=n,R=mPe(),[I,j]=C.useState(!u),U=Ut({name:"Avatar",props:n,classes:eE,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:M,vars:l,varsResolver:EPe});return C.useEffect(()=>j(!u),[u]),p.jsx(ft,{...U("root"),mod:[{"within-group":R.withinGroup},S],ref:t,...O,children:I||!u?p.jsx("span",{...U("placeholder"),title:f,children:x||typeof _=="string"&&wPe(_)||p.jsx(bPe,{})}):p.jsx("img",{...v,...U("image"),src:u,alt:f,onError:P=>{j(!0),v?.onError?.(P)}})})});tE.classes=eE;tE.displayName="@mantine/core/Avatar";tE.Group=jM;var VW={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const CPe=(e,{radius:t,color:n,gradient:r,variant:s,size:i,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:s||"filled",autoContrast:o});return{root:{"--badge-height":Sn(i,"badge-height"),"--badge-padding-x":Sn(i,"badge-padding-x"),"--badge-fz":Sn(i,"badge-fz"),"--badge-radius":t===void 0?void 0:ts(t),"--badge-bg":n||s?a.background:void 0,"--badge-color":n||s?a.color:void 0,"--badge-bd":n||s?a.border:void 0,"--badge-dot-color":s==="dot"?gl(n,e):void 0}}},PM=ns((e,t)=>{const n=Ye("Badge",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,radius:u,color:f,gradient:h,leftSection:g,rightSection:b,children:v,variant:x,fullWidth:w,autoContrast:S,circle:_,mod:N,attributes:M,...O}=n,R=Ut({name:"Badge",props:n,classes:VW,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:M,vars:l,varsResolver:CPe});return p.jsxs(ft,{variant:x,mod:[{block:w,circle:_,"with-right-section":!!b,"with-left-section":!!g},N],...R("root",{variant:x}),ref:t,...O,children:[g&&p.jsx("span",{...R("section"),"data-position":"left",children:g}),p.jsx("span",{...R("label"),children:v}),b&&p.jsx("span",{...R("section"),"data-position":"right",children:b})]})});PM.classes=VW;PM.displayName="@mantine/core/Badge";var lp={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const h8={orientation:"horizontal"},SPe=(e,{borderWidth:t})=>({group:{"--button-border-width":ke(t)}}),BM=zt((e,t)=>{const n=Ye("ButtonGroup",h8,e),{className:r,style:s,classNames:i,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:f,variant:h,mod:g,attributes:b,...v}=Ye("ButtonGroup",h8,e),x=Ut({name:"ButtonGroup",props:n,classes:lp,className:r,style:s,classNames:i,styles:o,unstyled:a,attributes:b,vars:u,varsResolver:SPe,rootSelector:"group"});return p.jsx(ft,{...x("group"),ref:t,variant:h,mod:[{"data-orientation":l},g],role:"group",...v})});BM.classes=lp;BM.displayName="@mantine/core/ButtonGroup";const TPe=(e,{radius:t,color:n,gradient:r,variant:s,autoContrast:i,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:s||"filled",autoContrast:i});return{groupSection:{"--section-height":Sn(o,"section-height"),"--section-padding-x":Sn(o,"section-padding-x"),"--section-fz":o?.includes("compact")?Us(o.replace("compact-","")):Us(o),"--section-radius":t===void 0?void 0:ts(t),"--section-bg":n||s?a.background:void 0,"--section-color":a.color,"--section-bd":n||s?a.border:void 0}}},HM=zt((e,t)=>{const n=Ye("ButtonGroupSection",null,e),{className:r,style:s,classNames:i,styles:o,unstyled:a,vars:l,variant:u,gradient:f,radius:h,autoContrast:g,attributes:b,...v}=n,x=Ut({name:"ButtonGroupSection",props:n,classes:lp,className:r,style:s,classNames:i,styles:o,unstyled:a,attributes:b,vars:l,varsResolver:TPe,rootSelector:"groupSection"});return p.jsx(ft,{...x("groupSection"),ref:t,variant:u,...v})});HM.classes=lp;HM.displayName="@mantine/core/ButtonGroupSection";const kPe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ke(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},_Pe=(e,{radius:t,color:n,gradient:r,variant:s,size:i,justify:o,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:s||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Sn(i,"button-height"),"--button-padding-x":Sn(i,"button-padding-x"),"--button-fz":i?.includes("compact")?Us(i.replace("compact-","")):Us(i),"--button-radius":t===void 0?void 0:ts(t),"--button-bg":n||s?l.background:void 0,"--button-hover":n||s?l.hover:void 0,"--button-color":l.color,"--button-bd":n||s?l.border:void 0,"--button-hover-color":n||s?l.hoverColor:void 0}}},Fo=ns((e,t)=>{const n=Ye("Button",null,e),{style:r,vars:s,className:i,color:o,disabled:a,children:l,leftSection:u,rightSection:f,fullWidth:h,variant:g,radius:b,loading:v,loaderProps:x,gradient:w,classNames:S,styles:_,unstyled:N,"data-disabled":M,autoContrast:O,mod:R,attributes:I,...j}=n,U=Ut({name:"Button",props:n,classes:lp,className:i,style:r,classNames:S,styles:_,unstyled:N,attributes:I,vars:s,varsResolver:_Pe}),P=!!u,K=!!f;return p.jsxs(eu,{ref:t,...U("root",{active:!a&&!v&&!M}),unstyled:N,variant:g,disabled:a||v,mod:[{disabled:a||M,loading:v,block:h,"with-left-section":P,"with-right-section":K},R],...j,children:[typeof v=="boolean"&&p.jsx(Fc,{mounted:v,transition:kPe,duration:150,children:W=>p.jsx(ft,{component:"span",...U("loader",{style:W}),"aria-hidden":!0,children:p.jsx(tu,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),p.jsxs("span",{...U("inner"),children:[u&&p.jsx(ft,{component:"span",...U("section"),mod:{position:"left"},children:u}),p.jsx(ft,{component:"span",mod:{loading:v},...U("label"),children:l}),f&&p.jsx(ft,{component:"span",...U("section"),mod:{position:"right"},children:f})]})]})});Fo.classes=lp;Fo.displayName="@mantine/core/Button";Fo.Group=BM;Fo.GroupSection=HM;const[NPe,APe]=Fw("Card component was not found in tree");var FM={root:"m_e615b15f",section:"m_599a2148"};const nE=ns((e,t)=>{const n=Ye("CardSection",null,e),{classNames:r,className:s,style:i,styles:o,vars:a,withBorder:l,inheritPadding:u,mod:f,...h}=n,g=APe();return p.jsx(ft,{ref:t,mod:[{"with-border":l,"inherit-padding":u},f],...g.getStyles("section",{className:s,style:i,styles:o,classNames:r}),...h})});nE.classes=FM;nE.displayName="@mantine/core/CardSection";const MPe=(e,{padding:t})=>({root:{"--card-padding":D0(t)}}),L0=ns((e,t)=>{const n=Ye("Card",null,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,children:u,padding:f,attributes:h,...g}=n,b=Ut({name:"Card",props:n,classes:FM,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:h,vars:l,varsResolver:MPe}),v=C.Children.toArray(u),x=v.map((w,S)=>typeof w=="object"&&w&&"type"in w&&w.type===nE?C.cloneElement(w,{"data-first-section":S===0||void 0,"data-last-section":S===v.length-1||void 0}):w);return p.jsx(NPe,{value:{getStyles:b},children:p.jsx(NM,{ref:t,unstyled:a,...b("root"),...g,children:x})})});L0.classes=FM;L0.displayName="@mantine/core/Card";L0.Section=nE;const[OPe,RPe]=Uw();function qW(e){const{value:t,defaultValue:n,onChange:r,multiple:s,children:i}=Ye("ChipGroup",null,e),[o,a]=sp({value:t,defaultValue:n,finalValue:s?[]:null,onChange:r}),l=f=>Array.isArray(o)?o.includes(f):f===o,u=f=>{const h=f.currentTarget.value;Array.isArray(o)?a(o.includes(h)?o.filter(g=>g!==h):[...o,h]):a(h)};return p.jsx(OPe,{value:{isChipSelected:l,onChange:u,multiple:s},children:i})}qW.displayName="@mantine/core/ChipGroup";var GW={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const IPe={type:"checkbox"},DPe=(e,{size:t,radius:n,variant:r,color:s,autoContrast:i})=>{const o=e.variantColorResolver({color:s||e.primaryColor,theme:e,variant:r||"filled",autoContrast:i});return{root:{"--chip-fz":Us(t),"--chip-size":Sn(t,"chip-size"),"--chip-radius":n===void 0?void 0:ts(n),"--chip-checked-padding":Sn(t,"chip-checked-padding"),"--chip-padding":Sn(t,"chip-padding"),"--chip-icon-size":Sn(t,"chip-icon-size"),"--chip-bg":s||r?o.background:void 0,"--chip-hover":s||r?o.hover:void 0,"--chip-color":s||r?o.color:void 0,"--chip-bd":s||r?o.border:void 0,"--chip-spacing":Sn(t,"chip-spacing")}}},rE=zt((e,t)=>{const n=Ye("Chip",IPe,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,id:u,checked:f,defaultChecked:h,onChange:g,value:b,wrapperProps:v,type:x,disabled:w,children:S,size:_,variant:N,icon:M,rootRef:O,autoContrast:R,mod:I,attributes:j,...U}=n,P=Ut({name:"Chip",classes:GW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:j,vars:l,varsResolver:DPe}),K=RPe(),W=rp(u),{styleProps:ne,rest:Q}=Yw(U),[te,F]=sp({value:f,defaultValue:h,finalValue:!1,onChange:g}),V=K?{checked:K.isChipSelected(b),onChange:J=>{K.onChange(J),g?.(J.currentTarget.checked)},type:K.multiple?"checkbox":"radio"}:{},z=V.checked||te;return p.jsxs(ft,{size:_,variant:N,ref:O,mod:I,...P("root"),...ne,...v,children:[p.jsx("input",{type:x,...P("input"),checked:z,onChange:J=>F(J.currentTarget.checked),id:W,disabled:w,ref:t,value:b,...V,...Q}),p.jsxs("label",{htmlFor:W,"data-checked":z||void 0,"data-disabled":w||void 0,...P("label",{variant:N||"filled"}),children:[z&&p.jsx("span",{...P("iconWrapper"),children:M||p.jsx(rx,{...P("checkIcon")})}),p.jsx("span",{children:S})]})]})});rE.classes=GW;rE.displayName="@mantine/core/Chip";rE.Group=qW;var YW={root:"m_3eebeb36",label:"m_9e365f20"};const LPe={orientation:"horizontal"},jPe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?gl(t,e):void 0,"--divider-border-style":n,"--divider-size":Sn(r,"divider-size")}}),UM=zt((e,t)=>{const n=Ye("Divider",LPe,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,color:u,orientation:f,label:h,labelPosition:g,mod:b,attributes:v,...x}=n,w=Ut({name:"Divider",classes:YW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:v,vars:l,varsResolver:jPe});return p.jsx(ft,{ref:t,mod:[{orientation:f,"with-label":!!h},b],...w("root"),...x,role:"separator",children:h&&p.jsx(ft,{component:"span",mod:{position:g},...w("label"),children:h})})});UM.classes=YW;UM.displayName="@mantine/core/Divider";const PPe={multiple:!1},WW=C.forwardRef((e,t)=>{const{onChange:n,children:r,multiple:s,accept:i,name:o,form:a,resetRef:l,disabled:u,capture:f,inputProps:h,...g}=Ye("FileButton",PPe,e),b=C.useRef(null),v=()=>{!u&&b.current?.click()},x=S=>{if(S.currentTarget.files===null)return n(s?[]:null);n(s?Array.from(S.currentTarget.files):S.currentTarget.files[0]||null)};return ex(l,()=>{b.current&&(b.current.value="")}),p.jsxs(p.Fragment,{children:[p.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:s,onChange:x,ref:Bo(t,b),name:o,form:a,capture:f,...h}),r({onClick:v,...g})]})});WW.displayName="@mantine/core/FileButton";const BPe=({value:e})=>p.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(t=>t.name).join(", "):e?.name}),HPe={valueComponent:BPe},zM=zt((e,t)=>{const n=Ye("FileInput",HPe,e),{unstyled:r,vars:s,onChange:i,value:o,defaultValue:a,multiple:l,accept:u,name:f,form:h,valueComponent:g,clearable:b,clearButtonProps:v,readOnly:x,capture:w,fileInputProps:S,rightSection:_,size:N,placeholder:M,component:O,resetRef:R,classNames:I,styles:j,attributes:U,...P}=n,K=C.useRef(null),{resolvedClassNames:W,resolvedStyles:ne}=Gw({classNames:I,styles:j,props:n}),[Q,te]=sp({value:o,defaultValue:a,onChange:i,finalValue:l?[]:null}),F=Array.isArray(Q)?Q.length!==0:Q!==null,V=_||(b&&F&&!x?p.jsx(Kw,{...v,variant:"subtle",onClick:()=>te(l?[]:null),size:N,unstyled:r}):null);return C.useEffect(()=>{(Array.isArray(Q)&&Q.length===0||Q===null)&&K.current?.()},[Q]),p.jsx(WW,{onChange:te,multiple:l,accept:u,name:f,form:h,resetRef:Bo(K,R),disabled:x,capture:w,inputProps:S,children:z=>p.jsx(ap,{component:O||"button",ref:t,rightSection:V,...z,...P,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:N,classNames:I,styles:j,attributes:U,children:F?p.jsx(g,{value:Q}):p.jsx(vi.Placeholder,{__staticSelector:"FileInput",classNames:W,styles:ne,attributes:U,children:M})})})});zM.classes=ap.classes;zM.displayName="@mantine/core/FileInput";const FPe=zM;var KW={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const p8={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:I0("overlay")},UPe=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),$M=zt((e,t)=>{const n=Ye("LoadingOverlay",p8,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,transitionProps:u,loaderProps:f,overlayProps:h,visible:g,zIndex:b,attributes:v,...x}=n,w=Ys(),S=Ut({name:"LoadingOverlay",classes:KW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:v,vars:l,varsResolver:UPe}),_={...p8.overlayProps,...h};return p.jsx(Fc,{transition:"fade",...u,mounted:!!g,children:N=>p.jsxs(ft,{...S("root",{style:N}),ref:t,...x,children:[p.jsx(tu,{...S("loader"),unstyled:a,...f}),p.jsx(Yg,{..._,...S("overlay"),darkHidden:!0,unstyled:a,color:h?.color||w.white}),p.jsx(Yg,{..._,...S("overlay"),lightHidden:!0,unstyled:a,color:h?.color||w.colors.dark[5]})]})})});$M.classes=KW;$M.displayName="@mantine/core/LoadingOverlay";const[zPe,nu]=Fw("Menu component was not found in the tree");var ru={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const VM=zt((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,...a}=Ye("MenuDivider",null,e),l=nu();return p.jsx(ft,{ref:t,...l.getStyles("divider",{className:r,style:s,styles:i,classNames:n}),...a})});VM.classes=ru;VM.displayName="@mantine/core/MenuDivider";const qM=zt((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:f,...h}=Ye("MenuDropdown",null,e),g=C.useRef(null),b=nu(),v=Ps(u,S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&(S.preventDefault(),g.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),x=Ps(a,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.openDropdown()),w=Ps(l,()=>(b.trigger==="hover"||b.trigger==="click-hover")&&b.closeDropdown());return p.jsxs(Ho.Dropdown,{...h,onMouseEnter:x,onMouseLeave:w,role:"menu","aria-orientation":"vertical",ref:Bo(t,g),...b.getStyles("dropdown",{className:r,style:s,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v,children:[b.withInitialFocusPlaceholder&&p.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});qM.classes=ru;qM.displayName="@mantine/core/MenuDropdown";const[$Pe,sE]=Uw(),GM=ns((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:f,children:h,disabled:g,"data-disabled":b,...v}=Ye("MenuItem",null,e),x=nu(),w=sE(),S=Ys(),{dir:_}=ip(),N=C.useRef(null),M=v,O=Ps(M.onClick,()=>{b||(typeof l=="boolean"?l&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),R=a?S.variantColorResolver({color:a,theme:S,variant:"light"}):void 0,I=a?Sd({color:a,theme:S}):null,j=Ps(M.onKeyDown,U=>{U.key==="ArrowLeft"&&w&&(w.close(),w.focusParentItem())});return p.jsxs(eu,{onMouseDown:U=>U.preventDefault(),...v,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:s,styles:i,classNames:n}),ref:Bo(N,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||b||void 0,"data-mantine-stop-propagation":!0,onClick:O,onKeyDown:vM({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:_,orientation:"vertical",onKeyDown:j}),__vars:{"--menu-item-color":I?.isThemeColor&&I?.shade===void 0?`var(--mantine-color-${I.color}-6)`:R?.color,"--menu-item-hover":R?.hover},children:[u&&p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:u}),h&&p.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:h}),f&&p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:f})]})});GM.classes=ru;GM.displayName="@mantine/core/MenuItem";const YM=zt((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,...a}=Ye("MenuLabel",null,e),l=nu();return p.jsx(ft,{ref:t,...l.getStyles("label",{className:r,style:s,styles:i,classNames:n}),...a})});YM.classes=ru;YM.displayName="@mantine/core/MenuLabel";const WM=zt((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:f,...h}=Ye("MenuSubDropdown",null,e),g=C.useRef(null),b=nu(),v=sE(),x=Ps(a,v?.open),w=Ps(l,v?.close);return p.jsx(Ho.Dropdown,{...h,onMouseEnter:x,onMouseLeave:w,role:"menu","aria-orientation":"vertical",ref:Bo(t,g),...b.getStyles("dropdown",{className:r,style:s,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:f})});WM.classes=ru;WM.displayName="@mantine/core/MenuSubDropdown";const KM=ns((e,t)=>{const{classNames:n,className:r,style:s,styles:i,vars:o,color:a,leftSection:l,rightSection:u,children:f,disabled:h,"data-disabled":g,closeMenuOnClick:b,...v}=Ye("MenuSubItem",null,e),x=nu(),w=sE(),S=Ys(),{dir:_}=ip(),N=C.useRef(null),M=v,O=a?S.variantColorResolver({color:a,theme:S,variant:"light"}):void 0,R=a?Sd({color:a,theme:S}):null,I=Ps(M.onKeyDown,K=>{K.key==="ArrowRight"&&(w?.open(),w?.focusFirstItem()),K.key==="ArrowLeft"&&w?.parentContext&&(w.parentContext.close(),w.parentContext.focusParentItem())}),j=Ps(M.onClick,()=>{!g&&b&&x.closeDropdownImmediately()}),U=Ps(M.onMouseEnter,w?.open),P=Ps(M.onMouseLeave,w?.close);return p.jsxs(eu,{onMouseDown:K=>K.preventDefault(),...v,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,...x.getStyles("item",{className:r,style:s,styles:i,classNames:n}),ref:Bo(N,t),role:"menuitem",disabled:h,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":h||g||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:U,onMouseLeave:P,onClick:j,onKeyDown:vM({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:_,orientation:"vertical",onKeyDown:I}),__vars:{"--menu-item-color":R?.isThemeColor&&R?.shade===void 0?`var(--mantine-color-${R.color}-6)`:O?.color,"--menu-item-hover":O?.hover},children:[l&&p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:l}),f&&p.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:f}),p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:u||p.jsx(UW,{...x.getStyles("chevron"),size:14})})]})});KM.classes=ru;KM.displayName="@mantine/core/MenuSubItem";function QW({children:e,refProp:t}){if(!np(e))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return nu(),p.jsx(Ho.Target,{refProp:t,popupType:"menu",children:e})}QW.displayName="@mantine/core/MenuSubTarget";const VPe={offset:0,position:"right-start",transitionProps:{duration:0},middlewares:{shift:{crossAxis:!0}}};function cp(e){const{children:t,closeDelay:n,...r}=Ye("MenuSub",VPe,e),s=rp(),[i,{open:o,close:a}]=c5e(!1),l=sE(),{openDropdown:u,closeDropdown:f}=FW({open:o,close:a,closeDelay:n,openDelay:0}),h=()=>window.setTimeout(()=>{document.getElementById(`${s}-dropdown`)?.querySelectorAll("[data-menu-item]:not([data-disabled])")[0]?.focus()},16),g=()=>window.setTimeout(()=>{document.getElementById(`${s}-target`)?.focus()},16);return p.jsx($Pe,{value:{opened:i,close:f,open:u,focusFirstItem:h,focusParentItem:g,parentContext:l},children:p.jsx(Ho,{opened:i,withinPortal:!1,withArrow:!1,id:s,...r,children:t})})}cp.extend=e=>e;cp.displayName="@mantine/core/MenuSub";cp.Target=QW;cp.Dropdown=WM;cp.Item=KM;const qPe={refProp:"ref"},XW=C.forwardRef((e,t)=>{const{children:n,refProp:r,...s}=Ye("MenuTarget",qPe,e);if(!np(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=nu(),o=n.props,a=Ps(o.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),l=Ps(o.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),u=Ps(o.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return p.jsx(Ho.Target,{refProp:r,popupType:"menu",ref:t,...s,children:C.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":i.opened?!0:void 0})})});XW.displayName="@mantine/core/MenuTarget";const GPe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function An(e){const t=Ye("Menu",GPe,e),{children:n,onOpen:r,onClose:s,opened:i,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:f,closeOnEscape:h,trigger:g,openDelay:b,closeDelay:v,classNames:x,styles:w,unstyled:S,variant:_,vars:N,menuItemTabIndex:M,keepMounted:O,withInitialFocusPlaceholder:R,attributes:I,...j}=t,U=Ut({name:"Menu",classes:ru,props:t,classNames:x,styles:w,unstyled:S,attributes:I}),[P,K]=sp({value:i,defaultValue:o,finalValue:!1,onChange:l}),[W,ne]=C.useState(!1),Q=()=>{K(!1),ne(!1),P&&s?.()},te=()=>{K(!0),!P&&r?.()},F=()=>{P?Q():te()},{openDropdown:V,closeDropdown:z}=FW({open:te,close:Q,closeDelay:v,openDelay:b}),J=X=>GLe("[data-menu-item]","[data-menu-dropdown]",X),{resolvedClassNames:B,resolvedStyles:Se}=Gw({classNames:x,styles:w,props:t});return p.jsx(zPe,{value:{getStyles:U,opened:P,toggleDropdown:F,getItemIndex:J,openedViaClick:W,setOpenedViaClick:ne,closeOnItemClick:u,closeDropdown:g==="click"?Q:z,openDropdown:g==="click"?te:V,closeDropdownImmediately:Q,loop:f,trigger:g,unstyled:S,menuItemTabIndex:M,withInitialFocusPlaceholder:R},children:p.jsx(Ho,{...j,opened:P,onChange:F,defaultOpened:o,trapFocus:O?!1:a,closeOnEscape:h,__staticSelector:"Menu",classNames:B,styles:Se,unstyled:S,variant:_,keepMounted:O,children:n})})}An.extend=e=>e;An.withProps=xje(An);An.classes=ru;An.displayName="@mantine/core/Menu";An.Item=GM;An.Label=YM;An.Dropdown=qM;An.Target=XW;An.Divider=VM;An.Sub=cp;const YPe={duration:100,transition:"fade"};function m8(e,t){return{...YPe,...t,...e}}function WPe({offset:e,position:t,defaultOpened:n}){const[r,s]=C.useState(n),i=C.useRef(null),{x:o,y:a,elements:l,refs:u,update:f,placement:h}=Vh({placement:t,middleware:[Uc({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=h.includes("right")?e:t.includes("left")?e*-1:0,b=h.includes("bottom")?e:t.includes("top")?e*-1:0,v=C.useCallback(({clientX:x,clientY:w})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:w,left:x+g,top:w+b,right:x,bottom:w}}})},[l.reference]);return C.useEffect(()=>{if(u.floating.current){const x=i.current;x.addEventListener("mousemove",v);const w=rl(u.floating.current);return w.forEach(S=>{S.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",v),w.forEach(S=>{S.removeEventListener("scroll",f)})}}},[l.reference,u.floating.current,f,v,r]),{handleMouseMove:v,x:o,y:a,opened:r,setOpened:s,boundaryRef:i,floating:u.setFloating}}var iE={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const KPe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:I0("popover")},QPe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ts(t),"--tooltip-bg":n?gl(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),QM=zt((e,t)=>{const n=Ye("TooltipFloating",KPe,e),{children:r,refProp:s,withinPortal:i,style:o,className:a,classNames:l,styles:u,unstyled:f,radius:h,color:g,label:b,offset:v,position:x,multiline:w,zIndex:S,disabled:_,defaultOpened:N,variant:M,vars:O,portalProps:R,attributes:I,...j}=n,U=Ys(),P=Ut({name:"TooltipFloating",props:n,classes:iE,className:a,style:o,classNames:l,styles:u,unstyled:f,attributes:I,rootSelector:"tooltip",vars:O,varsResolver:QPe}),{handleMouseMove:K,x:W,y:ne,opened:Q,boundaryRef:te,floating:F,setOpened:V}=WPe({offset:v,position:x,defaultOpened:N});if(!np(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const z=Bo(te,xM(r),t),J=r.props,B=X=>{J.onMouseEnter?.(X),K(X),V(!0)},Se=X=>{J.onMouseLeave?.(X),V(!1)};return p.jsxs(p.Fragment,{children:[p.jsx(Rh,{...R,withinPortal:i,children:p.jsx(ft,{...j,...P("tooltip",{style:{...bW(o,U),zIndex:S,display:!_&&Q?"block":"none",top:(ne&&Math.round(ne))??"",left:(W&&Math.round(W))??""}}),variant:M,ref:F,mod:{multiline:w},children:b})}),C.cloneElement(r,{...J,[s]:z,onMouseEnter:B,onMouseLeave:Se})]})});QM.classes=iE;QM.displayName="@mantine/core/TooltipFloating";const ZW=C.createContext(!1),XPe=ZW.Provider,ZPe=()=>C.useContext(ZW),JPe={openDelay:0,closeDelay:0};function XM(e){const{openDelay:t,closeDelay:n,children:r}=Ye("TooltipGroup",JPe,e);return p.jsx(XPe,{value:!0,children:p.jsx(Kfe,{delay:{open:t,close:n},children:r})})}XM.displayName="@mantine/core/TooltipGroup";XM.extend=e=>e;function e8e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function t8e(e){const t=e8e(e.middlewares),n=[Io(e.offset)];return t.shift&&n.push(Uc(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?Xi():Xi(t.flip)),n.push(LN({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?Nm():Nm(t.inline)):e.inline&&n.push(Nm()),n}function n8e(e){const[t,n]=C.useState(e.defaultOpened),s=typeof e.opened=="boolean"?e.opened:t,i=ZPe(),o=rp(),a=C.useCallback(O=>{n(O),O&&S(o)},[o]),{x:l,y:u,context:f,refs:h,placement:g,middlewareData:{arrow:{x:b,y:v}={}}}=Vh({strategy:e.strategy,placement:e.position,open:s,onOpenChange:a,middleware:t8e(e),whileElementsMounted:_y}),{delay:x,currentId:w,setCurrentId:S}=Qfe(f,{id:o}),{getReferenceProps:_,getFloatingProps:N}=PF([Yfe(f,{enabled:e.events?.hover,delay:i?x:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),rhe(f,{enabled:e.events?.focus,visibleOnly:!0}),ihe(f,{role:"tooltip"}),jF(f,{enabled:typeof e.opened>"u"})]);dh(()=>{e.onPositionChange?.(g)},[g]);const M=s&&w&&w!==o;return{x:l,y:u,arrowX:b,arrowY:v,reference:h.setReference,floating:h.setFloating,getFloatingProps:N,getReferenceProps:_,isGroupPhase:M,opened:s,placement:g}}const g8={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:I0("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},r8e=(e,{radius:t,color:n,variant:r,autoContrast:s})=>{const i=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:s,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:ts(t),"--tooltip-bg":n?i.background:void 0,"--tooltip-color":n?i.color:void 0}}},up=zt((e,t)=>{const n=Ye("Tooltip",g8,e),{children:r,position:s,refProp:i,label:o,openDelay:a,closeDelay:l,onPositionChange:u,opened:f,defaultOpened:h,withinPortal:g,radius:b,color:v,classNames:x,styles:w,unstyled:S,style:_,className:N,withArrow:M,arrowSize:O,arrowOffset:R,arrowRadius:I,arrowPosition:j,offset:U,transitionProps:P,multiline:K,events:W,zIndex:ne,disabled:Q,positionDependencies:te,onClick:F,onMouseEnter:V,onMouseLeave:z,inline:J,variant:B,keepMounted:Se,vars:X,portalProps:D,mod:he,floatingStrategy:ue,middlewares:de,autoContrast:ie,attributes:we,target:Me,...Be}=Ye("Tooltip",g8,n),{dir:He}=ip(),Te=C.useRef(null),Fe=n8e({position:TW(He,s),closeDelay:l,openDelay:a,onPositionChange:u,opened:f,defaultOpened:h,events:W,arrowRef:Te,arrowOffset:R,offset:typeof U=="number"?U+(M?O/2:0):U,positionDependencies:[...te,Me??r],inline:J,strategy:ue,middlewares:de});C.useEffect(()=>{const vt=Me instanceof HTMLElement?Me:typeof Me=="string"?document.querySelector(Me):Me?.current||null;vt&&Fe.reference(vt)},[Me,Fe]);const Je=Ut({name:"Tooltip",props:n,classes:iE,className:N,style:_,classNames:x,styles:w,unstyled:S,attributes:we,rootSelector:"tooltip",vars:X,varsResolver:r8e});if(!Me&&!np(r))return null;if(Me){const vt=m8(P,{duration:100,transition:"fade"});return p.jsx(p.Fragment,{children:p.jsx(Rh,{...D,withinPortal:g,children:p.jsx(Fc,{...vt,keepMounted:Se,mounted:!Q&&!!Fe.opened,duration:Fe.isGroupPhase?10:vt.duration,children:G=>p.jsxs(ft,{...Be,"data-fixed":ue==="fixed"||void 0,variant:B,mod:[{multiline:K},he],...Fe.getFloatingProps({ref:Fe.floating,className:Je("tooltip").className,style:{...Je("tooltip").style,...G,zIndex:ne,top:Fe.y??0,left:Fe.x??0}}),children:[o,p.jsx(nx,{ref:Te,arrowX:Fe.arrowX,arrowY:Fe.arrowY,visible:M,position:Fe.placement,arrowSize:O,arrowOffset:R,arrowRadius:I,arrowPosition:j,...Je("arrow")})]})})})})}const kt=r,qt=kt.props,Gt=Bo(Fe.reference,xM(kt),t),Mn=m8(P,{duration:100,transition:"fade"});return p.jsxs(p.Fragment,{children:[p.jsx(Rh,{...D,withinPortal:g,children:p.jsx(Fc,{...Mn,keepMounted:Se,mounted:!Q&&!!Fe.opened,duration:Fe.isGroupPhase?10:Mn.duration,children:vt=>p.jsxs(ft,{...Be,"data-fixed":ue==="fixed"||void 0,variant:B,mod:[{multiline:K},he],...Fe.getFloatingProps({ref:Fe.floating,className:Je("tooltip").className,style:{...Je("tooltip").style,...vt,zIndex:ne,top:Fe.y??0,left:Fe.x??0}}),children:[o,p.jsx(nx,{ref:Te,arrowX:Fe.arrowX,arrowY:Fe.arrowY,visible:M,position:Fe.placement,arrowSize:O,arrowOffset:R,arrowRadius:I,arrowPosition:j,...Je("arrow")})]})})}),C.cloneElement(kt,Fe.getReferenceProps({onClick:F,onMouseEnter:V,onMouseLeave:z,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Ao(N,qt.className),...qt,[i]:Gt}))]})});up.classes=iE;up.displayName="@mantine/core/Tooltip";up.Floating=QM;up.Group=XM;var JW={root:"m_18320242","skeleton-fade":"m_299c329c"};const s8e={visible:!0,animate:!0},i8e=(e,{width:t,height:n,radius:r,circle:s})=>({root:{"--skeleton-height":ke(n),"--skeleton-width":ke(s?n:t),"--skeleton-radius":s?"1000px":r===void 0?void 0:ts(r)}}),sx=zt((e,t)=>{const n=Ye("Skeleton",s8e,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,width:u,height:f,circle:h,visible:g,radius:b,animate:v,mod:x,attributes:w,...S}=n,_=Ut({name:"Skeleton",classes:JW,props:n,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:w,vars:l,varsResolver:i8e});return p.jsx(ft,{ref:t,..._("root"),mod:[{visible:g,animate:v},x],...S})});sx.classes=JW;sx.displayName="@mantine/core/Skeleton";var eK={root:"m_6d731127"};const o8e={gap:"md",align:"stretch",justify:"flex-start"},a8e=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":D0(t),"--stack-align":n,"--stack-justify":r}}),j0=zt((e,t)=>{const n=Ye("Stack",o8e,e),{classNames:r,className:s,style:i,styles:o,unstyled:a,vars:l,align:u,justify:f,gap:h,variant:g,attributes:b,...v}=n,x=Ut({name:"Stack",props:n,classes:eK,className:s,style:i,classNames:r,styles:o,unstyled:a,attributes:b,vars:l,varsResolver:a8e});return p.jsx(ft,{ref:t,...x("root"),variant:g,...v})});j0.classes=eK;j0.displayName="@mantine/core/Stack";const[l8e,ZM]=Fw("Tabs component was not found in the tree");var P0={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const JM=zt((e,t)=>{const n=Ye("TabsList",null,e),{children:r,className:s,grow:i,justify:o,classNames:a,styles:l,style:u,mod:f,...h}=n,g=ZM();return p.jsx(ft,{...h,...g.getStyles("list",{className:s,style:u,classNames:a,styles:l,props:n,variant:g.variant}),ref:t,role:"tablist",variant:g.variant,mod:[{grow:i,orientation:g.orientation,placement:g.orientation==="vertical"&&g.placement,inverted:g.inverted},f],"aria-orientation":g.orientation,__vars:{"--tabs-justify":o},children:r})});JM.classes=P0;JM.displayName="@mantine/core/TabsList";const eO=zt((e,t)=>{const n=Ye("TabsPanel",null,e),{children:r,className:s,value:i,classNames:o,styles:a,style:l,mod:u,keepMounted:f,...h}=n,g=ZM(),b=g.value===i,v=g.keepMounted||f||b?r:null;return p.jsx(ft,{...g.getStyles("panel",{className:s,classNames:o,styles:a,style:[l,b?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:g.orientation},u],role:"tabpanel",id:g.getPanelId(i),"aria-labelledby":g.getTabId(i),...h,children:v})});eO.classes=P0;eO.displayName="@mantine/core/TabsPanel";const tO=zt((e,t)=>{const n=Ye("TabsTab",null,e),{className:r,children:s,rightSection:i,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:f,color:h,style:g,classNames:b,styles:v,vars:x,mod:w,tabIndex:S,..._}=n,N=Ys(),{dir:M}=ip(),O=ZM(),R=a===O.value,I=U=>{O.onChange(O.allowTabDeactivation&&a===O.value?null:a),l?.(U)},j={classNames:b,styles:v,props:n};return p.jsxs(eu,{..._,...O.getStyles("tab",{className:r,style:g,variant:O.variant,...j}),disabled:f,unstyled:O.unstyled,variant:O.variant,mod:[{active:R,disabled:f,orientation:O.orientation,inverted:O.inverted,placement:O.orientation==="vertical"&&O.placement},w],ref:t,role:"tab",id:O.getTabId(a),"aria-selected":R,tabIndex:S!==void 0?S:R||O.value===null?0:-1,"aria-controls":O.getPanelId(a),onClick:I,__vars:{"--tabs-color":h?gl(h,N):void 0},onKeyDown:vM({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:O.activateTabWithKeyboard,loop:O.loop,orientation:O.orientation||"horizontal",dir:M,onKeyDown:u}),children:[o&&p.jsx("span",{...O.getStyles("tabSection",j),"data-position":"left",children:o}),s&&p.jsx("span",{...O.getStyles("tabLabel",j),children:s}),i&&p.jsx("span",{...O.getStyles("tabSection",j),"data-position":"right",children:i})]})});tO.classes=P0;tO.displayName="@mantine/core/TabsTab";const b8="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",c8e={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},u8e=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":ts(t),"--tabs-color":gl(n,e),"--tabs-text-color":J5e(r,e)?uW({color:n,theme:e,autoContrast:r}):void 0}}),tl=zt((e,t)=>{const n=Ye("Tabs",c8e,e),{defaultValue:r,value:s,onChange:i,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:f,allowTabDeactivation:h,variant:g,color:b,radius:v,inverted:x,placement:w,keepMounted:S,classNames:_,styles:N,unstyled:M,className:O,style:R,vars:I,autoContrast:j,mod:U,attributes:P,...K}=n,W=rp(u),[ne,Q]=sp({value:s,defaultValue:r,finalValue:null,onChange:i}),te=Ut({name:"Tabs",props:n,classes:P0,className:O,style:R,classNames:_,styles:N,unstyled:M,attributes:P,vars:I,varsResolver:u8e});return p.jsx(l8e,{value:{placement:w,value:ne,orientation:o,id:W,loop:l,activateTabWithKeyboard:f,getTabId:JP(`${W}-tab`,b8),getPanelId:JP(`${W}-panel`,b8),onChange:Q,allowTabDeactivation:h,variant:g,color:b,radius:v,inverted:x,keepMounted:S,unstyled:M,getStyles:te},children:p.jsx(ft,{ref:t,id:W,variant:g,mod:[{orientation:o,inverted:o==="horizontal"&&x,placement:o==="vertical"&&w},U],...te("root"),...K,children:a})})});tl.classes=P0;tl.displayName="@mantine/core/Tabs";tl.Tab=tO;tl.Panel=eO;tl.List=JM;const oE=zt((e,t)=>{const n=Ye("TextInput",null,e);return p.jsx(ap,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});oE.classes=ap.classes;oE.displayName="@mantine/core/TextInput";const tK=(e,t,n=!1)=>{const r=[];function s(i,o="--bn"){for(const a in i){const l=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=`${o}-${l}`;typeof i[a]!="object"?(typeof i[a]=="number"&&(i[a]=`${i[a]}px`),n?t.style.removeProperty(u):t.style.setProperty(u,i[a].toString())):s(i[a],u)}}return s(e),r},y8=(e,t)=>tK(e,t),d8e={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},f8e=e=>tK(d8e,e,!0),nK=e=>p.jsxs(j0,{gap:0,className:"bn-tooltip",children:[p.jsx(ga,{size:"sm",lineClamp:5,children:e.mainTooltip}),e.secondaryTooltip&&p.jsx(ga,{size:"xs",lineClamp:5,children:e.secondaryTooltip})]}),xT=C.forwardRef((e,t)=>{const{className:n,children:r,mainTooltip:s,secondaryTooltip:i,icon:o,isSelected:a,isDisabled:l,onClick:u,label:f,variant:h,...g}=e;Tt(g,!1);const[b,v]=C.useState(!1),x=r?p.jsx(Fo,{"aria-label":f,className:n,onMouseDown:w=>{Pk()&&w.currentTarget.focus()},onClick:w=>{v(!0),u?.(w)},onPointerLeave:()=>v(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":s?s.slice(0,1).toLowerCase()+s.replace(/\s+/g,"").slice(1):void 0,size:h==="compact"?"compact-xs":"xs",disabled:l||!1,ref:t,...g,children:r}):p.jsx(Td,{className:n,"aria-label":f,onMouseDown:w=>{Pk()&&w.currentTarget.focus()},onClick:w=>{v(!0),u?.(w)},onPointerLeave:()=>v(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":s?s.slice(0,1).toLowerCase()+s.replace(/\s+/g,"").slice(1):void 0,size:h==="compact"?20:30,disabled:l||!1,ref:t,...g,children:o});return s?p.jsx(up,{disabled:b,withinPortal:!1,label:p.jsx(nK,{mainTooltip:s,secondaryTooltip:i}),children:x}):x}),h8e=C.forwardRef((e,t)=>{const{className:n,text:r,icon:s,isSelected:i,mainTooltip:o,secondaryTooltip:a,onClick:l,onMouseEnter:u,...f}=e;Tt(f,!1);const[h,g]=C.useState(!1),b=p.jsxs(rE,{className:n,checked:i===!0,wrapperProps:{onMouseEnter:u,onMouseLeave:()=>g(!1),onClick:v=>{g(!0),l?.(v)}},variant:"light",icon:null,ref:t,children:[p.jsx("span",{children:s}),p.jsx("span",{children:r})]});return!o||h?b:p.jsx(up,{refProp:"rootRef",withinPortal:!1,label:p.jsx(nK,{mainTooltip:o,secondaryTooltip:a}),children:b})}),p8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s),p.jsx(Ur,{className:n,ref:t,children:r})}),m8e=C.forwardRef((e,t)=>{const{className:n,children:r,headerText:s,selected:i,onFocus:o,onBlur:a,tabIndex:l,...u}=e;Tt(u,!1);const f=C.useRef(null);return C.useEffect(()=>{var h;i&&((h=f.current)==null||h.scrollIntoView({behavior:"smooth",block:"center"}))},[i]),p.jsxs(L0,{className:$n(n,i?"selected":""),onFocus:o,onBlur:a,tabIndex:l,ref:bM([t,f]),children:[s&&p.jsx(ga,{className:"bn-header-text",children:s}),r]})}),g8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s,!1),p.jsx(L0.Section,{className:n,ref:t,children:r})}),b8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s,!1),p.jsx(UM,{className:n,label:p.jsx(ga,{children:r}),ref:t})}),y8e=C.forwardRef((e,t)=>{const{authorInfo:n,timeString:r,edited:s,...i}=e,o=yt();return Tt(i,!1),n==="loading"?p.jsxs(Ur,{children:[p.jsx(sx,{height:24,width:24}),p.jsx("div",{children:p.jsx(sx,{height:12,width:100})})]}):p.jsxs(Ur,{children:[p.jsx(tE,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),p.jsxs(ga,{fz:"sm",fw:"bold",children:[n.username,p.jsxs(ga,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[r," ",s&&`(${o.comments.edited})`]})]})]})}),v8e=C.forwardRef((e,t)=>{const{className:n,showActions:r,authorInfo:s,timeString:i,edited:o,actions:a,children:l,...u}=e,{hovered:f,ref:h}=l5e(),{focused:g,ref:b}=lW(),v=bM([t,h]);return Tt(u,!1),p.jsxs(Ur,{pos:"relative",ref:v,className:n,children:[a&&(r===!0||r===void 0||r==="hover"&&f||g)?p.jsx(Ur,{ref:b,style:{position:"absolute",right:0,top:0,zIndex:10},children:a}):null,p.jsx(y8e,{...e}),l]})}),x8e=C.forwardRef((e,t)=>{const{className:n,autoFocus:r,onFocus:s,onBlur:i,editor:o,editable:a,...l}=e;Tt(l,!1);const u=Po();return p.jsx(nO,{autoFocus:r,className:n,editor:e.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:a,theme:u?.colorSchemePreference,ref:t,onFocus:s,onBlur:i,children:p.jsx(WY,{formattingToolbar:w8e})})}),w8e=()=>{const e=GY([]).filter(t=>t.key!=="nestBlockButton"&&t.key!=="unnestBlockButton");return p.jsx(YY,{blockTypeSelectItems:[],children:e})},E8e=C.forwardRef((e,t)=>{const{className:n,name:r,label:s,variant:i,icon:o,value:a,autoFocus:l,placeholder:u,disabled:f,onKeyDown:h,onChange:g,onSubmit:b,autoComplete:v,rightSection:x,...w}=e;return Tt(w),p.jsx(oE,{size:"xs",className:$n(n||"",i==="large"?"bn-mt-input-large":""),ref:t,name:r,label:s,leftSection:o,value:a,autoFocus:l,"data-autofocus":l?"true":void 0,rightSection:x,placeholder:u,disabled:f,onKeyDown:h,onChange:g,onSubmit:b,autoComplete:v})}),C8e=C.createContext(void 0),S8e=e=>{const{children:t,onOpenChange:n,position:r,sub:s,...i}=e;return Tt(i),s?p.jsx(An.Sub,{transitionProps:{duration:250,exitDelay:250},withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:r,children:t}):p.jsx(An,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:r,children:t})},T8e=C.forwardRef((e,t)=>{const{className:n,children:r,icon:s,checked:i,subTrigger:o,onClick:a,...l}=e;return Tt(l,!1),o?p.jsx(An.Sub.Item,{className:n,ref:t,leftSection:s,rightSection:i?p.jsx(rx,{size:10}):i===!1?p.jsx("div",{className:"bn-tick-space"}):null,onClick:a,...l,children:r}):p.jsx(An.Item,{className:n,ref:t,leftSection:s,rightSection:i?p.jsx(rx,{size:10}):i===!1?p.jsx("div",{className:"bn-tick-space"}):null,onClick:a,...l,children:r})}),k8e=e=>{const{children:t,sub:n,...r}=e;return Tt(r),n?p.jsx(An.Sub.Target,{children:t}):p.jsx(An.Target,{children:t})},_8e=C.forwardRef((e,t)=>{const{className:n,children:r,sub:s,...i}=e;Tt(i);const o=C.useContext(C8e);return s?p.jsx(An.Sub.Dropdown,{className:n,ref:t,onMouseOver:o?.onMenuMouseOver,onMouseLeave:o?.onMenuMouseLeave,children:r}):p.jsx(An.Dropdown,{className:n,ref:t,onMouseOver:o?.onMenuMouseOver,onMouseLeave:o?.onMenuMouseLeave,children:r})}),N8e=C.forwardRef((e,t)=>{const{className:n,...r}=e;return Tt(r),p.jsx(An.Divider,{className:n,ref:t})}),A8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s),p.jsx(An.Label,{className:n,ref:t,children:r})}),M8e=C.forwardRef((e,t)=>{const{className:n,children:r,icon:s,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,label:u,...f}=e;return Tt(f,!1),s?p.jsx(Td,{size:24,className:n,ref:t,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,"aria-label":u,...f,children:s}):p.jsx(Fo,{className:n,ref:t,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,"aria-label":u,...f,children:r})}),O8e=C.forwardRef((e,t)=>{const{className:n,tabs:r,defaultOpenTab:s,openTab:i,setOpenTab:o,loading:a,...l}=e;return Tt(l),p.jsx(Ur,{className:n,ref:t,children:p.jsxs(tl,{value:i,defaultValue:s,onChange:o,children:[a&&p.jsx($M,{visible:a}),p.jsx(tl.List,{children:r.map(u=>p.jsx(tl.Tab,{"data-test":`${u.name.toLowerCase()}-tab`,value:u.name,children:u.name},u.name))}),r.map(u=>p.jsx(tl.Panel,{value:u.name,children:u.tabPanel},u.name))]})})}),R8e=C.forwardRef((e,t)=>{const{className:n,children:r,onClick:s,label:i,...o}=e;return Tt(o),p.jsx(Fo,{size:"xs","aria-label":i,className:n,ref:t,onClick:s,...o,children:r})}),I8e=C.forwardRef((e,t)=>{const{className:n,accept:r,value:s,placeholder:i,onChange:o,...a}=e;return Tt(a),p.jsx(FPe,{size:"xs",className:n,ref:t,accept:r,value:s,placeholder:i,onChange:o,...a})}),D8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s),p.jsx("div",{className:n,ref:t,children:r})}),L8e=C.forwardRef((e,t)=>{const{className:n,value:r,placeholder:s,onKeyDown:i,onChange:o,...a}=e;return Tt(a),p.jsx(oE,{size:"xs","data-test":"embed-input",className:n,ref:t,value:r,placeholder:s,onKeyDown:i,onChange:o})}),j8e=e=>{const{opened:t,position:n,children:r,...s}=e;return Tt(s),p.jsx(Ho,{withinPortal:!1,opened:t,position:n,children:r})},P8e=e=>{const{children:t,...n}=e;return Tt(n),p.jsx(MM,{children:t})},B8e=C.forwardRef((e,t)=>{const{className:n,children:r,variant:s,...i}=e;return Tt(i),p.jsx(Ww,{className:n,ref:t,children:r})}),H8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s,!1),p.jsx(Ur,{align:"center",gap:0,className:n,ref:t,...s,children:r})}),F8e=C.forwardRef((e,t)=>{const{className:n,children:r,icon:s,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,label:u,...f}=e;return Tt(f,!1),s?p.jsx(Td,{size:24,className:n,ref:t,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,"aria-label":u,...f,children:s}):p.jsx(Fo,{className:n,ref:t,onClick:i,onDragEnd:o,onDragStart:a,draggable:l,"aria-label":u,...f,children:r})}),U8e=C.forwardRef((e,t)=>{const{className:n,children:r,id:s,...i}=e;return Tt(i),p.jsx(j0,{gap:0,className:n,ref:t,id:s,role:"listbox",children:r})}),z8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s),p.jsx(Ur,{className:n,ref:t,children:p.jsx(Ur,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),$8e=C.forwardRef((e,t)=>{const{className:n,isSelected:r,onClick:s,item:i,id:o,...a}=e;Tt(a);const l=C.useRef(null);return C.useEffect(()=>{if(!l.current||!r)return;const u=eW(l.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));u==="top"?l.current.scrollIntoView(!0):u==="bottom"&&l.current.scrollIntoView(!1)},[r]),p.jsxs(Ur,{gap:0,className:n,ref:$w(t,l),id:o,role:"option",onMouseDown:u=>u.preventDefault(),onClick:s,"aria-selected":r||void 0,children:[i.icon&&p.jsx(Ur,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:i.icon}),p.jsxs(j0,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[p.jsx(ga,{className:"bn-mt-suggestion-menu-item-title",children:i.title}),p.jsx(ga,{className:"bn-mt-suggestion-menu-item-subtitle",children:i.subtext})]}),i.badge&&p.jsx(Ur,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:p.jsx(PM,{size:"xs",children:i.badge})})]})}),V8e=C.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return Tt(s),p.jsx(Ur,{className:n,ref:t,children:r})}),q8e=C.forwardRef((e,t)=>{const{className:n,...r}=e;return Tt(r),p.jsx(tu,{className:n,type:"dots",size:16,ref:t})}),G8e=C.forwardRef((e,t)=>{const{className:n,children:r,id:s,columns:i,...o}=e;return Tt(o),p.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},ref:t,id:s,role:"grid",children:r})}),Y8e=C.forwardRef((e,t)=>{const{className:n,children:r,columns:s,...i}=e;return Tt(i),p.jsx(Ur,{className:n,style:{gridColumn:`1 / ${s+1}`},ref:t,children:p.jsx(Ur,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),W8e=C.forwardRef((e,t)=>{const{className:n,isSelected:r,onClick:s,item:i,id:o,...a}=e;Tt(a);const l=C.useRef(null);return C.useEffect(()=>{if(!l.current||!r)return;const u=eW(l.current,document.querySelector(".bn-grid-suggestion-menu"));u==="top"?l.current.scrollIntoView(!0):u==="bottom"&&l.current.scrollIntoView(!1)},[r]),p.jsx("div",{className:n,ref:$w(t,l),id:o,role:"option",onClick:s,"aria-selected":r||void 0,children:i.icon})}),K8e=C.forwardRef((e,t)=>{const{className:n,children:r,columns:s,...i}=e;return Tt(i),p.jsx(tu,{className:n,style:{gridColumn:`1 / ${s+1}`},type:"dots",ref:t})}),Q8e=C.forwardRef((e,t)=>{const{children:n,className:r,onMouseDown:s,onClick:i,...o}=e;return Tt(o,!1),p.jsx(Fo,{className:r,ref:t,onMouseDown:s,onClick:i,...o,children:n})}),X8e=C.forwardRef((e,t)=>{const{className:n,children:r,draggable:s,onDragStart:i,onDragEnd:o,style:a,label:l,...u}=e;return Tt(u,!1),p.jsx(Fo,{className:n,ref:t,"aria-label":l,draggable:s,onDragStart:i,onDragEnd:o,style:a,...u,children:r})}),wT=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseEnter:s,onMouseLeave:i,variant:o,...a}=e;Tt(a);const{ref:l,focused:u}=lW(),f=aW(u),h=$w(t,l,f);return p.jsx(LM,{className:n,ref:h,role:"toolbar",onMouseEnter:s,onMouseLeave:i,gap:o==="action-toolbar"?2:void 0,children:r})});var rK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v8=ge.createContext&&ge.createContext(rK),Z8e=["attr","size","title"];function J8e(e,t){if(e==null)return{};var n=e9e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ix.apply(this,arguments)}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){t9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t9e(e,t,n){return t=n9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9e(e){var t=r9e(e,"string");return typeof t=="symbol"?t:t+""}function r9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sK(e){return e&&e.map((t,n)=>ge.createElement(t.tag,ox({key:n},t.attr),sK(t.child)))}function s9e(e){return t=>ge.createElement(i9e,ix({attr:ox({},e.attr)},t),sK(e.child))}function i9e(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=J8e(e,Z8e),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ge.createElement("svg",ix({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ox(ox({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ge.createElement("title",null,i),e.children)};return v8!==void 0?ge.createElement(v8.Consumer,null,n=>t(n)):t(rK)}function o9e(e){return s9e({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}const ET=C.forwardRef((e,t)=>{const{className:n,items:r,isDisabled:s,...i}=e;Tt(i);const o=r.filter(a=>a.isSelected)[0];return o?p.jsxs(An,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:s,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[p.jsx(An.Target,{children:p.jsx(Fo,{onMouseDown:a=>{Pk()&&a.currentTarget.focus()},leftSection:o.icon,rightSection:p.jsx(o9e,{}),size:"xs",variant:"subtle",disabled:s,children:o.text})}),p.jsx(An.Dropdown,{className:n,ref:t,children:r.map(a=>p.jsx(An.Item,{onClick:a.onClick,leftSection:a.icon,rightSection:a.isSelected?p.jsx(rx,{size:10,className:"bn-tick-icon"}):p.jsx("div",{className:"bn-tick-space"}),disabled:a.isDisabled,children:a.text},a.text))})]}):null}),a9e={FormattingToolbar:{Root:wT,Button:xT,Select:ET},FilePanel:{Root:O8e,Button:R8e,FileInput:I8e,TabPanel:D8e,TextInput:L8e},GridSuggestionMenu:{Root:G8e,Item:W8e,EmptyItem:Y8e,Loader:K8e},LinkToolbar:{Root:wT,Button:xT,Select:ET},SideMenu:{Root:H8e,Button:F8e},SuggestionMenu:{Root:U8e,Item:$8e,EmptyItem:z8e,Label:V8e,Loader:q8e},TableHandle:{Root:X8e,ExtendButton:Q8e},Generic:{Badge:{Root:h8e,Group:p8e},Form:{Root:e=>p.jsx("div",{children:e.children}),TextInput:E8e},Menu:{Root:S8e,Trigger:k8e,Dropdown:_8e,Divider:N8e,Label:A8e,Item:T8e,Button:M8e},Popover:{Root:j8e,Trigger:P8e,Content:B8e},Toolbar:{Root:wT,Button:xT,Select:ET}},Comments:{Comment:v8e,Editor:x8e,Card:m8e,CardSection:g8e,ExpandSectionsPrompt:b8e}},nO=e=>{const{className:t,theme:n,...r}=e,s=Po(),i=ZY(),o=s?.colorSchemePreference||i,a=C.useCallback(h=>{if(h&&(f8e(h),typeof n=="object")){if("light"in n&&"dark"in n){y8(n[o==="dark"?"dark":"light"],h);return}y8(n,h);return}},[o,n]),l=C.useContext(wM),u=typeof n=="string"?n:o!=="no-preference"?o:"light",f=p.jsx(MY.Provider,{value:a9e,children:p.jsx(ILe,{"data-mantine-color-scheme":u,className:$n("bn-mantine",t||""),theme:typeof n=="object"?void 0:n,...r,ref:a})});return l?f:p.jsx(hW,{withCssVariables:!1,getRootElement:()=>{},children:f})},iK={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de sección principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subsección y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},heading_4:{title:"Encabezado 4",subtext:"Encabezado de subsección menor",aliases:["h4","encabezado4","subencabezado4"],group:"Subencabezados"},heading_5:{title:"Encabezado 5",subtext:"Encabezado de subsección pequeña",aliases:["h5","encabezado5","subencabezado5"],group:"Subencabezados"},heading_6:{title:"Encabezado 6",subtext:"Encabezado de nivel más bajo",aliases:["h6","encabezado6","subencabezado6"],group:"Subencabezados"},toggle_heading:{title:"Encabezado Plegable 1",subtext:"Encabezado de primer nivel que se puede plegar",aliases:["h","encabezado1","h1","plegable","contraible"],group:"Subencabezados"},toggle_heading_2:{title:"Encabezado Plegable 2",subtext:"Encabezado de sección principal que se puede plegar",aliases:["h2","encabezado2","subencabezado","plegable","contraible"],group:"Subencabezados"},toggle_heading_3:{title:"Encabezado Plegable 3",subtext:"Encabezado de subsección y grupo que se puede plegar",aliases:["h3","encabezado3","subencabezado","plegable","contraible"],group:"Subencabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques básicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques básicos"},bullet_list:{title:"Lista con Viñetas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con viñetas"],group:"Bloques básicos"},check_list:{title:"Lista de Verificación",subtext:"Lista con casillas de verificación",aliases:["ul","li","lista","lista de verificación","lista de chequeo","checkbox"],group:"Bloques básicos"},toggle_list:{title:"Lista Plegable",subtext:"Lista con subelementos ocultables",aliases:["li","lista","lista plegable","lista colapsable"],group:"Bloques básicos"},paragraph:{title:"Párrafo",subtext:"El cuerpo de tu documento",aliases:["p","párrafo"],group:"Bloques básicos"},code_block:{title:"Bloque de Código",subtext:"Bloque de código con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques básicos"},page_break:{title:"Salto de página",subtext:"Separador de página",aliases:["page","break","separator","salto","separador"],group:"Bloques básicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vídeo",subtext:"Vídeo redimensionable con leyenda",aliases:["video","subir vídeo","cargar","mp4","película","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emoción","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",toggleListItem:"Plegable",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{add_button_text:{image:"Agregar imagen",video:"Agregar vídeo",audio:"Agregar audio",file:"Agregar archivo"}},toggle_blocks:{add_block_button:"Toggle vacío. Haz clic para añadir un bloque."},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir menú de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrón",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vídeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vídeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vídeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Añadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vídeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vídeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaña"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{edited:"editado",save_button_text:"Guardar",cancel_button_text:"Cancelar",actions:{add_reaction:"Agregar reacción",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Más acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:e=>`${e} respuestas más`}},generic:{ctrl_shortcut:"Ctrl"}},l9e=()=>{const e=Xr(),{postId:t}=Z_(),{post:n,isLoading:r,error:s}=hF({postId:t}),i=R0({dictionary:iK,editable:!1});return C.useEffect(()=>{n&&Array.isArray(n.content)&&n.content.length>0&&i.replaceBlocks(i.document,n.content)},[n,i]),r?p.jsx(c9e,{}):s||!n?p.jsx("div",{className:"container py-15 md:py-20",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx(EF,{title:"Post no encontrado",description:"El post que buscás no existe o ha sido eliminado."}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Et,{asChild:!0,variant:"ghost",className:"text-silk-secondary hover:text-silk-primary hover:bg-white/20 transition-colors",children:p.jsxs(as,{to:Qe.CLIENT_BLOG,children:[p.jsx(ng,{size:16,className:"mr-2"}),"Volver al blog"]})})})]})}):p.jsx("div",{className:"container py-15 md:py-20",children:p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsx(Et,{asChild:!0,variant:"ghost",className:"text-silk-secondary hover:text-silk-primary hover:bg-white/20 transition-colors",children:p.jsxs(as,{to:Qe.CLIENT_BLOG,children:[p.jsx(ng,{size:16,className:"mr-2"}),"Volver al blog"]})}),p.jsxs("article",{className:"space-y-8",children:[n.imageFilePath&&p.jsxs("div",{className:"relative h-64 md:h-80 lg:h-96 overflow-hidden rounded-lg shadow-xl",children:[p.jsx("img",{alt:n.title,src:$h(n.imageFilePath),className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]}),p.jsxs("header",{className:"text-center space-y-4",children:[p.jsx("h1",{className:"font-very-vogue text-4xl md:text-5xl lg:text-6xl text-silk-secondary leading-tight",children:n.title}),p.jsx("p",{className:"text-lg md:text-xl text-silk-secondary/80 max-w-3xl mx-auto leading-relaxed",children:n.description}),p.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-silk-secondary/60 pt-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Lh,{size:16}),p.jsxs("span",{children:["Por ",n.author]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hd,{size:16}),p.jsx("span",{children:d0(n.date,"date")})]}),p.jsx(ia,{variant:"default",className:"bg-silk-primary text-white border-none rounded-full uppercase tracking-wide text-sm px-4 py-1",children:n.category.name})]})]}),Array.isArray(n.content)&&n.content.length>0?p.jsx(nO,{"data-headings-font":!0,editable:!1,editor:i,theme:{colors:{editor:{background:"transparent",text:"#161616"}}}}):p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-silk-secondary/60 text-lg",children:"Este artículo no tiene contenido disponible."})})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-silk-secondary/30 to-transparent"})}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border-silk-secondary/20 text-center",children:[p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-secondary mb-4",children:"¿Te gustó este post?"}),p.jsx("p",{className:"text-silk-secondary/80 mb-6",children:"Descubrí más contenido sobre estilo y tendencias en nuestro blog"}),p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_BLOG),variant:"primary",size:"lg",className:"group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["IR AL BLOG",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]})})},c9e=()=>p.jsx("div",{className:"container py-15 md:py-20",children:p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsx(_e,{className:"h-10 w-32"}),p.jsxs("article",{className:"space-y-8",children:[p.jsx(_e,{className:"h-64 md:h-80 lg:h-96 w-full rounded-lg"}),p.jsxs("header",{className:"text-center space-y-4",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx(_e,{className:"h-10 md:h-12 lg:h-16 w-full max-w-4xl mx-auto"}),p.jsx(_e,{className:"h-10 md:h-12 lg:h-16 w-3/4 mx-auto"})]}),p.jsxs("div",{className:"space-y-2 max-w-3xl mx-auto pt-2",children:[p.jsx(_e,{className:"h-6 md:h-7 w-full"}),p.jsx(_e,{className:"h-6 md:h-7 w-5/6 mx-auto"})]}),p.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 pt-4",children:[p.jsx(_e,{className:"h-4 w-20"}),p.jsx(_e,{className:"h-4 w-24"}),p.jsx(_e,{className:"h-6 w-16 rounded-full"})]})]}),p.jsxs("div",{className:"space-y-4 pt-4",children:[p.jsx(_e,{className:"h-6 w-full"}),p.jsx(_e,{className:"h-6 w-full"}),p.jsx(_e,{className:"h-6 w-4/5"}),p.jsx(_e,{className:"h-6 w-full"}),p.jsx(_e,{className:"h-6 w-3/4"}),p.jsx(_e,{className:"h-6 w-full"}),p.jsx(_e,{className:"h-6 w-5/6"}),p.jsx(_e,{className:"h-6 w-full"}),p.jsx(_e,{className:"h-6 w-2/3"})]})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(_e,{className:"w-full h-px"})}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p- text-center space-y-4",children:[p.jsx(_e,{className:"h-8 w-48 mx-auto"}),p.jsx(_e,{className:"h-5 w-80 mx-auto"}),p.jsx(_e,{className:"h-8 w-32 mx-auto rounded-lg"})]})]})});var q1={},w8;function u9e(){if(w8)return q1;w8=1;function e(i){if(typeof window>"u")return;const o=document.createElement("style");return o.setAttribute("type","text/css"),o.innerHTML=i,document.head.appendChild(o),i}Object.defineProperty(q1,"__esModule",{value:!0});var t=_8();function n(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var r=n(t);e(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const s=t.forwardRef(function({style:o={},className:a="",autoFill:l=!1,play:u=!0,pauseOnHover:f=!1,pauseOnClick:h=!1,direction:g="left",speed:b=50,delay:v=0,loop:x=0,gradient:w=!1,gradientColor:S="white",gradientWidth:_=200,onFinish:N,onCycleComplete:M,onMount:O,children:R},I){const[j,U]=t.useState(0),[P,K]=t.useState(0),[W,ne]=t.useState(1),[Q,te]=t.useState(!1),F=t.useRef(null),V=I||F,z=t.useRef(null),J=t.useCallback(()=>{if(z.current&&V.current){const de=V.current.getBoundingClientRect(),ie=z.current.getBoundingClientRect();let we=de.width,Me=ie.width;(g==="up"||g==="down")&&(we=de.height,Me=ie.height),ne(l&&we&&Me&&Me<we?Math.ceil(we/Me):1),U(we),K(Me)}},[l,V,g]);t.useEffect(()=>{if(Q&&(J(),z.current&&V.current)){const de=new ResizeObserver(()=>J());return de.observe(V.current),de.observe(z.current),()=>{de&&de.disconnect()}}},[J,V,Q]),t.useEffect(()=>{J()},[J,R]),t.useEffect(()=>{te(!0)},[]),t.useEffect(()=>{typeof O=="function"&&O()},[]);const B=t.useMemo(()=>l?P*W/b:P<j?j/b:P/b,[l,j,P,W,b]),Se=t.useMemo(()=>Object.assign(Object.assign({},o),{"--pause-on-hover":!u||f?"paused":"running","--pause-on-click":!u||f&&!h||h?"paused":"running","--width":g==="up"||g==="down"?"100vh":"100%","--transform":g==="up"?"rotate(-90deg)":g==="down"?"rotate(90deg)":"none"}),[o,u,f,h,g]),X=t.useMemo(()=>({"--gradient-color":S,"--gradient-width":typeof _=="number"?`${_}px`:_}),[S,_]),D=t.useMemo(()=>({"--play":u?"running":"paused","--direction":g==="left"?"normal":"reverse","--duration":`${B}s`,"--delay":`${v}s`,"--iteration-count":x?`${x}`:"infinite","--min-width":l?"auto":"100%"}),[u,g,B,v,x,l]),he=t.useMemo(()=>({"--transform":g==="up"?"rotate(90deg)":g==="down"?"rotate(-90deg)":"none"}),[g]),ue=t.useCallback(de=>[...Array(Number.isFinite(de)&&de>=0?de:0)].map((ie,we)=>r.default.createElement(t.Fragment,{key:we},t.Children.map(R,Me=>r.default.createElement("div",{style:he,className:"rfm-child"},Me)))),[he,R]);return Q?r.default.createElement("div",{ref:V,style:Se,className:"rfm-marquee-container "+a},w&&r.default.createElement("div",{style:X,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:D,onAnimationIteration:M,onAnimationEnd:N},r.default.createElement("div",{className:"rfm-initial-child-container",ref:z},t.Children.map(R,de=>r.default.createElement("div",{style:he,className:"rfm-child"},de))),ue(W-1)),r.default.createElement("div",{className:"rfm-marquee",style:D},ue(W))):null});return q1.default=s,q1}var d9e=u9e();const f9e=lx(d9e),h9e=["cher-cap-mini.webp","battlo-sandals-mini.webp","anita-ring-mini.webp","adidas-shoes-mini.webp","bottega-bag-mini.webp"],p9e=()=>p.jsx(f9e,{autoFill:!0,gradient:!1,speed:30,loop:0,className:"py-5 sm:py-10",children:h9e.map((e,t)=>p.jsx("img",{src:`/mini-images/${e}`,alt:`Prenda ${t+1}`,className:"mx-2 w-20 sm:w-24 h-auto object-contain"},e+t))}),m9e=()=>{const e=Xr(),{testimonials:t,isLoading:n}=fF({onlyActive:!0});return p.jsx("section",{className:"bg-silk-tertiary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{element:"h2",title:"Testimonios que inspiran",description:"Lo que dicen nuestros clientes sobre su transformación"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-min",children:n?Array.from({length:6}).map((r,s)=>p.jsx(g9e,{index:s},`testimonial-skeleton-${s}`)):t.length===0?p.jsx("div",{className:"col-span-full",children:p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-12 text-center",children:[p.jsx(ig,{size:80,className:"mx-auto text-silk-secondary/60 mb-4"}),p.jsx("h3",{className:"font-very-vogue text-2xl text-silk-secondary mb-2",children:"Aún no hay testimonios publicados"}),p.jsx("p",{className:"text-silk-secondary/80",children:"Pronto compartiremos las experiencias de nuestros clientes"})]})}):t.map((r,s)=>p.jsx("div",{className:`group ${s===1?"md:mt-8":s===4?"lg:mt-12":""}`,style:{animationDelay:`${s*.1}s`},children:p.jsx("div",{className:"relative",children:p.jsxs("div",{className:"relative bg-white/95 backdrop-blur-sm border border-silk-secondary/10 rounded-2xl shadow-lg hover:shadow-xl transform group-hover:-rotate-1 transition-all duration-500 overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex items-center gap-4 p-6 pb-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"size-14 rounded-full overflow-hidden border-3 border-white shadow-lg ring-2 ring-silk-tertiary/20",children:p.jsx("img",{alt:r.personName,className:"w-full h-full object-cover",src:$h(r.avatarImagePath)})}),r.isHighlight&&p.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-amber-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:p.jsx(ig,{className:"w-3 h-3 text-white fill-current"})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-bold text-silk-secondary text-lg tracking-wide select-none",children:r.personName}),p.jsx("p",{className:"text-sm text-silk-secondary/70 font-medium select-none",children:r.personRole})]})]}),p.jsxs("div",{className:"flex flex-col flex-1 px-6 pb-6 relative",children:[p.jsx(aN,{className:"absolute -top-5 right-5 w-6 h-6 text-silk-primary/80"}),p.jsxs("blockquote",{className:"text-silk-secondary/80 flex-1 leading-relaxed italic text-base font-light pt-2 pr-8 select-none",children:['"',r.description,'"']})]})]})})},r.id))}),p.jsx("div",{className:"h-px bg-silk-secondary/20"}),p.jsxs("div",{className:"text-center text-silk-secondary",children:[p.jsx("p",{className:"text-tertiary/80 text-lg mb-6 max-w-md mx-auto leading-relaxed",children:"¿Te interesa transformar tu imagen y ganar confianza?"}),p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_SERVICES),variant:"primary",size:"xl",className:"group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["NUESTROS SERVICIOS",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]})})},g9e=({index:e})=>p.jsx("div",{className:`group ${e===1?"md:mt-8":e===4?"lg:mt-12":""}`,children:p.jsx("div",{className:"relative",children:p.jsxs("div",{className:"relative bg-white/95 backdrop-blur-sm border border-silk-secondary/10 rounded-2xl shadow-lg overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex items-center gap-4 p-6 pb-4",children:[p.jsx("div",{className:"relative",children:p.jsx(_e,{className:"w-14 h-14 rounded-full"})}),p.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[p.jsx(_e,{className:"h-5 w-24"}),p.jsx(_e,{className:"h-4 w-32"})]})]}),p.jsx("div",{className:"flex flex-col flex-1 px-6 pb-6 relative",children:p.jsxs("div",{className:"space-y-2 pt-2 pr-8",children:[p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-3/4"})]})})]})})}),b9e=[{image:"closet-image.webp",title:"DIGITALIZAMOS TU CLOSET",description:"Accede a tu guardarropa desde cualquier lugar con nuestro sistema digital."},{image:"style-up-image.webp",title:"ELEVAMOS TU ESTILO",description:"De la mano de tu estilista personal, creamos looks que reflejan quién sos y potencian tu mejor versión."},{image:"empower-image.webp",title:"EMPODERAMOS TU IMAGEN",description:"Te ayudamos a proyectar confianza y seguridad a través de un estilo auténtico y único."},{image:"dresses-image.webp",title:"TRANSFORMAMOS TU EXPERIENCIA",description:"Cada consulta es personalizada, diseñada para adaptarse a tu estilo de vida y necesidades únicas."}],y9e=()=>{const e=Xr();return p.jsx("section",{className:"bg-silk-secondary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{element:"h2",textColor:"text-silk-tertiary",title:p.jsxs(p.Fragment,{children:["En ",p.jsx("span",{className:"font-classy-vogue",children:"SILK"})," creamos más que looks:",p.jsx("br",{}),p.jsx("span",{className:"italic font-light",children:"construimos confianza"})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 px-6 sm:px-0",children:b9e.map((t,n)=>p.jsxs("div",{className:"w-full flex flex-col items-start group",children:[p.jsxs("div",{className:"w-full aspect-[4/5] rounded-lg overflow-hidden mb-2 relative",children:[p.jsx("img",{src:`/confidence-images/${t.image}`,alt:t.title,className:"w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-105"}),p.jsx("div",{className:"absolute inset-0 bg-silk-secondary/0 group-hover:bg-silk-secondary/20 transition-colors duration-300"})]}),p.jsx("h3",{className:"font-very-vogue text-3xl tracking-wide mb-1",children:t.title}),p.jsx("p",{className:"leading-relaxed",children:t.description})]},`confidence-image-${n}`))}),p.jsx("div",{className:"h-px bg-silk-tertiary/20"}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-tertiary/80 text-lg mb-6 max-w-md mx-auto leading-relaxed",children:"¿Querés conocernos mejor y descubrir cómo podemos ayudarte?"}),p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_ABOUT),variant:"tertiary",size:"xl",className:"group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["CONOCÉ SOBRE NOSOTROS",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]})})},v9e=()=>{const e=Xr();return p.jsx("section",{className:"bg-[url('/find-images/cloud-image.png')] bg-cover bg-center",children:p.jsx("div",{className:"container py-15 md:py-20 ",children:p.jsx("div",{className:"flex items-center justify-center my-4",children:p.jsxs("div",{className:"text-silk-secondary bg-silk-secondary border border-silk-secondary rounded-lg shadow-2xl hover:scale-105 transition-all duration-300 overflow-hidden",children:[p.jsx("div",{className:"w-full flex items-center px-2 py-2 ",children:p.jsxs("div",{className:"flex space-x-1.5 mr-3",children:[p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"block w-2 h-2 bg-gray-400 rounded-full"})]})}),p.jsxs("div",{className:"bg-silk-tertiary",children:[p.jsxs("div",{className:"flex justify-between items-center w-full text-xs font-semibold p-3 font-classy-vogue border-b border-silk-primary/10",children:[p.jsx("span",{className:"tracking-wider",children:"ESTUDIOSILK"}),p.jsx("span",{className:"tracking-wider",children:"EVERYDAY LUXURY"})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center px-4 sm:px-8 lg:px-12 py-6 sm:py-8  w-full",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsxs("h1",{className:"font-very-vogue text-4xl sm:text-5xl tracking-wide text-center mb-3 sm:mb-4",children:["¿Todavía no ",p.jsx("br",{}),"encontraste tu estilo?"]}),p.jsxs("p",{className:"text-center text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Descubrí tu estilo ideal con nuestro"," ",p.jsx("span",{className:"font-bold text-silk-primary",children:"quiz personalizado"}),". Es rápido, práctico y el primer paso para transformar tu guardarropa."]})]}),p.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-4 text-xs sm:text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 bg-silk-primary/10 px-3 py-1 rounded-full",children:[p.jsx("span",{children:"⚡"}),p.jsx("span",{children:"2 minutos"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-silk-primary/10 px-3 py-1 rounded-full",children:[p.jsx("span",{children:"🎯"}),p.jsx("span",{children:"Resultados precisos"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-silk-primary/10 px-3 py-1 rounded-full",children:[p.jsx("span",{children:"✨"}),p.jsx("span",{children:"100% gratis"})]})]}),p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_QUIZ),variant:"primary",size:"xl",className:"group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["HACER EL QUIZ",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]}),p.jsx("p",{className:"text-xs text-silk-primary/60 mt-3 text-center",children:"Sin registro • Sin spam • Resultados inmediatos"})]})]})]})})})})},x9e=()=>{const{posts:e,isLoading:t}=Yx({onlyActive:!0}),n=$x(),r=e.length>3,s=!n&&r;return p.jsx("section",{className:"bg-silk-tertiary",children:p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{element:"h2",title:p.jsxs(p.Fragment,{children:[" ","Lo ",p.jsx("span",{className:"italic mr-1",children:"último"})," de nuestro blog"]})}),t?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mb-12",children:Array.from({length:n?1:3}).map((i,o)=>p.jsx(eh.Skeleton,{},`post-skeleton-${o}`))}):e.length===0?p.jsx(EF,{icon:Pu,title:"No hay Posts registrados",description:"Pronto tendremos contenido increíble para vos"}):r?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-center mb-2 text-xs text-muted-foreground",children:"Desliza para ver más"}),p.jsxs(wre,{opts:{align:"start",loop:!0},children:[s&&p.jsx(Sre,{}),p.jsx(Ere,{className:"m-0",children:e.map((i,o)=>p.jsx(Cre,{className:"basis-full sm:basis-1/2 lg:basis-1/3 xl:basis-1/4 px-2",children:p.jsx(eh,{post:i},`post-client-${i.id}`)},`post-slot-${o}`))}),s&&p.jsx(Tre,{})]})]}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(i=>p.jsx(eh,{post:i},`post-grid-${i.id}`))})]})})},w9e=({isModalOpen:e,onClose:t})=>p.jsx(TN,{open:e,onOpenChange:n=>n||t(),children:p.jsxs(kN,{onOpenAutoFocus:n=>n.preventDefault(),className:"max-w-6xl! max-h-[90dvh] overflow-y-auto bg-silk-tertiary text-silk-primary sm:w-full",children:[p.jsx(_N,{className:"hidden",children:"ANÁLISIS DE COLOR HECHO POR EXPERTOS"}),p.jsx("div",{className:"mx-auto sm:px-4 py-6",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-x-4 gap-y-8 items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold uppercase",children:"ANÁLISIS DE COLOR HECHO POR EXPERTOS"}),p.jsxs("h2",{className:"mt-3 text-4xl md:text-5xl font-light leading-tight",children:["¿Usas los colores que realmente te",p.jsx("span",{className:"italic",children:" favorecen"}),"?"]}),p.jsx("p",{className:"mt-4 text-silk-primary/80",children:"Vamos a analizar tu tono de piel y te guiaremos con combinaciones que resalten tu estilo."}),p.jsxs("ul",{className:"mt-6 space-y-2 text-silk-primary",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"h-5 w-5 rounded-full bg-silk-primary text-white grid place-items-center text-xs",children:"1"}),"Completá tus datos"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"h-5 w-5 rounded-full bg-silk-primary text-white grid place-items-center text-xs",children:"2"}),"Responde preguntas simples"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"h-5 w-5 rounded-full bg-silk-primary text-white grid place-items-center text-xs",children:"3"}),"Obtené tu paleta personalizada"]})]})]}),p.jsx(wF,{onSubmitSuccess:()=>t()})]})})]})}),CT=["banner-hero-1.webp","banner-hero-2.webp","banner-hero-3.webp","banner-hero-4.webp","banner-hero-5.webp"],E9e=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(0),[s,i]=C.useState(!1),o=C.useRef(null);return C.useEffect(()=>{if(s)return;const a=setInterval(()=>{r(l=>(l+1)%CT.length)},5e3);return()=>clearInterval(a)},[s]),p.jsxs("section",{ref:o,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[p.jsxs("div",{className:"flex items-center justify-center relative transition-all duration-1000 h-[600px]",children:[CT.map((a,l)=>p.jsx("img",{src:`hero-images/${a}`,alt:`Transformación de imagen ${l+1}`,className:`absolute h-full w-full object-cover transition-opacity duration-1000 ease-in-out
                  ${l===n?"opacity-100 z-10":"opacity-0 z-0"}`},`hero-image-${a}`)),p.jsx("div",{className:"absolute inset-0 bg-silk-secondary/80 z-20 pointer-events-none"}),p.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 z-30 flex gap-2",children:CT.map((a,l)=>p.jsx("button",{onClick:()=>r(l),className:`w-2 h-2 rounded-full transition-all duration-300 
                     ${l===n?"bg-silk-tertiary w-8":"bg-white/50 hover:bg-white/80"}`,"aria-label":`Ir a imagen ${l+1}`},l))}),p.jsx("div",{className:"z-30 w-full",children:p.jsxs("div",{className:"container py-15 md:py-20 flex flex-col items-center justify-center ",children:[p.jsx(ya,{textColor:"text-silk-tertiary",title:p.jsxs(p.Fragment,{children:["Desbloqueá tu versión",p.jsx("br",{}),"más segura y"," ",p.jsx("span",{className:"italic font-light",children:"auténtica"})]}),description:p.jsxs(p.Fragment,{children:["Descubrí los colores que realmente te favorecen y transformá tu imagen con nuestro análisis personalizado"," ",p.jsx("span",{className:"underline",children:"gratuito"})]})}),p.jsxs(Et,{onClick:()=>t(!0),variant:"primary",size:"xl",className:"mt-8 group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["OBTENER MI ANÁLISIS GRATIS",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]}),p.jsx("p",{className:"mt-3 text-sm opacity-70",children:"Asesores certificados y con experiencia internacional"})]})})]}),p.jsx(w9e,{isModalOpen:e,onClose:()=>t(!1)})]})},C9e=()=>p.jsxs(p.Fragment,{children:[p.jsx(E9e,{}),p.jsx(p9e,{}),p.jsx(y9e,{}),p.jsx(m9e,{}),p.jsx(v9e,{}),p.jsx(x9e,{})]}),S9e=()=>{const e=Xr();return p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{title:p.jsxs(p.Fragment,{children:["¡Estamos creando algo ",p.jsx("br",{})," ",p.jsx("span",{className:"italic font-light",children:"increíble"})," para vos!"]}),description:`Nuestro quiz personalizado de estilo está en desarrollo. Muy pronto\r
                  podrás descubrir tu estilo único de manera interactiva y divertida.`}),p.jsx("div",{className:"flex justify-center",children:p.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-2xl p-6 border border-silk-secondary/20 w-xl",children:[p.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[p.jsx(AT,{className:"w-5 h-5 text-silk-secondary"}),p.jsx("span",{className:"font-semibold text-silk-secondary uppercase tracking-wide text-sm",children:"Próximamente disponible"})]}),p.jsx("div",{className:"w-full bg-silk-secondary/20 rounded-full h-2 mb-3",children:p.jsx("div",{className:"bg-gradient-to-r from-silk-secondary to-silk-primary h-2 rounded-full w-3/4 animate-pulse"})})]})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs(Et,{onClick:()=>e(Qe.CLIENT_SERVICES),variant:"primary",size:"xl",className:"mb-4 group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["VER NUESTROS SERVICIOS",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]}),p.jsx("p",{className:"text-sm text-silk-secondary/60",children:"Mientras tanto, conocé todos los servicios disponibles"})]})]})},T9e=({isModalOpen:e,onClose:t})=>p.jsx(TN,{open:e,onOpenChange:n=>n||t(),children:p.jsxs(kN,{onOpenAutoFocus:n=>n.preventDefault(),className:`max-w-6xl! max-h-[90dvh] overflow-y-auto bg-silk-tertiary text-silk-primary \r
             sm:w-full `,children:[p.jsx(_N,{className:"hidden",children:"SERVICIOS PERSONALIZADOS DE IMAGEN"}),p.jsx("div",{className:"mx-auto sm:px-4 py-6",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-x-4 gap-y-8 items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold uppercase",children:"SERVICIOS PERSONALIZADOS DE IMAGEN"}),p.jsxs("h2",{className:"mt-3 text-4xl md:text-5xl font-light leading-tight",children:["Encontrá el servicio que",p.jsx("span",{className:"italic",children:" transforme"})," tu imagen"]}),p.jsx("p",{className:"mt-4 text-silk-primary/80",children:"Elegí el servicio que mejor se adapte a tus necesidades y objetivos. Nuestro equipo te ayudará a crear una imagen única y auténtica."}),p.jsxs("div",{className:"text-xl md:text-2xl text-silk-primary/90 mt-8 space-y-6 border-l-2 border-silk-primary/50 pl-4",children:[p.jsxs("blockquote",{className:"font-light italic",children:['"Un armario que te ',p.jsx("span",{className:"font-normal",children:"inspira"}),'"']}),p.jsxs("blockquote",{className:"font-light italic",children:['"Una imagen que te'," ",p.jsx("span",{className:"font-normal",children:"representa"}),'"']}),p.jsxs("blockquote",{className:"font-light italic",children:['"Una confianza que'," ",p.jsx("span",{className:"font-normal",children:"transforma"}),' realidades"']})]})]}),p.jsx(wF,{isServiceInputEnabled:!0,onSubmitSuccess:()=>t()})]})})]})}),k9e=({service:e})=>p.jsxs("div",{className:"group bg-white rounded-lg shadow-sm border border-silk-primary/10 overflow-hidden hover:shadow-lg transition-all duration-300 relative",children:[p.jsxs("div",{className:"relative overflow-hidden aspect-[4/5] bg-silk-tertiary/20",children:[p.jsx("img",{src:`services-images/${e.image}`,alt:e.title,className:`w-full h-full object-cover transition-all duration-300 ${e.comingSoon?"grayscale opacity-80":"group-hover:scale-105"}`}),p.jsx("div",{className:"absolute inset-0 bg-silk-secondary/0 group-hover:bg-silk-secondary/20 transition-colors duration-300"}),e.comingSoon&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"bg-silk-primary text-white px-6 py-3 rounded-lg shadow-xl border-2 border-white/20 backdrop-blur-md",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"font-semibold text-lg mb-1",children:"Próximamente"}),p.jsx("div",{className:"text-sm opacity-90",children:"Muy pronto disponible"})]})})})]})]}),p.jsxs("div",{className:`p-6 ${e.comingSoon?"opacity-75":""}`,children:[p.jsx("h3",{className:"font-very-vogue text-2xl lg:text-3xl text-silk-primary mb-3 leading-tight",children:e.title}),p.jsx("p",{className:"text-silk-secondary/90 leading-relaxed mb-6 text-base",children:e.description}),p.jsx(m9,{type:"single",collapsible:!0,className:"w-full",children:e.options.map(t=>p.jsxs(g9,{withBorder:!0,value:t.id,className:"border-silk-primary/20",children:[p.jsx(b9,{className:"font-semibold cursor-pointer text-silk-primary py-4 text-base transition-colors hover:text-silk-primary/80 [&[data-state=open]]:text-silk-primary",children:t.label}),p.jsx(y9,{className:"pb-6 pt-2 text-silk-secondary/80 text-base leading-relaxed",children:t.content})]},t.id))})]})]}),_9e=[{question:"¿CÓMO SÉ QUÉ SERVICIO ES EL ADECUADO PARA MÍ?",answer:"Cada servicio está diseñado para diferentes necesidades. Si no estás seguro, completá el formulario de contacto y te ayudamos a elegir el mejor para vos."},{question:"¿QUÉ PASA SI NO ME GUSTA LO QUE PREPARARON?",answer:"Eso es imposible, porque trabajamos en cada detalle hasta que estés 100% conforme. Durante la segunda consulta, te presentamos un primer borrador para que des tu feedback y podamos hacer ajustes. Nuestro trabajo no termina hasta que estés feliz y enamorado del resultado."},{question:"¿CUÁLES SON LAS FORMAS DE PAGO?",answer:"Aceptamos efectivo, transferencias y cripto (ARS, USD & USDT)."},{question:"¿TRABAJAN CON HOMBRES Y MUJERES?",answer:"Sí, nuestros servicios están diseñados para cualquier persona que quiera mejorar su imagen personal."},{question:"¿EL SERVICIO DE PERSONAL SHOPPER INCLUYE EL COSTO DE LAS PRENDAS?",answer:"No, el costo de las prendas no está incluido en la tarifa del servicio. Te ayudamos a elegir lo mejor según tu presupuesto."},{question:"¿VAN A PERSONALIZAR TODO SEGÚN MI TIPO DE CUERPO Y PREFERENCIAS?",answer:"¡Por supuesto! Todo el servicio está diseñado para vos. Cada recomendación se adapta a tu tipo de cuerpo, estilo de vida y gustos personales. Nada es impuesto, vos tenés la última palabra en cada elección."},{question:"¿CUÁNTO PRESUPUESTO NECESITO PARA ROPA?",answer:"El presupuesto puede variar según el tipo de ropa y la cantidad que necesites. Te recomendamos definir un rango de precios y nosotros te ayudaremos a encontrar las mejores opciones dentro de ese presupuesto."},{question:"¿TRABAJAN SOLO EN CABA?",answer:"Ofrecemos asesoramiento para clientes de cualquier parte de Argentina y del exterior. Trabajamos de manera virtual mediante encuentros por Zoom o presencialmente a domicilio (viáticos no incluidos)."}],N9e=()=>p.jsxs("section",{className:"space-y-10",children:[p.jsx("div",{className:"flex items-center justify-center ",children:p.jsx("div",{className:"w-full max-w-4xl mx-auto",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-silk-primary/20"})}),p.jsx("div",{className:"relative flex justify-center text-lg",children:p.jsx("span",{className:"bg-silk-tertiary border border-silk-primary/20 text-silk-secondary px-6 py-2",children:"Preguntas Frecuentes"})})]})})}),p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsx(m9,{type:"single",collapsible:!0,className:"w-full",children:p.jsx("div",{className:"space-y-4",children:_9e.map((e,t)=>p.jsxs(g9,{withBorder:!0,value:String(t),className:"border-silk-primary/20",children:[p.jsx(b9,{className:"text-base text-silk-secondary hover:text-silk-primary hover:border-silk-primary/20 [&[data-state=open]]:text-silk-primary [&[data-state=open]]:font-semibold",children:e.question}),p.jsx(y9,{className:"text-silk-secondary/80 text-base leading-relaxed pb-6",children:e.answer})]},t))})})}),p.jsx("div",{className:"text-center border-silk-primary/10",children:p.jsxs("p",{className:"text-silk-secondary/60 text-sm",children:["¿Tenés otra consulta?"," ",p.jsx("span",{className:"font-medium text-silk-primary transition-colors cursor-pointer  hover:underline",children:"Escribinos"})]})})]}),A9e=[{id:1,image:"personal-shopping.webp",title:"Personal Shopping",description:"Un servicio 100% personalizado para actualizar, renovar o construir tu armario desde cero. Ya sea que necesites armar tu guardarropa para una nueva temporada, encontrar el look ideal para un evento o planificar outfits para tus viajes, elegimos las piezas justas para vos.",options:[{id:"incluye",label:"¿QUÉ INCLUYE?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsx("li",{children:"Entrevista inicial para fijar objetivos de compra, estilo y presupuesto."}),p.jsxs("li",{children:[p.jsx("b",{children:"Presencial:"})," Acompañamiento en tiendas x 3hs + coffee break."]}),p.jsxs("li",{children:[p.jsx("b",{children:"Online:"})," Guía de Shopping (con tips y sugerencias) + Lista de compras personalizada (marcas, tiendas y productos con link de compra)."]}),p.jsxs("li",{children:[p.jsx("b",{children:"Guía post-shopping:"})," Armado de outfits con las compras realizadas para que nunca te quedes sin ideas."]})]})},{id:"para-quien",label:"¿PARA QUIÉN ES?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsx("li",{children:"Personas que deseen un armario resolutivo, eficaz y adaptado a su estilo, ya sea para el día a día o para un evento particular."}),p.jsx("li",{children:"Elegí la modalidad online si…"}),p.jsx("li",{children:"Viajás y querés renovar tu closet en el exterior."}),p.jsx("li",{children:"No te gusta o no tenés tiempo para ir de shopping."}),p.jsx("li",{children:"Vivís fuera de CABA o AMBA."})]})},{id:"inversion",label:"LA INVERSIÓN",content:p.jsx("p",{children:"Cada uno de nuestros clientes tiene necesidades diferentes, por lo que el precio se ajusta según lo que requieras. ¡Agendá una llamada con nosotros y armemos algo a tu medida!"})}]},{id:2,image:"transform-image.webp",title:"Asesoramiento de Imagen",description:"El servicio de asesoramiento de imagen está diseñado para ayudarte a descubrir y potenciar tu estilo único. A través de un análisis personalizado, definimos tu paleta de colores ideal, identificamos las prendas que mejor te favorecen y creamos una guía de estilo acorde a tu personalidad, estilo de vida y objetivos.",options:[{id:"incluye",label:"¿QUÉ INCLUYE?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsx("li",{children:"2 sesiones de asesoramiento por Zoom (o más si es necesario)"}),p.jsx("li",{children:"Análisis de figura, rostro y estilo."}),p.jsx("li",{children:"Colorimetría: Tu paleta ideal y cómo combinarla."}),p.jsx("li",{children:"Sugerencias de estilismo, cabello y make-up."}),p.jsx("li",{children:"Armado de un armario cápsula con 12 outfits."}),p.jsx("li",{children:"Lista de compras con links a tiendas."})]})},{id:"para-quien",label:"¿PARA QUIÉN ES?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsx("li",{children:"Personas que deseen construir su estilo personal desde cero."}),p.jsx("li",{children:"Quienes buscan alinear su guardarropa con sus objetivos."}),p.jsx("li",{children:"Personas en cambios de vida (embarazo, ascenso, mudanza)."}),p.jsx("li",{children:"Quienes quieran perfeccionar su estilo y conocer sus colores ideales."})]})},{id:"inversion",label:"LA INVERSIÓN",content:p.jsxs("p",{children:["A partir de ",p.jsx("b",{children:"ARS$490.000"})," | ",p.jsx("b",{children:"USD$500"})]})}]},{id:3,image:"transform-life.webp",title:"Transformación Integral",comingSoon:!0,description:"Un enfoque integral que une el asesoramiento de imagen con herramientas de coaching ontológico para trabajar tu imagen desde dentro hacia afuera. Más que elegir ropa que te quede bien, se trata de construir una relación sólida con vos mismo/a, una que esté alineada la identidad, autoestima y estilo de vida que deseás.",options:[{id:"incluye",label:"¿QUÉ INCLUYE?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsxs("li",{children:[p.jsx("b",{children:"Sesión 1"}),": Entrevista inicial. Autoconocimiento y fijación de objetivos."]}),p.jsxs("li",{children:[p.jsx("b",{children:"Sesión 2"}),": Trabajo sobre la percepción corporal y estilismo."]}),p.jsxs("li",{children:[p.jsx("b",{children:"Sesión 3"}),": Uso del color, análisis de colorimetría y combinaciones."]}),p.jsxs("li",{children:[p.jsx("b",{children:"Sesión 4"}),": Entrega de dossier con recomendaciones personalizadas."]})]})},{id:"para-quien",label:"¿PARA QUIÉN ES?",content:p.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[p.jsx("li",{children:"Personas que buscan desarrollar confianza a través de su imagen."}),p.jsx("li",{children:"Quienes desean mejorar su relación con el espejo y su autoestima."}),p.jsx("li",{children:"Personas en busca de evolución y transformación personal."}),p.jsx("li",{children:"Quienes quieran perfeccionar su estilo y conocer sus colores ideales."})]})},{id:"inversion",label:"LA INVERSIÓN",content:p.jsx(p.Fragment,{children:p.jsx("p",{children:"¡Próximamente!"})})}]}],M9e=()=>{const[e,t]=C.useState(!1);return p.jsxs("div",{className:"container py-15 md:py-20 space-y-10",children:[p.jsx(ya,{title:p.jsxs(p.Fragment,{children:["Descubrí nuestros ",p.jsx("span",{className:"italic font-light",children:"servicios"})]}),description:`En Silk, creemos que la moda es una herramienta poderosa para expresar\r
               quién sos. Nuestros servicios están diseñados para ayudarte a descubrir y\r
               potenciar tu estilo único, alineando tu imagen con tus objetivos personales\r
               y profesionales.`}),p.jsx("section",{children:p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:A9e.map(n=>p.jsx(k9e,{service:n},n.id))})}),p.jsxs("section",{className:"py-20",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("h3",{className:"font-very-vogue text-4xl md:text-5xl text-silk-secondary mb-4",children:["¿Cuál de estos servicios es"," ",p.jsx("span",{className:"italic font-light",children:"perfecto"})," para vos?"]}),p.jsx("p",{className:"text-silk-secondary/80 text-lg leading-relaxed max-w-2xl mx-auto",children:"Si no estás seguro cuál elegir o necesitás una consulta personalizada, contactanos y te ayudamos a encontrar la opción ideal según tus objetivos y estilo de vida."})]}),p.jsx("div",{className:"flex justify-center",children:p.jsxs(Et,{onClick:()=>t(!0),variant:"primary",size:"xl",className:"mt-8 group relative overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsxs("span",{className:"relative z-10 flex items-center",children:["QUIERO CONTACTARME",p.jsx(Oo,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-200",size:19})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})})]}),p.jsx(N9e,{}),p.jsx(T9e,{isModalOpen:e,onClose:()=>t(!1)})]})},O9e={email:"",password:""},R9e=()=>{const e=Xr(),{login:t,isLoading:n}=dF(),r=cx(l=>l.user),{register:s,handleSubmit:i,formState:{errors:o}}=Kx({mode:"onSubmit",reValidateMode:"onChange",defaultValues:O9e});C.useEffect(()=>{r&&e(Qe.ADMIN_DASHBOARD)},[r,e]);const a=async l=>{(await t(l)).success&&e(Qe.ADMIN_DASHBOARD)};return p.jsx("div",{className:"container py-15 md:py-20 space-y-10",children:p.jsx("section",{className:"max-w-md mx-auto",children:p.jsxs(Ar,{children:[p.jsxs(Eo,{className:"text-center",children:[p.jsx(Co,{className:"font-very-vogue text-4xl font-normal text-silk-secondary",children:"Panel Administrativo"}),p.jsx(Nc,{children:"Ingresá tus credenciales para continuar"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsx(Fi,{type:"email",name:"email",label:"Email",labelClassName:"flex items-center gap-2 text-silk-secondary font-medium",icon:ste,placeholder:"admin@silk.com",className:"h-12",disabled:n,register:s("email",{required:"El email es obligatorio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ingresá un email válido"}}),errors:o}),p.jsx(Fi,{type:"password",name:"password",label:"Contraseña",labelClassName:"flex items-center gap-2 text-silk-secondary font-medium",icon:Mee,placeholder:"Ingresá tu contraseña",className:"h-12",disabled:n,register:s("password",{required:"La contraseña es obligatoria",minLength:{value:6,message:"La contraseña debe tener al menos 6 caracteres"}}),errors:o}),p.jsx(pi,{size:"lg",variant:"primary",icon:Ree,className:"w-full",label:"Iniciar Sesión",loadingLabel:"Iniciando sesión...",isLoading:n,disabled:n,onClick:i(a)}),p.jsx(pi,{size:"lg",variant:"outline",icon:ng,className:"w-full",label:"Volver al sitio",onClick:()=>e(Qe.CLIENT_HOME)})]}),p.jsx(Fne,{children:p.jsx("div",{className:"text-center pt-4 ",children:p.jsx("p",{className:"text-silk-secondary/60 text-sm italic font-light",children:'"Transformá vidas a través del color y el estilo"'})})})]})})})};function z_(e){if(!e)return"";const t=typeof e=="string"?new Date(e):e,r=new Date().getTime()-t.getTime(),s=Math.floor(r/(1e3*60)),i=Math.floor(r/(1e3*60*60)),o=Math.floor(r/(1e3*60*60*24)),a=Math.floor(o/7),l=Math.floor(o/30),u=Math.floor(o/365);if(r<0){const f=Math.abs(o),h=Math.abs(i),g=Math.abs(s);return f>0?f===1?"En 1 día":`En ${f} días`:h>0?h===1?"En 1 hora":`En ${h} horas`:g>0?g===1?"En 1 minuto":`En ${g} minutos`:"En unos momentos"}return u>0?u===1?"Hace 1 año":`Hace ${u} años`:l>0?l===1?"Hace 1 mes":`Hace ${l} meses`:a>0?a===1?"Hace 1 semana":`Hace ${a} semanas`:o>0?o===1?"Hace 1 día":`Hace ${o} días`:i>0?i===1?"Hace 1 hora":`Hace ${i} horas`:s>0?s===1?"Hace 1 minuto":`Hace ${s} minutos`:"Hace unos momentos"}const $_=({activity:e})=>p.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[p.jsx("div",{className:`p-2 rounded-full ${e.color}`,children:p.jsx(e.icon,{className:"w-4 h-4"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.action}),p.jsx("p",{className:"text-xs text-gray-500",children:e.time})]})]});$_.Skeleton=function(){return p.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[p.jsx(_e,{className:"h-8 w-8 rounded-full flex-shrink-0"}),p.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[p.jsx(_e,{className:"h-4 w-full max-w-xs"}),p.jsx(_e,{className:"h-3 w-16"})]})]})};const V_=({shortcut:e,onClick:t})=>p.jsx("div",{className:"w-full justify-start p-2 hover:bg-emerald-50 cursor-pointer rounded-md",onClick:t,children:p.jsxs("div",{className:"flex items-center gap-3 w-full",children:[p.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:p.jsx(e.icon,{className:"w-4 h-4 text-emerald-700"})}),p.jsxs("div",{className:"text-left flex-1",children:[p.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.label}),p.jsx("div",{className:"text-xs text-gray-500",children:e.description})]}),p.jsx($J,{className:"w-4 h-4 text-gray-400"})]})});V_.Skeleton=function(){return p.jsx("div",{className:"w-full justify-start p-2 rounded-md",children:p.jsxs("div",{className:"flex items-center gap-3 w-full",children:[p.jsx(_e,{className:"h-8 w-8 rounded-lg"}),p.jsxs("div",{className:"text-left flex-1 space-y-1",children:[p.jsx(_e,{className:"h-4 w-24 "}),p.jsx(_e,{className:"h-3 w-32 "})]}),p.jsx(_e,{className:"size-4 "})]})})};const q_=({title:e,value:t,description:n,icon:r,iconColor:s,iconBgColor:i})=>p.jsx(Ar,{className:"hover:shadow-md transition-shadow",children:p.jsxs($r,{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),p.jsx("div",{className:`p-3 rounded-full ${i}`,children:p.jsx(r,{className:`w-6 h-6 ${s}`})})]})]})});q_.Skeleton=function(){return p.jsx(Ar,{children:p.jsxs($r,{children:[p.jsx(_e,{className:"h-4 w-24 mb-4"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(_e,{className:"h-8 w-16 mb-2"}),p.jsx(_e,{className:"h-4 w-20"})]}),p.jsx(_e,{className:"h-12 w-12 rounded-full"})]})]})})};const I9e=()=>{const e=Xr(),{stats:t,isLoading:n,isError:r}=gde(),s=C.useMemo(()=>t?[{title:"Posts Publicados",value:t.posts.total,description:`${t.posts.active} activos`,icon:Pu,color:"text-sky-600",bgColor:"bg-sky-50"},{title:"Testimonios",value:t.testimonials.total,description:`${t.testimonials.highlighted} destacados`,icon:wy,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Contrataciones",value:t.requests.byStatus.CONTRACTED,description:"Este mes",icon:c9,color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Solicitudes",value:t.requests.total,description:`${t.requests.byStatus.PENDING} pendientes`,icon:xy,color:"text-rose-600",bgColor:"bg-rose-50"}]:[],[t]),i=C.useMemo(()=>{if(!t)return[];const a=[];return t.posts.recent.forEach(l=>{a.push({action:`Post "${l.title}" publicado`,time:z_(l.date),type:"post",icon:Pu,color:"bg-sky-100 text-sky-700",sortDate:new Date(l.date)})}),t.requests.recent.forEach(l=>{const u=u0[l.status];a.push({action:`Solicitud de ${l.name} - ${u.label}`,time:z_(l.createdAt),type:"request",icon:u.icon,color:u.color,sortDate:new Date(l.createdAt)})}),a.sort((l,u)=>u.sortDate.getTime()-l.sortDate.getTime()).slice(0,6)},[t]),o=C.useMemo(()=>[{label:"Nuevo Post",icon:yee,route:Qe.ADMIN_POST_NEW,description:"Publicar nuevo contenido"},{label:"Nuevo Testimonio",icon:wy,route:Qe.ADMIN_TESTIMONIAL_NEW,description:"Agregar testimonio"},{label:"Listado de Posts",icon:Pu,route:Qe.ADMIN_POST_LIST,description:"Gestionar publicaciones"},{label:"Registro de Solicitudes",icon:xy,route:Qe.ADMIN_REQUEST_LIST,description:"Revisar solicitudes"}],[]);return r?p.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[p.jsx(l9,{className:"size-12 text-emerald-800"}),p.jsx("p",{className:"text-lg font-medium",children:"Error al cargar el dashboard"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Por favor, recarga la página"})]}):p.jsxs(p.Fragment,{children:[p.jsx(zh,{title:"Panel de Control",description:"Resumen de la plataforma"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n?p.jsx(p.Fragment,{children:Array.from({length:4}).map((a,l)=>p.jsx(q_.Skeleton,{},`stat-skeleton-${l}`))}):s.map((a,l)=>p.jsx(q_,{title:a.title,value:a.value,description:a.description,icon:a.icon,iconColor:a.color,iconBgColor:a.bgColor},`stat-card-${l}`))}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[" ",p.jsxs(Ar,{className:"lg:col-span-2",children:[p.jsxs(Eo,{children:[p.jsx(Co,{className:"flex items-center gap-2",children:n?p.jsxs(p.Fragment,{children:[p.jsx(_e,{className:"size-6 rounded"}),p.jsx(_e,{className:"h-6 w-36"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Cee,{className:"size-5 text-emerald-800"}),"Actividad Reciente"]})}),p.jsx(Nc,{children:n?p.jsx(_e,{className:"h-4 w-52 mt-2"}):"Últimas acciones en el panel"})]}),p.jsx($r,{children:p.jsx("div",{className:"space-y-4",children:n?Array.from({length:5}).map((a,l)=>p.jsx($_.Skeleton,{},`activity-skeleton-${l}`)):i.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx("div",{className:"bg-gray-50 rounded-full p-3 w-16 h-16 mx-auto mb-4",children:p.jsx(hd,{className:"w-10 h-10 mx-auto text-gray-300"})}),p.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No hay actividad reciente"}),p.jsx("p",{className:"text-xs text-gray-500",children:"Las acciones aparecerán aquí cuando se realicen"})]}):i.map((a,l)=>p.jsx($_,{activity:a},`activity-card-${l}`))})})]}),p.jsxs(Ar,{className:"h-min",children:[p.jsxs(Eo,{children:[p.jsx(Co,{className:"flex items-center gap-2",children:n?p.jsxs(p.Fragment,{children:[p.jsx(_e,{className:"size-6 rounded"}),p.jsx(_e,{className:"h-6 w-40"})]}):p.jsxs(p.Fragment,{children:[p.jsx(ute,{className:"size-5 text-emerald-800"}),"Acciones Rápidas"]})}),p.jsx(Nc,{children:n?p.jsx(_e,{className:"h-4 w-28 mt-2"}):"Tareas frecuentes"})]}),p.jsx($r,{children:p.jsx("div",{className:"space-y-4",children:n?Array.from({length:4}).map((a,l)=>p.jsx(V_.Skeleton,{},`action-skeleton-${l}`)):o.map((a,l)=>p.jsx(V_,{shortcut:a,onClick:()=>e(a.route)},`shortcut-card-${l}`))})})]})]})]})},G_=({post:e,onEdit:t,onDelete:n})=>{const[r,s]=C.useState(!1);return p.jsx(Ar,{className:Ue("overflow-hidden transition-all p-0 hover:shadow-md cursor-pointer"," md:h-45 flex flex-col md:flex-row",e.isActive?"border-l-6 border-l-emerald-700":"border-l-6 border-l-gray-600"),children:p.jsxs($r,{className:"p-0 flex flex-col md:flex-row h-full w-full cursor-default",children:[p.jsxs("div",{className:"relative w-full h-40 md:h-full md:w-48 flex-shrink-0 overflow-hidden",children:[p.jsx("img",{alt:e.title,className:"w-full h-full object-cover",src:$h(e.imageFilePath),onError:i=>{i.currentTarget.src="/image-placeholder.svg"}}),p.jsx("div",{className:"absolute top-2 left-2",children:e.isActive?p.jsx(ia,{variant:"default",className:"bg-gradient-to-b from-emerald-600 to-emerald-800 text-white border-none",children:"Publicado"}):p.jsx(ia,{variant:"default",className:"bg-gradient-to-b from-gray-500 to-gray-700 text-white border-none",children:"Borrador"})})]}),p.jsxs("div",{className:"flex-1 p-4 flex flex-col h-40 md:h-full",children:[p.jsxs("div",{className:"flex items-start gap-2 mb-3 min-w-0",children:[p.jsx("div",{className:"flex-1 min-w-0",children:p.jsx("h3",{className:"font-very-vogue text-xl md:text-2xl text-silk-secondary line-clamp-2 leading-tight",title:e.title,children:e.title})}),p.jsxs("div",{className:"flex-shrink-0 gap-2 hidden lg:flex",children:[p.jsxs(Et,{variant:"ghost",size:"sm",onClick:()=>t(e),children:[p.jsx(sg,{className:"size-4"}),"Editar"]}),p.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>n(e),className:"text-destructive!",children:[p.jsx(ca,{className:"size-4"}),"Eliminar"]})]}),p.jsx("div",{className:"flex-shrink-0 flex lg:hidden",children:p.jsxs(qN,{open:r,onOpenChange:s,children:[p.jsx(GN,{asChild:!0,children:p.jsxs(Et,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0",children:[p.jsx(oN,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),p.jsxs(YN,{align:"end",children:[p.jsxs(fg,{onClick:()=>{t(e),s(!1)},className:"text-silk-secondary font-normal",children:[p.jsx(sg,{className:"mr-3 h-4 w-4 text-silk-secondary"}),"Editar"]}),p.jsxs(fg,{onClick:()=>{n(e),s(!1)},className:"text-destructive! hover:bg-red-50!",children:[p.jsx(ca,{className:"mr-3 h-4 w-4 text-destructive"}),"Eliminar"]})]})]})})]}),p.jsxs("div",{className:"flex flex-wrap items-center text-xs md:text-sm gap-x-3 gap-y-1 text-muted-foreground mb-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Lh,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),p.jsx("span",{className:"truncate",children:e.author})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(hd,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),p.jsx("span",{children:d0(e.date,"date")})]}),p.jsx(ia,{variant:"outline",className:"border-silk-primary-200 bg-silk-primary-100 text-silk-primary-800 rounded-sm text-xs",children:e.category.name})]}),p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 flex-1",children:e.description})]})]})})};G_.Skeleton=function(){return p.jsx(Ar,{className:"overflow-hidden transition-all p-0 h-80 md:h-45 flex flex-col md:flex-row",children:p.jsxs("div",{className:"p-0 flex flex-col md:flex-row h-full w-full",children:[p.jsxs("div",{className:"relative w-full h-40 md:h-full md:w-48 flex-shrink-0 overflow-hidden",children:[p.jsx(_e,{className:"w-full h-full"}),p.jsx("div",{className:"absolute top-2 left-2",children:p.jsx(_e,{className:"h-6 w-20 rounded-full"})})]}),p.jsxs("div",{className:"flex-1 p-4 flex flex-col h-40 md:h-full",children:[p.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[p.jsx("div",{className:"flex-1",children:p.jsx(_e,{className:"h-5 md:h-6 w-full max-w-48"})}),p.jsxs("div",{className:"flex-shrink-0 gap-2 hidden lg:flex",children:[p.jsx(_e,{className:"h-8 w-20"}),p.jsx(_e,{className:"h-8 w-24"})]}),p.jsx("div",{className:"flex-shrink-0 flex lg:hidden",children:p.jsx(_e,{className:"h-8 w-8 rounded"})})]}),p.jsxs("div",{className:"flex flex-wrap items-center mb-2 gap-x-3 gap-y-1",children:[p.jsx(_e,{className:"h-3 md:h-4 w-20"}),p.jsx(_e,{className:"h-3 md:h-4 w-16"}),p.jsx(_e,{className:"h-4 w-12 rounded-sm"})]}),p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx(_e,{className:"h-3 md:h-4 w-full"}),p.jsx(_e,{className:"h-3 md:h-4 w-3/4"})]})]})]})})};const D9e=({paginatedPosts:e,isLoading:t,currentPage:n,totalPages:r,canGoNext:s,canGoPrevious:i,onPageChange:o,emptyMessage:a})=>{const[l,u]=C.useState(null),f=Xr(),{deletePostMutate:h,isPending:g}=hde();return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 gap-4",children:t?Array.from({length:5}).map((b,v)=>p.jsx(G_.Skeleton,{},`skeleton-post-${v}`)):e.length?e.map(b=>p.jsx(G_,{post:b,onEdit:()=>{f(Qe.ADMIN_POST_EDIT.replace(":postId",b.id))},onDelete:u},`post-card-${b.id}`)):p.jsx("div",{className:"col-span-full",children:p.jsx(cA,{title:"No hay posts registrados",description:a})})}),r>1&&!t&&p.jsx(mg,{scrollToTop:!0,currentPage:n,totalPages:r,onPageChange:o,canGoNext:s,canGoPrevious:i}),p.jsx(rA,{isOpen:!!l,isLoading:g,title:p.jsxs(p.Fragment,{children:['¿Estás seguro que querés eliminar el post "',p.jsx("span",{className:"font-bold",children:l?.title}),'"?']}),description:"Se eliminará permanentemente el post. Esta acción no se puede deshacer.",confirmButton:{icon:ca,label:"Eliminar post",loadingLabel:"Eliminando...",variant:"destructive",onConfirm:async()=>{await h(l.id),u(null)}},cancelButton:{label:"No, mantener",variant:"outline",onCancel:()=>u(null)}})]})},L9e=()=>{const e=Xr(),{posts:t,isLoading:n}=Yx({onlyActive:!1}),{items:r,searchTerm:s,setSearchTerm:i,filters:o,updateFilter:a,clearFilters:l,hasActiveFilters:u}=qx({data:t,searchFields:["title","author","category"],initialFilters:{isActive:"all"}}),{currentPage:f,totalPages:h,startIndex:g,endIndex:b,itemsPerPage:v,goToPage:x,canGoNext:w,canGoPrevious:S,setItemsPerPage:_}=Gx({totalItems:r.length,itemsPerPage:10}),N=r.slice(g,b);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center gap-2",children:[p.jsx(zh,{title:"Gestión de Posts",description:"Crea y administra el contenido de los posts"}),p.jsx(pi,{size:"lg",icon:rg,variant:"primary",label:"Nuevo Post",className:"hidden md:flex",onClick:()=>e(Qe.ADMIN_POST_NEW)})]}),p.jsx(Gde,{title:"Información importante",withDropdown:!0,description:["Las categorías se generan automáticamente a partir de los posts. Si se crea un post nuevo con una categoría distinta, ésta se añadirá. Si se elimina el único post de una categoría, esa categoría también será eliminada."]}),p.jsx(pi,{size:"lg",icon:rg,variant:"primary",label:"Nuevo Post",onClick:()=>e(Qe.ADMIN_POST_NEW),className:"md:hidden w-full"}),p.jsxs(Ar,{children:[p.jsxs(Eo,{children:[p.jsxs(Co,{className:"flex items-center gap-2",children:[p.jsx(Pu,{className:"size-5 text-emerald-800"}),"Listado de Posts"]}),p.jsx(Nc,{children:"Filtrá por Título, Autor y/o Categoría"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(lr,{htmlFor:"search-filter",children:"Buscar por Título, Autor o Categoría"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Kg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),p.jsx(gd,{id:"search-filter",value:s,disabled:n,className:"pl-8 bg-white",placeholder:"Ej: Tendencias de Moda",onChange:M=>i(M.target.value)})]})]}),p.jsxs("div",{children:[p.jsx(lr,{htmlFor:"highlight-filter",children:"Estado"}),p.jsxs(dl,{value:o.isActive||"all",onValueChange:M=>a("isActive",M),disabled:n,children:[p.jsx(hl,{className:"mt-1 w-full",id:"highlight-filter",children:p.jsx(fl,{placeholder:"Todos"})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"all",children:"Todos"}),p.jsx(dn,{value:"true",children:"Publicado"}),p.jsx(dn,{value:"false",children:"Borrador"})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between col-span-full gap-4",children:[p.jsx("div",{className:"text-sm text-gray-600",children:N.length===0?"Mostrando 0 de 0 posts":`Mostrando ${g+1}-${Math.min(b,r.length)} de ${r.length} posts`}),p.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lr,{htmlFor:"items-per-page",className:"text-sm whitespace-nowrap",children:"Mostrar:"}),p.jsxs(dl,{value:v.toString(),disabled:n,onValueChange:M=>_(M==="*"?"*":Number(M)),children:[p.jsx(hl,{id:"items-per-page",children:p.jsx(fl,{})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"5",children:"5"}),p.jsx(dn,{value:"10",children:"10"}),p.jsx(dn,{value:"25",children:"25"}),p.jsx(dn,{value:"*",children:"Todos"})]})]})]}),p.jsx(Et,{variant:"default",onClick:l,disabled:n||!u,children:"Limpiar Filtros"})]})]})]}),p.jsx(D9e,{paginatedPosts:N,isLoading:n,currentPage:f,totalPages:h,canGoNext:w,canGoPrevious:S,onPageChange:x,emptyMessage:u?"No hay posts que coincidan con los filtros, probá limpiarlos o intentá con otros términos de búsqueda":'Hacé clic en "Nuevo Post" para crear el primero'})]})]})]})},E8={title:"",author:"",date:new Date().toISOString().split("T")[0],description:"",content:[],categoryName:"",isActive:!1,imageFile:void 0},C8=()=>{const{postId:e}=Z_(),t=!!e,n=R0({dictionary:iK}),{post:r,isLoading:s}=hF({postId:e}),{categories:i,isLoading:o}=Yx({onlyActive:!1}),{createPostMutate:a,isPending:l}=fde(),{updatePostMutate:u,isPending:f}=pde(),{watch:h,setValue:g,register:b,reset:v,handleSubmit:x,formState:{errors:w,isDirty:S}}=Kx({mode:"onSubmit",reValidateMode:"onChange",defaultValues:E8}),_=h("imageFile");C.useEffect(()=>(t&&r&&(g("title",r.title),g("author",r.author),g("date",r.date),g("description",r.description),g("categoryName",r.category.name),g("isActive",r.isActive),typeof r.content=="string"?g("content",[]):Array.isArray(r.content)&&r.content.length>0&&(g("content",r.content),n.replaceBlocks(n.document,r.content))),()=>{v(E8)}),[r,t,g,v,n]);const N=async R=>{const I={...R,content:n.document};t&&e&&r?await u({postId:e,postData:I}):(await a(I),v(),n.replaceBlocks(n.document,[]))},M=t?S:!Object.keys(w).length,O=l||f;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center gap-2",children:[p.jsx(zh,{hasGoBack:!0,title:t?"Editar Post":"Crear Nuevo Post",description:t?"Actualiza la información del post":"Ingresá el contenido del post"}),p.jsx(pi,{size:"lg",icon:Ey,variant:"primary",label:t?"Guardar Cambios":"Guardar Post",className:"hidden md:flex",isLoading:O,disabled:!M||s,onClick:x(N)})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(Ar,{children:[p.jsxs(Eo,{children:[p.jsx(Co,{children:"Información General"}),p.jsx(Nc,{children:"Detalle completo del post"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(Fi,{type:"text",name:"title",label:"Título",placeholder:"Ej: Tendencias en colores",isLoading:s,disabled:O,register:b("title",{required:"El título es obligatorio",maxLength:{value:100,message:"El título no puede superar los 100 caracteres"}}),errors:w}),p.jsx(Fi,{type:"text",name:"author",label:"Autor",placeholder:"Ej: Germán Beder",isLoading:s,disabled:O,register:b("author",{required:"El autor es obligatorio",maxLength:{value:50,message:"El autor no puede superar los 50 caracteres"},pattern:{value:/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,message:"El autor solo puede contener letras y espacios"}}),errors:w})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(Fi,{type:"date",name:"date",label:"Fecha",isLoading:s,disabled:O,register:b("date",{required:"La fecha es obligatoria"}),errors:w}),p.jsx(wde,{id:"category",name:"categoryName",label:"Categoría",value:h("categoryName")||"",options:i,optionsHeader:"Categorías existentes",placeholder:"Seleccionar categoría...",searchPlaceholder:"Buscar o crear categoría...",onSelect:R=>g("categoryName",R,{shouldValidate:!0,shouldDirty:!0}),onCreate:R=>g("categoryName",R,{shouldValidate:!0,shouldDirty:!0}),register:b("categoryName",{required:"La categoría es requerida",maxLength:{value:50,message:"La categoría no puede superar los 50 caracteres"}}),errors:w,isLoadingInput:s,isLoadingOptions:o,loadingMessage:"Cargando categorías...",noResultsMessage:"No se encontraron categorías.",disabled:O})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(lr,{htmlFor:"imageFile",children:"Imagen Portada"}),s?p.jsx(_e,{className:"w-full h-9"}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex",children:[p.jsx(gd,{readOnly:!0,id:"imageFile",disabled:O,value:_?_.name:"",placeholder:"Seleccioná una imagen...",className:"rounded-r-none border-r-0 "}),p.jsxs("div",{className:"relative cursor-pointer",children:[p.jsx("input",{type:"file",id:"imageFile",accept:"image/*",disabled:O,onChange:R=>{const I=R.target.files?.[0];I&&(!["image/jpeg","image/jpg","image/png","image/webp"].includes(I.type)||I.size>3*1024*1024)||g("imageFile",I||void 0,{shouldDirty:!0,shouldValidate:!0})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsx(Et,{asChild:!0,type:"button",variant:"outline",disabled:O,className:"rounded-l-none border-l-0 px-3 h-full cursor-pointer shadow-none",children:p.jsx("label",{htmlFor:"imageFile",className:"flex items-center cursor-pointer",children:p.jsx(p9,{className:"w-4 h-4 cursor-pointer"})})})]}),_&&p.jsx("div",{className:"flex items-center",children:p.jsxs(Et,{size:"sm",variant:"ghost",className:"text-destructive! ml-4",onClick:()=>g("imageFile",void 0,{shouldDirty:!0,shouldValidate:!0}),children:[p.jsx(ca,{className:"size-4"}),"Quitar imagen"]})})]}),p.jsx("p",{className:"text-xs text-gray-500",children:"Formatos: JPG, JPEG, PNG o WEBP (máx. 3MB)"})]})]}),p.jsx(SF,{name:"description",label:"Descripción",isLoading:s,disabled:O,placeholder:"Ej: Descubrí los colores que potencian tu presencia.",register:b("description",{required:"La descripción es obligatoria",maxLength:{value:300,message:"La descripción no puede superar los 300 caracteres"}}),errors:w}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:p.jsx(ak,{name:"isActive",label:"Mostrar en la web",description:"Habilita que el post aparezca en la landing.",value:h("isActive")||!1,isLoading:s,disabled:O,onChange:R=>g("isActive",R,{shouldValidate:!0,shouldDirty:!0}),errors:w})}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(lr,{htmlFor:"content",children:"Contenido"}),s?p.jsx(_e,{className:"w-full h-32"}):p.jsx("div",{className:Ue("border border-gray-200 shadow-xs rounded-md","focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]","transition-all duration-200",O&&"opacity-50 pointer-events-none cursor-not-allowed"),children:p.jsx(nO,{"data-headings-font":!0,theme:"light",editor:n,formattingToolbar:!0,editable:!O,className:Ue("px-2 pt-2 ",n.document.length===1?"pb-8 sm:pb-2":"pb-2",""),onChange:()=>{g("content",n.document,{shouldDirty:!0,shouldValidate:!0})}})})]})]})]})}),p.jsx(pi,{size:"lg",icon:Ey,variant:"primary",label:t?"Guardar Cambios":"Guardar Post",className:"md:hidden",isLoading:O,disabled:!M||s,onClick:x(N)})]})]})},Y_=({testimonial:e,onEdit:t,onDelete:n})=>{const[r,s]=C.useState(!1),i=Xr();return p.jsx(Ar,{className:Ue("overflow-hidden hover:shadow-md relative",e.isActive?"border-l-6 border-l-emerald-700":"border-l-6 border-l-gray-600"),children:p.jsxs($r,{className:"pt-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4 min-w-0 z-800",children:[p.jsx("div",{className:"absolute top-2 left-2",children:e.isActive?p.jsx(ia,{variant:"default",className:"bg-gradient-to-b from-emerald-600 to-emerald-800 text-white border-none",children:"Publicado"}):p.jsx(ia,{variant:"default",className:"bg-gradient-to-b from-gray-500 to-gray-700 text-white border-none",children:"Borrador"})}),p.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[p.jsxs("div",{className:"relative flex-shrink-0",children:[p.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-3 border-white shadow-xl",children:p.jsx("img",{alt:e.personRole,className:"w-16 h-16 object-cover",src:$h(e.avatarImagePath),onError:o=>{o.currentTarget.src="/image-placeholder.svg"}})}),e.isHighlight&&p.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-bl from-emerald-600 to-emerald-800 rounded-full p-1 shadow-lg",children:p.jsx(ig,{className:"w-3 h-3 text-white fill-current"})})]}),p.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[p.jsx("h3",{className:"text-xl font-serif text-silk-secondary truncate min-w-0",title:e.personName,children:e.personName}),p.jsxs("div",{className:"flex items-center text-gray-600 text-sm min-w-0",children:[p.jsx(Lh,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"truncate",children:e.personRole})]})]})]}),p.jsxs("div",{className:"flex-shrink-0 flex items-center ml-2",children:[p.jsxs("div",{className:"flex-shrink-0 gap-2 hidden md:flex lg:hidden xl:flex",children:[p.jsxs(Et,{variant:"ghost",size:"sm",onClick:()=>t(e),children:[p.jsx(sg,{className:"size-4"}),"Editar"]}),p.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>n(e),className:"text-destructive!",children:[p.jsx(ca,{className:"size-4"}),"Eliminar"]})]}),p.jsx("div",{className:"flex-shrink-0 flex md:hidden lg:flex xl:hidden",children:p.jsxs(qN,{open:r,onOpenChange:s,children:[p.jsx(GN,{asChild:!0,children:p.jsxs(Et,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0",children:[p.jsx(oN,{className:"size-4"}),p.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),p.jsxs(YN,{align:"end",children:[p.jsxs(fg,{onClick:()=>{i(Qe.ADMIN_TESTIMONIAL_EDIT.replace(":testimonialId",e.id)),s(!1)},className:"text-silk-secondary font-normal",children:[p.jsx(sg,{className:"mr-3 h-4 w-4 text-silk-secondary"}),"Editar"]}),p.jsxs(fg,{onClick:()=>{n(e),s(!1)},className:"text-destructive! hover:bg-red-50!",children:[p.jsx(ca,{className:"mr-3 h-4 w-4 text-destructive"}),"Eliminar"]})]})]})})]})]}),p.jsx("div",{className:"flex-1 flex flex-col",children:p.jsxs("div",{className:"relative flex-1",children:[p.jsx(aN,{className:"absolute -top-1 -left-1 w-6 h-6 text-emerald-800"}),p.jsxs("blockquote",{className:"text-gray-700 leading-relaxed pl-5 text-sm italic font-light",children:['"',e.description,'"']})]})})]})})};Y_.Skeleton=function(){return p.jsx(Ar,{children:p.jsxs($r,{children:[p.jsxs("div",{className:"flex items-start justify-between mb-4 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[p.jsx("div",{className:"relative flex-shrink-0",children:p.jsx(_e,{className:"w-16 h-16 rounded-full"})}),p.jsxs("div",{className:"flex flex-col min-w-0 flex-1 space-y-2",children:[p.jsx(_e,{className:"h-6 w-32"}),p.jsx(_e,{className:"h-4 w-24"})]})]}),p.jsxs("div",{className:"flex items-center ml-2",children:[p.jsxs("div",{className:"hidden md:flex lg:hidden xl:flex gap-2",children:[p.jsx(_e,{className:"h-7 w-20"}),p.jsx(_e,{className:"h-7 w-20"})]}),p.jsx("div",{className:"flex md:hidden lg:flex xl:hidden",children:p.jsx(_e,{className:"h-8 w-8 rounded"})})]})]}),p.jsx("div",{className:"flex-1 flex flex-col",children:p.jsx("div",{className:"relative flex-1 space-y-2",children:p.jsxs("div",{className:"pl-5 space-y-2",children:[p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-full"}),p.jsx(_e,{className:"h-4 w-3/4"})]})})})]})})};const j9e=({paginatedTestimonials:e,isLoading:t,currentPage:n,totalPages:r,canGoNext:s,canGoPrevious:i,onPageChange:o,emptyMessage:a})=>{const l=Xr(),[u,f]=C.useState(null),{deleteTestimonialMutate:h,isPending:g}=Wue();return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4",children:t?Array.from({length:5}).map((b,v)=>p.jsx(Y_.Skeleton,{},`skeleton-testimonial-${v}`)):e.length?e.map(b=>p.jsx(Y_,{testimonial:b,onEdit:v=>l(Qe.ADMIN_TESTIMONIAL_EDIT.replace(":testimonialId",v.id)),onDelete:f},`testimonial-card-${b.id}`)):p.jsx("div",{className:"col-span-full",children:p.jsx(cA,{title:"No hay testimonios registrados",description:a})})}),r>1&&!t&&p.jsx(mg,{scrollToTop:!0,currentPage:n,totalPages:r,onPageChange:o,canGoNext:s,canGoPrevious:i}),p.jsx(rA,{isOpen:!!u,isLoading:g,title:p.jsxs(p.Fragment,{children:["¿Estás seguro que querés eliminar el testimonio de"," ",p.jsx("span",{className:"font-bold",children:u?.personName}),"?"]}),description:"Se eliminará permanentemente el testimonio. Esta acción no se puede deshacer.",confirmButton:{icon:ca,label:"Eliminar testimonio",loadingLabel:"Eliminando...",variant:"destructive",onConfirm:async()=>{await h(u.id),f(null)}},cancelButton:{label:"No, mantener",variant:"outline",onCancel:()=>f(null)}})]})},P9e=()=>{const e=Xr(),{testimonials:t,isLoading:n}=fF({onlyActive:!1}),{items:r,searchTerm:s,setSearchTerm:i,filters:o,updateFilter:a,clearFilters:l,hasActiveFilters:u}=qx({data:t,searchFields:["personName","personRole"],initialFilters:{isHighlight:"all"}}),{currentPage:f,totalPages:h,startIndex:g,endIndex:b,itemsPerPage:v,goToPage:x,canGoNext:w,canGoPrevious:S,setItemsPerPage:_}=Gx({totalItems:r.length,itemsPerPage:10}),N=r.slice(g,b);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center gap-2",children:[p.jsx(zh,{title:"Gestión de Testimonios",description:"Administrá los testimonios de la web"}),p.jsx(pi,{size:"lg",icon:rg,variant:"primary",label:"Nuevo Testimonio",className:"hidden md:flex",onClick:()=>e(Qe.ADMIN_TESTIMONIAL_NEW)})]}),p.jsx(pi,{size:"lg",icon:rg,variant:"primary",label:"Nuevo Testimonio",onClick:()=>e(Qe.ADMIN_TESTIMONIAL_NEW),className:"md:hidden w-full"}),p.jsxs(Ar,{children:[p.jsxs(Eo,{children:[p.jsxs(Co,{className:"flex items-center gap-2",children:[p.jsx(wy,{className:"size-5 text-emerald-800"}),"Listado de Testimonios"]}),p.jsx(Nc,{children:"Filtrá por Nombre, Rol y/o estado"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(lr,{htmlFor:"search-filter",children:"Buscar por Nombre o Rol"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Kg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),p.jsx(gd,{id:"search-filter",value:s,disabled:n,className:"pl-8 bg-white",placeholder:"Ej: Germán Beder",onChange:M=>i(M.target.value)})]})]}),p.jsxs("div",{children:[p.jsx(lr,{htmlFor:"highlight-filter",children:"Estado"}),p.jsxs(dl,{value:o.isHighlight||"all",onValueChange:M=>a("isHighlight",M),disabled:n,children:[p.jsx(hl,{className:"mt-1 w-full",id:"highlight-filter",children:p.jsx(fl,{placeholder:"Todos"})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"all",children:"Todos"}),p.jsx(dn,{value:"true",children:"Destacado"}),p.jsx(dn,{value:"false",children:"No Destacado"})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between col-span-full gap-4",children:[p.jsx("div",{className:"text-sm text-gray-600",children:N.length===0?"Mostrando 0 de 0 testimonios":`Mostrando ${g+1}-${Math.min(b,r.length)} de ${r.length} testimonios`}),p.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lr,{htmlFor:"items-per-page",className:"text-sm whitespace-nowrap",children:"Mostrar:"}),p.jsxs(dl,{value:v.toString(),disabled:n,onValueChange:M=>_(M==="*"?"*":Number(M)),children:[p.jsx(hl,{id:"items-per-page",children:p.jsx(fl,{})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"5",children:"5"}),p.jsx(dn,{value:"10",children:"10"}),p.jsx(dn,{value:"25",children:"25"}),p.jsx(dn,{value:"*",children:"Todos"})]})]})]}),p.jsx(Et,{variant:"default",onClick:l,disabled:n||!u,children:"Limpiar Filtros"})]})]})]}),p.jsx(j9e,{paginatedTestimonials:N,isLoading:n,currentPage:f,totalPages:h,canGoNext:w,canGoPrevious:S,onPageChange:x,emptyMessage:u?"No hay testimonios que coincidan con los filtros, probá limpiarlos o intentá con otros términos de búsqueda":'Hacé clic en "Nuevo Testimonio" para crear el primero'})]})]})]})},S8={personName:"",personRole:"",description:"",isHighlight:!1,isActive:!0,avatarFile:void 0},T8=()=>{const[e,t]=C.useState(""),{testimonialId:n}=Z_(),r=!!n,{createTestimonialMutate:s,isPending:i}=Yue(),{updateTestimonialMutate:o,isPending:a}=Que(),{testimonial:l,isLoading:u}=Kue({testimonialId:r?n:void 0}),{watch:f,setValue:h,register:g,reset:b,handleSubmit:v,formState:{errors:x,isDirty:w}}=Kx({mode:"onSubmit",reValidateMode:"onChange",defaultValues:S8}),S=f("avatarFile");C.useEffect(()=>{if(S instanceof File){const O=URL.createObjectURL(S);return t(O),()=>URL.revokeObjectURL(O)}r&&l?.avatarImagePath?t($h(l.avatarImagePath)):t("")},[S,r,l]),C.useEffect(()=>(r&&l&&(h("personName",l.personName),h("personRole",l.personRole),h("description",l.description),h("isHighlight",l.isHighlight),h("isActive",l.isActive)),()=>{b(S8)}),[l,r]);const _=async O=>{r&&n&&l?await o({testimonialId:n,testimonialData:O}):(await s(O),b())},N=r?w:!Object.keys(x).length,M=i||a;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center gap-2",children:[p.jsx(zh,{hasGoBack:!0,title:r?"Editar Testimonio":"Crear Nuevo Testimonio",description:r?"Actualiza la información del testimonio":"Ingresá el contenido del testimonio"}),p.jsx(pi,{size:"lg",icon:Ey,variant:"primary",label:r?"Guardar Cambios":"Guardar Testimonio",className:"hidden md:flex",isLoading:M,disabled:!N||u,onClick:v(_)})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs(Ar,{children:[p.jsxs(Eo,{children:[p.jsx(Co,{children:"Información General"}),p.jsx(Nc,{children:"Detalles básicos del testimonio"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Fi,{type:"text",name:"personName",label:"Nombre",placeholder:"Ej: Germán Beder",isLoading:u,register:g("personName",{required:"El nombre es obligatorio",maxLength:{value:50,message:"El nombre no puede superar los 50 caracteres"},pattern:{value:/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,message:"El nombre solo puede contener letras y espacios"}}),errors:x}),p.jsx(Fi,{type:"text",name:"personRole",label:"Profesión o Rol",placeholder:"Ej: Director de Marketing",isLoading:u,register:g("personRole",{required:"La profesión o rol es obligatoro",maxLength:{value:50,message:"La profesión no puede superar los 50 caracteres"}}),errors:x})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(lr,{htmlFor:"avatarFile",children:"Imagen del Cliente"}),u?p.jsx(_e,{className:"w-full h-9"}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex",children:[p.jsx(gd,{readOnly:!0,id:"avatarFile",disabled:M,value:S?S.name:"",placeholder:"Seleccioná una imagen...",className:"rounded-r-none border-r-0 "}),p.jsxs("div",{className:"relative cursor-pointer",children:[p.jsx("input",{type:"file",id:"imageFile",accept:"image/*",disabled:M,onChange:O=>{const R=O.target.files?.[0];R&&(!["image/jpeg","image/jpg","image/png","image/webp"].includes(R.type)||R.size>3*1024*1024)||h("avatarFile",R||void 0,{shouldDirty:!0,shouldValidate:!0})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsx(Et,{asChild:!0,type:"button",variant:"outline",disabled:M,className:"rounded-l-none border-l-0 px-3 h-full cursor-pointer shadow-none",children:p.jsx("label",{htmlFor:"imageFile",className:"flex items-center cursor-pointer",children:p.jsx(p9,{className:"w-4 h-4 cursor-pointer"})})})]}),S&&p.jsx("div",{className:"flex items-center",children:p.jsxs(Et,{size:"sm",variant:"ghost",className:"text-destructive! ml-4",onClick:()=>h("avatarFile",void 0,{shouldDirty:!0,shouldValidate:!0}),children:[p.jsx(ca,{className:"size-4"}),"Quitar imagen"]})})]}),p.jsx("p",{className:"text-xs text-gray-500",children:"Formatos: JPG, PNG o WEBP (máx. 3MB)"})]})]}),p.jsx(SF,{label:"Descripción",name:"description",placeholder:"Ej: Silk transformó mi vida...",isLoading:u,register:g("description",{required:"El testimonio es obligatorio",maxLength:{value:500,message:"El testimonio no puede superar los 500 caracteres"}}),errors:x}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(ak,{label:"Mostrar en la web",name:"isActive",description:"Habilita que el testimonio aparezca en la landing.",value:f("isActive")||!1,isLoading:u,onChange:O=>h("isActive",O,{shouldValidate:!0,shouldDirty:!0}),errors:x}),p.jsx(ak,{name:"isHighlight",label:"Testimonio destacado",description:"Permite que el testimonio tenga un distintivo.",value:f("isHighlight")||!1,isLoading:u,onChange:O=>h("isHighlight",O,{shouldValidate:!0,shouldDirty:!0}),errors:x})]})]})]})}),p.jsx("div",{className:"space-y-6",children:p.jsxs(Ar,{className:"overflow-hidden",children:[p.jsx(Eo,{children:p.jsx(Co,{children:"Vista Previa"})}),p.jsxs($r,{className:"flex flex-col h-full",children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[p.jsxs("div",{className:"relative flex-shrink-0 ",children:[p.jsx("div",{className:"w-16 h-16  rounded-full overflow-hidden border-3 border-white shadow-lg",children:p.jsx("img",{src:e||"/image-placeholder.svg",alt:"Person image",className:"w-16 h-16 object-cover"})}),f("isHighlight")===!0&&p.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-bl from-emerald-600 to-emerald-700 rounded-full p-1 shadow-lg",children:p.jsx(ig,{className:"w-3 h-3 text-white fill-current"})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-xl font-serif text-gray-900 truncate",children:f("personName")||"Nombre de la persona"}),p.jsxs("div",{className:"flex items-center text-gray-600 text-sm truncate",children:[p.jsx(Lh,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"truncate",children:f("personRole")||"Profesión"})]})]})]})}),p.jsx("div",{className:"flex-1 flex flex-col",children:p.jsxs("div",{className:"relative flex-1",children:[p.jsx(aN,{className:"absolute -top-1 -left-1 w-6 h-6 text-emerald-800"}),p.jsxs("blockquote",{className:"text-gray-700 leading-relaxed pl-5 text-sm italic font-light",children:['"',f("description")||"Contenido de ejemplo",'"']})]})})]})]})}),p.jsx(pi,{size:"lg",icon:Ey,variant:"primary",label:r?"Guardar Cambios":"Guardar Testimonio",className:"md:hidden",isLoading:M,disabled:!N||u,onClick:v(_)})]})]})},oK={PENDING:["CONTACTED","CANCELLED"],CONTACTED:["CONTRACTED","CANCELLED"],CONTRACTED:["CANCELLED"],CANCELLED:[]};function B9e(e,t){return oK[e].includes(t)}function H9e(e){return oK[e]}function F9e(e,t){return B9e(e,t)?!0:(Zt.error("Cambio de estado no permitido"),!1)}const aK=({request:e,trigger:t,onStatusChange:n})=>{const r=H9e(e.status),s=r.length>0;return p.jsxs(qN,{children:[p.jsx(GN,{asChild:!0,disabled:!s,children:t||p.jsx(oN,{className:`h-5 w-5 transition-all duration-200 ${s?"cursor-pointer hover:scale-105":"cursor-not-allowed opacity-50"}`})}),p.jsx(YN,{align:"end",children:r.map(i=>{const{label:o,color:a,icon:l}=u0[i];return p.jsxs(fg,{onClick:()=>n(i),children:[p.jsx(l,{className:`w-4 h-4 mr-2 ${a} bg-transparent`}),"Marcar como ",o]},i)})})]})},U9e=({isOpen:e,requestId:t,onClose:n,onEdit:r})=>{const{request:s,isLoading:i}=sde({requestId:t});return p.jsx(TN,{open:e,onOpenChange:o=>o||n(),children:p.jsxs(kN,{className:"max-w-5xl max-h-[90vh] overflow-hidden bg-gray-50",children:[p.jsxs(rse,{className:"gap-0",children:[p.jsx(_N,{className:"font-bold text-2xl",children:"Detalles de la Solicitud"}),p.jsx(sse,{asChild:!0,children:p.jsxs("div",{children:["Solicitud ID:"," ",i?p.jsx(_e,{className:"inline-block h-3 w-44"}):p.jsx("span",{className:"italic",children:s?.id})]})})]}),p.jsxs("div",{className:"space-y-4 overflow-y-auto max-h-[70dvh]",children:[p.jsx(z9e,{isLoading:i,request:s,onEdit:r}),p.jsx($9e,{isLoading:i,request:s}),p.jsx(V9e,{isLoading:i,request:s})]})]})})},z9e=({isLoading:e,request:t,onEdit:n})=>e?p.jsxs("div",{className:"bg-white border border-gray-200 rounded-md p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(_e,{className:"w-16 h-16 rounded-full"}),p.jsxs("div",{children:[p.jsx(_e,{className:"h-8 w-48 mb-2"}),p.jsx(_e,{className:"h-4 w-24"})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(_e,{className:"h-5 w-18 rounded-full"}),p.jsx(_e,{className:"h-5 w-5"})]})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((r,s)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(_e,{className:"size-4 rounded"}),p.jsxs("div",{children:[p.jsx(_e,{className:"h-4 w-12 mb-1"}),p.jsx(_e,{className:"h-5 w-24"})]})]},s))})]}):p.jsxs("div",{className:"bg-emerald-50 border rounded-md p-6 shadow-xs",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"size-16 bg-gradient-to-br from-emerald-500 to-emerald-800 text-white rounded-full flex items-center justify-center font-serif text-3xl shadow-lg uppercase",children:t?.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-serif font-bold text-silk-secondary",children:t?.name}),p.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:z_(t?.createdAt)})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[t?.status&&p.jsx(CF,{status:t.status}),t&&p.jsx(aK,{request:t,onStatusChange:n})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(gx,{className:"w-4 h-4 text-emerald-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Email"}),p.jsx("p",{className:"text-sm font-semibold text-silk-secondary truncate",children:t?.email})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(h9,{className:"w-4 h-4 text-emerald-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Teléfono"}),p.jsx("p",{className:"text-sm font-semibold text-silk-secondary",children:t?.phone})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(f9,{className:"w-4 h-4 text-emerald-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Ubicación"}),p.jsx("p",{className:"text-sm font-semibold text-silk-secondary",children:t?.ubication})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hd,{className:"w-4 h-4 text-emerald-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Fecha"}),p.jsx("p",{className:"text-sm font-semibold text-silk-secondary",children:d0(t?.createdAt,"date")})]})]})]})]}),$9e=({isLoading:e,request:t})=>e?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((n,r)=>p.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[p.jsx(_e,{className:"h-4 w-32 mb-3"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(_e,{className:"w-4 h-4"}),p.jsx(_e,{className:"h-4 w-24"})]})]},r))}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Servicio solicitado"})}),p.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[p.jsx(lN,{className:"w-4 h-4 text-emerald-600"}),p.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t?.service})]})]}),p.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Presupuesto cliente"})}),p.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[p.jsx(u9,{className:"w-4 h-4 text-emerald-600"}),p.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t?.budget})]})]}),p.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Inicio deseado"})}),p.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[p.jsx(hd,{className:"w-4 h-4 text-emerald-600"}),p.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t?.startMoment==="now"?"Inmediatamente":t?.startMoment==="next-month"?"El próximo mes":t?.startMoment==="to-agree"?"A convenir":t?.startMoment})]})]})]}),V9e=({isLoading:e,request:t})=>e?p.jsxs(Ar,{className:"border bg-card",children:[p.jsx(Eo,{className:"pb-4",children:p.jsxs(Co,{className:"text-lg flex items-center gap-2",children:[p.jsx(AT,{className:"w-5 h-5 text-emerald-600"}),"Timeline de la Solicitud"]})}),p.jsx($r,{children:p.jsx("div",{className:"relative",children:Array.from({length:2}).map((n,r)=>p.jsxs("div",{className:"relative flex items-start gap-3 pb-4",children:[r<1&&p.jsx("div",{className:"absolute left-1 top-6 bottom-0 w-0.5 bg-gray-200 opacity-60"}),p.jsx("div",{className:"relative z-10 mt-1",children:p.jsx(_e,{className:"size-2.5 rounded-full border border-white shadow-sm"})}),p.jsx("div",{className:"flex-1 min-w-0",children:p.jsxs("div",{className:"p-3 bg-white rounded-md border border-gray-100",children:[p.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[p.jsx(_e,{className:"h-4 w-32"}),p.jsx(_e,{className:"h-4 w-32"})]}),p.jsx(_e,{className:"h-3 w-48"})]})})]},r))})})]}):p.jsxs(Ar,{className:"border bg-card",children:[p.jsx(Eo,{className:"pb-4",children:p.jsxs(Co,{className:"text-lg flex items-center gap-2",children:[p.jsx(AT,{className:"w-5 h-5 text-emerald-600"}),"Timeline de la Solicitud"]})}),p.jsx($r,{children:p.jsx("div",{className:"relative",children:t?.timeline&&t.timeline.length>0?t.timeline.map((n,r)=>{const{timelineColor:s}=u0[n.type],i=r===t.timeline.length-1;return p.jsxs("div",{className:"relative flex items-start gap-3 pb-3",children:[!i&&p.jsx("div",{className:Ue("absolute left-1 top-6 bottom-0 w-0.5 opacity-60",{"bg-gradient-to-b from-amber-400 to-gray-200":s==="amber","bg-gradient-to-b from-indigo-400 to-gray-200":s==="indigo","bg-gradient-to-b from-emerald-400 to-gray-200":s==="emerald","bg-gradient-to-b from-stone-400 to-stone-200":s==="stone","bg-gray-200":!s||s==="gray"})}),p.jsx("div",{className:"relative z-10 mt-1",children:p.jsx("div",{className:Ue("size-2.5 rounded-full border border-white shadow-sm",{"bg-amber-500":s==="amber","bg-indigo-500":s==="indigo","bg-emerald-500":s==="emerald","bg-stone-500":s==="stone","bg-gray-500":!s||s==="gray"})})}),p.jsx("div",{className:"flex-1 min-w-0",children:p.jsxs("div",{className:Ue("p-3 bg-white rounded-md border transition-all duration-200 hover:shadow-sm",{"border-amber-300 hover:border-amber-400":s==="amber","border-indigo-300 hover:border-indigo-400":s==="indigo","border-emerald-300 hover:border-emerald-400":s==="emerald","border-stone-300 hover:border-stone-400":s==="stone","border-gray-300 hover:border-gray-400":!s||s==="gray"}),children:[p.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[p.jsx("p",{className:"text-sm font-medium text-silk-secondary",children:n.title}),p.jsx("span",{className:"text-xs text-gray-400 font-medium whitespace-nowrap",children:d0(n.date,"full")})]}),p.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:n.description})]})})]},n.id)}):p.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay eventos en el timeline"})})})]}),W_=({request:e,onEdit:t,onSelect:n,onDelete:r})=>p.jsxs(Ry,{children:[p.jsx(is,{className:"text-muted-foreground",children:d0(e.createdAt,"date")}),p.jsxs(is,{className:"font-medium",children:[p.jsx("div",{className:"text-sm",children:e.name}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.age," ",e.age===1?"año":"años"]})]}),p.jsx(is,{children:e.email}),p.jsx(is,{children:p.jsx(ia,{variant:"outline",className:" border-silk-primary-200 bg-silk-primary-100 text-silk-primary-800 rounded-sm",children:e.service})}),p.jsx(is,{className:"font-medium",children:e.budget}),p.jsx(is,{children:p.jsx(CF,{status:e.status})}),p.jsxs(is,{align:"right",className:"space-x-2",children:[p.jsxs(Et,{variant:"ghost",size:"sm",onClick:()=>n(e),children:[p.jsx(gee,{className:"size-4"}),"Ver"]}),p.jsx(aK,{request:e,trigger:p.jsxs(Et,{variant:"outline",size:"sm",children:[p.jsx(sg,{className:"size-4"}),"Editar"]}),onStatusChange:t}),p.jsxs(Et,{size:"sm",variant:"outline",className:"text-destructive!",onClick:()=>r(e),children:[p.jsx(ca,{className:"size-4"}),"Eliminar"]})]})]});W_.Skeleton=function(){return p.jsxs(Ry,{children:[p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-22"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-20"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-6 w-20 mr-4"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-12"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-20"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-20"})}),p.jsx(is,{children:p.jsx(_e,{className:"h-5 w-20"})})]})};const q9e=({paginatedRequests:e,isLoading:t,currentPage:n,totalPages:r,canGoNext:s,canGoPrevious:i,onPageChange:o,emptyMessage:a})=>{const[l,u]=C.useState(null),[f,h]=C.useState(null),{deleteRequestMutate:g,isPending:b}=rde(),{updateServiceRequestMutate:v}=ode(),x=async(w,S)=>{const _=e.find(N=>N.id===w);_&&F9e(_.status,S)&&await v({requestId:w,status:S})};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Zae,{className:"min-w-full",children:[p.jsx(Jae,{children:p.jsxs(Ry,{children:[p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hd,{className:"w-4 h-4 text-emerald-800"}),"Fecha"]})}),p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Lh,{className:"w-4 h-4 text-emerald-800"}),"Persona"]})}),p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(gx,{className:"w-4 h-4 text-emerald-800"}),"Email"]})}),p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lN,{className:"w-4 h-4 text-emerald-800"}),"Servicio"]})}),p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(u9,{className:"w-4 h-4 text-emerald-800"}),"Presupuesto"]})}),p.jsx(Cu,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(oee,{className:"w-4 h-4 text-emerald-800"}),"Estado"]})}),p.jsx(Cu,{className:""})]})}),p.jsx(ele,{children:t?Array.from({length:5}).map((w,S)=>p.jsx(W_.Skeleton,{},`skeleton-request-${S}`)):e.length?e.map(w=>p.jsx(W_,{request:w,onEdit:async S=>await x(w.id,S),onDelete:h,onSelect:u},w.id)):p.jsx(Ry,{className:"hover:bg-background ",children:p.jsx(is,{colSpan:7,className:"px-0",children:p.jsx(cA,{title:"No hay solicitudes registradas",description:a})})})})]})}),r>1&&!t&&p.jsx(mg,{scrollToTop:!0,currentPage:n,totalPages:r,onPageChange:o,canGoNext:s,canGoPrevious:i}),l&&p.jsx(U9e,{isOpen:!!l,requestId:l.id,onEdit:async w=>await x(l.id,w),onClose:()=>u(null)}),p.jsx(rA,{isOpen:!!f,isLoading:b,title:p.jsxs(p.Fragment,{children:["¿Estás seguro que querés eliminar la solicitud de"," ",p.jsx("span",{className:"font-bold",children:f?.name}),"?"]}),description:"Se eliminará permanentemente la solicitud. Esta acción no se puede deshacer.",confirmButton:{icon:ca,label:"Eliminar solicitud",loadingLabel:"Eliminando...",variant:"destructive",onConfirm:async()=>{await g(f.id),h(null)}},cancelButton:{label:"No, mantener",variant:"outline",onCancel:()=>h(null)}})]})},G9e=()=>{const{requests:e,isLoading:t}=ide(),{items:n,searchTerm:r,setSearchTerm:s,filters:i,updateFilter:o,clearFilters:a,hasActiveFilters:l}=qx({data:e,searchFields:["name","email","budget"],initialFilters:{status:"all"}}),{currentPage:u,totalPages:f,startIndex:h,endIndex:g,itemsPerPage:b,goToPage:v,canGoNext:x,canGoPrevious:w,setItemsPerPage:S}=Gx({totalItems:n.length,itemsPerPage:10}),_=n.slice(h,g);return p.jsxs(p.Fragment,{children:[p.jsx(zh,{title:"Gestión de Solicitudes",description:"Visualizá y administrá las respuestas recibidas del formulario de captación."}),p.jsxs(Ar,{children:[p.jsxs(Eo,{children:[p.jsxs(Co,{className:"flex items-center gap-2",children:[p.jsx(xy,{className:"size-5 text-emerald-800"}),"Listado de Solicitudes"]}),p.jsx(Nc,{children:"Filtrá por Nombre, Email, Servicio y/o estado"})]}),p.jsxs($r,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(lr,{htmlFor:"search-filter",children:"Buscar por Nombre, Email o Presupuesto"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Kg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),p.jsx(gd,{id:"search-filter",value:r,disabled:!1,className:"pl-8 bg-white",placeholder:"Ej: Germán Beder",onChange:N=>s(N.target.value)})]})]}),p.jsxs("div",{children:[p.jsx(lr,{htmlFor:"status-filter",children:"Estado"}),p.jsxs(dl,{value:i.status||"all",onValueChange:N=>o("status",N),disabled:t,children:[p.jsx(hl,{className:"mt-1 w-full",id:"status-filter",children:p.jsx(fl,{placeholder:"Todos"})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"all",children:"Todos"}),Object.entries(u0).map(([N,{label:M}])=>p.jsx(dn,{value:N,children:M},N))]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between col-span-full gap-4",children:[p.jsx("div",{className:"text-sm text-gray-600",children:_.length===0?"Mostrando 0 de 0 solicitudes":`Mostrando ${h+1}-${Math.min(g,n.length)} de ${n.length} solicitudes`}),p.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lr,{htmlFor:"items-per-page",className:"text-sm whitespace-nowrap",children:"Mostrar:"}),p.jsxs(dl,{value:b.toString(),disabled:t,onValueChange:N=>S(N==="*"?"*":Number(N)),children:[p.jsx(hl,{id:"items-per-page",children:p.jsx(fl,{})}),p.jsxs(pl,{children:[p.jsx(dn,{value:"5",children:"5"}),p.jsx(dn,{value:"10",children:"10"}),p.jsx(dn,{value:"25",children:"25"}),p.jsx(dn,{value:"*",children:"Todos"})]})]})]}),p.jsx(Et,{variant:"default",onClick:a,disabled:t||!l,children:"Limpiar Filtros"})]})]})]}),p.jsx(q9e,{paginatedRequests:_,isLoading:t,currentPage:u,totalPages:f,canGoNext:x,canGoPrevious:w,onPageChange:v,emptyMessage:l?"No hay solicitudes que coincidan con los filtros, probá limpiarlos o intentá con otros términos de búsqueda":"Esperá la primera solicitud a través del formulario de captación"})]})]})]})},Y9e=()=>p.jsx("div",{className:"min-h-[calc(100dvh-theme(space.32))] flex items-center justify-center ",children:p.jsxs("div",{className:"mx-auto max-w-lg text-center",children:[p.jsx("div",{className:"mb-6 flex items-center justify-center",children:p.jsx(Gee,{className:"h-20 w-20 text-zinc-500","aria-hidden":"true"})}),p.jsx("h1",{className:"text-2xl font-semibold text-zinc-500",children:"Página no encontrada"}),p.jsx("p",{className:"mt-2 text-zinc-500",children:"La ruta que buscas no existe, verificá la URL."}),p.jsx("div",{className:"mt-6 flex items-center justify-center gap-3",children:p.jsx(as,{to:Qe.ADMIN_DASHBOARD,children:p.jsxs(Et,{variant:"ghost",className:"text-zinc-600 hover:text-zinc-700 hover:bg-zinc-100",children:[p.jsx(ng,{className:"mr-2 h-4 w-4"}),"Volver al Inicio"]})})})]})}),W9e=()=>p.jsxs(kX,{children:[p.jsx(Yde,{}),p.jsxs(_X,{children:[p.jsxs(Rn,{path:Qe.CLIENT_HOME,element:p.jsx(Ole,{}),children:[p.jsx(Rn,{index:!0,element:p.jsx(C9e,{})}),p.jsxs(Rn,{path:Qe.CLIENT_BLOG,children:[p.jsx(Rn,{index:!0,element:p.jsx(nfe,{})}),p.jsx(Rn,{path:Qe.CLIENT_BLOG_POST,element:p.jsx(l9e,{})})]}),p.jsx(Rn,{path:Qe.CLIENT_QUIZ,element:p.jsx(S9e,{})}),p.jsx(Rn,{path:Qe.CLIENT_SERVICES,element:p.jsx(M9e,{})}),p.jsx(Rn,{path:Qe.CLIENT_ABOUT,element:p.jsx(efe,{})}),p.jsx(Rn,{path:"*",element:p.jsx(k8,{to:Qe.CLIENT_HOME})})]}),p.jsx(Rn,{element:p.jsx(xde,{}),children:p.jsx(Rn,{path:Qe.ADMIN_LOGIN,element:p.jsx(R9e,{})})}),p.jsxs(Rn,{path:Qe.ADMIN_DASHBOARD,element:p.jsx(yZ,{children:p.jsx(vde,{})}),children:[p.jsx(Rn,{index:!0,element:p.jsx(I9e,{})}),p.jsxs(Rn,{path:Qe.ADMIN_POST_LIST,children:[p.jsx(Rn,{index:!0,element:p.jsx(L9e,{})}),p.jsx(Rn,{path:Qe.ADMIN_POST_NEW,element:p.jsx(C8,{})}),p.jsx(Rn,{path:Qe.ADMIN_POST_EDIT,element:p.jsx(C8,{})})]}),p.jsxs(Rn,{path:Qe.ADMIN_TESTIMONIAL_LIST,children:[p.jsx(Rn,{index:!0,element:p.jsx(P9e,{})}),p.jsx(Rn,{path:Qe.ADMIN_TESTIMONIAL_NEW,element:p.jsx(T8,{})}),p.jsx(Rn,{path:Qe.ADMIN_TESTIMONIAL_EDIT,element:p.jsx(T8,{})})]}),p.jsx(Rn,{path:Qe.ADMIN_REQUEST_LIST,children:p.jsx(Rn,{index:!0,element:p.jsx(G9e,{})})}),p.jsx(Rn,{path:"*",element:p.jsx(Y9e,{})})]})]})]});dZ.createRoot(document.getElementById("root")).render(p.jsxs(SX,{client:oZ,children:[p.jsx(RX,{initialIsOpen:!1}),p.jsxs(C.StrictMode,{children:[p.jsx(W9e,{}),p.jsx(iZ,{position:"bottom-right",richColors:!0})]})]}));
